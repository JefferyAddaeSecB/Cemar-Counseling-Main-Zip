function GO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function n_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ay={exports:{}},ju={},Py={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hb;function qO(){if(Hb)return We;Hb=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function _($){return $===null||typeof $!="object"?null:($=y&&$[y]||$["@@iterator"],typeof $=="function"?$:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,S={};function C($,te,Ne){this.props=$,this.context=te,this.refs=S,this.updater=Ne||b}C.prototype.isReactComponent={},C.prototype.setState=function($,te){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,te,"setState")},C.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function A(){}A.prototype=C.prototype;function M($,te,Ne){this.props=$,this.context=te,this.refs=S,this.updater=Ne||b}var j=M.prototype=new A;j.constructor=M,I(j,C.prototype),j.isPureReactComponent=!0;var W=Array.isArray,G=Object.prototype.hasOwnProperty,J={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function R($,te,Ne){var Se,Le={},ke=null,ue=null;if(te!=null)for(Se in te.ref!==void 0&&(ue=te.ref),te.key!==void 0&&(ke=""+te.key),te)G.call(te,Se)&&!D.hasOwnProperty(Se)&&(Le[Se]=te[Se]);var we=arguments.length-2;if(we===1)Le.children=Ne;else if(1<we){for(var Ie=Array(we),Ve=0;Ve<we;Ve++)Ie[Ve]=arguments[Ve+2];Le.children=Ie}if($&&$.defaultProps)for(Se in we=$.defaultProps,we)Le[Se]===void 0&&(Le[Se]=we[Se]);return{$$typeof:t,type:$,key:ke,ref:ue,props:Le,_owner:J.current}}function k($,te){return{$$typeof:t,type:$.type,key:te,ref:$.ref,props:$.props,_owner:$._owner}}function V($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function F($){var te={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(Ne){return te[Ne]})}var B=/\/+/g;function L($,te){return typeof $=="object"&&$!==null&&$.key!=null?F(""+$.key):te.toString(36)}function ge($,te,Ne,Se,Le){var ke=typeof $;(ke==="undefined"||ke==="boolean")&&($=null);var ue=!1;if($===null)ue=!0;else switch(ke){case"string":case"number":ue=!0;break;case"object":switch($.$$typeof){case t:case e:ue=!0}}if(ue)return ue=$,Le=Le(ue),$=Se===""?"."+L(ue,0):Se,W(Le)?(Ne="",$!=null&&(Ne=$.replace(B,"$&/")+"/"),ge(Le,te,Ne,"",function(Ve){return Ve})):Le!=null&&(V(Le)&&(Le=k(Le,Ne+(!Le.key||ue&&ue.key===Le.key?"":(""+Le.key).replace(B,"$&/")+"/")+$)),te.push(Le)),1;if(ue=0,Se=Se===""?".":Se+":",W($))for(var we=0;we<$.length;we++){ke=$[we];var Ie=Se+L(ke,we);ue+=ge(ke,te,Ne,Ie,Le)}else if(Ie=_($),typeof Ie=="function")for($=Ie.call($),we=0;!(ke=$.next()).done;)ke=ke.value,Ie=Se+L(ke,we++),ue+=ge(ke,te,Ne,Ie,Le);else if(ke==="object")throw te=String($),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return ue}function Ce($,te,Ne){if($==null)return $;var Se=[],Le=0;return ge($,Se,"","",function(ke){return te.call(Ne,ke,Le++)}),Se}function ve($){if($._status===-1){var te=$._result;te=te(),te.then(function(Ne){($._status===0||$._status===-1)&&($._status=1,$._result=Ne)},function(Ne){($._status===0||$._status===-1)&&($._status=2,$._result=Ne)}),$._status===-1&&($._status=0,$._result=te)}if($._status===1)return $._result.default;throw $._result}var he={current:null},Z={transition:null},ee={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:Z,ReactCurrentOwner:J};function re(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:Ce,forEach:function($,te,Ne){Ce($,function(){te.apply(this,arguments)},Ne)},count:function($){var te=0;return Ce($,function(){te++}),te},toArray:function($){return Ce($,function(te){return te})||[]},only:function($){if(!V($))throw Error("React.Children.only expected to receive a single React element child.");return $}},We.Component=C,We.Fragment=n,We.Profiler=s,We.PureComponent=M,We.StrictMode=r,We.Suspense=d,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,We.act=re,We.cloneElement=function($,te,Ne){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Se=I({},$.props),Le=$.key,ke=$.ref,ue=$._owner;if(te!=null){if(te.ref!==void 0&&(ke=te.ref,ue=J.current),te.key!==void 0&&(Le=""+te.key),$.type&&$.type.defaultProps)var we=$.type.defaultProps;for(Ie in te)G.call(te,Ie)&&!D.hasOwnProperty(Ie)&&(Se[Ie]=te[Ie]===void 0&&we!==void 0?we[Ie]:te[Ie])}var Ie=arguments.length-2;if(Ie===1)Se.children=Ne;else if(1<Ie){we=Array(Ie);for(var Ve=0;Ve<Ie;Ve++)we[Ve]=arguments[Ve+2];Se.children=we}return{$$typeof:t,type:$.type,key:Le,ref:ke,props:Se,_owner:ue}},We.createContext=function($){return $={$$typeof:a,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:o,_context:$},$.Consumer=$},We.createElement=R,We.createFactory=function($){var te=R.bind(null,$);return te.type=$,te},We.createRef=function(){return{current:null}},We.forwardRef=function($){return{$$typeof:c,render:$}},We.isValidElement=V,We.lazy=function($){return{$$typeof:m,_payload:{_status:-1,_result:$},_init:ve}},We.memo=function($,te){return{$$typeof:f,type:$,compare:te===void 0?null:te}},We.startTransition=function($){var te=Z.transition;Z.transition={};try{$()}finally{Z.transition=te}},We.unstable_act=re,We.useCallback=function($,te){return he.current.useCallback($,te)},We.useContext=function($){return he.current.useContext($)},We.useDebugValue=function(){},We.useDeferredValue=function($){return he.current.useDeferredValue($)},We.useEffect=function($,te){return he.current.useEffect($,te)},We.useId=function(){return he.current.useId()},We.useImperativeHandle=function($,te,Ne){return he.current.useImperativeHandle($,te,Ne)},We.useInsertionEffect=function($,te){return he.current.useInsertionEffect($,te)},We.useLayoutEffect=function($,te){return he.current.useLayoutEffect($,te)},We.useMemo=function($,te){return he.current.useMemo($,te)},We.useReducer=function($,te,Ne){return he.current.useReducer($,te,Ne)},We.useRef=function($){return he.current.useRef($)},We.useState=function($){return he.current.useState($)},We.useSyncExternalStore=function($,te,Ne){return he.current.useSyncExternalStore($,te,Ne)},We.useTransition=function(){return he.current.useTransition()},We.version="18.3.1",We}var Gb;function sm(){return Gb||(Gb=1,Py.exports=qO()),Py.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qb;function KO(){if(qb)return ju;qb=1;var t=sm(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(c,d,f){var m,y={},_=null,b=null;f!==void 0&&(_=""+f),d.key!==void 0&&(_=""+d.key),d.ref!==void 0&&(b=d.ref);for(m in d)r.call(d,m)&&!o.hasOwnProperty(m)&&(y[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)y[m]===void 0&&(y[m]=d[m]);return{$$typeof:e,type:c,key:_,ref:b,props:y,_owner:s.current}}return ju.Fragment=n,ju.jsx=a,ju.jsxs=a,ju}var Kb;function YO(){return Kb||(Kb=1,Ay.exports=KO()),Ay.exports}var h=YO(),E=sm();const Zs=n_(E),r_=GO({__proto__:null,default:Zs},[E]);var Nf={},ky={exports:{}},zn={},Dy={exports:{}},My={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yb;function QO(){return Yb||(Yb=1,function(t){function e(Z,ee){var re=Z.length;Z.push(ee);e:for(;0<re;){var $=re-1>>>1,te=Z[$];if(0<s(te,ee))Z[$]=ee,Z[re]=te,re=$;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var ee=Z[0],re=Z.pop();if(re!==ee){Z[0]=re;e:for(var $=0,te=Z.length,Ne=te>>>1;$<Ne;){var Se=2*($+1)-1,Le=Z[Se],ke=Se+1,ue=Z[ke];if(0>s(Le,re))ke<te&&0>s(ue,Le)?(Z[$]=ue,Z[ke]=re,$=ke):(Z[$]=Le,Z[Se]=re,$=Se);else if(ke<te&&0>s(ue,re))Z[$]=ue,Z[ke]=re,$=ke;else break e}}return ee}function s(Z,ee){var re=Z.sortIndex-ee.sortIndex;return re!==0?re:Z.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var d=[],f=[],m=1,y=null,_=3,b=!1,I=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(Z){for(var ee=n(f);ee!==null;){if(ee.callback===null)r(f);else if(ee.startTime<=Z)r(f),ee.sortIndex=ee.expirationTime,e(d,ee);else break;ee=n(f)}}function W(Z){if(S=!1,j(Z),!I)if(n(d)!==null)I=!0,ve(G);else{var ee=n(f);ee!==null&&he(W,ee.startTime-Z)}}function G(Z,ee){I=!1,S&&(S=!1,A(R),R=-1),b=!0;var re=_;try{for(j(ee),y=n(d);y!==null&&(!(y.expirationTime>ee)||Z&&!F());){var $=y.callback;if(typeof $=="function"){y.callback=null,_=y.priorityLevel;var te=$(y.expirationTime<=ee);ee=t.unstable_now(),typeof te=="function"?y.callback=te:y===n(d)&&r(d),j(ee)}else r(d);y=n(d)}if(y!==null)var Ne=!0;else{var Se=n(f);Se!==null&&he(W,Se.startTime-ee),Ne=!1}return Ne}finally{y=null,_=re,b=!1}}var J=!1,D=null,R=-1,k=5,V=-1;function F(){return!(t.unstable_now()-V<k)}function B(){if(D!==null){var Z=t.unstable_now();V=Z;var ee=!0;try{ee=D(!0,Z)}finally{ee?L():(J=!1,D=null)}}else J=!1}var L;if(typeof M=="function")L=function(){M(B)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,Ce=ge.port2;ge.port1.onmessage=B,L=function(){Ce.postMessage(null)}}else L=function(){C(B,0)};function ve(Z){D=Z,J||(J=!0,L())}function he(Z,ee){R=C(function(){Z(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){I||b||(I=!0,ve(G))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(Z){switch(_){case 1:case 2:case 3:var ee=3;break;default:ee=_}var re=_;_=ee;try{return Z()}finally{_=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,ee){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var re=_;_=Z;try{return ee()}finally{_=re}},t.unstable_scheduleCallback=function(Z,ee,re){var $=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?$+re:$):re=$,Z){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=re+te,Z={id:m++,callback:ee,priorityLevel:Z,startTime:re,expirationTime:te,sortIndex:-1},re>$?(Z.sortIndex=re,e(f,Z),n(d)===null&&Z===n(f)&&(S?(A(R),R=-1):S=!0,he(W,re-$))):(Z.sortIndex=te,e(d,Z),I||b||(I=!0,ve(G))),Z},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(Z){var ee=_;return function(){var re=_;_=ee;try{return Z.apply(this,arguments)}finally{_=re}}}}(My)),My}var Qb;function XO(){return Qb||(Qb=1,Dy.exports=QO()),Dy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xb;function JO(){if(Xb)return zn;Xb=1;var t=sm(),e=XO();function n(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,l){a(i,l),a(i+"Capture",l)}function a(i,l){for(s[i]=l,i=0;i<l.length;i++)r.add(l[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function _(i){return d.call(y,i)?!0:d.call(m,i)?!1:f.test(i)?y[i]=!0:(m[i]=!0,!1)}function b(i,l,u,g){if(u!==null&&u.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function I(i,l,u,g){if(l===null||typeof l>"u"||b(i,l,u,g))return!0;if(g)return!1;if(u!==null)switch(u.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function S(i,l,u,g,v,w,N){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=v,this.mustUseProperty=u,this.propertyName=i,this.type=l,this.sanitizeURL=w,this.removeEmptyString=N}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new S(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];C[l]=new S(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new S(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new S(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new S(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new S(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new S(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new S(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new S(i,5,!1,i.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function M(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(A,M);C[l]=new S(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(A,M);C[l]=new S(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(A,M);C[l]=new S(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new S(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new S(i,1,!1,i.toLowerCase(),null,!0,!0)});function j(i,l,u,g){var v=C.hasOwnProperty(l)?C[l]:null;(v!==null?v.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(I(l,u,v,g)&&(u=null),g||v===null?_(l)&&(u===null?i.removeAttribute(l):i.setAttribute(l,""+u)):v.mustUseProperty?i[v.propertyName]=u===null?v.type===3?!1:"":u:(l=v.attributeName,g=v.attributeNamespace,u===null?i.removeAttribute(l):(v=v.type,u=v===3||v===4&&u===!0?"":""+u,g?i.setAttributeNS(g,l,u):i.setAttribute(l,u))))}var W=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),J=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),F=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),Ce=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),Z=Symbol.iterator;function ee(i){return i===null||typeof i!="object"?null:(i=Z&&i[Z]||i["@@iterator"],typeof i=="function"?i:null)}var re=Object.assign,$;function te(i){if($===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);$=l&&l[1]||""}return`
`+$+i}var Ne=!1;function Se(i,l){if(!i||Ne)return"";Ne=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Q){var g=Q}Reflect.construct(i,[],l)}else{try{l.call()}catch(Q){g=Q}i.call(l.prototype)}else{try{throw Error()}catch(Q){g=Q}i()}}catch(Q){if(Q&&g&&typeof Q.stack=="string"){for(var v=Q.stack.split(`
`),w=g.stack.split(`
`),N=v.length-1,U=w.length-1;1<=N&&0<=U&&v[N]!==w[U];)U--;for(;1<=N&&0<=U;N--,U--)if(v[N]!==w[U]){if(N!==1||U!==1)do if(N--,U--,0>U||v[N]!==w[U]){var z=`
`+v[N].replace(" at new "," at ");return i.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",i.displayName)),z}while(1<=N&&0<=U);break}}}finally{Ne=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?te(i):""}function Le(i){switch(i.tag){case 5:return te(i.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return i=Se(i.type,!1),i;case 11:return i=Se(i.type.render,!1),i;case 1:return i=Se(i.type,!0),i;default:return""}}function ke(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case J:return"Portal";case k:return"Profiler";case R:return"StrictMode";case L:return"Suspense";case ge:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case F:return(i.displayName||"Context")+".Consumer";case V:return(i._context.displayName||"Context")+".Provider";case B:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ce:return l=i.displayName||null,l!==null?l:ke(i.type)||"Memo";case ve:l=i._payload,i=i._init;try{return ke(i(l))}catch{}}return null}function ue(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(l);case 8:return l===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function we(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ie(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ve(i){var l=Ie(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),g=""+i[l];if(!i.hasOwnProperty(l)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,w=u.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return v.call(this)},set:function(N){g=""+N,w.call(this,N)}}),Object.defineProperty(i,l,{enumerable:u.enumerable}),{getValue:function(){return g},setValue:function(N){g=""+N},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Ye(i){i._valueTracker||(i._valueTracker=Ve(i))}function Je(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var u=l.getValue(),g="";return i&&(g=Ie(i)?i.checked?"true":"false":i.value),i=g,i!==u?(l.setValue(i),!0):!1}function Rt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function sn(i,l){var u=l.checked;return re({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Yr(i,l){var u=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;u=we(l.value!=null?l.value:u),i._wrapperState={initialChecked:g,initialValue:u,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function lr(i,l){l=l.checked,l!=null&&j(i,"checked",l,!1)}function Kn(i,l){lr(i,l);var u=we(l.value),g=l.type;if(u!=null)g==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?ft(i,l.type,u):l.hasOwnProperty("defaultValue")&&ft(i,l.type,we(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function zo(i,l,u){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,u||l===i.value||(i.value=l),i.defaultValue=l}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function ft(i,l,u){(l!=="number"||Rt(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Dt=Array.isArray;function Cr(i,l,u,g){if(i=i.options,l){l={};for(var v=0;v<u.length;v++)l["$"+u[v]]=!0;for(u=0;u<i.length;u++)v=l.hasOwnProperty("$"+i[u].value),i[u].selected!==v&&(i[u].selected=v),v&&g&&(i[u].defaultSelected=!0)}else{for(u=""+we(u),l=null,v=0;v<i.length;v++){if(i[v].value===u){i[v].selected=!0,g&&(i[v].defaultSelected=!0);return}l!==null||i[v].disabled||(l=i[v])}l!==null&&(l.selected=!0)}}function $c(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return re({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Wc(i,l){var u=l.value;if(u==null){if(u=l.children,l=l.defaultValue,u!=null){if(l!=null)throw Error(n(92));if(Dt(u)){if(1<u.length)throw Error(n(93));u=u[0]}l=u}l==null&&(l=""),u=l}i._wrapperState={initialValue:we(u)}}function fh(i,l){var u=we(l.value),g=we(l.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),l.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),g!=null&&(i.defaultValue=""+g)}function bi(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function Hc(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function el(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?Hc(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ti,ph=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,u,g,v){MSApp.execUnsafeLocalFunction(function(){return i(l,u,g,v)})}:i}(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(Ti=Ti||document.createElement("div"),Ti.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Ti.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function $o(i,l){if(l){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=l;return}}i.textContent=l}var Si={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mh=["Webkit","ms","Moz","O"];Object.keys(Si).forEach(function(i){mh.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),Si[l]=Si[i]})});function Ci(i,l,u){return l==null||typeof l=="boolean"||l===""?"":u||typeof l!="number"||l===0||Si.hasOwnProperty(i)&&Si[i]?(""+l).trim():l+"px"}function tl(i,l){i=i.style;for(var u in l)if(l.hasOwnProperty(u)){var g=u.indexOf("--")===0,v=Ci(u,l[u],g);u==="float"&&(u="cssFloat"),g?i.setProperty(u,v):i[u]=v}}var Gc=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ir(i,l){if(l){if(Gc[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function nl(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ii=null;function rl(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ks=null,Ds=null,At=null;function qc(i){if(i=wu(i)){if(typeof ks!="function")throw Error(n(280));var l=i.stateNode;l&&(l=zh(l),ks(i.stateNode,i.type,l))}}function Ni(i){Ds?At?At.push(i):At=[i]:Ds=i}function Ri(){if(Ds){var i=Ds,l=At;if(At=Ds=null,qc(i),l)for(i=0;i<l.length;i++)qc(l[i])}}function gh(i,l){return i(l)}function yh(){}var Qr=!1;function vh(i,l,u){if(Qr)return i(l,u);Qr=!0;try{return gh(i,l,u)}finally{Qr=!1,(Ds!==null||At!==null)&&(yh(),Ri())}}function Wo(i,l){var u=i.stateNode;if(u===null)return null;var g=zh(u);if(g===null)return null;u=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,l,typeof u));return u}var Ai=!1;if(c)try{var Pi={};Object.defineProperty(Pi,"passive",{get:function(){Ai=!0}}),window.addEventListener("test",Pi,Pi),window.removeEventListener("test",Pi,Pi)}catch{Ai=!1}function _h(i,l,u,g,v,w,N,U,z){var Q=Array.prototype.slice.call(arguments,3);try{l.apply(u,Q)}catch(ie){this.onError(ie)}}var Ms=!1,Xr=null,sl=!1,cr=null,wh={onError:function(i){Ms=!0,Xr=i}};function xh(i,l,u,g,v,w,N,U,z){Ms=!1,Xr=null,_h.apply(wh,arguments)}function Kc(i,l,u,g,v,w,N,U,z){if(xh.apply(this,arguments),Ms){if(Ms){var Q=Xr;Ms=!1,Xr=null}else throw Error(n(198));sl||(sl=!0,cr=Q)}}function Nr(i){var l=i,u=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(u=l.return),i=l.return;while(i)}return l.tag===3?u:null}function Yc(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function Eh(i){if(Nr(i)!==i)throw Error(n(188))}function bh(i){var l=i.alternate;if(!l){if(l=Nr(i),l===null)throw Error(n(188));return l!==i?null:i}for(var u=i,g=l;;){var v=u.return;if(v===null)break;var w=v.alternate;if(w===null){if(g=v.return,g!==null){u=g;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===u)return Eh(v),i;if(w===g)return Eh(v),l;w=w.sibling}throw Error(n(188))}if(u.return!==g.return)u=v,g=w;else{for(var N=!1,U=v.child;U;){if(U===u){N=!0,u=v,g=w;break}if(U===g){N=!0,g=v,u=w;break}U=U.sibling}if(!N){for(U=w.child;U;){if(U===u){N=!0,u=w,g=v;break}if(U===g){N=!0,g=w,u=v;break}U=U.sibling}if(!N)throw Error(n(189))}}if(u.alternate!==g)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:l}function Th(i){return i=bh(i),i!==null?Ho(i):null}function Ho(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=Ho(i);if(l!==null)return l;i=i.sibling}return null}var Qc=e.unstable_scheduleCallback,il=e.unstable_cancelCallback,Go=e.unstable_shouldYield,js=e.unstable_requestPaint,pt=e.unstable_now,ag=e.unstable_getCurrentPriorityLevel,ol=e.unstable_ImmediatePriority,Xc=e.unstable_UserBlockingPriority,qo=e.unstable_NormalPriority,Jc=e.unstable_LowPriority,al=e.unstable_IdlePriority,Ko=null,Yn=null;function Sh(i){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(Ko,i,void 0,(i.current.flags&128)===128)}catch{}}var Qn=Math.clz32?Math.clz32:Yo,Jr=Math.log,ur=Math.LN2;function Yo(i){return i>>>=0,i===0?32:31-(Jr(i)/ur|0)|0}var Zr=64,ki=4194304;function st(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Os(i,l){var u=i.pendingLanes;if(u===0)return 0;var g=0,v=i.suspendedLanes,w=i.pingedLanes,N=u&268435455;if(N!==0){var U=N&~v;U!==0?g=st(U):(w&=N,w!==0&&(g=st(w)))}else N=u&~v,N!==0?g=st(N):w!==0&&(g=st(w));if(g===0)return 0;if(l!==0&&l!==g&&(l&v)===0&&(v=g&-g,w=l&-l,v>=w||v===16&&(w&4194240)!==0))return l;if((g&4)!==0&&(g|=u&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=g;0<l;)u=31-Qn(l),v=1<<u,g|=i[u],l&=~v;return g}function Qo(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xo(i,l){for(var u=i.suspendedLanes,g=i.pingedLanes,v=i.expirationTimes,w=i.pendingLanes;0<w;){var N=31-Qn(w),U=1<<N,z=v[N];z===-1?((U&u)===0||(U&g)!==0)&&(v[N]=Qo(U,l)):z<=l&&(i.expiredLanes|=U),w&=~U}}function Zc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function eu(){var i=Zr;return Zr<<=1,(Zr&4194240)===0&&(Zr=64),i}function tu(i){for(var l=[],u=0;31>u;u++)l.push(i);return l}function Jo(i,l,u){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-Qn(l),i[l]=u}function lg(i,l){var u=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<u;){var v=31-Qn(u),w=1<<v;l[v]=0,g[v]=-1,i[v]=-1,u&=~w}}function nu(i,l){var u=i.entangledLanes|=l;for(i=i.entanglements;u;){var g=31-Qn(u),v=1<<g;v&l|i[g]&l&&(i[g]|=l),u&=~v}}var Qe=0;function es(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var ru,ll,su,iu,ou,ts=!1,cl=[],ns=null,rs=null,on=null,Zo=new Map,Ls=new Map,Xn=[],Ch="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Di(i,l){switch(i){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":Zo.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ls.delete(l.pointerId)}}function Rr(i,l,u,g,v,w){return i===null||i.nativeEvent!==w?(i={blockedOn:l,domEventName:u,eventSystemFlags:g,nativeEvent:w,targetContainers:[v]},l!==null&&(l=wu(l),l!==null&&ll(l)),i):(i.eventSystemFlags|=g,l=i.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),i)}function Ih(i,l,u,g,v){switch(l){case"focusin":return ns=Rr(ns,i,l,u,g,v),!0;case"dragenter":return rs=Rr(rs,i,l,u,g,v),!0;case"mouseover":return on=Rr(on,i,l,u,g,v),!0;case"pointerover":var w=v.pointerId;return Zo.set(w,Rr(Zo.get(w)||null,i,l,u,g,v)),!0;case"gotpointercapture":return w=v.pointerId,Ls.set(w,Rr(Ls.get(w)||null,i,l,u,g,v)),!0}return!1}function ul(i){var l=ra(i.target);if(l!==null){var u=Nr(l);if(u!==null){if(l=u.tag,l===13){if(l=Yc(u),l!==null){i.blockedOn=l,ou(i.priority,function(){su(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function dt(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var u=dl(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var g=new u.constructor(u.type,u);Ii=g,u.target.dispatchEvent(g),Ii=null}else return l=wu(u),l!==null&&ll(l),i.blockedOn=u,!1;l.shift()}return!0}function Nh(i,l,u){dt(i)&&u.delete(l)}function cg(){ts=!1,ns!==null&&dt(ns)&&(ns=null),rs!==null&&dt(rs)&&(rs=null),on!==null&&dt(on)&&(on=null),Zo.forEach(Nh),Ls.forEach(Nh)}function Mi(i,l){i.blockedOn===l&&(i.blockedOn=null,ts||(ts=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,cg)))}function ji(i){function l(v){return Mi(v,i)}if(0<cl.length){Mi(cl[0],i);for(var u=1;u<cl.length;u++){var g=cl[u];g.blockedOn===i&&(g.blockedOn=null)}}for(ns!==null&&Mi(ns,i),rs!==null&&Mi(rs,i),on!==null&&Mi(on,i),Zo.forEach(l),Ls.forEach(l),u=0;u<Xn.length;u++)g=Xn[u],g.blockedOn===i&&(g.blockedOn=null);for(;0<Xn.length&&(u=Xn[0],u.blockedOn===null);)ul(u),u.blockedOn===null&&Xn.shift()}var Vs=W.ReactCurrentBatchConfig,Fs=!0;function ss(i,l,u,g){var v=Qe,w=Vs.transition;Vs.transition=null;try{Qe=1,au(i,l,u,g)}finally{Qe=v,Vs.transition=w}}function Rh(i,l,u,g){var v=Qe,w=Vs.transition;Vs.transition=null;try{Qe=4,au(i,l,u,g)}finally{Qe=v,Vs.transition=w}}function au(i,l,u,g){if(Fs){var v=dl(i,l,u,g);if(v===null)wg(i,l,g,is,u),Di(i,g);else if(Ih(v,i,l,u,g))g.stopPropagation();else if(Di(i,g),l&4&&-1<Ch.indexOf(i)){for(;v!==null;){var w=wu(v);if(w!==null&&ru(w),w=dl(i,l,u,g),w===null&&wg(i,l,g,is,u),w===v)break;v=w}v!==null&&g.stopPropagation()}else wg(i,l,g,null,u)}}var is=null;function dl(i,l,u,g){if(is=null,i=rl(g),i=ra(i),i!==null)if(l=Nr(i),l===null)i=null;else if(u=l.tag,u===13){if(i=Yc(l),i!==null)return i;i=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return is=i,null}function hl(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ag()){case ol:return 1;case Xc:return 4;case qo:case Jc:return 16;case al:return 536870912;default:return 16}default:return 16}}var Jn=null,fl=null,Us=null;function Ah(){if(Us)return Us;var i,l=fl,u=l.length,g,v="value"in Jn?Jn.value:Jn.textContent,w=v.length;for(i=0;i<u&&l[i]===v[i];i++);var N=u-i;for(g=1;g<=N&&l[u-g]===v[w-g];g++);return Us=v.slice(i,1<g?1-g:void 0)}function ea(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function os(){return!0}function lu(){return!1}function gn(i){function l(u,g,v,w,N){this._reactName=u,this._targetInst=v,this.type=g,this.nativeEvent=w,this.target=N,this.currentTarget=null;for(var U in i)i.hasOwnProperty(U)&&(u=i[U],this[U]=u?u(w):w[U]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?os:lu,this.isPropagationStopped=lu,this}return re(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),l}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ta=gn(as),Oi=re({},as,{view:0,detail:0}),pl=gn(Oi),ml,gl,Zn,na=re({},Oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ue,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Zn&&(Zn&&i.type==="mousemove"?(ml=i.screenX-Zn.screenX,gl=i.screenY-Zn.screenY):gl=ml=0,Zn=i),ml)},movementY:function(i){return"movementY"in i?i.movementY:gl}}),cu=gn(na),Ph=re({},na,{dataTransfer:0}),kh=gn(Ph),yl=re({},Oi,{relatedTarget:0}),an=gn(yl),Dh=re({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),Mh=gn(Dh),Li=re({},as,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),p=gn(Li),x=re({},as,{data:0}),T=gn(x),P={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ce(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=X[i])?!!l[i]:!1}function Ue(){return ce}var Mt=re({},Oi,{key:function(i){if(i.key){var l=P[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=ea(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?K[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ue,charCode:function(i){return i.type==="keypress"?ea(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ea(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),lt=gn(Mt),Vt=re({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),er=gn(Vt),Bs=re({},Oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ue}),ls=gn(Bs),cs=re({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),vl=gn(cs),uu=re({},na,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Uj=gn(uu),Bj=[9,13,27,32],ug=c&&"CompositionEvent"in window,du=null;c&&"documentMode"in document&&(du=document.documentMode);var zj=c&&"TextEvent"in window&&!du,Lx=c&&(!ug||du&&8<du&&11>=du),Vx=" ",Fx=!1;function Ux(i,l){switch(i){case"keyup":return Bj.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bx(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var _l=!1;function $j(i,l){switch(i){case"compositionend":return Bx(l);case"keypress":return l.which!==32?null:(Fx=!0,Vx);case"textInput":return i=l.data,i===Vx&&Fx?null:i;default:return null}}function Wj(i,l){if(_l)return i==="compositionend"||!ug&&Ux(i,l)?(i=Ah(),Us=fl=Jn=null,_l=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Lx&&l.locale!=="ko"?null:l.data;default:return null}}var Hj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zx(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!Hj[i.type]:l==="textarea"}function $x(i,l,u,g){Ni(g),l=Fh(l,"onChange"),0<l.length&&(u=new ta("onChange","change",null,u,g),i.push({event:u,listeners:l}))}var hu=null,fu=null;function Gj(i){aE(i,0)}function jh(i){var l=Tl(i);if(Je(l))return i}function qj(i,l){if(i==="change")return l}var Wx=!1;if(c){var dg;if(c){var hg="oninput"in document;if(!hg){var Hx=document.createElement("div");Hx.setAttribute("oninput","return;"),hg=typeof Hx.oninput=="function"}dg=hg}else dg=!1;Wx=dg&&(!document.documentMode||9<document.documentMode)}function Gx(){hu&&(hu.detachEvent("onpropertychange",qx),fu=hu=null)}function qx(i){if(i.propertyName==="value"&&jh(fu)){var l=[];$x(l,fu,i,rl(i)),vh(Gj,l)}}function Kj(i,l,u){i==="focusin"?(Gx(),hu=l,fu=u,hu.attachEvent("onpropertychange",qx)):i==="focusout"&&Gx()}function Yj(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return jh(fu)}function Qj(i,l){if(i==="click")return jh(l)}function Xj(i,l){if(i==="input"||i==="change")return jh(l)}function Jj(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var Ar=typeof Object.is=="function"?Object.is:Jj;function pu(i,l){if(Ar(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var u=Object.keys(i),g=Object.keys(l);if(u.length!==g.length)return!1;for(g=0;g<u.length;g++){var v=u[g];if(!d.call(l,v)||!Ar(i[v],l[v]))return!1}return!0}function Kx(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Yx(i,l){var u=Kx(i);i=0;for(var g;u;){if(u.nodeType===3){if(g=i+u.textContent.length,i<=l&&g>=l)return{node:u,offset:l-i};i=g}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Kx(u)}}function Qx(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?Qx(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function Xx(){for(var i=window,l=Rt();l instanceof i.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)i=l.contentWindow;else break;l=Rt(i.document)}return l}function fg(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function Zj(i){var l=Xx(),u=i.focusedElem,g=i.selectionRange;if(l!==u&&u&&u.ownerDocument&&Qx(u.ownerDocument.documentElement,u)){if(g!==null&&fg(u)){if(l=g.start,i=g.end,i===void 0&&(i=l),"selectionStart"in u)u.selectionStart=l,u.selectionEnd=Math.min(i,u.value.length);else if(i=(l=u.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var v=u.textContent.length,w=Math.min(g.start,v);g=g.end===void 0?w:Math.min(g.end,v),!i.extend&&w>g&&(v=g,g=w,w=v),v=Yx(u,w);var N=Yx(u,g);v&&N&&(i.rangeCount!==1||i.anchorNode!==v.node||i.anchorOffset!==v.offset||i.focusNode!==N.node||i.focusOffset!==N.offset)&&(l=l.createRange(),l.setStart(v.node,v.offset),i.removeAllRanges(),w>g?(i.addRange(l),i.extend(N.node,N.offset)):(l.setEnd(N.node,N.offset),i.addRange(l)))}}for(l=[],i=u;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<l.length;u++)i=l[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var eO=c&&"documentMode"in document&&11>=document.documentMode,wl=null,pg=null,mu=null,mg=!1;function Jx(i,l,u){var g=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;mg||wl==null||wl!==Rt(g)||(g=wl,"selectionStart"in g&&fg(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),mu&&pu(mu,g)||(mu=g,g=Fh(pg,"onSelect"),0<g.length&&(l=new ta("onSelect","select",null,l,u),i.push({event:l,listeners:g}),l.target=wl)))}function Oh(i,l){var u={};return u[i.toLowerCase()]=l.toLowerCase(),u["Webkit"+i]="webkit"+l,u["Moz"+i]="moz"+l,u}var xl={animationend:Oh("Animation","AnimationEnd"),animationiteration:Oh("Animation","AnimationIteration"),animationstart:Oh("Animation","AnimationStart"),transitionend:Oh("Transition","TransitionEnd")},gg={},Zx={};c&&(Zx=document.createElement("div").style,"AnimationEvent"in window||(delete xl.animationend.animation,delete xl.animationiteration.animation,delete xl.animationstart.animation),"TransitionEvent"in window||delete xl.transitionend.transition);function Lh(i){if(gg[i])return gg[i];if(!xl[i])return i;var l=xl[i],u;for(u in l)if(l.hasOwnProperty(u)&&u in Zx)return gg[i]=l[u];return i}var eE=Lh("animationend"),tE=Lh("animationiteration"),nE=Lh("animationstart"),rE=Lh("transitionend"),sE=new Map,iE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vi(i,l){sE.set(i,l),o(l,[i])}for(var yg=0;yg<iE.length;yg++){var vg=iE[yg],tO=vg.toLowerCase(),nO=vg[0].toUpperCase()+vg.slice(1);Vi(tO,"on"+nO)}Vi(eE,"onAnimationEnd"),Vi(tE,"onAnimationIteration"),Vi(nE,"onAnimationStart"),Vi("dblclick","onDoubleClick"),Vi("focusin","onFocus"),Vi("focusout","onBlur"),Vi(rE,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rO=new Set("cancel close invalid load scroll toggle".split(" ").concat(gu));function oE(i,l,u){var g=i.type||"unknown-event";i.currentTarget=u,Kc(g,l,void 0,i),i.currentTarget=null}function aE(i,l){l=(l&4)!==0;for(var u=0;u<i.length;u++){var g=i[u],v=g.event;g=g.listeners;e:{var w=void 0;if(l)for(var N=g.length-1;0<=N;N--){var U=g[N],z=U.instance,Q=U.currentTarget;if(U=U.listener,z!==w&&v.isPropagationStopped())break e;oE(v,U,Q),w=z}else for(N=0;N<g.length;N++){if(U=g[N],z=U.instance,Q=U.currentTarget,U=U.listener,z!==w&&v.isPropagationStopped())break e;oE(v,U,Q),w=z}}}if(sl)throw i=cr,sl=!1,cr=null,i}function mt(i,l){var u=l[Cg];u===void 0&&(u=l[Cg]=new Set);var g=i+"__bubble";u.has(g)||(lE(l,i,2,!1),u.add(g))}function _g(i,l,u){var g=0;l&&(g|=4),lE(u,i,g,l)}var Vh="_reactListening"+Math.random().toString(36).slice(2);function yu(i){if(!i[Vh]){i[Vh]=!0,r.forEach(function(u){u!=="selectionchange"&&(rO.has(u)||_g(u,!1,i),_g(u,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Vh]||(l[Vh]=!0,_g("selectionchange",!1,l))}}function lE(i,l,u,g){switch(hl(l)){case 1:var v=ss;break;case 4:v=Rh;break;default:v=au}u=v.bind(null,l,u,i),v=void 0,!Ai||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),g?v!==void 0?i.addEventListener(l,u,{capture:!0,passive:v}):i.addEventListener(l,u,!0):v!==void 0?i.addEventListener(l,u,{passive:v}):i.addEventListener(l,u,!1)}function wg(i,l,u,g,v){var w=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var N=g.tag;if(N===3||N===4){var U=g.stateNode.containerInfo;if(U===v||U.nodeType===8&&U.parentNode===v)break;if(N===4)for(N=g.return;N!==null;){var z=N.tag;if((z===3||z===4)&&(z=N.stateNode.containerInfo,z===v||z.nodeType===8&&z.parentNode===v))return;N=N.return}for(;U!==null;){if(N=ra(U),N===null)return;if(z=N.tag,z===5||z===6){g=w=N;continue e}U=U.parentNode}}g=g.return}vh(function(){var Q=w,ie=rl(u),ae=[];e:{var se=sE.get(i);if(se!==void 0){var pe=ta,_e=i;switch(i){case"keypress":if(ea(u)===0)break e;case"keydown":case"keyup":pe=lt;break;case"focusin":_e="focus",pe=an;break;case"focusout":_e="blur",pe=an;break;case"beforeblur":case"afterblur":pe=an;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=cu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=kh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=ls;break;case eE:case tE:case nE:pe=Mh;break;case rE:pe=vl;break;case"scroll":pe=pl;break;case"wheel":pe=Uj;break;case"copy":case"cut":case"paste":pe=p;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=er}var xe=(l&4)!==0,jt=!xe&&i==="scroll",q=xe?se!==null?se+"Capture":null:se;xe=[];for(var H=Q,Y;H!==null;){Y=H;var le=Y.stateNode;if(Y.tag===5&&le!==null&&(Y=le,q!==null&&(le=Wo(H,q),le!=null&&xe.push(vu(H,le,Y)))),jt)break;H=H.return}0<xe.length&&(se=new pe(se,_e,null,u,ie),ae.push({event:se,listeners:xe}))}}if((l&7)===0){e:{if(se=i==="mouseover"||i==="pointerover",pe=i==="mouseout"||i==="pointerout",se&&u!==Ii&&(_e=u.relatedTarget||u.fromElement)&&(ra(_e)||_e[zs]))break e;if((pe||se)&&(se=ie.window===ie?ie:(se=ie.ownerDocument)?se.defaultView||se.parentWindow:window,pe?(_e=u.relatedTarget||u.toElement,pe=Q,_e=_e?ra(_e):null,_e!==null&&(jt=Nr(_e),_e!==jt||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(pe=null,_e=Q),pe!==_e)){if(xe=cu,le="onMouseLeave",q="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(xe=er,le="onPointerLeave",q="onPointerEnter",H="pointer"),jt=pe==null?se:Tl(pe),Y=_e==null?se:Tl(_e),se=new xe(le,H+"leave",pe,u,ie),se.target=jt,se.relatedTarget=Y,le=null,ra(ie)===Q&&(xe=new xe(q,H+"enter",_e,u,ie),xe.target=Y,xe.relatedTarget=jt,le=xe),jt=le,pe&&_e)t:{for(xe=pe,q=_e,H=0,Y=xe;Y;Y=El(Y))H++;for(Y=0,le=q;le;le=El(le))Y++;for(;0<H-Y;)xe=El(xe),H--;for(;0<Y-H;)q=El(q),Y--;for(;H--;){if(xe===q||q!==null&&xe===q.alternate)break t;xe=El(xe),q=El(q)}xe=null}else xe=null;pe!==null&&cE(ae,se,pe,xe,!1),_e!==null&&jt!==null&&cE(ae,jt,_e,xe,!0)}}e:{if(se=Q?Tl(Q):window,pe=se.nodeName&&se.nodeName.toLowerCase(),pe==="select"||pe==="input"&&se.type==="file")var be=qj;else if(zx(se))if(Wx)be=Xj;else{be=Yj;var Re=Kj}else(pe=se.nodeName)&&pe.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(be=Qj);if(be&&(be=be(i,Q))){$x(ae,be,u,ie);break e}Re&&Re(i,se,Q),i==="focusout"&&(Re=se._wrapperState)&&Re.controlled&&se.type==="number"&&ft(se,"number",se.value)}switch(Re=Q?Tl(Q):window,i){case"focusin":(zx(Re)||Re.contentEditable==="true")&&(wl=Re,pg=Q,mu=null);break;case"focusout":mu=pg=wl=null;break;case"mousedown":mg=!0;break;case"contextmenu":case"mouseup":case"dragend":mg=!1,Jx(ae,u,ie);break;case"selectionchange":if(eO)break;case"keydown":case"keyup":Jx(ae,u,ie)}var Ae;if(ug)e:{switch(i){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else _l?Ux(i,u)&&(Oe="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Oe="onCompositionStart");Oe&&(Lx&&u.locale!=="ko"&&(_l||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&_l&&(Ae=Ah()):(Jn=ie,fl="value"in Jn?Jn.value:Jn.textContent,_l=!0)),Re=Fh(Q,Oe),0<Re.length&&(Oe=new T(Oe,i,null,u,ie),ae.push({event:Oe,listeners:Re}),Ae?Oe.data=Ae:(Ae=Bx(u),Ae!==null&&(Oe.data=Ae)))),(Ae=zj?$j(i,u):Wj(i,u))&&(Q=Fh(Q,"onBeforeInput"),0<Q.length&&(ie=new T("onBeforeInput","beforeinput",null,u,ie),ae.push({event:ie,listeners:Q}),ie.data=Ae))}aE(ae,l)})}function vu(i,l,u){return{instance:i,listener:l,currentTarget:u}}function Fh(i,l){for(var u=l+"Capture",g=[];i!==null;){var v=i,w=v.stateNode;v.tag===5&&w!==null&&(v=w,w=Wo(i,u),w!=null&&g.unshift(vu(i,w,v)),w=Wo(i,l),w!=null&&g.push(vu(i,w,v))),i=i.return}return g}function El(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function cE(i,l,u,g,v){for(var w=l._reactName,N=[];u!==null&&u!==g;){var U=u,z=U.alternate,Q=U.stateNode;if(z!==null&&z===g)break;U.tag===5&&Q!==null&&(U=Q,v?(z=Wo(u,w),z!=null&&N.unshift(vu(u,z,U))):v||(z=Wo(u,w),z!=null&&N.push(vu(u,z,U)))),u=u.return}N.length!==0&&i.push({event:l,listeners:N})}var sO=/\r\n?/g,iO=/\u0000|\uFFFD/g;function uE(i){return(typeof i=="string"?i:""+i).replace(sO,`
`).replace(iO,"")}function Uh(i,l,u){if(l=uE(l),uE(i)!==l&&u)throw Error(n(425))}function Bh(){}var xg=null,Eg=null;function bg(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Tg=typeof setTimeout=="function"?setTimeout:void 0,oO=typeof clearTimeout=="function"?clearTimeout:void 0,dE=typeof Promise=="function"?Promise:void 0,aO=typeof queueMicrotask=="function"?queueMicrotask:typeof dE<"u"?function(i){return dE.resolve(null).then(i).catch(lO)}:Tg;function lO(i){setTimeout(function(){throw i})}function Sg(i,l){var u=l,g=0;do{var v=u.nextSibling;if(i.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(g===0){i.removeChild(v),ji(l);return}g--}else u!=="$"&&u!=="$?"&&u!=="$!"||g++;u=v}while(u);ji(l)}function Fi(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function hE(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return i;l--}else u==="/$"&&l++}i=i.previousSibling}return null}var bl=Math.random().toString(36).slice(2),us="__reactFiber$"+bl,_u="__reactProps$"+bl,zs="__reactContainer$"+bl,Cg="__reactEvents$"+bl,cO="__reactListeners$"+bl,uO="__reactHandles$"+bl;function ra(i){var l=i[us];if(l)return l;for(var u=i.parentNode;u;){if(l=u[zs]||u[us]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(i=hE(i);i!==null;){if(u=i[us])return u;i=hE(i)}return l}i=u,u=i.parentNode}return null}function wu(i){return i=i[us]||i[zs],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Tl(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function zh(i){return i[_u]||null}var Ig=[],Sl=-1;function Ui(i){return{current:i}}function gt(i){0>Sl||(i.current=Ig[Sl],Ig[Sl]=null,Sl--)}function ht(i,l){Sl++,Ig[Sl]=i.current,i.current=l}var Bi={},yn=Ui(Bi),Ln=Ui(!1),sa=Bi;function Cl(i,l){var u=i.type.contextTypes;if(!u)return Bi;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var v={},w;for(w in u)v[w]=l[w];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=v),v}function Vn(i){return i=i.childContextTypes,i!=null}function $h(){gt(Ln),gt(yn)}function fE(i,l,u){if(yn.current!==Bi)throw Error(n(168));ht(yn,l),ht(Ln,u)}function pE(i,l,u){var g=i.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return u;g=g.getChildContext();for(var v in g)if(!(v in l))throw Error(n(108,ue(i)||"Unknown",v));return re({},u,g)}function Wh(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Bi,sa=yn.current,ht(yn,i),ht(Ln,Ln.current),!0}function mE(i,l,u){var g=i.stateNode;if(!g)throw Error(n(169));u?(i=pE(i,l,sa),g.__reactInternalMemoizedMergedChildContext=i,gt(Ln),gt(yn),ht(yn,i)):gt(Ln),ht(Ln,u)}var $s=null,Hh=!1,Ng=!1;function gE(i){$s===null?$s=[i]:$s.push(i)}function dO(i){Hh=!0,gE(i)}function zi(){if(!Ng&&$s!==null){Ng=!0;var i=0,l=Qe;try{var u=$s;for(Qe=1;i<u.length;i++){var g=u[i];do g=g(!0);while(g!==null)}$s=null,Hh=!1}catch(v){throw $s!==null&&($s=$s.slice(i+1)),Qc(ol,zi),v}finally{Qe=l,Ng=!1}}return null}var Il=[],Nl=0,Gh=null,qh=0,dr=[],hr=0,ia=null,Ws=1,Hs="";function oa(i,l){Il[Nl++]=qh,Il[Nl++]=Gh,Gh=i,qh=l}function yE(i,l,u){dr[hr++]=Ws,dr[hr++]=Hs,dr[hr++]=ia,ia=i;var g=Ws;i=Hs;var v=32-Qn(g)-1;g&=~(1<<v),u+=1;var w=32-Qn(l)+v;if(30<w){var N=v-v%5;w=(g&(1<<N)-1).toString(32),g>>=N,v-=N,Ws=1<<32-Qn(l)+v|u<<v|g,Hs=w+i}else Ws=1<<w|u<<v|g,Hs=i}function Rg(i){i.return!==null&&(oa(i,1),yE(i,1,0))}function Ag(i){for(;i===Gh;)Gh=Il[--Nl],Il[Nl]=null,qh=Il[--Nl],Il[Nl]=null;for(;i===ia;)ia=dr[--hr],dr[hr]=null,Hs=dr[--hr],dr[hr]=null,Ws=dr[--hr],dr[hr]=null}var tr=null,nr=null,Et=!1,Pr=null;function vE(i,l){var u=gr(5,null,null,0);u.elementType="DELETED",u.stateNode=l,u.return=i,l=i.deletions,l===null?(i.deletions=[u],i.flags|=16):l.push(u)}function _E(i,l){switch(i.tag){case 5:var u=i.type;return l=l.nodeType!==1||u.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,tr=i,nr=Fi(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,tr=i,nr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(u=ia!==null?{id:Ws,overflow:Hs}:null,i.memoizedState={dehydrated:l,treeContext:u,retryLane:1073741824},u=gr(18,null,null,0),u.stateNode=l,u.return=i,i.child=u,tr=i,nr=null,!0):!1;default:return!1}}function Pg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function kg(i){if(Et){var l=nr;if(l){var u=l;if(!_E(i,l)){if(Pg(i))throw Error(n(418));l=Fi(u.nextSibling);var g=tr;l&&_E(i,l)?vE(g,u):(i.flags=i.flags&-4097|2,Et=!1,tr=i)}}else{if(Pg(i))throw Error(n(418));i.flags=i.flags&-4097|2,Et=!1,tr=i}}}function wE(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;tr=i}function Kh(i){if(i!==tr)return!1;if(!Et)return wE(i),Et=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!bg(i.type,i.memoizedProps)),l&&(l=nr)){if(Pg(i))throw xE(),Error(n(418));for(;l;)vE(i,l),l=Fi(l.nextSibling)}if(wE(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(l===0){nr=Fi(i.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++}i=i.nextSibling}nr=null}}else nr=tr?Fi(i.stateNode.nextSibling):null;return!0}function xE(){for(var i=nr;i;)i=Fi(i.nextSibling)}function Rl(){nr=tr=null,Et=!1}function Dg(i){Pr===null?Pr=[i]:Pr.push(i)}var hO=W.ReactCurrentBatchConfig;function xu(i,l,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var g=u.stateNode}if(!g)throw Error(n(147,i));var v=g,w=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===w?l.ref:(l=function(N){var U=v.refs;N===null?delete U[w]:U[w]=N},l._stringRef=w,l)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function Yh(i,l){throw i=Object.prototype.toString.call(l),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function EE(i){var l=i._init;return l(i._payload)}function bE(i){function l(q,H){if(i){var Y=q.deletions;Y===null?(q.deletions=[H],q.flags|=16):Y.push(H)}}function u(q,H){if(!i)return null;for(;H!==null;)l(q,H),H=H.sibling;return null}function g(q,H){for(q=new Map;H!==null;)H.key!==null?q.set(H.key,H):q.set(H.index,H),H=H.sibling;return q}function v(q,H){return q=Qi(q,H),q.index=0,q.sibling=null,q}function w(q,H,Y){return q.index=Y,i?(Y=q.alternate,Y!==null?(Y=Y.index,Y<H?(q.flags|=2,H):Y):(q.flags|=2,H)):(q.flags|=1048576,H)}function N(q){return i&&q.alternate===null&&(q.flags|=2),q}function U(q,H,Y,le){return H===null||H.tag!==6?(H=Ty(Y,q.mode,le),H.return=q,H):(H=v(H,Y),H.return=q,H)}function z(q,H,Y,le){var be=Y.type;return be===D?ie(q,H,Y.props.children,le,Y.key):H!==null&&(H.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===ve&&EE(be)===H.type)?(le=v(H,Y.props),le.ref=xu(q,H,Y),le.return=q,le):(le=wf(Y.type,Y.key,Y.props,null,q.mode,le),le.ref=xu(q,H,Y),le.return=q,le)}function Q(q,H,Y,le){return H===null||H.tag!==4||H.stateNode.containerInfo!==Y.containerInfo||H.stateNode.implementation!==Y.implementation?(H=Sy(Y,q.mode,le),H.return=q,H):(H=v(H,Y.children||[]),H.return=q,H)}function ie(q,H,Y,le,be){return H===null||H.tag!==7?(H=pa(Y,q.mode,le,be),H.return=q,H):(H=v(H,Y),H.return=q,H)}function ae(q,H,Y){if(typeof H=="string"&&H!==""||typeof H=="number")return H=Ty(""+H,q.mode,Y),H.return=q,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case G:return Y=wf(H.type,H.key,H.props,null,q.mode,Y),Y.ref=xu(q,null,H),Y.return=q,Y;case J:return H=Sy(H,q.mode,Y),H.return=q,H;case ve:var le=H._init;return ae(q,le(H._payload),Y)}if(Dt(H)||ee(H))return H=pa(H,q.mode,Y,null),H.return=q,H;Yh(q,H)}return null}function se(q,H,Y,le){var be=H!==null?H.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return be!==null?null:U(q,H,""+Y,le);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case G:return Y.key===be?z(q,H,Y,le):null;case J:return Y.key===be?Q(q,H,Y,le):null;case ve:return be=Y._init,se(q,H,be(Y._payload),le)}if(Dt(Y)||ee(Y))return be!==null?null:ie(q,H,Y,le,null);Yh(q,Y)}return null}function pe(q,H,Y,le,be){if(typeof le=="string"&&le!==""||typeof le=="number")return q=q.get(Y)||null,U(H,q,""+le,be);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case G:return q=q.get(le.key===null?Y:le.key)||null,z(H,q,le,be);case J:return q=q.get(le.key===null?Y:le.key)||null,Q(H,q,le,be);case ve:var Re=le._init;return pe(q,H,Y,Re(le._payload),be)}if(Dt(le)||ee(le))return q=q.get(Y)||null,ie(H,q,le,be,null);Yh(H,le)}return null}function _e(q,H,Y,le){for(var be=null,Re=null,Ae=H,Oe=H=0,Xt=null;Ae!==null&&Oe<Y.length;Oe++){Ae.index>Oe?(Xt=Ae,Ae=null):Xt=Ae.sibling;var rt=se(q,Ae,Y[Oe],le);if(rt===null){Ae===null&&(Ae=Xt);break}i&&Ae&&rt.alternate===null&&l(q,Ae),H=w(rt,H,Oe),Re===null?be=rt:Re.sibling=rt,Re=rt,Ae=Xt}if(Oe===Y.length)return u(q,Ae),Et&&oa(q,Oe),be;if(Ae===null){for(;Oe<Y.length;Oe++)Ae=ae(q,Y[Oe],le),Ae!==null&&(H=w(Ae,H,Oe),Re===null?be=Ae:Re.sibling=Ae,Re=Ae);return Et&&oa(q,Oe),be}for(Ae=g(q,Ae);Oe<Y.length;Oe++)Xt=pe(Ae,q,Oe,Y[Oe],le),Xt!==null&&(i&&Xt.alternate!==null&&Ae.delete(Xt.key===null?Oe:Xt.key),H=w(Xt,H,Oe),Re===null?be=Xt:Re.sibling=Xt,Re=Xt);return i&&Ae.forEach(function(Xi){return l(q,Xi)}),Et&&oa(q,Oe),be}function xe(q,H,Y,le){var be=ee(Y);if(typeof be!="function")throw Error(n(150));if(Y=be.call(Y),Y==null)throw Error(n(151));for(var Re=be=null,Ae=H,Oe=H=0,Xt=null,rt=Y.next();Ae!==null&&!rt.done;Oe++,rt=Y.next()){Ae.index>Oe?(Xt=Ae,Ae=null):Xt=Ae.sibling;var Xi=se(q,Ae,rt.value,le);if(Xi===null){Ae===null&&(Ae=Xt);break}i&&Ae&&Xi.alternate===null&&l(q,Ae),H=w(Xi,H,Oe),Re===null?be=Xi:Re.sibling=Xi,Re=Xi,Ae=Xt}if(rt.done)return u(q,Ae),Et&&oa(q,Oe),be;if(Ae===null){for(;!rt.done;Oe++,rt=Y.next())rt=ae(q,rt.value,le),rt!==null&&(H=w(rt,H,Oe),Re===null?be=rt:Re.sibling=rt,Re=rt);return Et&&oa(q,Oe),be}for(Ae=g(q,Ae);!rt.done;Oe++,rt=Y.next())rt=pe(Ae,q,Oe,rt.value,le),rt!==null&&(i&&rt.alternate!==null&&Ae.delete(rt.key===null?Oe:rt.key),H=w(rt,H,Oe),Re===null?be=rt:Re.sibling=rt,Re=rt);return i&&Ae.forEach(function(HO){return l(q,HO)}),Et&&oa(q,Oe),be}function jt(q,H,Y,le){if(typeof Y=="object"&&Y!==null&&Y.type===D&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case G:e:{for(var be=Y.key,Re=H;Re!==null;){if(Re.key===be){if(be=Y.type,be===D){if(Re.tag===7){u(q,Re.sibling),H=v(Re,Y.props.children),H.return=q,q=H;break e}}else if(Re.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===ve&&EE(be)===Re.type){u(q,Re.sibling),H=v(Re,Y.props),H.ref=xu(q,Re,Y),H.return=q,q=H;break e}u(q,Re);break}else l(q,Re);Re=Re.sibling}Y.type===D?(H=pa(Y.props.children,q.mode,le,Y.key),H.return=q,q=H):(le=wf(Y.type,Y.key,Y.props,null,q.mode,le),le.ref=xu(q,H,Y),le.return=q,q=le)}return N(q);case J:e:{for(Re=Y.key;H!==null;){if(H.key===Re)if(H.tag===4&&H.stateNode.containerInfo===Y.containerInfo&&H.stateNode.implementation===Y.implementation){u(q,H.sibling),H=v(H,Y.children||[]),H.return=q,q=H;break e}else{u(q,H);break}else l(q,H);H=H.sibling}H=Sy(Y,q.mode,le),H.return=q,q=H}return N(q);case ve:return Re=Y._init,jt(q,H,Re(Y._payload),le)}if(Dt(Y))return _e(q,H,Y,le);if(ee(Y))return xe(q,H,Y,le);Yh(q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,H!==null&&H.tag===6?(u(q,H.sibling),H=v(H,Y),H.return=q,q=H):(u(q,H),H=Ty(Y,q.mode,le),H.return=q,q=H),N(q)):u(q,H)}return jt}var Al=bE(!0),TE=bE(!1),Qh=Ui(null),Xh=null,Pl=null,Mg=null;function jg(){Mg=Pl=Xh=null}function Og(i){var l=Qh.current;gt(Qh),i._currentValue=l}function Lg(i,l,u){for(;i!==null;){var g=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),i===u)break;i=i.return}}function kl(i,l){Xh=i,Mg=Pl=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(Fn=!0),i.firstContext=null)}function fr(i){var l=i._currentValue;if(Mg!==i)if(i={context:i,memoizedValue:l,next:null},Pl===null){if(Xh===null)throw Error(n(308));Pl=i,Xh.dependencies={lanes:0,firstContext:i}}else Pl=Pl.next=i;return l}var aa=null;function Vg(i){aa===null?aa=[i]:aa.push(i)}function SE(i,l,u,g){var v=l.interleaved;return v===null?(u.next=u,Vg(l)):(u.next=v.next,v.next=u),l.interleaved=u,Gs(i,g)}function Gs(i,l){i.lanes|=l;var u=i.alternate;for(u!==null&&(u.lanes|=l),u=i,i=i.return;i!==null;)i.childLanes|=l,u=i.alternate,u!==null&&(u.childLanes|=l),u=i,i=i.return;return u.tag===3?u.stateNode:null}var $i=!1;function Fg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CE(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function qs(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function Wi(i,l,u){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(nt&2)!==0){var v=g.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),g.pending=l,Gs(i,u)}return v=g.interleaved,v===null?(l.next=l,Vg(g)):(l.next=v.next,v.next=l),g.interleaved=l,Gs(i,u)}function Jh(i,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194240)!==0)){var g=l.lanes;g&=i.pendingLanes,u|=g,l.lanes=u,nu(i,u)}}function IE(i,l){var u=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,u===g)){var v=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var N={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?v=w=N:w=w.next=N,u=u.next}while(u!==null);w===null?v=w=l:w=w.next=l}else v=w=l;u={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:g.shared,effects:g.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=l:i.next=l,u.lastBaseUpdate=l}function Zh(i,l,u,g){var v=i.updateQueue;$i=!1;var w=v.firstBaseUpdate,N=v.lastBaseUpdate,U=v.shared.pending;if(U!==null){v.shared.pending=null;var z=U,Q=z.next;z.next=null,N===null?w=Q:N.next=Q,N=z;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,U=ie.lastBaseUpdate,U!==N&&(U===null?ie.firstBaseUpdate=Q:U.next=Q,ie.lastBaseUpdate=z))}if(w!==null){var ae=v.baseState;N=0,ie=Q=z=null,U=w;do{var se=U.lane,pe=U.eventTime;if((g&se)===se){ie!==null&&(ie=ie.next={eventTime:pe,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var _e=i,xe=U;switch(se=l,pe=u,xe.tag){case 1:if(_e=xe.payload,typeof _e=="function"){ae=_e.call(pe,ae,se);break e}ae=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=xe.payload,se=typeof _e=="function"?_e.call(pe,ae,se):_e,se==null)break e;ae=re({},ae,se);break e;case 2:$i=!0}}U.callback!==null&&U.lane!==0&&(i.flags|=64,se=v.effects,se===null?v.effects=[U]:se.push(U))}else pe={eventTime:pe,lane:se,tag:U.tag,payload:U.payload,callback:U.callback,next:null},ie===null?(Q=ie=pe,z=ae):ie=ie.next=pe,N|=se;if(U=U.next,U===null){if(U=v.shared.pending,U===null)break;se=U,U=se.next,se.next=null,v.lastBaseUpdate=se,v.shared.pending=null}}while(!0);if(ie===null&&(z=ae),v.baseState=z,v.firstBaseUpdate=Q,v.lastBaseUpdate=ie,l=v.shared.interleaved,l!==null){v=l;do N|=v.lane,v=v.next;while(v!==l)}else w===null&&(v.shared.lanes=0);ua|=N,i.lanes=N,i.memoizedState=ae}}function NE(i,l,u){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var g=i[l],v=g.callback;if(v!==null){if(g.callback=null,g=u,typeof v!="function")throw Error(n(191,v));v.call(g)}}}var Eu={},ds=Ui(Eu),bu=Ui(Eu),Tu=Ui(Eu);function la(i){if(i===Eu)throw Error(n(174));return i}function Ug(i,l){switch(ht(Tu,l),ht(bu,i),ht(ds,Eu),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:el(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=el(l,i)}gt(ds),ht(ds,l)}function Dl(){gt(ds),gt(bu),gt(Tu)}function RE(i){la(Tu.current);var l=la(ds.current),u=el(l,i.type);l!==u&&(ht(bu,i),ht(ds,u))}function Bg(i){bu.current===i&&(gt(ds),gt(bu))}var bt=Ui(0);function ef(i){for(var l=i;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var zg=[];function $g(){for(var i=0;i<zg.length;i++)zg[i]._workInProgressVersionPrimary=null;zg.length=0}var tf=W.ReactCurrentDispatcher,Wg=W.ReactCurrentBatchConfig,ca=0,Tt=null,Wt=null,Yt=null,nf=!1,Su=!1,Cu=0,fO=0;function vn(){throw Error(n(321))}function Hg(i,l){if(l===null)return!1;for(var u=0;u<l.length&&u<i.length;u++)if(!Ar(i[u],l[u]))return!1;return!0}function Gg(i,l,u,g,v,w){if(ca=w,Tt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,tf.current=i===null||i.memoizedState===null?yO:vO,i=u(g,v),Su){w=0;do{if(Su=!1,Cu=0,25<=w)throw Error(n(301));w+=1,Yt=Wt=null,l.updateQueue=null,tf.current=_O,i=u(g,v)}while(Su)}if(tf.current=of,l=Wt!==null&&Wt.next!==null,ca=0,Yt=Wt=Tt=null,nf=!1,l)throw Error(n(300));return i}function qg(){var i=Cu!==0;return Cu=0,i}function hs(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Tt.memoizedState=Yt=i:Yt=Yt.next=i,Yt}function pr(){if(Wt===null){var i=Tt.alternate;i=i!==null?i.memoizedState:null}else i=Wt.next;var l=Yt===null?Tt.memoizedState:Yt.next;if(l!==null)Yt=l,Wt=i;else{if(i===null)throw Error(n(310));Wt=i,i={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Yt===null?Tt.memoizedState=Yt=i:Yt=Yt.next=i}return Yt}function Iu(i,l){return typeof l=="function"?l(i):l}function Kg(i){var l=pr(),u=l.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var g=Wt,v=g.baseQueue,w=u.pending;if(w!==null){if(v!==null){var N=v.next;v.next=w.next,w.next=N}g.baseQueue=v=w,u.pending=null}if(v!==null){w=v.next,g=g.baseState;var U=N=null,z=null,Q=w;do{var ie=Q.lane;if((ca&ie)===ie)z!==null&&(z=z.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),g=Q.hasEagerState?Q.eagerState:i(g,Q.action);else{var ae={lane:ie,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};z===null?(U=z=ae,N=g):z=z.next=ae,Tt.lanes|=ie,ua|=ie}Q=Q.next}while(Q!==null&&Q!==w);z===null?N=g:z.next=U,Ar(g,l.memoizedState)||(Fn=!0),l.memoizedState=g,l.baseState=N,l.baseQueue=z,u.lastRenderedState=g}if(i=u.interleaved,i!==null){v=i;do w=v.lane,Tt.lanes|=w,ua|=w,v=v.next;while(v!==i)}else v===null&&(u.lanes=0);return[l.memoizedState,u.dispatch]}function Yg(i){var l=pr(),u=l.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var g=u.dispatch,v=u.pending,w=l.memoizedState;if(v!==null){u.pending=null;var N=v=v.next;do w=i(w,N.action),N=N.next;while(N!==v);Ar(w,l.memoizedState)||(Fn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),u.lastRenderedState=w}return[w,g]}function AE(){}function PE(i,l){var u=Tt,g=pr(),v=l(),w=!Ar(g.memoizedState,v);if(w&&(g.memoizedState=v,Fn=!0),g=g.queue,Qg(ME.bind(null,u,g,i),[i]),g.getSnapshot!==l||w||Yt!==null&&Yt.memoizedState.tag&1){if(u.flags|=2048,Nu(9,DE.bind(null,u,g,v,l),void 0,null),Qt===null)throw Error(n(349));(ca&30)!==0||kE(u,l,v)}return v}function kE(i,l,u){i.flags|=16384,i={getSnapshot:l,value:u},l=Tt.updateQueue,l===null?(l={lastEffect:null,stores:null},Tt.updateQueue=l,l.stores=[i]):(u=l.stores,u===null?l.stores=[i]:u.push(i))}function DE(i,l,u,g){l.value=u,l.getSnapshot=g,jE(l)&&OE(i)}function ME(i,l,u){return u(function(){jE(l)&&OE(i)})}function jE(i){var l=i.getSnapshot;i=i.value;try{var u=l();return!Ar(i,u)}catch{return!0}}function OE(i){var l=Gs(i,1);l!==null&&jr(l,i,1,-1)}function LE(i){var l=hs();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Iu,lastRenderedState:i},l.queue=i,i=i.dispatch=gO.bind(null,Tt,i),[l.memoizedState,i]}function Nu(i,l,u,g){return i={tag:i,create:l,destroy:u,deps:g,next:null},l=Tt.updateQueue,l===null?(l={lastEffect:null,stores:null},Tt.updateQueue=l,l.lastEffect=i.next=i):(u=l.lastEffect,u===null?l.lastEffect=i.next=i:(g=u.next,u.next=i,i.next=g,l.lastEffect=i)),i}function VE(){return pr().memoizedState}function rf(i,l,u,g){var v=hs();Tt.flags|=i,v.memoizedState=Nu(1|l,u,void 0,g===void 0?null:g)}function sf(i,l,u,g){var v=pr();g=g===void 0?null:g;var w=void 0;if(Wt!==null){var N=Wt.memoizedState;if(w=N.destroy,g!==null&&Hg(g,N.deps)){v.memoizedState=Nu(l,u,w,g);return}}Tt.flags|=i,v.memoizedState=Nu(1|l,u,w,g)}function FE(i,l){return rf(8390656,8,i,l)}function Qg(i,l){return sf(2048,8,i,l)}function UE(i,l){return sf(4,2,i,l)}function BE(i,l){return sf(4,4,i,l)}function zE(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function $E(i,l,u){return u=u!=null?u.concat([i]):null,sf(4,4,zE.bind(null,l,i),u)}function Xg(){}function WE(i,l){var u=pr();l=l===void 0?null:l;var g=u.memoizedState;return g!==null&&l!==null&&Hg(l,g[1])?g[0]:(u.memoizedState=[i,l],i)}function HE(i,l){var u=pr();l=l===void 0?null:l;var g=u.memoizedState;return g!==null&&l!==null&&Hg(l,g[1])?g[0]:(i=i(),u.memoizedState=[i,l],i)}function GE(i,l,u){return(ca&21)===0?(i.baseState&&(i.baseState=!1,Fn=!0),i.memoizedState=u):(Ar(u,l)||(u=eu(),Tt.lanes|=u,ua|=u,i.baseState=!0),l)}function pO(i,l){var u=Qe;Qe=u!==0&&4>u?u:4,i(!0);var g=Wg.transition;Wg.transition={};try{i(!1),l()}finally{Qe=u,Wg.transition=g}}function qE(){return pr().memoizedState}function mO(i,l,u){var g=Ki(i);if(u={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null},KE(i))YE(l,u);else if(u=SE(i,l,u,g),u!==null){var v=Pn();jr(u,i,g,v),QE(u,l,g)}}function gO(i,l,u){var g=Ki(i),v={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null};if(KE(i))YE(l,v);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var N=l.lastRenderedState,U=w(N,u);if(v.hasEagerState=!0,v.eagerState=U,Ar(U,N)){var z=l.interleaved;z===null?(v.next=v,Vg(l)):(v.next=z.next,z.next=v),l.interleaved=v;return}}catch{}finally{}u=SE(i,l,v,g),u!==null&&(v=Pn(),jr(u,i,g,v),QE(u,l,g))}}function KE(i){var l=i.alternate;return i===Tt||l!==null&&l===Tt}function YE(i,l){Su=nf=!0;var u=i.pending;u===null?l.next=l:(l.next=u.next,u.next=l),i.pending=l}function QE(i,l,u){if((u&4194240)!==0){var g=l.lanes;g&=i.pendingLanes,u|=g,l.lanes=u,nu(i,u)}}var of={readContext:fr,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useInsertionEffect:vn,useLayoutEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useMutableSource:vn,useSyncExternalStore:vn,useId:vn,unstable_isNewReconciler:!1},yO={readContext:fr,useCallback:function(i,l){return hs().memoizedState=[i,l===void 0?null:l],i},useContext:fr,useEffect:FE,useImperativeHandle:function(i,l,u){return u=u!=null?u.concat([i]):null,rf(4194308,4,zE.bind(null,l,i),u)},useLayoutEffect:function(i,l){return rf(4194308,4,i,l)},useInsertionEffect:function(i,l){return rf(4,2,i,l)},useMemo:function(i,l){var u=hs();return l=l===void 0?null:l,i=i(),u.memoizedState=[i,l],i},useReducer:function(i,l,u){var g=hs();return l=u!==void 0?u(l):l,g.memoizedState=g.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},g.queue=i,i=i.dispatch=mO.bind(null,Tt,i),[g.memoizedState,i]},useRef:function(i){var l=hs();return i={current:i},l.memoizedState=i},useState:LE,useDebugValue:Xg,useDeferredValue:function(i){return hs().memoizedState=i},useTransition:function(){var i=LE(!1),l=i[0];return i=pO.bind(null,i[1]),hs().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,u){var g=Tt,v=hs();if(Et){if(u===void 0)throw Error(n(407));u=u()}else{if(u=l(),Qt===null)throw Error(n(349));(ca&30)!==0||kE(g,l,u)}v.memoizedState=u;var w={value:u,getSnapshot:l};return v.queue=w,FE(ME.bind(null,g,w,i),[i]),g.flags|=2048,Nu(9,DE.bind(null,g,w,u,l),void 0,null),u},useId:function(){var i=hs(),l=Qt.identifierPrefix;if(Et){var u=Hs,g=Ws;u=(g&~(1<<32-Qn(g)-1)).toString(32)+u,l=":"+l+"R"+u,u=Cu++,0<u&&(l+="H"+u.toString(32)),l+=":"}else u=fO++,l=":"+l+"r"+u.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},vO={readContext:fr,useCallback:WE,useContext:fr,useEffect:Qg,useImperativeHandle:$E,useInsertionEffect:UE,useLayoutEffect:BE,useMemo:HE,useReducer:Kg,useRef:VE,useState:function(){return Kg(Iu)},useDebugValue:Xg,useDeferredValue:function(i){var l=pr();return GE(l,Wt.memoizedState,i)},useTransition:function(){var i=Kg(Iu)[0],l=pr().memoizedState;return[i,l]},useMutableSource:AE,useSyncExternalStore:PE,useId:qE,unstable_isNewReconciler:!1},_O={readContext:fr,useCallback:WE,useContext:fr,useEffect:Qg,useImperativeHandle:$E,useInsertionEffect:UE,useLayoutEffect:BE,useMemo:HE,useReducer:Yg,useRef:VE,useState:function(){return Yg(Iu)},useDebugValue:Xg,useDeferredValue:function(i){var l=pr();return Wt===null?l.memoizedState=i:GE(l,Wt.memoizedState,i)},useTransition:function(){var i=Yg(Iu)[0],l=pr().memoizedState;return[i,l]},useMutableSource:AE,useSyncExternalStore:PE,useId:qE,unstable_isNewReconciler:!1};function kr(i,l){if(i&&i.defaultProps){l=re({},l),i=i.defaultProps;for(var u in i)l[u]===void 0&&(l[u]=i[u]);return l}return l}function Jg(i,l,u,g){l=i.memoizedState,u=u(g,l),u=u==null?l:re({},l,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var af={isMounted:function(i){return(i=i._reactInternals)?Nr(i)===i:!1},enqueueSetState:function(i,l,u){i=i._reactInternals;var g=Pn(),v=Ki(i),w=qs(g,v);w.payload=l,u!=null&&(w.callback=u),l=Wi(i,w,v),l!==null&&(jr(l,i,v,g),Jh(l,i,v))},enqueueReplaceState:function(i,l,u){i=i._reactInternals;var g=Pn(),v=Ki(i),w=qs(g,v);w.tag=1,w.payload=l,u!=null&&(w.callback=u),l=Wi(i,w,v),l!==null&&(jr(l,i,v,g),Jh(l,i,v))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var u=Pn(),g=Ki(i),v=qs(u,g);v.tag=2,l!=null&&(v.callback=l),l=Wi(i,v,g),l!==null&&(jr(l,i,g,u),Jh(l,i,g))}};function XE(i,l,u,g,v,w,N){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,w,N):l.prototype&&l.prototype.isPureReactComponent?!pu(u,g)||!pu(v,w):!0}function JE(i,l,u){var g=!1,v=Bi,w=l.contextType;return typeof w=="object"&&w!==null?w=fr(w):(v=Vn(l)?sa:yn.current,g=l.contextTypes,w=(g=g!=null)?Cl(i,v):Bi),l=new l(u,w),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=af,i.stateNode=l,l._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=v,i.__reactInternalMemoizedMaskedChildContext=w),l}function ZE(i,l,u,g){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,g),l.state!==i&&af.enqueueReplaceState(l,l.state,null)}function Zg(i,l,u,g){var v=i.stateNode;v.props=u,v.state=i.memoizedState,v.refs={},Fg(i);var w=l.contextType;typeof w=="object"&&w!==null?v.context=fr(w):(w=Vn(l)?sa:yn.current,v.context=Cl(i,w)),v.state=i.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(Jg(i,l,w,u),v.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(l=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),l!==v.state&&af.enqueueReplaceState(v,v.state,null),Zh(i,u,v,g),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308)}function Ml(i,l){try{var u="",g=l;do u+=Le(g),g=g.return;while(g);var v=u}catch(w){v=`
Error generating stack: `+w.message+`
`+w.stack}return{value:i,source:l,stack:v,digest:null}}function ey(i,l,u){return{value:i,source:null,stack:u??null,digest:l??null}}function ty(i,l){try{console.error(l.value)}catch(u){setTimeout(function(){throw u})}}var wO=typeof WeakMap=="function"?WeakMap:Map;function eb(i,l,u){u=qs(-1,u),u.tag=3,u.payload={element:null};var g=l.value;return u.callback=function(){pf||(pf=!0,gy=g),ty(i,l)},u}function tb(i,l,u){u=qs(-1,u),u.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var v=l.value;u.payload=function(){return g(v)},u.callback=function(){ty(i,l)}}var w=i.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){ty(i,l),typeof g!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var N=l.stack;this.componentDidCatch(l.value,{componentStack:N!==null?N:""})}),u}function nb(i,l,u){var g=i.pingCache;if(g===null){g=i.pingCache=new wO;var v=new Set;g.set(l,v)}else v=g.get(l),v===void 0&&(v=new Set,g.set(l,v));v.has(u)||(v.add(u),i=MO.bind(null,i,l,u),l.then(i,i))}function rb(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function sb(i,l,u,g,v){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(l=qs(-1,1),l.tag=2,Wi(u,l,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=v,i)}var xO=W.ReactCurrentOwner,Fn=!1;function An(i,l,u,g){l.child=i===null?TE(l,null,u,g):Al(l,i.child,u,g)}function ib(i,l,u,g,v){u=u.render;var w=l.ref;return kl(l,v),g=Gg(i,l,u,g,w,v),u=qg(),i!==null&&!Fn?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~v,Ks(i,l,v)):(Et&&u&&Rg(l),l.flags|=1,An(i,l,g,v),l.child)}function ob(i,l,u,g,v){if(i===null){var w=u.type;return typeof w=="function"&&!by(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(l.tag=15,l.type=w,ab(i,l,w,g,v)):(i=wf(u.type,null,g,l,l.mode,v),i.ref=l.ref,i.return=l,l.child=i)}if(w=i.child,(i.lanes&v)===0){var N=w.memoizedProps;if(u=u.compare,u=u!==null?u:pu,u(N,g)&&i.ref===l.ref)return Ks(i,l,v)}return l.flags|=1,i=Qi(w,g),i.ref=l.ref,i.return=l,l.child=i}function ab(i,l,u,g,v){if(i!==null){var w=i.memoizedProps;if(pu(w,g)&&i.ref===l.ref)if(Fn=!1,l.pendingProps=g=w,(i.lanes&v)!==0)(i.flags&131072)!==0&&(Fn=!0);else return l.lanes=i.lanes,Ks(i,l,v)}return ny(i,l,u,g,v)}function lb(i,l,u){var g=l.pendingProps,v=g.children,w=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(Ol,rr),rr|=u;else{if((u&1073741824)===0)return i=w!==null?w.baseLanes|u:u,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,ht(Ol,rr),rr|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=w!==null?w.baseLanes:u,ht(Ol,rr),rr|=g}else w!==null?(g=w.baseLanes|u,l.memoizedState=null):g=u,ht(Ol,rr),rr|=g;return An(i,l,v,u),l.child}function cb(i,l){var u=l.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(l.flags|=512,l.flags|=2097152)}function ny(i,l,u,g,v){var w=Vn(u)?sa:yn.current;return w=Cl(l,w),kl(l,v),u=Gg(i,l,u,g,w,v),g=qg(),i!==null&&!Fn?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~v,Ks(i,l,v)):(Et&&g&&Rg(l),l.flags|=1,An(i,l,u,v),l.child)}function ub(i,l,u,g,v){if(Vn(u)){var w=!0;Wh(l)}else w=!1;if(kl(l,v),l.stateNode===null)cf(i,l),JE(l,u,g),Zg(l,u,g,v),g=!0;else if(i===null){var N=l.stateNode,U=l.memoizedProps;N.props=U;var z=N.context,Q=u.contextType;typeof Q=="object"&&Q!==null?Q=fr(Q):(Q=Vn(u)?sa:yn.current,Q=Cl(l,Q));var ie=u.getDerivedStateFromProps,ae=typeof ie=="function"||typeof N.getSnapshotBeforeUpdate=="function";ae||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(U!==g||z!==Q)&&ZE(l,N,g,Q),$i=!1;var se=l.memoizedState;N.state=se,Zh(l,g,N,v),z=l.memoizedState,U!==g||se!==z||Ln.current||$i?(typeof ie=="function"&&(Jg(l,u,ie,g),z=l.memoizedState),(U=$i||XE(l,u,U,g,se,z,Q))?(ae||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(l.flags|=4194308)):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=z),N.props=g,N.state=z,N.context=Q,g=U):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{N=l.stateNode,CE(i,l),U=l.memoizedProps,Q=l.type===l.elementType?U:kr(l.type,U),N.props=Q,ae=l.pendingProps,se=N.context,z=u.contextType,typeof z=="object"&&z!==null?z=fr(z):(z=Vn(u)?sa:yn.current,z=Cl(l,z));var pe=u.getDerivedStateFromProps;(ie=typeof pe=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(U!==ae||se!==z)&&ZE(l,N,g,z),$i=!1,se=l.memoizedState,N.state=se,Zh(l,g,N,v);var _e=l.memoizedState;U!==ae||se!==_e||Ln.current||$i?(typeof pe=="function"&&(Jg(l,u,pe,g),_e=l.memoizedState),(Q=$i||XE(l,u,Q,g,se,_e,z)||!1)?(ie||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(g,_e,z),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(g,_e,z)),typeof N.componentDidUpdate=="function"&&(l.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof N.componentDidUpdate!="function"||U===i.memoizedProps&&se===i.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||U===i.memoizedProps&&se===i.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=_e),N.props=g,N.state=_e,N.context=z,g=Q):(typeof N.componentDidUpdate!="function"||U===i.memoizedProps&&se===i.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||U===i.memoizedProps&&se===i.memoizedState||(l.flags|=1024),g=!1)}return ry(i,l,u,g,w,v)}function ry(i,l,u,g,v,w){cb(i,l);var N=(l.flags&128)!==0;if(!g&&!N)return v&&mE(l,u,!1),Ks(i,l,w);g=l.stateNode,xO.current=l;var U=N&&typeof u.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,i!==null&&N?(l.child=Al(l,i.child,null,w),l.child=Al(l,null,U,w)):An(i,l,U,w),l.memoizedState=g.state,v&&mE(l,u,!0),l.child}function db(i){var l=i.stateNode;l.pendingContext?fE(i,l.pendingContext,l.pendingContext!==l.context):l.context&&fE(i,l.context,!1),Ug(i,l.containerInfo)}function hb(i,l,u,g,v){return Rl(),Dg(v),l.flags|=256,An(i,l,u,g),l.child}var sy={dehydrated:null,treeContext:null,retryLane:0};function iy(i){return{baseLanes:i,cachePool:null,transitions:null}}function fb(i,l,u){var g=l.pendingProps,v=bt.current,w=!1,N=(l.flags&128)!==0,U;if((U=N)||(U=i!==null&&i.memoizedState===null?!1:(v&2)!==0),U?(w=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(v|=1),ht(bt,v&1),i===null)return kg(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(N=g.children,i=g.fallback,w?(g=l.mode,w=l.child,N={mode:"hidden",children:N},(g&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=N):w=xf(N,g,0,null),i=pa(i,g,u,null),w.return=l,i.return=l,w.sibling=i,l.child=w,l.child.memoizedState=iy(u),l.memoizedState=sy,i):oy(l,N));if(v=i.memoizedState,v!==null&&(U=v.dehydrated,U!==null))return EO(i,l,N,g,U,v,u);if(w){w=g.fallback,N=l.mode,v=i.child,U=v.sibling;var z={mode:"hidden",children:g.children};return(N&1)===0&&l.child!==v?(g=l.child,g.childLanes=0,g.pendingProps=z,l.deletions=null):(g=Qi(v,z),g.subtreeFlags=v.subtreeFlags&14680064),U!==null?w=Qi(U,w):(w=pa(w,N,u,null),w.flags|=2),w.return=l,g.return=l,g.sibling=w,l.child=g,g=w,w=l.child,N=i.child.memoizedState,N=N===null?iy(u):{baseLanes:N.baseLanes|u,cachePool:null,transitions:N.transitions},w.memoizedState=N,w.childLanes=i.childLanes&~u,l.memoizedState=sy,g}return w=i.child,i=w.sibling,g=Qi(w,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=u),g.return=l,g.sibling=null,i!==null&&(u=l.deletions,u===null?(l.deletions=[i],l.flags|=16):u.push(i)),l.child=g,l.memoizedState=null,g}function oy(i,l){return l=xf({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function lf(i,l,u,g){return g!==null&&Dg(g),Al(l,i.child,null,u),i=oy(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function EO(i,l,u,g,v,w,N){if(u)return l.flags&256?(l.flags&=-257,g=ey(Error(n(422))),lf(i,l,N,g)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(w=g.fallback,v=l.mode,g=xf({mode:"visible",children:g.children},v,0,null),w=pa(w,v,N,null),w.flags|=2,g.return=l,w.return=l,g.sibling=w,l.child=g,(l.mode&1)!==0&&Al(l,i.child,null,N),l.child.memoizedState=iy(N),l.memoizedState=sy,w);if((l.mode&1)===0)return lf(i,l,N,null);if(v.data==="$!"){if(g=v.nextSibling&&v.nextSibling.dataset,g)var U=g.dgst;return g=U,w=Error(n(419)),g=ey(w,g,void 0),lf(i,l,N,g)}if(U=(N&i.childLanes)!==0,Fn||U){if(g=Qt,g!==null){switch(N&-N){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(g.suspendedLanes|N))!==0?0:v,v!==0&&v!==w.retryLane&&(w.retryLane=v,Gs(i,v),jr(g,i,v,-1))}return Ey(),g=ey(Error(n(421))),lf(i,l,N,g)}return v.data==="$?"?(l.flags|=128,l.child=i.child,l=jO.bind(null,i),v._reactRetry=l,null):(i=w.treeContext,nr=Fi(v.nextSibling),tr=l,Et=!0,Pr=null,i!==null&&(dr[hr++]=Ws,dr[hr++]=Hs,dr[hr++]=ia,Ws=i.id,Hs=i.overflow,ia=l),l=oy(l,g.children),l.flags|=4096,l)}function pb(i,l,u){i.lanes|=l;var g=i.alternate;g!==null&&(g.lanes|=l),Lg(i.return,l,u)}function ay(i,l,u,g,v){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:u,tailMode:v}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=g,w.tail=u,w.tailMode=v)}function mb(i,l,u){var g=l.pendingProps,v=g.revealOrder,w=g.tail;if(An(i,l,g.children,u),g=bt.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&pb(i,u,l);else if(i.tag===19)pb(i,u,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(ht(bt,g),(l.mode&1)===0)l.memoizedState=null;else switch(v){case"forwards":for(u=l.child,v=null;u!==null;)i=u.alternate,i!==null&&ef(i)===null&&(v=u),u=u.sibling;u=v,u===null?(v=l.child,l.child=null):(v=u.sibling,u.sibling=null),ay(l,!1,v,u,w);break;case"backwards":for(u=null,v=l.child,l.child=null;v!==null;){if(i=v.alternate,i!==null&&ef(i)===null){l.child=v;break}i=v.sibling,v.sibling=u,u=v,v=i}ay(l,!0,u,null,w);break;case"together":ay(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function cf(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function Ks(i,l,u){if(i!==null&&(l.dependencies=i.dependencies),ua|=l.lanes,(u&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(n(153));if(l.child!==null){for(i=l.child,u=Qi(i,i.pendingProps),l.child=u,u.return=l;i.sibling!==null;)i=i.sibling,u=u.sibling=Qi(i,i.pendingProps),u.return=l;u.sibling=null}return l.child}function bO(i,l,u){switch(l.tag){case 3:db(l),Rl();break;case 5:RE(l);break;case 1:Vn(l.type)&&Wh(l);break;case 4:Ug(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,v=l.memoizedProps.value;ht(Qh,g._currentValue),g._currentValue=v;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(ht(bt,bt.current&1),l.flags|=128,null):(u&l.child.childLanes)!==0?fb(i,l,u):(ht(bt,bt.current&1),i=Ks(i,l,u),i!==null?i.sibling:null);ht(bt,bt.current&1);break;case 19:if(g=(u&l.childLanes)!==0,(i.flags&128)!==0){if(g)return mb(i,l,u);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ht(bt,bt.current),g)break;return null;case 22:case 23:return l.lanes=0,lb(i,l,u)}return Ks(i,l,u)}var gb,ly,yb,vb;gb=function(i,l){for(var u=l.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},ly=function(){},yb=function(i,l,u,g){var v=i.memoizedProps;if(v!==g){i=l.stateNode,la(ds.current);var w=null;switch(u){case"input":v=sn(i,v),g=sn(i,g),w=[];break;case"select":v=re({},v,{value:void 0}),g=re({},g,{value:void 0}),w=[];break;case"textarea":v=$c(i,v),g=$c(i,g),w=[];break;default:typeof v.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=Bh)}Ir(u,g);var N;u=null;for(Q in v)if(!g.hasOwnProperty(Q)&&v.hasOwnProperty(Q)&&v[Q]!=null)if(Q==="style"){var U=v[Q];for(N in U)U.hasOwnProperty(N)&&(u||(u={}),u[N]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(s.hasOwnProperty(Q)?w||(w=[]):(w=w||[]).push(Q,null));for(Q in g){var z=g[Q];if(U=v!=null?v[Q]:void 0,g.hasOwnProperty(Q)&&z!==U&&(z!=null||U!=null))if(Q==="style")if(U){for(N in U)!U.hasOwnProperty(N)||z&&z.hasOwnProperty(N)||(u||(u={}),u[N]="");for(N in z)z.hasOwnProperty(N)&&U[N]!==z[N]&&(u||(u={}),u[N]=z[N])}else u||(w||(w=[]),w.push(Q,u)),u=z;else Q==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,U=U?U.__html:void 0,z!=null&&U!==z&&(w=w||[]).push(Q,z)):Q==="children"?typeof z!="string"&&typeof z!="number"||(w=w||[]).push(Q,""+z):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(s.hasOwnProperty(Q)?(z!=null&&Q==="onScroll"&&mt("scroll",i),w||U===z||(w=[])):(w=w||[]).push(Q,z))}u&&(w=w||[]).push("style",u);var Q=w;(l.updateQueue=Q)&&(l.flags|=4)}},vb=function(i,l,u,g){u!==g&&(l.flags|=4)};function Ru(i,l){if(!Et)switch(i.tailMode){case"hidden":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function _n(i){var l=i.alternate!==null&&i.alternate.child===i.child,u=0,g=0;if(l)for(var v=i.child;v!==null;)u|=v.lanes|v.childLanes,g|=v.subtreeFlags&14680064,g|=v.flags&14680064,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)u|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=g,i.childLanes=u,l}function TO(i,l,u){var g=l.pendingProps;switch(Ag(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(l),null;case 1:return Vn(l.type)&&$h(),_n(l),null;case 3:return g=l.stateNode,Dl(),gt(Ln),gt(yn),$g(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(Kh(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Pr!==null&&(_y(Pr),Pr=null))),ly(i,l),_n(l),null;case 5:Bg(l);var v=la(Tu.current);if(u=l.type,i!==null&&l.stateNode!=null)yb(i,l,u,g,v),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(n(166));return _n(l),null}if(i=la(ds.current),Kh(l)){g=l.stateNode,u=l.type;var w=l.memoizedProps;switch(g[us]=l,g[_u]=w,i=(l.mode&1)!==0,u){case"dialog":mt("cancel",g),mt("close",g);break;case"iframe":case"object":case"embed":mt("load",g);break;case"video":case"audio":for(v=0;v<gu.length;v++)mt(gu[v],g);break;case"source":mt("error",g);break;case"img":case"image":case"link":mt("error",g),mt("load",g);break;case"details":mt("toggle",g);break;case"input":Yr(g,w),mt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!w.multiple},mt("invalid",g);break;case"textarea":Wc(g,w),mt("invalid",g)}Ir(u,w),v=null;for(var N in w)if(w.hasOwnProperty(N)){var U=w[N];N==="children"?typeof U=="string"?g.textContent!==U&&(w.suppressHydrationWarning!==!0&&Uh(g.textContent,U,i),v=["children",U]):typeof U=="number"&&g.textContent!==""+U&&(w.suppressHydrationWarning!==!0&&Uh(g.textContent,U,i),v=["children",""+U]):s.hasOwnProperty(N)&&U!=null&&N==="onScroll"&&mt("scroll",g)}switch(u){case"input":Ye(g),zo(g,w,!0);break;case"textarea":Ye(g),bi(g);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(g.onclick=Bh)}g=v,l.updateQueue=g,g!==null&&(l.flags|=4)}else{N=v.nodeType===9?v:v.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Hc(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=N.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=N.createElement(u,{is:g.is}):(i=N.createElement(u),u==="select"&&(N=i,g.multiple?N.multiple=!0:g.size&&(N.size=g.size))):i=N.createElementNS(i,u),i[us]=l,i[_u]=g,gb(i,l,!1,!1),l.stateNode=i;e:{switch(N=nl(u,g),u){case"dialog":mt("cancel",i),mt("close",i),v=g;break;case"iframe":case"object":case"embed":mt("load",i),v=g;break;case"video":case"audio":for(v=0;v<gu.length;v++)mt(gu[v],i);v=g;break;case"source":mt("error",i),v=g;break;case"img":case"image":case"link":mt("error",i),mt("load",i),v=g;break;case"details":mt("toggle",i),v=g;break;case"input":Yr(i,g),v=sn(i,g),mt("invalid",i);break;case"option":v=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},v=re({},g,{value:void 0}),mt("invalid",i);break;case"textarea":Wc(i,g),v=$c(i,g),mt("invalid",i);break;default:v=g}Ir(u,v),U=v;for(w in U)if(U.hasOwnProperty(w)){var z=U[w];w==="style"?tl(i,z):w==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&ph(i,z)):w==="children"?typeof z=="string"?(u!=="textarea"||z!=="")&&$o(i,z):typeof z=="number"&&$o(i,""+z):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?z!=null&&w==="onScroll"&&mt("scroll",i):z!=null&&j(i,w,z,N))}switch(u){case"input":Ye(i),zo(i,g,!1);break;case"textarea":Ye(i),bi(i);break;case"option":g.value!=null&&i.setAttribute("value",""+we(g.value));break;case"select":i.multiple=!!g.multiple,w=g.value,w!=null?Cr(i,!!g.multiple,w,!1):g.defaultValue!=null&&Cr(i,!!g.multiple,g.defaultValue,!0);break;default:typeof v.onClick=="function"&&(i.onclick=Bh)}switch(u){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return _n(l),null;case 6:if(i&&l.stateNode!=null)vb(i,l,i.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(n(166));if(u=la(Tu.current),la(ds.current),Kh(l)){if(g=l.stateNode,u=l.memoizedProps,g[us]=l,(w=g.nodeValue!==u)&&(i=tr,i!==null))switch(i.tag){case 3:Uh(g.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Uh(g.nodeValue,u,(i.mode&1)!==0)}w&&(l.flags|=4)}else g=(u.nodeType===9?u:u.ownerDocument).createTextNode(g),g[us]=l,l.stateNode=g}return _n(l),null;case 13:if(gt(bt),g=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Et&&nr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)xE(),Rl(),l.flags|=98560,w=!1;else if(w=Kh(l),g!==null&&g.dehydrated!==null){if(i===null){if(!w)throw Error(n(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[us]=l}else Rl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;_n(l),w=!1}else Pr!==null&&(_y(Pr),Pr=null),w=!0;if(!w)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=u,l):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||(bt.current&1)!==0?Ht===0&&(Ht=3):Ey())),l.updateQueue!==null&&(l.flags|=4),_n(l),null);case 4:return Dl(),ly(i,l),i===null&&yu(l.stateNode.containerInfo),_n(l),null;case 10:return Og(l.type._context),_n(l),null;case 17:return Vn(l.type)&&$h(),_n(l),null;case 19:if(gt(bt),w=l.memoizedState,w===null)return _n(l),null;if(g=(l.flags&128)!==0,N=w.rendering,N===null)if(g)Ru(w,!1);else{if(Ht!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(N=ef(i),N!==null){for(l.flags|=128,Ru(w,!1),g=N.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=u,u=l.child;u!==null;)w=u,i=g,w.flags&=14680066,N=w.alternate,N===null?(w.childLanes=0,w.lanes=i,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=N.childLanes,w.lanes=N.lanes,w.child=N.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=N.memoizedProps,w.memoizedState=N.memoizedState,w.updateQueue=N.updateQueue,w.type=N.type,i=N.dependencies,w.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return ht(bt,bt.current&1|2),l.child}i=i.sibling}w.tail!==null&&pt()>Ll&&(l.flags|=128,g=!0,Ru(w,!1),l.lanes=4194304)}else{if(!g)if(i=ef(N),i!==null){if(l.flags|=128,g=!0,u=i.updateQueue,u!==null&&(l.updateQueue=u,l.flags|=4),Ru(w,!0),w.tail===null&&w.tailMode==="hidden"&&!N.alternate&&!Et)return _n(l),null}else 2*pt()-w.renderingStartTime>Ll&&u!==1073741824&&(l.flags|=128,g=!0,Ru(w,!1),l.lanes=4194304);w.isBackwards?(N.sibling=l.child,l.child=N):(u=w.last,u!==null?u.sibling=N:l.child=N,w.last=N)}return w.tail!==null?(l=w.tail,w.rendering=l,w.tail=l.sibling,w.renderingStartTime=pt(),l.sibling=null,u=bt.current,ht(bt,g?u&1|2:u&1),l):(_n(l),null);case 22:case 23:return xy(),g=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(rr&1073741824)!==0&&(_n(l),l.subtreeFlags&6&&(l.flags|=8192)):_n(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function SO(i,l){switch(Ag(l),l.tag){case 1:return Vn(l.type)&&$h(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Dl(),gt(Ln),gt(yn),$g(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return Bg(l),null;case 13:if(gt(bt),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Rl()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return gt(bt),null;case 4:return Dl(),null;case 10:return Og(l.type._context),null;case 22:case 23:return xy(),null;case 24:return null;default:return null}}var uf=!1,wn=!1,CO=typeof WeakSet=="function"?WeakSet:Set,ye=null;function jl(i,l){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(g){Pt(i,l,g)}else u.current=null}function cy(i,l,u){try{u()}catch(g){Pt(i,l,g)}}var _b=!1;function IO(i,l){if(xg=Fs,i=Xx(),fg(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var g=u.getSelection&&u.getSelection();if(g&&g.rangeCount!==0){u=g.anchorNode;var v=g.anchorOffset,w=g.focusNode;g=g.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var N=0,U=-1,z=-1,Q=0,ie=0,ae=i,se=null;t:for(;;){for(var pe;ae!==u||v!==0&&ae.nodeType!==3||(U=N+v),ae!==w||g!==0&&ae.nodeType!==3||(z=N+g),ae.nodeType===3&&(N+=ae.nodeValue.length),(pe=ae.firstChild)!==null;)se=ae,ae=pe;for(;;){if(ae===i)break t;if(se===u&&++Q===v&&(U=N),se===w&&++ie===g&&(z=N),(pe=ae.nextSibling)!==null)break;ae=se,se=ae.parentNode}ae=pe}u=U===-1||z===-1?null:{start:U,end:z}}else u=null}u=u||{start:0,end:0}}else u=null;for(Eg={focusedElem:i,selectionRange:u},Fs=!1,ye=l;ye!==null;)if(l=ye,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,ye=i;else for(;ye!==null;){l=ye;try{var _e=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var xe=_e.memoizedProps,jt=_e.memoizedState,q=l.stateNode,H=q.getSnapshotBeforeUpdate(l.elementType===l.type?xe:kr(l.type,xe),jt);q.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var Y=l.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(le){Pt(l,l.return,le)}if(i=l.sibling,i!==null){i.return=l.return,ye=i;break}ye=l.return}return _e=_b,_b=!1,_e}function Au(i,l,u){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var v=g=g.next;do{if((v.tag&i)===i){var w=v.destroy;v.destroy=void 0,w!==void 0&&cy(l,u,w)}v=v.next}while(v!==g)}}function df(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&i)===i){var g=u.create;u.destroy=g()}u=u.next}while(u!==l)}}function uy(i){var l=i.ref;if(l!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof l=="function"?l(i):l.current=i}}function wb(i){var l=i.alternate;l!==null&&(i.alternate=null,wb(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[us],delete l[_u],delete l[Cg],delete l[cO],delete l[uO])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function xb(i){return i.tag===5||i.tag===3||i.tag===4}function Eb(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||xb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function dy(i,l,u){var g=i.tag;if(g===5||g===6)i=i.stateNode,l?u.nodeType===8?u.parentNode.insertBefore(i,l):u.insertBefore(i,l):(u.nodeType===8?(l=u.parentNode,l.insertBefore(i,u)):(l=u,l.appendChild(i)),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=Bh));else if(g!==4&&(i=i.child,i!==null))for(dy(i,l,u),i=i.sibling;i!==null;)dy(i,l,u),i=i.sibling}function hy(i,l,u){var g=i.tag;if(g===5||g===6)i=i.stateNode,l?u.insertBefore(i,l):u.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(hy(i,l,u),i=i.sibling;i!==null;)hy(i,l,u),i=i.sibling}var ln=null,Dr=!1;function Hi(i,l,u){for(u=u.child;u!==null;)bb(i,l,u),u=u.sibling}function bb(i,l,u){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(Ko,u)}catch{}switch(u.tag){case 5:wn||jl(u,l);case 6:var g=ln,v=Dr;ln=null,Hi(i,l,u),ln=g,Dr=v,ln!==null&&(Dr?(i=ln,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):ln.removeChild(u.stateNode));break;case 18:ln!==null&&(Dr?(i=ln,u=u.stateNode,i.nodeType===8?Sg(i.parentNode,u):i.nodeType===1&&Sg(i,u),ji(i)):Sg(ln,u.stateNode));break;case 4:g=ln,v=Dr,ln=u.stateNode.containerInfo,Dr=!0,Hi(i,l,u),ln=g,Dr=v;break;case 0:case 11:case 14:case 15:if(!wn&&(g=u.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){v=g=g.next;do{var w=v,N=w.destroy;w=w.tag,N!==void 0&&((w&2)!==0||(w&4)!==0)&&cy(u,l,N),v=v.next}while(v!==g)}Hi(i,l,u);break;case 1:if(!wn&&(jl(u,l),g=u.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=u.memoizedProps,g.state=u.memoizedState,g.componentWillUnmount()}catch(U){Pt(u,l,U)}Hi(i,l,u);break;case 21:Hi(i,l,u);break;case 22:u.mode&1?(wn=(g=wn)||u.memoizedState!==null,Hi(i,l,u),wn=g):Hi(i,l,u);break;default:Hi(i,l,u)}}function Tb(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new CO),l.forEach(function(g){var v=OO.bind(null,i,g);u.has(g)||(u.add(g),g.then(v,v))})}}function Mr(i,l){var u=l.deletions;if(u!==null)for(var g=0;g<u.length;g++){var v=u[g];try{var w=i,N=l,U=N;e:for(;U!==null;){switch(U.tag){case 5:ln=U.stateNode,Dr=!1;break e;case 3:ln=U.stateNode.containerInfo,Dr=!0;break e;case 4:ln=U.stateNode.containerInfo,Dr=!0;break e}U=U.return}if(ln===null)throw Error(n(160));bb(w,N,v),ln=null,Dr=!1;var z=v.alternate;z!==null&&(z.return=null),v.return=null}catch(Q){Pt(v,l,Q)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Sb(l,i),l=l.sibling}function Sb(i,l){var u=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Mr(l,i),fs(i),g&4){try{Au(3,i,i.return),df(3,i)}catch(xe){Pt(i,i.return,xe)}try{Au(5,i,i.return)}catch(xe){Pt(i,i.return,xe)}}break;case 1:Mr(l,i),fs(i),g&512&&u!==null&&jl(u,u.return);break;case 5:if(Mr(l,i),fs(i),g&512&&u!==null&&jl(u,u.return),i.flags&32){var v=i.stateNode;try{$o(v,"")}catch(xe){Pt(i,i.return,xe)}}if(g&4&&(v=i.stateNode,v!=null)){var w=i.memoizedProps,N=u!==null?u.memoizedProps:w,U=i.type,z=i.updateQueue;if(i.updateQueue=null,z!==null)try{U==="input"&&w.type==="radio"&&w.name!=null&&lr(v,w),nl(U,N);var Q=nl(U,w);for(N=0;N<z.length;N+=2){var ie=z[N],ae=z[N+1];ie==="style"?tl(v,ae):ie==="dangerouslySetInnerHTML"?ph(v,ae):ie==="children"?$o(v,ae):j(v,ie,ae,Q)}switch(U){case"input":Kn(v,w);break;case"textarea":fh(v,w);break;case"select":var se=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!w.multiple;var pe=w.value;pe!=null?Cr(v,!!w.multiple,pe,!1):se!==!!w.multiple&&(w.defaultValue!=null?Cr(v,!!w.multiple,w.defaultValue,!0):Cr(v,!!w.multiple,w.multiple?[]:"",!1))}v[_u]=w}catch(xe){Pt(i,i.return,xe)}}break;case 6:if(Mr(l,i),fs(i),g&4){if(i.stateNode===null)throw Error(n(162));v=i.stateNode,w=i.memoizedProps;try{v.nodeValue=w}catch(xe){Pt(i,i.return,xe)}}break;case 3:if(Mr(l,i),fs(i),g&4&&u!==null&&u.memoizedState.isDehydrated)try{ji(l.containerInfo)}catch(xe){Pt(i,i.return,xe)}break;case 4:Mr(l,i),fs(i);break;case 13:Mr(l,i),fs(i),v=i.child,v.flags&8192&&(w=v.memoizedState!==null,v.stateNode.isHidden=w,!w||v.alternate!==null&&v.alternate.memoizedState!==null||(my=pt())),g&4&&Tb(i);break;case 22:if(ie=u!==null&&u.memoizedState!==null,i.mode&1?(wn=(Q=wn)||ie,Mr(l,i),wn=Q):Mr(l,i),fs(i),g&8192){if(Q=i.memoizedState!==null,(i.stateNode.isHidden=Q)&&!ie&&(i.mode&1)!==0)for(ye=i,ie=i.child;ie!==null;){for(ae=ye=ie;ye!==null;){switch(se=ye,pe=se.child,se.tag){case 0:case 11:case 14:case 15:Au(4,se,se.return);break;case 1:jl(se,se.return);var _e=se.stateNode;if(typeof _e.componentWillUnmount=="function"){g=se,u=se.return;try{l=g,_e.props=l.memoizedProps,_e.state=l.memoizedState,_e.componentWillUnmount()}catch(xe){Pt(g,u,xe)}}break;case 5:jl(se,se.return);break;case 22:if(se.memoizedState!==null){Nb(ae);continue}}pe!==null?(pe.return=se,ye=pe):Nb(ae)}ie=ie.sibling}e:for(ie=null,ae=i;;){if(ae.tag===5){if(ie===null){ie=ae;try{v=ae.stateNode,Q?(w=v.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(U=ae.stateNode,z=ae.memoizedProps.style,N=z!=null&&z.hasOwnProperty("display")?z.display:null,U.style.display=Ci("display",N))}catch(xe){Pt(i,i.return,xe)}}}else if(ae.tag===6){if(ie===null)try{ae.stateNode.nodeValue=Q?"":ae.memoizedProps}catch(xe){Pt(i,i.return,xe)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===i)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===i)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===i)break e;ie===ae&&(ie=null),ae=ae.return}ie===ae&&(ie=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Mr(l,i),fs(i),g&4&&Tb(i);break;case 21:break;default:Mr(l,i),fs(i)}}function fs(i){var l=i.flags;if(l&2){try{e:{for(var u=i.return;u!==null;){if(xb(u)){var g=u;break e}u=u.return}throw Error(n(160))}switch(g.tag){case 5:var v=g.stateNode;g.flags&32&&($o(v,""),g.flags&=-33);var w=Eb(i);hy(i,w,v);break;case 3:case 4:var N=g.stateNode.containerInfo,U=Eb(i);dy(i,U,N);break;default:throw Error(n(161))}}catch(z){Pt(i,i.return,z)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function NO(i,l,u){ye=i,Cb(i)}function Cb(i,l,u){for(var g=(i.mode&1)!==0;ye!==null;){var v=ye,w=v.child;if(v.tag===22&&g){var N=v.memoizedState!==null||uf;if(!N){var U=v.alternate,z=U!==null&&U.memoizedState!==null||wn;U=uf;var Q=wn;if(uf=N,(wn=z)&&!Q)for(ye=v;ye!==null;)N=ye,z=N.child,N.tag===22&&N.memoizedState!==null?Rb(v):z!==null?(z.return=N,ye=z):Rb(v);for(;w!==null;)ye=w,Cb(w),w=w.sibling;ye=v,uf=U,wn=Q}Ib(i)}else(v.subtreeFlags&8772)!==0&&w!==null?(w.return=v,ye=w):Ib(i)}}function Ib(i){for(;ye!==null;){var l=ye;if((l.flags&8772)!==0){var u=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:wn||df(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!wn)if(u===null)g.componentDidMount();else{var v=l.elementType===l.type?u.memoizedProps:kr(l.type,u.memoizedProps);g.componentDidUpdate(v,u.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var w=l.updateQueue;w!==null&&NE(l,w,g);break;case 3:var N=l.updateQueue;if(N!==null){if(u=null,l.child!==null)switch(l.child.tag){case 5:u=l.child.stateNode;break;case 1:u=l.child.stateNode}NE(l,N,u)}break;case 5:var U=l.stateNode;if(u===null&&l.flags&4){u=U;var z=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&u.focus();break;case"img":z.src&&(u.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Q=l.alternate;if(Q!==null){var ie=Q.memoizedState;if(ie!==null){var ae=ie.dehydrated;ae!==null&&ji(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}wn||l.flags&512&&uy(l)}catch(se){Pt(l,l.return,se)}}if(l===i){ye=null;break}if(u=l.sibling,u!==null){u.return=l.return,ye=u;break}ye=l.return}}function Nb(i){for(;ye!==null;){var l=ye;if(l===i){ye=null;break}var u=l.sibling;if(u!==null){u.return=l.return,ye=u;break}ye=l.return}}function Rb(i){for(;ye!==null;){var l=ye;try{switch(l.tag){case 0:case 11:case 15:var u=l.return;try{df(4,l)}catch(z){Pt(l,u,z)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var v=l.return;try{g.componentDidMount()}catch(z){Pt(l,v,z)}}var w=l.return;try{uy(l)}catch(z){Pt(l,w,z)}break;case 5:var N=l.return;try{uy(l)}catch(z){Pt(l,N,z)}}}catch(z){Pt(l,l.return,z)}if(l===i){ye=null;break}var U=l.sibling;if(U!==null){U.return=l.return,ye=U;break}ye=l.return}}var RO=Math.ceil,hf=W.ReactCurrentDispatcher,fy=W.ReactCurrentOwner,mr=W.ReactCurrentBatchConfig,nt=0,Qt=null,Ft=null,cn=0,rr=0,Ol=Ui(0),Ht=0,Pu=null,ua=0,ff=0,py=0,ku=null,Un=null,my=0,Ll=1/0,Ys=null,pf=!1,gy=null,Gi=null,mf=!1,qi=null,gf=0,Du=0,yy=null,yf=-1,vf=0;function Pn(){return(nt&6)!==0?pt():yf!==-1?yf:yf=pt()}function Ki(i){return(i.mode&1)===0?1:(nt&2)!==0&&cn!==0?cn&-cn:hO.transition!==null?(vf===0&&(vf=eu()),vf):(i=Qe,i!==0||(i=window.event,i=i===void 0?16:hl(i.type)),i)}function jr(i,l,u,g){if(50<Du)throw Du=0,yy=null,Error(n(185));Jo(i,u,g),((nt&2)===0||i!==Qt)&&(i===Qt&&((nt&2)===0&&(ff|=u),Ht===4&&Yi(i,cn)),Bn(i,g),u===1&&nt===0&&(l.mode&1)===0&&(Ll=pt()+500,Hh&&zi()))}function Bn(i,l){var u=i.callbackNode;Xo(i,l);var g=Os(i,i===Qt?cn:0);if(g===0)u!==null&&il(u),i.callbackNode=null,i.callbackPriority=0;else if(l=g&-g,i.callbackPriority!==l){if(u!=null&&il(u),l===1)i.tag===0?dO(Pb.bind(null,i)):gE(Pb.bind(null,i)),aO(function(){(nt&6)===0&&zi()}),u=null;else{switch(es(g)){case 1:u=ol;break;case 4:u=Xc;break;case 16:u=qo;break;case 536870912:u=al;break;default:u=qo}u=Fb(u,Ab.bind(null,i))}i.callbackPriority=l,i.callbackNode=u}}function Ab(i,l){if(yf=-1,vf=0,(nt&6)!==0)throw Error(n(327));var u=i.callbackNode;if(Vl()&&i.callbackNode!==u)return null;var g=Os(i,i===Qt?cn:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||l)l=_f(i,g);else{l=g;var v=nt;nt|=2;var w=Db();(Qt!==i||cn!==l)&&(Ys=null,Ll=pt()+500,ha(i,l));do try{kO();break}catch(U){kb(i,U)}while(!0);jg(),hf.current=w,nt=v,Ft!==null?l=0:(Qt=null,cn=0,l=Ht)}if(l!==0){if(l===2&&(v=Zc(i),v!==0&&(g=v,l=vy(i,v))),l===1)throw u=Pu,ha(i,0),Yi(i,g),Bn(i,pt()),u;if(l===6)Yi(i,g);else{if(v=i.current.alternate,(g&30)===0&&!AO(v)&&(l=_f(i,g),l===2&&(w=Zc(i),w!==0&&(g=w,l=vy(i,w))),l===1))throw u=Pu,ha(i,0),Yi(i,g),Bn(i,pt()),u;switch(i.finishedWork=v,i.finishedLanes=g,l){case 0:case 1:throw Error(n(345));case 2:fa(i,Un,Ys);break;case 3:if(Yi(i,g),(g&130023424)===g&&(l=my+500-pt(),10<l)){if(Os(i,0)!==0)break;if(v=i.suspendedLanes,(v&g)!==g){Pn(),i.pingedLanes|=i.suspendedLanes&v;break}i.timeoutHandle=Tg(fa.bind(null,i,Un,Ys),l);break}fa(i,Un,Ys);break;case 4:if(Yi(i,g),(g&4194240)===g)break;for(l=i.eventTimes,v=-1;0<g;){var N=31-Qn(g);w=1<<N,N=l[N],N>v&&(v=N),g&=~w}if(g=v,g=pt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*RO(g/1960))-g,10<g){i.timeoutHandle=Tg(fa.bind(null,i,Un,Ys),g);break}fa(i,Un,Ys);break;case 5:fa(i,Un,Ys);break;default:throw Error(n(329))}}}return Bn(i,pt()),i.callbackNode===u?Ab.bind(null,i):null}function vy(i,l){var u=ku;return i.current.memoizedState.isDehydrated&&(ha(i,l).flags|=256),i=_f(i,l),i!==2&&(l=Un,Un=u,l!==null&&_y(l)),i}function _y(i){Un===null?Un=i:Un.push.apply(Un,i)}function AO(i){for(var l=i;;){if(l.flags&16384){var u=l.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var g=0;g<u.length;g++){var v=u[g],w=v.getSnapshot;v=v.value;try{if(!Ar(w(),v))return!1}catch{return!1}}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Yi(i,l){for(l&=~py,l&=~ff,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var u=31-Qn(l),g=1<<u;i[u]=-1,l&=~g}}function Pb(i){if((nt&6)!==0)throw Error(n(327));Vl();var l=Os(i,0);if((l&1)===0)return Bn(i,pt()),null;var u=_f(i,l);if(i.tag!==0&&u===2){var g=Zc(i);g!==0&&(l=g,u=vy(i,g))}if(u===1)throw u=Pu,ha(i,0),Yi(i,l),Bn(i,pt()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,fa(i,Un,Ys),Bn(i,pt()),null}function wy(i,l){var u=nt;nt|=1;try{return i(l)}finally{nt=u,nt===0&&(Ll=pt()+500,Hh&&zi())}}function da(i){qi!==null&&qi.tag===0&&(nt&6)===0&&Vl();var l=nt;nt|=1;var u=mr.transition,g=Qe;try{if(mr.transition=null,Qe=1,i)return i()}finally{Qe=g,mr.transition=u,nt=l,(nt&6)===0&&zi()}}function xy(){rr=Ol.current,gt(Ol)}function ha(i,l){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,oO(u)),Ft!==null)for(u=Ft.return;u!==null;){var g=u;switch(Ag(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&$h();break;case 3:Dl(),gt(Ln),gt(yn),$g();break;case 5:Bg(g);break;case 4:Dl();break;case 13:gt(bt);break;case 19:gt(bt);break;case 10:Og(g.type._context);break;case 22:case 23:xy()}u=u.return}if(Qt=i,Ft=i=Qi(i.current,null),cn=rr=l,Ht=0,Pu=null,py=ff=ua=0,Un=ku=null,aa!==null){for(l=0;l<aa.length;l++)if(u=aa[l],g=u.interleaved,g!==null){u.interleaved=null;var v=g.next,w=u.pending;if(w!==null){var N=w.next;w.next=v,g.next=N}u.pending=g}aa=null}return i}function kb(i,l){do{var u=Ft;try{if(jg(),tf.current=of,nf){for(var g=Tt.memoizedState;g!==null;){var v=g.queue;v!==null&&(v.pending=null),g=g.next}nf=!1}if(ca=0,Yt=Wt=Tt=null,Su=!1,Cu=0,fy.current=null,u===null||u.return===null){Ht=1,Pu=l,Ft=null;break}e:{var w=i,N=u.return,U=u,z=l;if(l=cn,U.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var Q=z,ie=U,ae=ie.tag;if((ie.mode&1)===0&&(ae===0||ae===11||ae===15)){var se=ie.alternate;se?(ie.updateQueue=se.updateQueue,ie.memoizedState=se.memoizedState,ie.lanes=se.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var pe=rb(N);if(pe!==null){pe.flags&=-257,sb(pe,N,U,w,l),pe.mode&1&&nb(w,Q,l),l=pe,z=Q;var _e=l.updateQueue;if(_e===null){var xe=new Set;xe.add(z),l.updateQueue=xe}else _e.add(z);break e}else{if((l&1)===0){nb(w,Q,l),Ey();break e}z=Error(n(426))}}else if(Et&&U.mode&1){var jt=rb(N);if(jt!==null){(jt.flags&65536)===0&&(jt.flags|=256),sb(jt,N,U,w,l),Dg(Ml(z,U));break e}}w=z=Ml(z,U),Ht!==4&&(Ht=2),ku===null?ku=[w]:ku.push(w),w=N;do{switch(w.tag){case 3:w.flags|=65536,l&=-l,w.lanes|=l;var q=eb(w,z,l);IE(w,q);break e;case 1:U=z;var H=w.type,Y=w.stateNode;if((w.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(Gi===null||!Gi.has(Y)))){w.flags|=65536,l&=-l,w.lanes|=l;var le=tb(w,U,l);IE(w,le);break e}}w=w.return}while(w!==null)}jb(u)}catch(be){l=be,Ft===u&&u!==null&&(Ft=u=u.return);continue}break}while(!0)}function Db(){var i=hf.current;return hf.current=of,i===null?of:i}function Ey(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),Qt===null||(ua&268435455)===0&&(ff&268435455)===0||Yi(Qt,cn)}function _f(i,l){var u=nt;nt|=2;var g=Db();(Qt!==i||cn!==l)&&(Ys=null,ha(i,l));do try{PO();break}catch(v){kb(i,v)}while(!0);if(jg(),nt=u,hf.current=g,Ft!==null)throw Error(n(261));return Qt=null,cn=0,Ht}function PO(){for(;Ft!==null;)Mb(Ft)}function kO(){for(;Ft!==null&&!Go();)Mb(Ft)}function Mb(i){var l=Vb(i.alternate,i,rr);i.memoizedProps=i.pendingProps,l===null?jb(i):Ft=l,fy.current=null}function jb(i){var l=i;do{var u=l.alternate;if(i=l.return,(l.flags&32768)===0){if(u=TO(u,l,rr),u!==null){Ft=u;return}}else{if(u=SO(u,l),u!==null){u.flags&=32767,Ft=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Ht=6,Ft=null;return}}if(l=l.sibling,l!==null){Ft=l;return}Ft=l=i}while(l!==null);Ht===0&&(Ht=5)}function fa(i,l,u){var g=Qe,v=mr.transition;try{mr.transition=null,Qe=1,DO(i,l,u,g)}finally{mr.transition=v,Qe=g}return null}function DO(i,l,u,g){do Vl();while(qi!==null);if((nt&6)!==0)throw Error(n(327));u=i.finishedWork;var v=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var w=u.lanes|u.childLanes;if(lg(i,w),i===Qt&&(Ft=Qt=null,cn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||mf||(mf=!0,Fb(qo,function(){return Vl(),null})),w=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||w){w=mr.transition,mr.transition=null;var N=Qe;Qe=1;var U=nt;nt|=4,fy.current=null,IO(i,u),Sb(u,i),Zj(Eg),Fs=!!xg,Eg=xg=null,i.current=u,NO(u),js(),nt=U,Qe=N,mr.transition=w}else i.current=u;if(mf&&(mf=!1,qi=i,gf=v),w=i.pendingLanes,w===0&&(Gi=null),Sh(u.stateNode),Bn(i,pt()),l!==null)for(g=i.onRecoverableError,u=0;u<l.length;u++)v=l[u],g(v.value,{componentStack:v.stack,digest:v.digest});if(pf)throw pf=!1,i=gy,gy=null,i;return(gf&1)!==0&&i.tag!==0&&Vl(),w=i.pendingLanes,(w&1)!==0?i===yy?Du++:(Du=0,yy=i):Du=0,zi(),null}function Vl(){if(qi!==null){var i=es(gf),l=mr.transition,u=Qe;try{if(mr.transition=null,Qe=16>i?16:i,qi===null)var g=!1;else{if(i=qi,qi=null,gf=0,(nt&6)!==0)throw Error(n(331));var v=nt;for(nt|=4,ye=i.current;ye!==null;){var w=ye,N=w.child;if((ye.flags&16)!==0){var U=w.deletions;if(U!==null){for(var z=0;z<U.length;z++){var Q=U[z];for(ye=Q;ye!==null;){var ie=ye;switch(ie.tag){case 0:case 11:case 15:Au(8,ie,w)}var ae=ie.child;if(ae!==null)ae.return=ie,ye=ae;else for(;ye!==null;){ie=ye;var se=ie.sibling,pe=ie.return;if(wb(ie),ie===Q){ye=null;break}if(se!==null){se.return=pe,ye=se;break}ye=pe}}}var _e=w.alternate;if(_e!==null){var xe=_e.child;if(xe!==null){_e.child=null;do{var jt=xe.sibling;xe.sibling=null,xe=jt}while(xe!==null)}}ye=w}}if((w.subtreeFlags&2064)!==0&&N!==null)N.return=w,ye=N;else e:for(;ye!==null;){if(w=ye,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Au(9,w,w.return)}var q=w.sibling;if(q!==null){q.return=w.return,ye=q;break e}ye=w.return}}var H=i.current;for(ye=H;ye!==null;){N=ye;var Y=N.child;if((N.subtreeFlags&2064)!==0&&Y!==null)Y.return=N,ye=Y;else e:for(N=H;ye!==null;){if(U=ye,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:df(9,U)}}catch(be){Pt(U,U.return,be)}if(U===N){ye=null;break e}var le=U.sibling;if(le!==null){le.return=U.return,ye=le;break e}ye=U.return}}if(nt=v,zi(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(Ko,i)}catch{}g=!0}return g}finally{Qe=u,mr.transition=l}}return!1}function Ob(i,l,u){l=Ml(u,l),l=eb(i,l,1),i=Wi(i,l,1),l=Pn(),i!==null&&(Jo(i,1,l),Bn(i,l))}function Pt(i,l,u){if(i.tag===3)Ob(i,i,u);else for(;l!==null;){if(l.tag===3){Ob(l,i,u);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Gi===null||!Gi.has(g))){i=Ml(u,i),i=tb(l,i,1),l=Wi(l,i,1),i=Pn(),l!==null&&(Jo(l,1,i),Bn(l,i));break}}l=l.return}}function MO(i,l,u){var g=i.pingCache;g!==null&&g.delete(l),l=Pn(),i.pingedLanes|=i.suspendedLanes&u,Qt===i&&(cn&u)===u&&(Ht===4||Ht===3&&(cn&130023424)===cn&&500>pt()-my?ha(i,0):py|=u),Bn(i,l)}function Lb(i,l){l===0&&((i.mode&1)===0?l=1:(l=ki,ki<<=1,(ki&130023424)===0&&(ki=4194304)));var u=Pn();i=Gs(i,l),i!==null&&(Jo(i,l,u),Bn(i,u))}function jO(i){var l=i.memoizedState,u=0;l!==null&&(u=l.retryLane),Lb(i,u)}function OO(i,l){var u=0;switch(i.tag){case 13:var g=i.stateNode,v=i.memoizedState;v!==null&&(u=v.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(l),Lb(i,u)}var Vb;Vb=function(i,l,u){if(i!==null)if(i.memoizedProps!==l.pendingProps||Ln.current)Fn=!0;else{if((i.lanes&u)===0&&(l.flags&128)===0)return Fn=!1,bO(i,l,u);Fn=(i.flags&131072)!==0}else Fn=!1,Et&&(l.flags&1048576)!==0&&yE(l,qh,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;cf(i,l),i=l.pendingProps;var v=Cl(l,yn.current);kl(l,u),v=Gg(null,l,g,i,v,u);var w=qg();return l.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Vn(g)?(w=!0,Wh(l)):w=!1,l.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Fg(l),v.updater=af,l.stateNode=v,v._reactInternals=l,Zg(l,g,i,u),l=ry(null,l,g,!0,w,u)):(l.tag=0,Et&&w&&Rg(l),An(null,l,v,u),l=l.child),l;case 16:g=l.elementType;e:{switch(cf(i,l),i=l.pendingProps,v=g._init,g=v(g._payload),l.type=g,v=l.tag=VO(g),i=kr(g,i),v){case 0:l=ny(null,l,g,i,u);break e;case 1:l=ub(null,l,g,i,u);break e;case 11:l=ib(null,l,g,i,u);break e;case 14:l=ob(null,l,g,kr(g.type,i),u);break e}throw Error(n(306,g,""))}return l;case 0:return g=l.type,v=l.pendingProps,v=l.elementType===g?v:kr(g,v),ny(i,l,g,v,u);case 1:return g=l.type,v=l.pendingProps,v=l.elementType===g?v:kr(g,v),ub(i,l,g,v,u);case 3:e:{if(db(l),i===null)throw Error(n(387));g=l.pendingProps,w=l.memoizedState,v=w.element,CE(i,l),Zh(l,g,null,u);var N=l.memoizedState;if(g=N.element,w.isDehydrated)if(w={element:g,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){v=Ml(Error(n(423)),l),l=hb(i,l,g,u,v);break e}else if(g!==v){v=Ml(Error(n(424)),l),l=hb(i,l,g,u,v);break e}else for(nr=Fi(l.stateNode.containerInfo.firstChild),tr=l,Et=!0,Pr=null,u=TE(l,null,g,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Rl(),g===v){l=Ks(i,l,u);break e}An(i,l,g,u)}l=l.child}return l;case 5:return RE(l),i===null&&kg(l),g=l.type,v=l.pendingProps,w=i!==null?i.memoizedProps:null,N=v.children,bg(g,v)?N=null:w!==null&&bg(g,w)&&(l.flags|=32),cb(i,l),An(i,l,N,u),l.child;case 6:return i===null&&kg(l),null;case 13:return fb(i,l,u);case 4:return Ug(l,l.stateNode.containerInfo),g=l.pendingProps,i===null?l.child=Al(l,null,g,u):An(i,l,g,u),l.child;case 11:return g=l.type,v=l.pendingProps,v=l.elementType===g?v:kr(g,v),ib(i,l,g,v,u);case 7:return An(i,l,l.pendingProps,u),l.child;case 8:return An(i,l,l.pendingProps.children,u),l.child;case 12:return An(i,l,l.pendingProps.children,u),l.child;case 10:e:{if(g=l.type._context,v=l.pendingProps,w=l.memoizedProps,N=v.value,ht(Qh,g._currentValue),g._currentValue=N,w!==null)if(Ar(w.value,N)){if(w.children===v.children&&!Ln.current){l=Ks(i,l,u);break e}}else for(w=l.child,w!==null&&(w.return=l);w!==null;){var U=w.dependencies;if(U!==null){N=w.child;for(var z=U.firstContext;z!==null;){if(z.context===g){if(w.tag===1){z=qs(-1,u&-u),z.tag=2;var Q=w.updateQueue;if(Q!==null){Q=Q.shared;var ie=Q.pending;ie===null?z.next=z:(z.next=ie.next,ie.next=z),Q.pending=z}}w.lanes|=u,z=w.alternate,z!==null&&(z.lanes|=u),Lg(w.return,u,l),U.lanes|=u;break}z=z.next}}else if(w.tag===10)N=w.type===l.type?null:w.child;else if(w.tag===18){if(N=w.return,N===null)throw Error(n(341));N.lanes|=u,U=N.alternate,U!==null&&(U.lanes|=u),Lg(N,u,l),N=w.sibling}else N=w.child;if(N!==null)N.return=w;else for(N=w;N!==null;){if(N===l){N=null;break}if(w=N.sibling,w!==null){w.return=N.return,N=w;break}N=N.return}w=N}An(i,l,v.children,u),l=l.child}return l;case 9:return v=l.type,g=l.pendingProps.children,kl(l,u),v=fr(v),g=g(v),l.flags|=1,An(i,l,g,u),l.child;case 14:return g=l.type,v=kr(g,l.pendingProps),v=kr(g.type,v),ob(i,l,g,v,u);case 15:return ab(i,l,l.type,l.pendingProps,u);case 17:return g=l.type,v=l.pendingProps,v=l.elementType===g?v:kr(g,v),cf(i,l),l.tag=1,Vn(g)?(i=!0,Wh(l)):i=!1,kl(l,u),JE(l,g,v),Zg(l,g,v,u),ry(null,l,g,!0,i,u);case 19:return mb(i,l,u);case 22:return lb(i,l,u)}throw Error(n(156,l.tag))};function Fb(i,l){return Qc(i,l)}function LO(i,l,u,g){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(i,l,u,g){return new LO(i,l,u,g)}function by(i){return i=i.prototype,!(!i||!i.isReactComponent)}function VO(i){if(typeof i=="function")return by(i)?1:0;if(i!=null){if(i=i.$$typeof,i===B)return 11;if(i===Ce)return 14}return 2}function Qi(i,l){var u=i.alternate;return u===null?(u=gr(i.tag,l,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=l,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,l=i.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function wf(i,l,u,g,v,w){var N=2;if(g=i,typeof i=="function")by(i)&&(N=1);else if(typeof i=="string")N=5;else e:switch(i){case D:return pa(u.children,v,w,l);case R:N=8,v|=8;break;case k:return i=gr(12,u,l,v|2),i.elementType=k,i.lanes=w,i;case L:return i=gr(13,u,l,v),i.elementType=L,i.lanes=w,i;case ge:return i=gr(19,u,l,v),i.elementType=ge,i.lanes=w,i;case he:return xf(u,v,w,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:N=10;break e;case F:N=9;break e;case B:N=11;break e;case Ce:N=14;break e;case ve:N=16,g=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return l=gr(N,u,l,v),l.elementType=i,l.type=g,l.lanes=w,l}function pa(i,l,u,g){return i=gr(7,i,g,l),i.lanes=u,i}function xf(i,l,u,g){return i=gr(22,i,g,l),i.elementType=he,i.lanes=u,i.stateNode={isHidden:!1},i}function Ty(i,l,u){return i=gr(6,i,null,l),i.lanes=u,i}function Sy(i,l,u){return l=gr(4,i.children!==null?i.children:[],i.key,l),l.lanes=u,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function FO(i,l,u,g,v){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tu(0),this.expirationTimes=tu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tu(0),this.identifierPrefix=g,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Cy(i,l,u,g,v,w,N,U,z){return i=new FO(i,l,u,U,z),l===1?(l=1,w===!0&&(l|=8)):l=0,w=gr(3,null,null,l),i.current=w,w.stateNode=i,w.memoizedState={element:g,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fg(w),i}function UO(i,l,u){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:g==null?null:""+g,children:i,containerInfo:l,implementation:u}}function Ub(i){if(!i)return Bi;i=i._reactInternals;e:{if(Nr(i)!==i||i.tag!==1)throw Error(n(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Vn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(Vn(u))return pE(i,u,l)}return l}function Bb(i,l,u,g,v,w,N,U,z){return i=Cy(u,g,!0,i,v,w,N,U,z),i.context=Ub(null),u=i.current,g=Pn(),v=Ki(u),w=qs(g,v),w.callback=l??null,Wi(u,w,v),i.current.lanes=v,Jo(i,v,g),Bn(i,g),i}function Ef(i,l,u,g){var v=l.current,w=Pn(),N=Ki(v);return u=Ub(u),l.context===null?l.context=u:l.pendingContext=u,l=qs(w,N),l.payload={element:i},g=g===void 0?null:g,g!==null&&(l.callback=g),i=Wi(v,l,N),i!==null&&(jr(i,v,N,w),Jh(i,v,N)),N}function bf(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function zb(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<l?u:l}}function Iy(i,l){zb(i,l),(i=i.alternate)&&zb(i,l)}function BO(){return null}var $b=typeof reportError=="function"?reportError:function(i){console.error(i)};function Ny(i){this._internalRoot=i}Tf.prototype.render=Ny.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(n(409));Ef(i,l,null,null)},Tf.prototype.unmount=Ny.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;da(function(){Ef(null,i,null,null)}),l[zs]=null}};function Tf(i){this._internalRoot=i}Tf.prototype.unstable_scheduleHydration=function(i){if(i){var l=iu();i={blockedOn:null,target:i,priority:l};for(var u=0;u<Xn.length&&l!==0&&l<Xn[u].priority;u++);Xn.splice(u,0,i),u===0&&ul(i)}};function Ry(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Sf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Wb(){}function zO(i,l,u,g,v){if(v){if(typeof g=="function"){var w=g;g=function(){var Q=bf(N);w.call(Q)}}var N=Bb(l,g,i,0,null,!1,!1,"",Wb);return i._reactRootContainer=N,i[zs]=N.current,yu(i.nodeType===8?i.parentNode:i),da(),N}for(;v=i.lastChild;)i.removeChild(v);if(typeof g=="function"){var U=g;g=function(){var Q=bf(z);U.call(Q)}}var z=Cy(i,0,!1,null,null,!1,!1,"",Wb);return i._reactRootContainer=z,i[zs]=z.current,yu(i.nodeType===8?i.parentNode:i),da(function(){Ef(l,z,u,g)}),z}function Cf(i,l,u,g,v){var w=u._reactRootContainer;if(w){var N=w;if(typeof v=="function"){var U=v;v=function(){var z=bf(N);U.call(z)}}Ef(l,N,i,v)}else N=zO(u,l,i,v,g);return bf(N)}ru=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var u=st(l.pendingLanes);u!==0&&(nu(l,u|1),Bn(l,pt()),(nt&6)===0&&(Ll=pt()+500,zi()))}break;case 13:da(function(){var g=Gs(i,1);if(g!==null){var v=Pn();jr(g,i,1,v)}}),Iy(i,1)}},ll=function(i){if(i.tag===13){var l=Gs(i,134217728);if(l!==null){var u=Pn();jr(l,i,134217728,u)}Iy(i,134217728)}},su=function(i){if(i.tag===13){var l=Ki(i),u=Gs(i,l);if(u!==null){var g=Pn();jr(u,i,l,g)}Iy(i,l)}},iu=function(){return Qe},ou=function(i,l){var u=Qe;try{return Qe=i,l()}finally{Qe=u}},ks=function(i,l,u){switch(l){case"input":if(Kn(i,u),l=u.name,u.type==="radio"&&l!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<u.length;l++){var g=u[l];if(g!==i&&g.form===i.form){var v=zh(g);if(!v)throw Error(n(90));Je(g),Kn(g,v)}}}break;case"textarea":fh(i,u);break;case"select":l=u.value,l!=null&&Cr(i,!!u.multiple,l,!1)}},gh=wy,yh=da;var $O={usingClientEntryPoint:!1,Events:[wu,Tl,zh,Ni,Ri,wy]},Mu={findFiberByHostInstance:ra,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WO={bundleType:Mu.bundleType,version:Mu.version,rendererPackageName:Mu.rendererPackageName,rendererConfig:Mu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Th(i),i===null?null:i.stateNode},findFiberByHostInstance:Mu.findFiberByHostInstance||BO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var If=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!If.isDisabled&&If.supportsFiber)try{Ko=If.inject(WO),Yn=If}catch{}}return zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$O,zn.createPortal=function(i,l){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ry(l))throw Error(n(200));return UO(i,l,null,u)},zn.createRoot=function(i,l){if(!Ry(i))throw Error(n(299));var u=!1,g="",v=$b;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(v=l.onRecoverableError)),l=Cy(i,1,!1,null,null,u,!1,g,v),i[zs]=l.current,yu(i.nodeType===8?i.parentNode:i),new Ny(l)},zn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Th(l),i=i===null?null:i.stateNode,i},zn.flushSync=function(i){return da(i)},zn.hydrate=function(i,l,u){if(!Sf(l))throw Error(n(200));return Cf(null,i,l,!0,u)},zn.hydrateRoot=function(i,l,u){if(!Ry(i))throw Error(n(405));var g=u!=null&&u.hydratedSources||null,v=!1,w="",N=$b;if(u!=null&&(u.unstable_strictMode===!0&&(v=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(N=u.onRecoverableError)),l=Bb(l,null,i,1,u??null,v,!1,w,N),i[zs]=l.current,yu(i),g)for(i=0;i<g.length;i++)u=g[i],v=u._getVersion,v=v(u._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[u,v]:l.mutableSourceEagerHydrationData.push(u,v);return new Tf(l)},zn.render=function(i,l,u){if(!Sf(l))throw Error(n(200));return Cf(null,i,l,!1,u)},zn.unmountComponentAtNode=function(i){if(!Sf(i))throw Error(n(40));return i._reactRootContainer?(da(function(){Cf(null,null,i,!1,function(){i._reactRootContainer=null,i[zs]=null})}),!0):!1},zn.unstable_batchedUpdates=wy,zn.unstable_renderSubtreeIntoContainer=function(i,l,u,g){if(!Sf(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Cf(i,l,u,!1,g)},zn.version="18.3.1-next-f1338f8080-20240426",zn}var Jb;function cI(){if(Jb)return ky.exports;Jb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ky.exports=JO(),ky.exports}var Zb;function ZO(){if(Zb)return Nf;Zb=1;var t=cI();return Nf.createRoot=t.createRoot,Nf.hydrateRoot=t.hydrateRoot,Nf}var eL=ZO();const tL=n_(eL);var zd=cI();const nL=n_(zd);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function md(){return md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},md.apply(this,arguments)}var ao;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ao||(ao={}));const eT="popstate";function rL(t){t===void 0&&(t={});function e(r,s){let{pathname:o,search:a,hash:c}=r.location;return Nv("",{pathname:o,search:a,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:fp(s)}return iL(e,n,null,t)}function zt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function uI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sL(){return Math.random().toString(36).substr(2,8)}function tT(t,e){return{usr:t.state,key:t.key,idx:e}}function Nv(t,e,n,r){return n===void 0&&(n=null),md({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Sc(e):e,{state:n,key:e&&e.key||r||sL()})}function fp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Sc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function iL(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,a=s.history,c=ao.Pop,d=null,f=m();f==null&&(f=0,a.replaceState(md({},a.state,{idx:f}),""));function m(){return(a.state||{idx:null}).idx}function y(){c=ao.Pop;let C=m(),A=C==null?null:C-f;f=C,d&&d({action:c,location:S.location,delta:A})}function _(C,A){c=ao.Push;let M=Nv(S.location,C,A);f=m()+1;let j=tT(M,f),W=S.createHref(M);try{a.pushState(j,"",W)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;s.location.assign(W)}o&&d&&d({action:c,location:S.location,delta:1})}function b(C,A){c=ao.Replace;let M=Nv(S.location,C,A);f=m();let j=tT(M,f),W=S.createHref(M);a.replaceState(j,"",W),o&&d&&d({action:c,location:S.location,delta:0})}function I(C){let A=s.location.origin!=="null"?s.location.origin:s.location.href,M=typeof C=="string"?C:fp(C);return M=M.replace(/ $/,"%20"),zt(A,"No window.location.(origin|href) available to create URL for href: "+M),new URL(M,A)}let S={get action(){return c},get location(){return t(s,a)},listen(C){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(eT,y),d=C,()=>{s.removeEventListener(eT,y),d=null}},createHref(C){return e(s,C)},createURL:I,encodeLocation(C){let A=I(C);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:_,replace:b,go(C){return a.go(C)}};return S}var nT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(nT||(nT={}));function oL(t,e,n){return n===void 0&&(n="/"),aL(t,e,n)}function aL(t,e,n,r){let s=typeof e=="string"?Sc(e):e,o=s_(s.pathname||"/",n);if(o==null)return null;let a=dI(t);lL(a);let c=null;for(let d=0;c==null&&d<a.length;++d){let f=wL(o);c=yL(a[d],f)}return c}function dI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,a,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};d.relativePath.startsWith("/")&&(zt(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let f=co([r,d.relativePath]),m=n.concat(d);o.children&&o.children.length>0&&(zt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),dI(o.children,e,m,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:mL(f,o.index),routesMeta:m})};return t.forEach((o,a)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,a);else for(let d of hI(o.path))s(o,a,d)}),e}function hI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let a=hI(r.join("/")),c=[];return c.push(...a.map(d=>d===""?o:[o,d].join("/"))),s&&c.push(...a),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function lL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const cL=/^:[\w-]+$/,uL=3,dL=2,hL=1,fL=10,pL=-2,rT=t=>t==="*";function mL(t,e){let n=t.split("/"),r=n.length;return n.some(rT)&&(r+=pL),e&&(r+=dL),n.filter(s=>!rT(s)).reduce((s,o)=>s+(cL.test(o)?uL:o===""?hL:fL),r)}function gL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function yL(t,e,n){let{routesMeta:r}=t,s={},o="/",a=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=vL({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),_=d.route;if(!y)return null;Object.assign(s,y.params),a.push({params:s,pathname:co([o,y.pathname]),pathnameBase:TL(co([o,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(o=co([o,y.pathnameBase]))}return a}function vL(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=_L(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((f,m,y)=>{let{paramName:_,isOptional:b}=m;if(_==="*"){let S=c[y]||"";a=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const I=c[y];return b&&!I?f[_]=void 0:f[_]=(I||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:a,pattern:t}}function _L(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),uI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function wL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return uI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function s_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function xL(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Sc(t):t;return{pathname:n?n.startsWith("/")?n:EL(n,e):e,search:SL(r),hash:CL(s)}}function EL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function jy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function fI(t,e){let n=bL(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function pI(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Sc(t):(s=md({},t),zt(!s.pathname||!s.pathname.includes("?"),jy("?","pathname","search",s)),zt(!s.pathname||!s.pathname.includes("#"),jy("#","pathname","hash",s)),zt(!s.search||!s.search.includes("#"),jy("#","search","hash",s)));let o=t===""||s.pathname==="",a=o?"/":s.pathname,c;if(a==null)c=n;else{let y=e.length-1;if(!r&&a.startsWith("..")){let _=a.split("/");for(;_[0]==="..";)_.shift(),y-=1;s.pathname=_.join("/")}c=y>=0?e[y]:"/"}let d=xL(s,c),f=a&&a!=="/"&&a.endsWith("/"),m=(o||a===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}const co=t=>t.join("/").replace(/\/\/+/g,"/"),TL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),SL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,CL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function IL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const mI=["post","put","patch","delete"];new Set(mI);const NL=["get",...mI];new Set(NL);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gd(){return gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gd.apply(this,arguments)}const i_=E.createContext(null),RL=E.createContext(null),$a=E.createContext(null),im=E.createContext(null),Wa=E.createContext({outlet:null,matches:[],isDataRoute:!1}),gI=E.createContext(null);function AL(t,e){let{relative:n}=e===void 0?{}:e;$d()||zt(!1);let{basename:r,navigator:s}=E.useContext($a),{hash:o,pathname:a,search:c}=vI(t,{relative:n}),d=a;return r!=="/"&&(d=a==="/"?r:co([r,a])),s.createHref({pathname:d,search:c,hash:o})}function $d(){return E.useContext(im)!=null}function jo(){return $d()||zt(!1),E.useContext(im).location}function yI(t){E.useContext($a).static||E.useLayoutEffect(t)}function jn(){let{isDataRoute:t}=E.useContext(Wa);return t?$L():PL()}function PL(){$d()||zt(!1);let t=E.useContext(i_),{basename:e,future:n,navigator:r}=E.useContext($a),{matches:s}=E.useContext(Wa),{pathname:o}=jo(),a=JSON.stringify(fI(s,n.v7_relativeSplatPath)),c=E.useRef(!1);return yI(()=>{c.current=!0}),E.useCallback(function(f,m){if(m===void 0&&(m={}),!c.current)return;if(typeof f=="number"){r.go(f);return}let y=pI(f,JSON.parse(a),o,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:co([e,y.pathname])),(m.replace?r.replace:r.push)(y,m.state,m)},[e,r,a,o,t])}function vI(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=E.useContext($a),{matches:s}=E.useContext(Wa),{pathname:o}=jo(),a=JSON.stringify(fI(s,r.v7_relativeSplatPath));return E.useMemo(()=>pI(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function kL(t,e){return DL(t,e)}function DL(t,e,n,r){$d()||zt(!1);let{navigator:s}=E.useContext($a),{matches:o}=E.useContext(Wa),a=o[o.length-1],c=a?a.params:{};a&&a.pathname;let d=a?a.pathnameBase:"/";a&&a.route;let f=jo(),m;if(e){var y;let C=typeof e=="string"?Sc(e):e;d==="/"||(y=C.pathname)!=null&&y.startsWith(d)||zt(!1),m=C}else m=f;let _=m.pathname||"/",b=_;if(d!=="/"){let C=d.replace(/^\//,"").split("/");b="/"+_.replace(/^\//,"").split("/").slice(C.length).join("/")}let I=oL(t,{pathname:b}),S=VL(I&&I.map(C=>Object.assign({},C,{params:Object.assign({},c,C.params),pathname:co([d,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:co([d,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,n,r);return e&&S?E.createElement(im.Provider,{value:{location:gd({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:ao.Pop}},S):S}function ML(){let t=zL(),e=IL(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:s},n):null,null)}const jL=E.createElement(ML,null);class OL extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?E.createElement(Wa.Provider,{value:this.props.routeContext},E.createElement(gI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LL(t){let{routeContext:e,match:n,children:r}=t,s=E.useContext(i_);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Wa.Provider,{value:e},r)}function VL(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,c=(s=n)==null?void 0:s.errors;if(c!=null){let m=a.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);m>=0||zt(!1),a=a.slice(0,Math.min(a.length,m+1))}let d=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<a.length;m++){let y=a[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=m),y.route.id){let{loaderData:_,errors:b}=n,I=y.route.loader&&_[y.route.id]===void 0&&(!b||b[y.route.id]===void 0);if(y.route.lazy||I){d=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,y,_)=>{let b,I=!1,S=null,C=null;n&&(b=c&&y.route.id?c[y.route.id]:void 0,S=y.route.errorElement||jL,d&&(f<0&&_===0?(WL("route-fallback"),I=!0,C=null):f===_&&(I=!0,C=y.route.hydrateFallbackElement||null)));let A=e.concat(a.slice(0,_+1)),M=()=>{let j;return b?j=S:I?j=C:y.route.Component?j=E.createElement(y.route.Component,null):y.route.element?j=y.route.element:j=m,E.createElement(LL,{match:y,routeContext:{outlet:m,matches:A,isDataRoute:n!=null},children:j})};return n&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?E.createElement(OL,{location:n.location,revalidation:n.revalidation,component:S,error:b,children:M(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):M()},null)}var _I=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(_I||{}),wI=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(wI||{});function FL(t){let e=E.useContext(i_);return e||zt(!1),e}function UL(t){let e=E.useContext(RL);return e||zt(!1),e}function BL(t){let e=E.useContext(Wa);return e||zt(!1),e}function xI(t){let e=BL(),n=e.matches[e.matches.length-1];return n.route.id||zt(!1),n.route.id}function zL(){var t;let e=E.useContext(gI),n=UL(),r=xI();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function $L(){let{router:t}=FL(_I.UseNavigateStable),e=xI(wI.UseNavigateStable),n=E.useRef(!1);return yI(()=>{n.current=!0}),E.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,gd({fromRouteId:e},o)))},[t,e])}const sT={};function WL(t,e,n){sT[t]||(sT[t]=!0)}function HL(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function $n(t){zt(!1)}function GL(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ao.Pop,navigator:o,static:a=!1,future:c}=t;$d()&&zt(!1);let d=e.replace(/^\/*/,"/"),f=E.useMemo(()=>({basename:d,navigator:o,static:a,future:gd({v7_relativeSplatPath:!1},c)}),[d,c,o,a]);typeof r=="string"&&(r=Sc(r));let{pathname:m="/",search:y="",hash:_="",state:b=null,key:I="default"}=r,S=E.useMemo(()=>{let C=s_(m,d);return C==null?null:{location:{pathname:C,search:y,hash:_,state:b,key:I},navigationType:s}},[d,m,y,_,b,I,s]);return S==null?null:E.createElement($a.Provider,{value:f},E.createElement(im.Provider,{children:n,value:S}))}function qL(t){let{children:e,location:n}=t;return kL(Rv(e),n)}new Promise(()=>{});function Rv(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,s)=>{if(!E.isValidElement(r))return;let o=[...e,s];if(r.type===E.Fragment){n.push.apply(n,Rv(r.props.children,o));return}r.type!==$n&&zt(!1),!r.props.index||!r.props.children||zt(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Rv(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Av(){return Av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Av.apply(this,arguments)}function KL(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function YL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function QL(t,e){return t.button===0&&(!e||e==="_self")&&!YL(t)}function Pv(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function XL(t,e){let n=Pv(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(o=>{n.append(s,o)})}),n}const JL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ZL="6";try{window.__reactRouterVersion=ZL}catch{}const eV="startTransition",iT=r_[eV];function tV(t){let{basename:e,children:n,future:r,window:s}=t,o=E.useRef();o.current==null&&(o.current=rL({window:s,v5Compat:!0}));let a=o.current,[c,d]=E.useState({action:a.action,location:a.location}),{v7_startTransition:f}=r||{},m=E.useCallback(y=>{f&&iT?iT(()=>d(y)):d(y)},[d,f]);return E.useLayoutEffect(()=>a.listen(m),[a,m]),E.useEffect(()=>HL(r),[r]),E.createElement(GL,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:a,future:r})}const nV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dn=E.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:o,replace:a,state:c,target:d,to:f,preventScrollReset:m,viewTransition:y}=e,_=KL(e,JL),{basename:b}=E.useContext($a),I,S=!1;if(typeof f=="string"&&rV.test(f)&&(I=f,nV))try{let j=new URL(window.location.href),W=f.startsWith("//")?new URL(j.protocol+f):new URL(f),G=s_(W.pathname,b);W.origin===j.origin&&G!=null?f=G+W.search+W.hash:S=!0}catch{}let C=AL(f,{relative:s}),A=sV(f,{replace:a,state:c,target:d,preventScrollReset:m,relative:s,viewTransition:y});function M(j){r&&r(j),j.defaultPrevented||A(j)}return E.createElement("a",Av({},_,{href:I||C,onClick:S||o?r:M,ref:n,target:d}))});var oT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(oT||(oT={}));var aT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(aT||(aT={}));function sV(t,e){let{target:n,replace:r,state:s,preventScrollReset:o,relative:a,viewTransition:c}=e===void 0?{}:e,d=jn(),f=jo(),m=vI(t,{relative:a});return E.useCallback(y=>{if(QL(y,n)){y.preventDefault();let _=r!==void 0?r:fp(f)===fp(m);d(t,{replace:_,state:s,preventScrollReset:o,relative:a,viewTransition:c})}},[f,d,m,r,s,n,t,o,a,c])}function iV(t){let e=E.useRef(Pv(t)),n=E.useRef(!1),r=jo(),s=E.useMemo(()=>XL(r.search,n.current?null:e.current),[r.search]),o=jn(),a=E.useCallback((c,d)=>{const f=Pv(typeof c=="function"?c(s):c);n.current=!0,o("?"+f,d)},[o,s]);return[s,a]}const oV={theme:"system",setTheme:()=>null},EI=E.createContext(oV);function aV({children:t,defaultTheme:e="system",enableSystem:n=!0,disableTransitionOnChange:r=!1}){const[s,o]=E.useState(e);E.useEffect(()=>{const c=window.document.documentElement;if(c.classList.remove("light","dark"),s==="system"&&n){const d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";c.classList.add(d);return}c.classList.add(s)},[s,n]);const a={theme:s,setTheme:c=>{r&&(document.documentElement.style.transition="none",setTimeout(()=>{document.documentElement.style.transition=""},0)),o(c)}};return h.jsx(EI.Provider,{value:a,children:t})}const yi=()=>{const t=E.useContext(EI);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function lT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function om(...t){return e=>{let n=!1;const r=t.map(s=>{const o=lT(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():lT(t[s],null)}}}}function it(...t){return E.useCallback(om(...t),t)}function Na(t){const e=cV(t),n=E.forwardRef((r,s)=>{const{children:o,...a}=r,c=E.Children.toArray(o),d=c.find(dV);if(d){const f=d.props.children,m=c.map(y=>y===d?E.Children.count(f)>1?E.Children.only(null):E.isValidElement(f)?f.props.children:null:y);return h.jsx(e,{...a,ref:s,children:E.isValidElement(f)?E.cloneElement(f,void 0,m):null})}return h.jsx(e,{...a,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}var lV=Na("Slot");function cV(t){const e=E.forwardRef((n,r)=>{const{children:s,...o}=n;if(E.isValidElement(s)){const a=fV(s),c=hV(o,s.props);return s.type!==E.Fragment&&(c.ref=r?om(r,a):a),E.cloneElement(s,c)}return E.Children.count(s)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var bI=Symbol("radix.slottable");function uV(t){const e=({children:n})=>h.jsx(h.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=bI,e}function dV(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===bI}function hV(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function fV(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function TI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=TI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function SI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=TI(t))&&(r&&(r+=" "),r+=e);return r}const cT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,uT=SI,CI=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return uT(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,a=Object.keys(s).map(f=>{const m=n==null?void 0:n[f],y=o==null?void 0:o[f];if(m===null)return null;const _=cT(m)||cT(y);return s[f][_]}),c=n&&Object.entries(n).reduce((f,m)=>{let[y,_]=m;return _===void 0||(f[y]=_),f},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((f,m)=>{let{class:y,className:_,...b}=m;return Object.entries(b).every(I=>{let[S,C]=I;return Array.isArray(C)?C.includes({...o,...c}[S]):{...o,...c}[S]===C})?[...f,y,_]:f},[]);return uT(t,a,d,n==null?void 0:n.class,n==null?void 0:n.className)},o_="-",pV=t=>{const e=gV(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const c=a.split(o_);return c[0]===""&&c.length!==1&&c.shift(),II(c,e)||mV(a)},getConflictingClassGroupIds:(a,c)=>{const d=n[a]||[];return c&&r[a]?[...d,...r[a]]:d}}},II=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?II(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(o_);return(a=e.validators.find(({validator:c})=>c(o)))==null?void 0:a.classGroupId},dT=/^\[(.+)\]$/,mV=t=>{if(dT.test(t)){const e=dT.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},gV=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return vV(Object.entries(t.classGroups),n).forEach(([o,a])=>{kv(a,r,o,e)}),r},kv=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:hT(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(yV(s)){kv(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,a])=>{kv(a,hT(e,o),n,r)})})},hT=(t,e)=>{let n=t;return e.split(o_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},yV=t=>t.isThemeGetter,vV=(t,e)=>e?t.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,c])=>[e+a,c])):o);return[n,s]}):t,_V=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(o,a)=>{n.set(o,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return s(o,a),a},set(o,a){n.has(o)?n.set(o,a):s(o,a)}}},NI="!",wV=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],o=e.length,a=c=>{const d=[];let f=0,m=0,y;for(let C=0;C<c.length;C++){let A=c[C];if(f===0){if(A===s&&(r||c.slice(C,C+o)===e)){d.push(c.slice(m,C)),m=C+o;continue}if(A==="/"){y=C;continue}}A==="["?f++:A==="]"&&f--}const _=d.length===0?c:c.substring(m),b=_.startsWith(NI),I=b?_.substring(1):_,S=y&&y>m?y-m:void 0;return{modifiers:d,hasImportantModifier:b,baseClassName:I,maybePostfixModifierPosition:S}};return n?c=>n({className:c,parseClassName:a}):a},xV=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},EV=t=>({cache:_V(t.cacheSize),parseClassName:wV(t),...pV(t)}),bV=/\s+/,TV=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,o=[],a=t.trim().split(bV);let c="";for(let d=a.length-1;d>=0;d-=1){const f=a[d],{modifiers:m,hasImportantModifier:y,baseClassName:_,maybePostfixModifierPosition:b}=n(f);let I=!!b,S=r(I?_.substring(0,b):_);if(!S){if(!I){c=f+(c.length>0?" "+c:c);continue}if(S=r(_),!S){c=f+(c.length>0?" "+c:c);continue}I=!1}const C=xV(m).join(":"),A=y?C+NI:C,M=A+S;if(o.includes(M))continue;o.push(M);const j=s(S,I);for(let W=0;W<j.length;++W){const G=j[W];o.push(A+G)}c=f+(c.length>0?" "+c:c)}return c};function SV(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=RI(e))&&(r&&(r+=" "),r+=n);return r}const RI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=RI(t[r]))&&(n&&(n+=" "),n+=e);return n};function CV(t,...e){let n,r,s,o=a;function a(d){const f=e.reduce((m,y)=>y(m),t());return n=EV(f),r=n.cache.get,s=n.cache.set,o=c,c(d)}function c(d){const f=r(d);if(f)return f;const m=TV(d,n);return s(d,m),m}return function(){return o(SV.apply(null,arguments))}}const yt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},AI=/^\[(?:([a-z-]+):)?(.+)\]$/i,IV=/^\d+\/\d+$/,NV=new Set(["px","full","screen"]),RV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,AV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,PV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,kV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qs=t=>nc(t)||NV.has(t)||IV.test(t),Ji=t=>Cc(t,"length",BV),nc=t=>!!t&&!Number.isNaN(Number(t)),Oy=t=>Cc(t,"number",nc),Ou=t=>!!t&&Number.isInteger(Number(t)),MV=t=>t.endsWith("%")&&nc(t.slice(0,-1)),$e=t=>AI.test(t),Zi=t=>RV.test(t),jV=new Set(["length","size","percentage"]),OV=t=>Cc(t,jV,PI),LV=t=>Cc(t,"position",PI),VV=new Set(["image","url"]),FV=t=>Cc(t,VV,$V),UV=t=>Cc(t,"",zV),Lu=()=>!0,Cc=(t,e,n)=>{const r=AI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},BV=t=>AV.test(t)&&!PV.test(t),PI=()=>!1,zV=t=>kV.test(t),$V=t=>DV.test(t),WV=()=>{const t=yt("colors"),e=yt("spacing"),n=yt("blur"),r=yt("brightness"),s=yt("borderColor"),o=yt("borderRadius"),a=yt("borderSpacing"),c=yt("borderWidth"),d=yt("contrast"),f=yt("grayscale"),m=yt("hueRotate"),y=yt("invert"),_=yt("gap"),b=yt("gradientColorStops"),I=yt("gradientColorStopPositions"),S=yt("inset"),C=yt("margin"),A=yt("opacity"),M=yt("padding"),j=yt("saturate"),W=yt("scale"),G=yt("sepia"),J=yt("skew"),D=yt("space"),R=yt("translate"),k=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",$e,e],B=()=>[$e,e],L=()=>["",Qs,Ji],ge=()=>["auto",nc,$e],Ce=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ve=()=>["solid","dashed","dotted","double","none"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Z=()=>["start","end","center","between","around","evenly","stretch"],ee=()=>["","0",$e],re=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[nc,$e];return{cacheSize:500,separator:":",theme:{colors:[Lu],spacing:[Qs,Ji],blur:["none","",Zi,$e],brightness:$(),borderColor:[t],borderRadius:["none","","full",Zi,$e],borderSpacing:B(),borderWidth:L(),contrast:$(),grayscale:ee(),hueRotate:$(),invert:ee(),gap:B(),gradientColorStops:[t],gradientColorStopPositions:[MV,Ji],inset:F(),margin:F(),opacity:$(),padding:B(),saturate:$(),scale:$(),sepia:ee(),skew:$(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",$e]}],container:["container"],columns:[{columns:[Zi]}],"break-after":[{"break-after":re()}],"break-before":[{"break-before":re()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ce(),$e]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ou,$e]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$e]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",Ou,$e]}],"grid-cols":[{"grid-cols":[Lu]}],"col-start-end":[{col:["auto",{span:["full",Ou,$e]},$e]}],"col-start":[{"col-start":ge()}],"col-end":[{"col-end":ge()}],"grid-rows":[{"grid-rows":[Lu]}],"row-start-end":[{row:["auto",{span:[Ou,$e]},$e]}],"row-start":[{"row-start":ge()}],"row-end":[{"row-end":ge()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$e]}],gap:[{gap:[_]}],"gap-x":[{"gap-x":[_]}],"gap-y":[{"gap-y":[_]}],"justify-content":[{justify:["normal",...Z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[M]}],px:[{px:[M]}],py:[{py:[M]}],ps:[{ps:[M]}],pe:[{pe:[M]}],pt:[{pt:[M]}],pr:[{pr:[M]}],pb:[{pb:[M]}],pl:[{pl:[M]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$e,e]}],"min-w":[{"min-w":[$e,e,"min","max","fit"]}],"max-w":[{"max-w":[$e,e,"none","full","min","max","fit","prose",{screen:[Zi]},Zi]}],h:[{h:[$e,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$e,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$e,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$e,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Zi,Ji]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Oy]}],"font-family":[{font:[Lu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$e]}],"line-clamp":[{"line-clamp":["none",nc,Oy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qs,$e]}],"list-image":[{"list-image":["none",$e]}],"list-style-type":[{list:["none","disc","decimal",$e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[A]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[A]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ve(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qs,Ji]}],"underline-offset":[{"underline-offset":["auto",Qs,$e]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[A]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ce(),LV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",OV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},FV]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[I]}],"gradient-via-pos":[{via:[I]}],"gradient-to-pos":[{to:[I]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[A]}],"border-style":[{border:[...ve(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[A]}],"divide-style":[{divide:ve()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ve()]}],"outline-offset":[{"outline-offset":[Qs,$e]}],"outline-w":[{outline:[Qs,Ji]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[A]}],"ring-offset-w":[{"ring-offset":[Qs,Ji]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Zi,UV]}],"shadow-color":[{shadow:[Lu]}],opacity:[{opacity:[A]}],"mix-blend":[{"mix-blend":[...he(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":he()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Zi,$e]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[y]}],saturate:[{saturate:[j]}],sepia:[{sepia:[G]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[A]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[G]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$e]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",$e]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",$e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[W]}],"scale-x":[{"scale-x":[W]}],"scale-y":[{"scale-y":[W]}],rotate:[{rotate:[Ou,$e]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[J]}],"skew-y":[{"skew-y":[J]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$e]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Qs,Ji,Oy]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},HV=CV(WV);function fe(...t){return HV(SI(t))}const a_=CI("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),qe=E.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},o)=>{const a=r?lV:"button";return h.jsx(a,{className:fe(a_({variant:e,size:n,className:t})),ref:o,...s})});qe.displayName="Button";/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ut=(t,e)=>{const n=E.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:c="",children:d,...f},m)=>E.createElement("svg",{ref:m,...GV,width:s,height:s,stroke:r,strokeWidth:a?Number(o)*24/Number(s):o,className:["lucide",`lucide-${qV(t)}`,c].join(" "),...f},[...e.map(([y,_])=>E.createElement(y,_)),...Array.isArray(d)?d:[d]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=ut("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=ut("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=ut("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=ut("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=ut("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=ut("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=ut("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=ut("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=ut("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=ut("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=ut("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=ut("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=ut("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=ut("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=ut("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=ut("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=ut("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=ut("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=ut("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=ut("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=ut("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=ut("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=ut("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=ut("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=ut("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=ut("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=ut("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=ut("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),u_=E.createContext({});function d_(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const h_=typeof window<"u",LI=h_?E.useLayoutEffect:E.useEffect,am=E.createContext(null);function f_(t,e){t.indexOf(e)===-1&&t.push(e)}function p_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const li=(t,e,n)=>n>e?e:n<t?t:n;let m_=()=>{};const ci={},VI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function FI(t){return typeof t=="object"&&t!==null}const UI=t=>/^0[^.\s]+$/u.test(t);function g_(t){let e;return()=>(e===void 0&&(e=t()),e)}const Er=t=>t,p4=(t,e)=>n=>e(t(n)),Wd=(...t)=>t.reduce(p4),yd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class y_{constructor(){this.subscriptions=[]}add(e){return f_(this.subscriptions,e),()=>p_(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const a=this.subscriptions[o];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ys=t=>t*1e3,vs=t=>t/1e3;function BI(t,e){return e?t*(1e3/e):0}const zI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,m4=1e-7,g4=12;function y4(t,e,n,r,s){let o,a,c=0;do a=e+(n-e)/2,o=zI(a,r,s)-t,o>0?n=a:e=a;while(Math.abs(o)>m4&&++c<g4);return a}function Hd(t,e,n,r){if(t===e&&n===r)return Er;const s=o=>y4(o,0,1,t,n);return o=>o===0||o===1?o:zI(s(o),e,r)}const $I=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,WI=t=>e=>1-t(1-e),HI=Hd(.33,1.53,.69,.99),v_=WI(HI),GI=$I(v_),qI=t=>(t*=2)<1?.5*v_(t):.5*(2-Math.pow(2,-10*(t-1))),__=t=>1-Math.sin(Math.acos(t)),KI=WI(__),YI=$I(__),v4=Hd(.42,0,1,1),_4=Hd(0,0,.58,1),QI=Hd(.42,0,.58,1),w4=t=>Array.isArray(t)&&typeof t[0]!="number",XI=t=>Array.isArray(t)&&typeof t[0]=="number",x4={linear:Er,easeIn:v4,easeInOut:QI,easeOut:_4,circIn:__,circInOut:YI,circOut:KI,backIn:v_,backInOut:GI,backOut:HI,anticipate:qI},E4=t=>typeof t=="string",fT=t=>{if(XI(t)){m_(t.length===4);const[e,n,r,s]=t;return Hd(e,n,r,s)}else if(E4(t))return x4[t];return t},Rf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],pT={value:null};function b4(t,e){let n=new Set,r=new Set,s=!1,o=!1;const a=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},d=0;function f(y){a.has(y)&&(m.schedule(y),t()),d++,y(c)}const m={schedule:(y,_=!1,b=!1)=>{const S=b&&s?n:r;return _&&a.add(y),S.has(y)||S.add(y),y},cancel:y=>{r.delete(y),a.delete(y)},process:y=>{if(c=y,s){o=!0;return}s=!0,[n,r]=[r,n],n.forEach(f),e&&pT.value&&pT.value.frameloop[e].push(d),d=0,n.clear(),s=!1,o&&(o=!1,m.process(y))}};return m}const T4=40;function JI(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=Rf.reduce((j,W)=>(j[W]=b4(o,e?W:void 0),j),{}),{setup:c,read:d,resolveKeyframes:f,preUpdate:m,update:y,preRender:_,render:b,postRender:I}=a,S=()=>{const j=ci.useManualTiming?s.timestamp:performance.now();n=!1,ci.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(j-s.timestamp,T4),1)),s.timestamp=j,s.isProcessing=!0,c.process(s),d.process(s),f.process(s),m.process(s),y.process(s),_.process(s),b.process(s),I.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(S))},C=()=>{n=!0,r=!0,s.isProcessing||t(S)};return{schedule:Rf.reduce((j,W)=>{const G=a[W];return j[W]=(J,D=!1,R=!1)=>(n||C(),G.schedule(J,D,R)),j},{}),cancel:j=>{for(let W=0;W<Rf.length;W++)a[Rf[W]].cancel(j)},state:s,steps:a}}const{schedule:Nt,cancel:Eo,state:un,steps:Ly}=JI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Er,!0);let Yf;function S4(){Yf=void 0}const Gn={now:()=>(Yf===void 0&&Gn.set(un.isProcessing||ci.useManualTiming?un.timestamp:performance.now()),Yf),set:t=>{Yf=t,queueMicrotask(S4)}},ZI=t=>e=>typeof e=="string"&&e.startsWith(t),w_=ZI("--"),C4=ZI("var(--"),x_=t=>C4(t)?I4.test(t.split("/*")[0].trim()):!1,I4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ic={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},vd={...Ic,transform:t=>li(0,1,t)},Af={...Ic,default:1},Zu=t=>Math.round(t*1e5)/1e5,E_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function N4(t){return t==null}const R4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,b_=(t,e)=>n=>!!(typeof n=="string"&&R4.test(n)&&n.startsWith(t)||e&&!N4(n)&&Object.prototype.hasOwnProperty.call(n,e)),eN=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,o,a,c]=r.match(E_);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},A4=t=>li(0,255,t),Vy={...Ic,transform:t=>Math.round(A4(t))},wa={test:b_("rgb","red"),parse:eN("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Vy.transform(t)+", "+Vy.transform(e)+", "+Vy.transform(n)+", "+Zu(vd.transform(r))+")"};function P4(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Dv={test:b_("#"),parse:P4,transform:wa.transform},Gd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),no=Gd("deg"),_s=Gd("%"),je=Gd("px"),k4=Gd("vh"),D4=Gd("vw"),mT={..._s,parse:t=>_s.parse(t)/100,transform:t=>_s.transform(t*100)},Yl={test:b_("hsl","hue"),parse:eN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+_s.transform(Zu(e))+", "+_s.transform(Zu(n))+", "+Zu(vd.transform(r))+")"},En={test:t=>wa.test(t)||Dv.test(t)||Yl.test(t),parse:t=>wa.test(t)?wa.parse(t):Yl.test(t)?Yl.parse(t):Dv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?wa.transform(t):Yl.transform(t)},M4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function j4(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(E_))==null?void 0:e.length)||0)+(((n=t.match(M4))==null?void 0:n.length)||0)>0}const tN="number",nN="color",O4="var",L4="var(",gT="${}",V4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function _d(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const c=e.replace(V4,d=>(En.test(d)?(r.color.push(o),s.push(nN),n.push(En.parse(d))):d.startsWith(L4)?(r.var.push(o),s.push(O4),n.push(d)):(r.number.push(o),s.push(tN),n.push(parseFloat(d))),++o,gT)).split(gT);return{values:n,split:c,indexes:r,types:s}}function rN(t){return _d(t).values}function sN(t){const{split:e,types:n}=_d(t),r=e.length;return s=>{let o="";for(let a=0;a<r;a++)if(o+=e[a],s[a]!==void 0){const c=n[a];c===tN?o+=Zu(s[a]):c===nN?o+=En.transform(s[a]):o+=s[a]}return o}}const F4=t=>typeof t=="number"?0:t;function U4(t){const e=rN(t);return sN(t)(e.map(F4))}const bo={test:j4,parse:rN,createTransformer:sN,getAnimatableNone:U4};function Fy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function B4({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,a=0;if(!e)s=o=a=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;s=Fy(d,c,t+1/3),o=Fy(d,c,t),a=Fy(d,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}function mp(t,e){return n=>n>0?e:t}const It=(t,e,n)=>t+(e-t)*n,Uy=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},z4=[Dv,wa,Yl],$4=t=>z4.find(e=>e.test(t));function yT(t){const e=$4(t);if(!e)return!1;let n=e.parse(t);return e===Yl&&(n=B4(n)),n}const vT=(t,e)=>{const n=yT(t),r=yT(e);if(!n||!r)return mp(t,e);const s={...n};return o=>(s.red=Uy(n.red,r.red,o),s.green=Uy(n.green,r.green,o),s.blue=Uy(n.blue,r.blue,o),s.alpha=It(n.alpha,r.alpha,o),wa.transform(s))},Mv=new Set(["none","hidden"]);function W4(t,e){return Mv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function H4(t,e){return n=>It(t,e,n)}function T_(t){return typeof t=="number"?H4:typeof t=="string"?x_(t)?mp:En.test(t)?vT:K4:Array.isArray(t)?iN:typeof t=="object"?En.test(t)?vT:G4:mp}function iN(t,e){const n=[...t],r=n.length,s=t.map((o,a)=>T_(o)(o,e[a]));return o=>{for(let a=0;a<r;a++)n[a]=s[a](o);return n}}function G4(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=T_(t[s])(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function q4(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][r[o]],c=t.values[a]??0;n[s]=c,r[o]++}return n}const K4=(t,e)=>{const n=bo.createTransformer(e),r=_d(t),s=_d(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Mv.has(t)&&!s.values.length||Mv.has(e)&&!r.values.length?W4(t,e):Wd(iN(q4(r,s),s.values),n):mp(t,e)};function oN(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?It(t,e,n):T_(t)(t,e)}const Y4=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Nt.update(e,n),stop:()=>Eo(e),now:()=>un.isProcessing?un.timestamp:Gn.now()}},aN=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)r+=t(o/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},gp=2e4;function S_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<gp;)e+=n,r=t.next(e);return e>=gp?1/0:e}function Q4(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(S_(r),gp);return{type:"keyframes",ease:o=>r.next(s*o).value/e,duration:vs(s)}}const X4=5;function lN(t,e,n){const r=Math.max(e-X4,0);return BI(n-t(r),e-r)}const kt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_T=.001;function J4({duration:t=kt.duration,bounce:e=kt.bounce,velocity:n=kt.velocity,mass:r=kt.mass}){let s,o,a=1-e;a=li(kt.minDamping,kt.maxDamping,a),t=li(kt.minDuration,kt.maxDuration,vs(t)),a<1?(s=f=>{const m=f*a,y=m*t,_=m-n,b=jv(f,a),I=Math.exp(-y);return _T-_/b*I},o=f=>{const y=f*a*t,_=y*n+n,b=Math.pow(a,2)*Math.pow(f,2)*t,I=Math.exp(-y),S=jv(Math.pow(f,2),a);return(-s(f)+_T>0?-1:1)*((_-b)*I)/S}):(s=f=>{const m=Math.exp(-f*t),y=(f-n)*t+1;return-.001+m*y},o=f=>{const m=Math.exp(-f*t),y=(n-f)*(t*t);return m*y});const c=5/t,d=eF(s,o,c);if(t=ys(t),isNaN(d))return{stiffness:kt.stiffness,damping:kt.damping,duration:t};{const f=Math.pow(d,2)*r;return{stiffness:f,damping:a*2*Math.sqrt(r*f),duration:t}}}const Z4=12;function eF(t,e,n){let r=n;for(let s=1;s<Z4;s++)r=r-t(r)/e(r);return r}function jv(t,e){return t*Math.sqrt(1-e*e)}const tF=["duration","bounce"],nF=["stiffness","damping","mass"];function wT(t,e){return e.some(n=>t[n]!==void 0)}function rF(t){let e={velocity:kt.velocity,stiffness:kt.stiffness,damping:kt.damping,mass:kt.mass,isResolvedFromDuration:!1,...t};if(!wT(t,nF)&&wT(t,tF))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,o=2*li(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:kt.mass,stiffness:s,damping:o}}else{const n=J4(t);e={...e,...n,mass:kt.mass},e.isResolvedFromDuration=!0}return e}function yp(t=kt.visualDuration,e=kt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:d,damping:f,mass:m,duration:y,velocity:_,isResolvedFromDuration:b}=rF({...n,velocity:-vs(n.velocity||0)}),I=_||0,S=f/(2*Math.sqrt(d*m)),C=a-o,A=vs(Math.sqrt(d/m)),M=Math.abs(C)<5;r||(r=M?kt.restSpeed.granular:kt.restSpeed.default),s||(s=M?kt.restDelta.granular:kt.restDelta.default);let j;if(S<1){const G=jv(A,S);j=J=>{const D=Math.exp(-S*A*J);return a-D*((I+S*A*C)/G*Math.sin(G*J)+C*Math.cos(G*J))}}else if(S===1)j=G=>a-Math.exp(-A*G)*(C+(I+A*C)*G);else{const G=A*Math.sqrt(S*S-1);j=J=>{const D=Math.exp(-S*A*J),R=Math.min(G*J,300);return a-D*((I+S*A*C)*Math.sinh(R)+G*C*Math.cosh(R))/G}}const W={calculatedDuration:b&&y||null,next:G=>{const J=j(G);if(b)c.done=G>=y;else{let D=G===0?I:0;S<1&&(D=G===0?ys(I):lN(j,G,J));const R=Math.abs(D)<=r,k=Math.abs(a-J)<=s;c.done=R&&k}return c.value=c.done?a:J,c},toString:()=>{const G=Math.min(S_(W),gp),J=aN(D=>W.next(G*D).value,G,30);return G+"ms "+J},toTransition:()=>{}};return W}yp.applyToOptions=t=>{const e=Q4(t,100,yp);return t.ease=e.ease,t.duration=ys(e.duration),t.type="keyframes",t};function Ov({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:c,max:d,restDelta:f=.5,restSpeed:m}){const y=t[0],_={done:!1,value:y},b=R=>c!==void 0&&R<c||d!==void 0&&R>d,I=R=>c===void 0?d:d===void 0||Math.abs(c-R)<Math.abs(d-R)?c:d;let S=n*e;const C=y+S,A=a===void 0?C:a(C);A!==C&&(S=A-y);const M=R=>-S*Math.exp(-R/r),j=R=>A+M(R),W=R=>{const k=M(R),V=j(R);_.done=Math.abs(k)<=f,_.value=_.done?A:V};let G,J;const D=R=>{b(_.value)&&(G=R,J=yp({keyframes:[_.value,I(_.value)],velocity:lN(j,R,_.value),damping:s,stiffness:o,restDelta:f,restSpeed:m}))};return D(0),{calculatedDuration:null,next:R=>{let k=!1;return!J&&G===void 0&&(k=!0,W(R),D(R)),G!==void 0&&R>=G?J.next(R-G):(!k&&W(R),_)}}}function sF(t,e,n){const r=[],s=n||ci.mix||oN,o=t.length-1;for(let a=0;a<o;a++){let c=s(t[a],t[a+1]);if(e){const d=Array.isArray(e)?e[a]||Er:e;c=Wd(d,c)}r.push(c)}return r}function iF(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(m_(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=sF(e,r,s),d=c.length,f=m=>{if(a&&m<t[0])return e[0];let y=0;if(d>1)for(;y<t.length-2&&!(m<t[y+1]);y++);const _=yd(t[y],t[y+1],m);return c[y](_)};return n?m=>f(li(t[0],t[o-1],m)):f}function oF(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=yd(0,e,r);t.push(It(n,1,s))}}function aF(t){const e=[0];return oF(e,t.length-1),e}function lF(t,e){return t.map(n=>n*e)}function cF(t,e){return t.map(()=>e||QI).splice(0,t.length-1)}function ed({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=w4(r)?r.map(fT):fT(r),o={done:!1,value:e[0]},a=lF(n&&n.length===e.length?n:aF(e),t),c=iF(a,e,{ease:Array.isArray(s)?s:cF(e,s)});return{calculatedDuration:t,next:d=>(o.value=c(d),o.done=d>=t,o)}}const uF=t=>t!==null;function C_(t,{repeat:e,repeatType:n="loop"},r,s=1){const o=t.filter(uF),c=s<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!c||r===void 0?o[c]:r}const dF={decay:Ov,inertia:Ov,tween:ed,keyframes:ed,spring:yp};function cN(t){typeof t.type=="string"&&(t.type=dF[t.type])}class I_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const hF=t=>t/100;class N_ extends I_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Gn.now()&&this.tick(Gn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;cN(e);const{type:n=ed,repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:a=0}=e;let{keyframes:c}=e;const d=n||ed;d!==ed&&typeof c[0]!="number"&&(this.mixKeyframes=Wd(hF,oN(c[0],c[1])),c=[0,100]);const f=d({...e,keyframes:c});o==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-a})),f.calculatedDuration===null&&(f.calculatedDuration=S_(f));const{calculatedDuration:m}=f;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:o,mirroredGenerator:a,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:m,repeat:y,repeatType:_,repeatDelay:b,type:I,onUpdate:S,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const A=this.currentTime-f*(this.playbackSpeed>=0?1:-1),M=this.playbackSpeed>=0?A<0:A>s;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let j=this.currentTime,W=r;if(y){const R=Math.min(this.currentTime,s)/c;let k=Math.floor(R),V=R%1;!V&&R>=1&&(V=1),V===1&&k--,k=Math.min(k,y+1),!!(k%2)&&(_==="reverse"?(V=1-V,b&&(V-=b/c)):_==="mirror"&&(W=a)),j=li(0,1,V)*c}const G=M?{done:!1,value:m[0]}:W.next(j);o&&(G.value=o(G.value));let{done:J}=G;!M&&d!==null&&(J=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&J);return D&&I!==Ov&&(G.value=C_(m,this.options,C,this.speed)),S&&S(G.value),D&&this.finish(),G}then(e,n){return this.finished.then(e,n)}get duration(){return vs(this.calculatedDuration)}get time(){return vs(this.currentTime)}set time(e){var n;e=ys(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Gn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=vs(this.currentTime))}play(){var s,o;if(this.isStopped)return;const{driver:e=Y4,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(o=(s=this.options).onPlay)==null||o.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Gn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function fF(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const xa=t=>t*180/Math.PI,Lv=t=>{const e=xa(Math.atan2(t[1],t[0]));return Vv(e)},pF={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Lv,rotateZ:Lv,skewX:t=>xa(Math.atan(t[1])),skewY:t=>xa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Vv=t=>(t=t%360,t<0&&(t+=360),t),xT=Lv,ET=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),bT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),mF={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ET,scaleY:bT,scale:t=>(ET(t)+bT(t))/2,rotateX:t=>Vv(xa(Math.atan2(t[6],t[5]))),rotateY:t=>Vv(xa(Math.atan2(-t[2],t[0]))),rotateZ:xT,rotate:xT,skewX:t=>xa(Math.atan(t[4])),skewY:t=>xa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Fv(t){return t.includes("scale")?1:0}function Uv(t,e){if(!t||t==="none")return Fv(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=mF,s=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=pF,s=c}if(!s)return Fv(e);const o=r[e],a=s[1].split(",").map(yF);return typeof o=="function"?o(a):a[o]}const gF=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Uv(n,e)};function yF(t){return parseFloat(t.trim())}const Nc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Rc=new Set(Nc),TT=t=>t===Ic||t===je,vF=new Set(["x","y","z"]),_F=Nc.filter(t=>!vF.has(t));function wF(t){const e=[];return _F.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Sa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Uv(e,"x"),y:(t,{transform:e})=>Uv(e,"y")};Sa.translateX=Sa.x;Sa.translateY=Sa.y;const Ca=new Set;let Bv=!1,zv=!1,$v=!1;function uN(){if(zv){const t=Array.from(Ca).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=wF(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,a])=>{var c;(c=r.getValue(o))==null||c.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}zv=!1,Bv=!1,Ca.forEach(t=>t.complete($v)),Ca.clear()}function dN(){Ca.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(zv=!0)})}function xF(){$v=!0,dN(),uN(),$v=!1}class R_{constructor(e,n,r,s,o,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Ca.add(this),Bv||(Bv=!0,Nt.read(dN),Nt.resolveKeyframes(uN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const c=r.readValue(n,a);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}fF(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ca.delete(this)}cancel(){this.state==="scheduled"&&(Ca.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const EF=t=>t.startsWith("--");function bF(t,e,n){EF(e)?t.style.setProperty(e,n):t.style[e]=n}const TF=g_(()=>window.ScrollTimeline!==void 0),SF={};function CF(t,e){const n=g_(t);return()=>SF[e]??n()}const hN=CF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Wu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,ST={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wu([0,.65,.55,1]),circOut:Wu([.55,0,1,.45]),backIn:Wu([.31,.01,.66,-.59]),backOut:Wu([.33,1.53,.69,.99])};function fN(t,e){if(t)return typeof t=="function"?hN()?aN(t,e):"ease-out":XI(t)?Wu(t):Array.isArray(t)?t.map(n=>fN(n,e)||ST.easeOut):ST[t]}function IF(t,e,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:a="loop",ease:c="easeOut",times:d}={},f=void 0){const m={[e]:n};d&&(m.offset=d);const y=fN(c,s);Array.isArray(y)&&(m.easing=y);const _={delay:r,duration:s,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"};return f&&(_.pseudoElement=f),t.animate(m,_)}function pN(t){return typeof t=="function"&&"applyToOptions"in t}function NF({type:t,...e}){return pN(t)&&hN()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class RF extends I_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:o,allowFlatten:a=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!o,this.allowFlatten=a,this.options=e,m_(typeof e.type!="string");const f=NF(e);this.animation=IF(n,r,s,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const m=C_(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):bF(n,r,m),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return vs(Number(e))}get time(){return vs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ys(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&TF()?(this.animation.timeline=e,Er):n(this)}}const mN={anticipate:qI,backInOut:GI,circInOut:YI};function AF(t){return t in mN}function PF(t){typeof t.ease=="string"&&AF(t.ease)&&(t.ease=mN[t.ease])}const CT=10;class kF extends RF{constructor(e){PF(e),cN(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:o,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new N_({...a,autoplay:!1}),d=ys(this.finishedTime??this.time);n.setWithVelocity(c.sample(d-CT).value,c.sample(d).value,CT),c.stop()}}const IT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(bo.test(t)||t==="0")&&!t.startsWith("url("));function DF(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function MF(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],a=IT(s,e),c=IT(o,e);return!a||!c?!1:DF(t)||(n==="spring"||pN(n))&&r}function A_(t){return FI(t)&&"offsetHeight"in t}const jF=new Set(["opacity","clipPath","filter","transform"]),OF=g_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function LF(t){var f;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:o,type:a}=t;if(!A_((f=e==null?void 0:e.owner)==null?void 0:f.current))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return OF()&&n&&jF.has(n)&&(n!=="transform"||!d)&&!c&&!r&&s!=="mirror"&&o!==0&&a!=="inertia"}const VF=40;class FF extends I_{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",keyframes:c,name:d,motionValue:f,element:m,...y}){var I;super(),this.stop=()=>{var S,C;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(C=this.keyframeResolver)==null||C.cancel()},this.createdAt=Gn.now();const _={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:a,name:d,motionValue:f,element:m,...y},b=(m==null?void 0:m.KeyframeResolver)||R_;this.keyframeResolver=new b(c,(S,C,A)=>this.onKeyframesResolved(S,C,_,!A),d,f,m),(I=this.keyframeResolver)==null||I.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:o,type:a,velocity:c,delay:d,isHandoff:f,onUpdate:m}=r;this.resolvedAt=Gn.now(),MF(e,o,a,c)||((ci.instantAnimations||!d)&&(m==null||m(C_(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const _={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>VF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},b=!f&&LF(_)?new kF({..._,element:_.motionValue.owner.current}):new N_(_);b.finished.then(()=>this.notifyFinished()).catch(Er),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),xF()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const UF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function BF(t){const e=UF.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function gN(t,e,n=1){const[r,s]=BF(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const a=o.trim();return VI(a)?parseFloat(a):a}return x_(s)?gN(s,e,n+1):s}function P_(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const yN=new Set(["width","height","top","left","right","bottom",...Nc]),zF={test:t=>t==="auto",parse:t=>t},vN=t=>e=>e.test(t),_N=[Ic,je,_s,no,D4,k4,zF],NT=t=>_N.find(vN(t));function $F(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||UI(t):!0}const WF=new Set(["brightness","contrast","saturate","opacity"]);function HF(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(E_)||[];if(!r)return t;const s=n.replace(r,"");let o=WF.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const GF=/\b([a-z-]*)\(.*?\)/gu,Wv={...bo,getAnimatableNone:t=>{const e=t.match(GF);return e?e.map(HF).join(" "):t}},RT={...Ic,transform:Math.round},qF={rotate:no,rotateX:no,rotateY:no,rotateZ:no,scale:Af,scaleX:Af,scaleY:Af,scaleZ:Af,skew:no,skewX:no,skewY:no,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:vd,originX:mT,originY:mT,originZ:je},k_={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,radius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,top:je,right:je,bottom:je,left:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,backgroundPositionX:je,backgroundPositionY:je,...qF,zIndex:RT,fillOpacity:vd,strokeOpacity:vd,numOctaves:RT},KF={...k_,color:En,backgroundColor:En,outlineColor:En,fill:En,stroke:En,borderColor:En,borderTopColor:En,borderRightColor:En,borderBottomColor:En,borderLeftColor:En,filter:Wv,WebkitFilter:Wv},wN=t=>KF[t];function xN(t,e){let n=wN(t);return n!==Wv&&(n=bo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const YF=new Set(["auto","none","0"]);function QF(t,e,n){let r=0,s;for(;r<t.length&&!s;){const o=t[r];typeof o=="string"&&!YF.has(o)&&_d(o).values.length&&(s=t[r]),r++}if(s&&n)for(const o of e)t[o]=xN(n,s)}class XF extends R_{constructor(e,n,r,s,o){super(e,n,r,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let f=e[d];if(typeof f=="string"&&(f=f.trim(),x_(f))){const m=gN(f,n.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!yN.has(r)||e.length!==2)return;const[s,o]=e,a=NT(s),c=NT(o);if(a!==c)if(TT(a)&&TT(c))for(let d=0;d<e.length;d++){const f=e[d];typeof f=="string"&&(e[d]=parseFloat(f))}else Sa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||$F(e[s]))&&r.push(s);r.length&&QF(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var c;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=Sa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([d,f])=>{e.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function JF(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const EN=(t,e)=>e&&typeof t=="number"?e.transform(t):t,AT=30,ZF=t=>!isNaN(parseFloat(t));class e5{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var a,c;const o=Gn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty();s&&((c=this.events.renderRequest)==null||c.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Gn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ZF(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new y_);const r=this.events[e].add(n);return e==="change"?()=>{r(),Nt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Gn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>AT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,AT);return BI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hc(t,e){return new e5(t,e)}const{schedule:D_}=JI(queueMicrotask,!1),Or={x:!1,y:!1};function bN(){return Or.x||Or.y}function t5(t){return t==="x"||t==="y"?Or[t]?null:(Or[t]=!0,()=>{Or[t]=!1}):Or.x||Or.y?null:(Or.x=Or.y=!0,()=>{Or.x=Or.y=!1})}function TN(t,e){const n=JF(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function PT(t){return!(t.pointerType==="touch"||bN())}function n5(t,e,n={}){const[r,s,o]=TN(t,n),a=c=>{if(!PT(c))return;const{target:d}=c,f=e(d,c);if(typeof f!="function"||!d)return;const m=y=>{PT(y)&&(f(y),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,s)};return r.forEach(c=>{c.addEventListener("pointerenter",a,s)}),o}const SN=(t,e)=>e?t===e?!0:SN(t,e.parentElement):!1,M_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,r5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function s5(t){return r5.has(t.tagName)||t.tabIndex!==-1}const Qf=new WeakSet;function kT(t){return e=>{e.key==="Enter"&&t(e)}}function By(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const i5=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=kT(()=>{if(Qf.has(n))return;By(n,"down");const s=kT(()=>{By(n,"up")}),o=()=>By(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function DT(t){return M_(t)&&!bN()}function o5(t,e,n={}){const[r,s,o]=TN(t,n),a=c=>{const d=c.currentTarget;if(!DT(c))return;Qf.add(d);const f=e(d,c),m=(b,I)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",_),Qf.has(d)&&Qf.delete(d),DT(b)&&typeof f=="function"&&f(b,{success:I})},y=b=>{m(b,d===window||d===document||n.useGlobalTarget||SN(d,b.target))},_=b=>{m(b,!1)};window.addEventListener("pointerup",y,s),window.addEventListener("pointercancel",_,s)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",a,s),A_(c)&&(c.addEventListener("focus",f=>i5(f,s)),!s5(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function CN(t){return FI(t)&&"ownerSVGElement"in t}function a5(t){return CN(t)&&t.tagName==="svg"}const In=t=>!!(t&&t.getVelocity),l5=[..._N,En,bo],c5=t=>l5.find(vN(t)),j_=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class u5 extends E.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=A_(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function d5({children:t,isPresent:e,anchorX:n}){const r=E.useId(),s=E.useRef(null),o=E.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=E.useContext(j_);return E.useInsertionEffect(()=>{const{width:c,height:d,top:f,left:m,right:y}=o.current;if(e||!s.current||!c||!d)return;const _=n==="left"?`left: ${m}`:`right: ${y}`;s.current.dataset.motionPopId=r;const b=document.createElement("style");return a&&(b.nonce=a),document.head.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${_}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.contains(b)&&document.head.removeChild(b)}},[e]),h.jsx(u5,{isPresent:e,childRef:s,sizeRef:o,children:E.cloneElement(t,{ref:s})})}const h5=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:a,anchorX:c})=>{const d=d_(f5),f=E.useId();let m=!0,y=E.useMemo(()=>(m=!1,{id:f,initial:e,isPresent:n,custom:s,onExitComplete:_=>{d.set(_,!0);for(const b of d.values())if(!b)return;r&&r()},register:_=>(d.set(_,!1),()=>d.delete(_))}),[n,d,r]);return o&&m&&(y={...y}),E.useMemo(()=>{d.forEach((_,b)=>d.set(b,!1))},[n]),E.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),a==="popLayout"&&(t=h.jsx(d5,{isPresent:n,anchorX:c,children:t})),h.jsx(am.Provider,{value:y,children:t})};function f5(){return new Map}function IN(t=!0){const e=E.useContext(am);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,o=E.useId();E.useEffect(()=>{if(t)return s(o)},[t]);const a=E.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,a]:[!0]}const Pf=t=>t.key||"";function MT(t){const e=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&e.push(n)}),e}const O_=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:o="sync",propagate:a=!1,anchorX:c="left"})=>{const[d,f]=IN(a),m=E.useMemo(()=>MT(t),[t]),y=a&&!d?[]:m.map(Pf),_=E.useRef(!0),b=E.useRef(m),I=d_(()=>new Map),[S,C]=E.useState(m),[A,M]=E.useState(m);LI(()=>{_.current=!1,b.current=m;for(let G=0;G<A.length;G++){const J=Pf(A[G]);y.includes(J)?I.delete(J):I.get(J)!==!0&&I.set(J,!1)}},[A,y.length,y.join("-")]);const j=[];if(m!==S){let G=[...m];for(let J=0;J<A.length;J++){const D=A[J],R=Pf(D);y.includes(R)||(G.splice(J,0,D),j.push(D))}return o==="wait"&&j.length&&(G=j),M(MT(G)),C(m),null}const{forceRender:W}=E.useContext(u_);return h.jsx(h.Fragment,{children:A.map(G=>{const J=Pf(G),D=a&&!d?!1:m===A||y.includes(J),R=()=>{if(I.has(J))I.set(J,!0);else return;let k=!0;I.forEach(V=>{V||(k=!1)}),k&&(W==null||W(),M(b.current),a&&(f==null||f()),r&&r())};return h.jsx(h5,{isPresent:D,initial:!_.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:o,onExitComplete:D?void 0:R,anchorX:c,children:G},J)})})},NN=E.createContext({strict:!1}),jT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fc={};for(const t in jT)fc[t]={isEnabled:e=>jT[t].some(n=>!!e[n])};function p5(t){for(const e in t)fc[e]={...fc[e],...t[e]}}const m5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||m5.has(t)}let RN=t=>!vp(t);function g5(t){t&&(RN=e=>e.startsWith("on")?!vp(e):t(e))}try{g5(require("@emotion/is-prop-valid").default)}catch{}function y5(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(RN(s)||n===!0&&vp(s)||!e&&!vp(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function v5(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const lm=E.createContext({});function cm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function wd(t){return typeof t=="string"||Array.isArray(t)}const L_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],V_=["initial",...L_];function um(t){return cm(t.animate)||V_.some(e=>wd(t[e]))}function AN(t){return!!(um(t)||t.variants)}function _5(t,e){if(um(t)){const{initial:n,animate:r}=t;return{initial:n===!1||wd(n)?n:void 0,animate:wd(r)?r:void 0}}return t.inherit!==!1?e:{}}function w5(t){const{initial:e,animate:n}=_5(t,E.useContext(lm));return E.useMemo(()=>({initial:e,animate:n}),[OT(e),OT(n)])}function OT(t){return Array.isArray(t)?t.join(" "):t}const x5=Symbol.for("motionComponentSymbol");function Ql(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function E5(t,e,n){return E.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ql(n)&&(n.current=r))},[e])}const F_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),b5="framerAppearId",PN="data-"+F_(b5),kN=E.createContext({});function T5(t,e,n,r,s){var S,C;const{visualElement:o}=E.useContext(lm),a=E.useContext(NN),c=E.useContext(am),d=E.useContext(j_).reducedMotion,f=E.useRef(null);r=r||a.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const m=f.current,y=E.useContext(kN);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&S5(f.current,n,s,y);const _=E.useRef(!1);E.useInsertionEffect(()=>{m&&_.current&&m.update(n,c)});const b=n[PN],I=E.useRef(!!b&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,b))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,b)));return LI(()=>{m&&(_.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),D_.render(m.render),I.current&&m.animationState&&m.animationState.animateChanges())}),E.useEffect(()=>{m&&(!I.current&&m.animationState&&m.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var A;(A=window.MotionHandoffMarkAsComplete)==null||A.call(window,b)}),I.current=!1))}),m}function S5(t,e,n,r){const{layoutId:s,layout:o,drag:a,dragConstraints:c,layoutScroll:d,layoutRoot:f,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:DN(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!a||c&&Ql(c),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:d,layoutRoot:f})}function DN(t){if(t)return t.options.allowProjection!==!1?t.projection:DN(t.parent)}function C5({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&p5(t);function o(c,d){let f;const m={...E.useContext(j_),...c,layoutId:I5(c)},{isStatic:y}=m,_=w5(c),b=r(c,y);if(!y&&h_){N5();const I=R5(m);f=I.MeasureLayout,_.visualElement=T5(s,b,m,e,I.ProjectionNode)}return h.jsxs(lm.Provider,{value:_,children:[f&&_.visualElement?h.jsx(f,{visualElement:_.visualElement,...m}):null,n(s,c,E5(b,_.visualElement,d),b,y,_.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const a=E.forwardRef(o);return a[x5]=s,a}function I5({layoutId:t}){const e=E.useContext(u_).id;return e&&t!==void 0?e+"-"+t:t}function N5(t,e){E.useContext(NN).strict}function R5(t){const{drag:e,layout:n}=fc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const xd={};function A5(t){for(const e in t)xd[e]=t[e],w_(e)&&(xd[e].isCSSVariable=!0)}function MN(t,{layout:e,layoutId:n}){return Rc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!xd[t]||t==="opacity")}const P5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},k5=Nc.length;function D5(t,e,n){let r="",s=!0;for(let o=0;o<k5;o++){const a=Nc[o],c=t[a];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(a.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const f=EN(c,k_[a]);if(!d){s=!1;const m=P5[a]||a;r+=`${m}(${f}) `}n&&(e[a]=f)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function U_(t,e,n){const{style:r,vars:s,transformOrigin:o}=t;let a=!1,c=!1;for(const d in e){const f=e[d];if(Rc.has(d)){a=!0;continue}else if(w_(d)){s[d]=f;continue}else{const m=EN(f,k_[d]);d.startsWith("origin")?(c=!0,o[d]=m):r[d]=m}}if(e.transform||(a||n?r.transform=D5(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:m=0}=o;r.transformOrigin=`${d} ${f} ${m}`}}const B_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function jN(t,e,n){for(const r in e)!In(e[r])&&!MN(r,n)&&(t[r]=e[r])}function M5({transformTemplate:t},e){return E.useMemo(()=>{const n=B_();return U_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function j5(t,e){const n=t.style||{},r={};return jN(r,n,t),Object.assign(r,M5(t,e)),r}function O5(t,e){const n={},r=j5(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const L5={offset:"stroke-dashoffset",array:"stroke-dasharray"},V5={offset:"strokeDashoffset",array:"strokeDasharray"};function F5(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?L5:V5;t[o.offset]=je.transform(-r);const a=je.transform(e),c=je.transform(n);t[o.array]=`${a} ${c}`}function ON(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...c},d,f,m){if(U_(t,c,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:_}=t;y.transform&&(_.transform=y.transform,delete y.transform),(_.transform||y.transformOrigin)&&(_.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),_.transform&&(_.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),s!==void 0&&F5(y,s,o,a,!1)}const LN=()=>({...B_(),attrs:{}}),VN=t=>typeof t=="string"&&t.toLowerCase()==="svg";function U5(t,e,n,r){const s=E.useMemo(()=>{const o=LN();return ON(o,e,VN(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};jN(o,t.style,t),s.style={...o,...s.style}}return s}const B5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function z_(t){return typeof t!="string"||t.includes("-")?!1:!!(B5.indexOf(t)>-1||/[A-Z]/u.test(t))}function z5(t=!1){return(n,r,s,{latestValues:o},a)=>{const d=(z_(n)?U5:O5)(r,o,a,n),f=y5(r,typeof n=="string",t),m=n!==E.Fragment?{...f,...d,ref:s}:{},{children:y}=r,_=E.useMemo(()=>In(y)?y.get():y,[y]);return E.createElement(n,{...m,children:_})}}function LT(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function $_(t,e,n,r){if(typeof e=="function"){const[s,o]=LT(r);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=LT(r);e=e(n!==void 0?n:t.custom,s,o)}return e}function Xf(t){return In(t)?t.get():t}function $5({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:W5(n,r,s,t),renderState:e()}}const FN=t=>(e,n)=>{const r=E.useContext(lm),s=E.useContext(am),o=()=>$5(t,e,r,s);return n?o():d_(o)};function W5(t,e,n,r){const s={},o=r(t,{});for(const _ in o)s[_]=Xf(o[_]);let{initial:a,animate:c}=t;const d=um(t),f=AN(t);e&&f&&!d&&t.inherit!==!1&&(a===void 0&&(a=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||a===!1;const y=m?c:a;if(y&&typeof y!="boolean"&&!cm(y)){const _=Array.isArray(y)?y:[y];for(let b=0;b<_.length;b++){const I=$_(t,_[b]);if(I){const{transitionEnd:S,transition:C,...A}=I;for(const M in A){let j=A[M];if(Array.isArray(j)){const W=m?j.length-1:0;j=j[W]}j!==null&&(s[M]=j)}for(const M in S)s[M]=S[M]}}}return s}function W_(t,e,n){var o;const{style:r}=t,s={};for(const a in r)(In(r[a])||e.style&&In(e.style[a])||MN(a,t)||((o=n==null?void 0:n.getValue(a))==null?void 0:o.liveStyle)!==void 0)&&(s[a]=r[a]);return s}const H5={useVisualState:FN({scrapeMotionValuesFromProps:W_,createRenderState:B_})};function UN(t,e,n){const r=W_(t,e,n);for(const s in t)if(In(t[s])||In(e[s])){const o=Nc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=t[s]}return r}const G5={useVisualState:FN({scrapeMotionValuesFromProps:UN,createRenderState:LN})};function q5(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...z_(r)?G5:H5,preloadedFeatures:t,useRender:z5(s),createVisualElement:e,Component:r};return C5(a)}}function Ed(t,e,n){const r=t.getProps();return $_(r,e,n!==void 0?n:r.custom,t)}const Hv=t=>Array.isArray(t);function K5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,hc(n))}function Y5(t){return Hv(t)?t[t.length-1]||0:t}function Q5(t,e){const n=Ed(t,e);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const a in o){const c=Y5(o[a]);K5(t,a,c)}}function X5(t){return!!(In(t)&&t.add)}function Gv(t,e){const n=t.getValue("willChange");if(X5(n))return n.add(e);if(!n&&ci.WillChange){const r=new ci.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function BN(t){return t.props[PN]}const J5=t=>t!==null;function Z5(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(J5),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[o]}const e3={type:"spring",stiffness:500,damping:25,restSpeed:10},t3=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),n3={type:"keyframes",duration:.8},r3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},s3=(t,{keyframes:e})=>e.length>2?n3:Rc.has(t)?t.startsWith("scale")?t3(e[1]):e3:r3;function i3({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:a,repeatDelay:c,from:d,elapsed:f,...m}){return!!Object.keys(m).length}const H_=(t,e,n,r={},s,o)=>a=>{const c=P_(r,t)||{},d=c.delay||r.delay||0;let{elapsed:f=0}=r;f=f-ys(d);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:_=>{e.set(_),c.onUpdate&&c.onUpdate(_)},onComplete:()=>{a(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:o?void 0:s};i3(c)||Object.assign(m,s3(t,m)),m.duration&&(m.duration=ys(m.duration)),m.repeatDelay&&(m.repeatDelay=ys(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(y=!0)),(ci.instantAnimations||ci.skipAnimations)&&(y=!0,m.duration=0,m.delay=0),m.allowFlatten=!c.type&&!c.ease,y&&!o&&e.get()!==void 0){const _=Z5(m.keyframes,c);if(_!==void 0){Nt.update(()=>{m.onUpdate(_),m.onComplete()});return}}return c.isSync?new N_(m):new FF(m)};function o3({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function zN(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:a,...c}=e;r&&(o=r);const d=[],f=s&&t.animationState&&t.animationState.getState()[s];for(const m in c){const y=t.getValue(m,t.latestValues[m]??null),_=c[m];if(_===void 0||f&&o3(f,m))continue;const b={delay:n,...P_(o||{},m)},I=y.get();if(I!==void 0&&!y.isAnimating&&!Array.isArray(_)&&_===I&&!b.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const A=BN(t);if(A){const M=window.MotionHandoffAnimation(A,m,Nt);M!==null&&(b.startTime=M,S=!0)}}Gv(t,m),y.start(H_(m,y,_,t.shouldReduceMotion&&yN.has(m)?{type:!1}:b,t,S));const C=y.animation;C&&d.push(C)}return a&&Promise.all(d).then(()=>{Nt.update(()=>{a&&Q5(t,a)})}),d}function qv(t,e,n={}){var d;const r=Ed(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(zN(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:_}=s;return a3(t,e,m+f,y,_,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[f,m]=c==="beforeChildren"?[o,a]:[a,o];return f().then(()=>m())}else return Promise.all([o(),a(n.delay)])}function a3(t,e,n=0,r=0,s=1,o){const a=[],c=(t.variantChildren.size-1)*r,d=s===1?(f=0)=>f*r:(f=0)=>c-f*r;return Array.from(t.variantChildren).sort(l3).forEach((f,m)=>{f.notify("AnimationStart",e),a.push(qv(f,e,{...o,delay:n+d(m)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(a)}function l3(t,e){return t.sortNodePosition(e)}function c3(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>qv(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=qv(t,e,n);else{const s=typeof e=="function"?Ed(t,e,n.custom):e;r=Promise.all(zN(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function $N(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const u3=V_.length;function WN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?WN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<u3;n++){const r=V_[n],s=t.props[r];(wd(s)||s===!1)&&(e[r]=s)}return e}const d3=[...L_].reverse(),h3=L_.length;function f3(t){return e=>Promise.all(e.map(({animation:n,options:r})=>c3(t,n,r)))}function p3(t){let e=f3(t),n=VT(),r=!0;const s=d=>(f,m)=>{var _;const y=Ed(t,m,d==="exit"?(_=t.presenceContext)==null?void 0:_.custom:void 0);if(y){const{transition:b,transitionEnd:I,...S}=y;f={...f,...S,...I}}return f};function o(d){e=d(t)}function a(d){const{props:f}=t,m=WN(t.parent)||{},y=[],_=new Set;let b={},I=1/0;for(let C=0;C<h3;C++){const A=d3[C],M=n[A],j=f[A]!==void 0?f[A]:m[A],W=wd(j),G=A===d?M.isActive:null;G===!1&&(I=C);let J=j===m[A]&&j!==f[A]&&W;if(J&&r&&t.manuallyAnimateOnMount&&(J=!1),M.protectedKeys={...b},!M.isActive&&G===null||!j&&!M.prevProp||cm(j)||typeof j=="boolean")continue;const D=m3(M.prevProp,j);let R=D||A===d&&M.isActive&&!J&&W||C>I&&W,k=!1;const V=Array.isArray(j)?j:[j];let F=V.reduce(s(A),{});G===!1&&(F={});const{prevResolvedValues:B={}}=M,L={...B,...F},ge=he=>{R=!0,_.has(he)&&(k=!0,_.delete(he)),M.needsAnimating[he]=!0;const Z=t.getValue(he);Z&&(Z.liveStyle=!1)};for(const he in L){const Z=F[he],ee=B[he];if(b.hasOwnProperty(he))continue;let re=!1;Hv(Z)&&Hv(ee)?re=!$N(Z,ee):re=Z!==ee,re?Z!=null?ge(he):_.add(he):Z!==void 0&&_.has(he)?ge(he):M.protectedKeys[he]=!0}M.prevProp=j,M.prevResolvedValues=F,M.isActive&&(b={...b,...F}),r&&t.blockInitialAnimation&&(R=!1),R&&(!(J&&D)||k)&&y.push(...V.map(he=>({animation:he,options:{type:A}})))}if(_.size){const C={};if(typeof f.initial!="boolean"){const A=Ed(t,Array.isArray(f.initial)?f.initial[0]:f.initial);A&&A.transition&&(C.transition=A.transition)}_.forEach(A=>{const M=t.getBaseTarget(A),j=t.getValue(A);j&&(j.liveStyle=!0),C[A]=M??null}),y.push({animation:C})}let S=!!y.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(y):Promise.resolve()}function c(d,f){var y;if(n[d].isActive===f)return Promise.resolve();(y=t.variantChildren)==null||y.forEach(_=>{var b;return(b=_.animationState)==null?void 0:b.setActive(d,f)}),n[d].isActive=f;const m=a(d);for(const _ in n)n[_].protectedKeys={};return m}return{animateChanges:a,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=VT(),r=!0}}}function m3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!$N(e,t):!1}function ma(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function VT(){return{animate:ma(!0),whileInView:ma(),whileHover:ma(),whileTap:ma(),whileDrag:ma(),whileFocus:ma(),exit:ma()}}class Oo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class g3 extends Oo{constructor(e){super(e),e.animationState||(e.animationState=p3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();cm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let y3=0;class v3 extends Oo{constructor(){super(...arguments),this.id=y3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const _3={animation:{Feature:g3},exit:{Feature:v3}};function bd(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function qd(t){return{point:{x:t.pageX,y:t.pageY}}}const w3=t=>e=>M_(e)&&t(e,qd(e));function td(t,e,n,r){return bd(t,e,w3(n),r)}function HN({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function x3({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function E3(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const GN=1e-4,b3=1-GN,T3=1+GN,qN=.01,S3=0-qN,C3=0+qN;function Dn(t){return t.max-t.min}function I3(t,e,n){return Math.abs(t-e)<=n}function FT(t,e,n,r=.5){t.origin=r,t.originPoint=It(e.min,e.max,t.origin),t.scale=Dn(n)/Dn(e),t.translate=It(n.min,n.max,t.origin)-t.originPoint,(t.scale>=b3&&t.scale<=T3||isNaN(t.scale))&&(t.scale=1),(t.translate>=S3&&t.translate<=C3||isNaN(t.translate))&&(t.translate=0)}function nd(t,e,n,r){FT(t.x,e.x,n.x,r?r.originX:void 0),FT(t.y,e.y,n.y,r?r.originY:void 0)}function UT(t,e,n){t.min=n.min+e.min,t.max=t.min+Dn(e)}function N3(t,e,n){UT(t.x,e.x,n.x),UT(t.y,e.y,n.y)}function BT(t,e,n){t.min=e.min-n.min,t.max=t.min+Dn(e)}function rd(t,e,n){BT(t.x,e.x,n.x),BT(t.y,e.y,n.y)}const zT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xl=()=>({x:zT(),y:zT()}),$T=()=>({min:0,max:0}),Ot=()=>({x:$T(),y:$T()});function vr(t){return[t("x"),t("y")]}function zy(t){return t===void 0||t===1}function Kv({scale:t,scaleX:e,scaleY:n}){return!zy(t)||!zy(e)||!zy(n)}function ga(t){return Kv(t)||KN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function KN(t){return WT(t.x)||WT(t.y)}function WT(t){return t&&t!=="0%"}function _p(t,e,n){const r=t-n,s=e*r;return n+s}function HT(t,e,n,r,s){return s!==void 0&&(t=_p(t,s,r)),_p(t,n,r)+e}function Yv(t,e=0,n=1,r,s){t.min=HT(t.min,e,n,r,s),t.max=HT(t.max,e,n,r,s)}function YN(t,{x:e,y:n}){Yv(t.x,e.translate,e.scale,e.originPoint),Yv(t.y,n.translate,n.scale,n.originPoint)}const GT=.999999999999,qT=1.0000000000001;function R3(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,a;for(let c=0;c<s;c++){o=n[c],a=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Zl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,YN(t,a)),r&&ga(o.latestValues)&&Zl(t,o.latestValues))}e.x<qT&&e.x>GT&&(e.x=1),e.y<qT&&e.y>GT&&(e.y=1)}function Jl(t,e){t.min=t.min+e,t.max=t.max+e}function KT(t,e,n,r,s=.5){const o=It(t.min,t.max,s);Yv(t,e,n,o,r)}function Zl(t,e){KT(t.x,e.x,e.scaleX,e.scale,e.originX),KT(t.y,e.y,e.scaleY,e.scale,e.originY)}function QN(t,e){return HN(E3(t.getBoundingClientRect(),e))}function A3(t,e,n){const r=QN(t,n),{scroll:s}=e;return s&&(Jl(r.x,s.offset.x),Jl(r.y,s.offset.y)),r}const XN=({current:t})=>t?t.ownerDocument.defaultView:null,YT=(t,e)=>Math.abs(t-e);function P3(t,e){const n=YT(t.x,e.x),r=YT(t.y,e.y);return Math.sqrt(n**2+r**2)}class JN{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Wy(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,b=P3(y.offset,{x:0,y:0})>=3;if(!_&&!b)return;const{point:I}=y,{timestamp:S}=un;this.history.push({...I,timestamp:S});const{onStart:C,onMove:A}=this.handlers;_||(C&&C(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,y)},this.handlePointerMove=(y,_)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=$y(_,this.transformPagePoint),Nt.update(this.updatePoint,!0)},this.handlePointerUp=(y,_)=>{this.end();const{onEnd:b,onSessionEnd:I,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Wy(y.type==="pointercancel"?this.lastMoveEventInfo:$y(_,this.transformPagePoint),this.history);this.startEvent&&b&&b(y,C),I&&I(y,C)},!M_(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=qd(e),c=$y(a,this.transformPagePoint),{point:d}=c,{timestamp:f}=un;this.history=[{...d,timestamp:f}];const{onSessionStart:m}=n;m&&m(e,Wy(c,this.history)),this.removeListeners=Wd(td(this.contextWindow,"pointermove",this.handlePointerMove),td(this.contextWindow,"pointerup",this.handlePointerUp),td(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Eo(this.updatePoint)}}function $y(t,e){return e?{point:e(t.point)}:t}function QT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Wy({point:t},e){return{point:t,delta:QT(t,ZN(e)),offset:QT(t,k3(e)),velocity:D3(e,.1)}}function k3(t){return t[0]}function ZN(t){return t[t.length-1]}function D3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=ZN(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>ys(e)));)n--;if(!r)return{x:0,y:0};const o=vs(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const a={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function M3(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?It(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?It(n,t,r.max):Math.min(t,n)),t}function XT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function j3(t,{top:e,left:n,bottom:r,right:s}){return{x:XT(t.x,n,s),y:XT(t.y,e,r)}}function JT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function O3(t,e){return{x:JT(t.x,e.x),y:JT(t.y,e.y)}}function L3(t,e){let n=.5;const r=Dn(t),s=Dn(e);return s>r?n=yd(e.min,e.max-r,t.min):r>s&&(n=yd(t.min,t.max-s,e.min)),li(0,1,n)}function V3(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Qv=.35;function F3(t=Qv){return t===!1?t=0:t===!0&&(t=Qv),{x:ZT(t,"left","right"),y:ZT(t,"top","bottom")}}function ZT(t,e,n){return{min:eS(t,e),max:eS(t,n)}}function eS(t,e){return typeof t=="number"?t:t[e]||0}const U3=new WeakMap;class B3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ot(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(qd(m).point)},o=(m,y)=>{const{drag:_,dragPropagation:b,onDragStart:I}=this.getProps();if(_&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=t5(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vr(C=>{let A=this.getAxisMotionValue(C).get()||0;if(_s.test(A)){const{projection:M}=this.visualElement;if(M&&M.layout){const j=M.layout.layoutBox[C];j&&(A=Dn(j)*(parseFloat(A)/100))}}this.originPoint[C]=A}),I&&Nt.postRender(()=>I(m,y)),Gv(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},a=(m,y)=>{const{dragPropagation:_,dragDirectionLock:b,onDirectionLock:I,onDrag:S}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:C}=y;if(b&&this.currentDirection===null){this.currentDirection=z3(C),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",y.point,C),this.updateAxis("y",y.point,C),this.visualElement.render(),S&&S(m,y)},c=(m,y)=>this.stop(m,y),d=()=>vr(m=>{var y;return this.getAnimationState(m)==="paused"&&((y=this.getAxisMotionValue(m).animation)==null?void 0:y.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new JN(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:XN(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Nt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!kf(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=M3(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,s=this.constraints;e&&Ql(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=j3(r.layoutBox,e):this.constraints=!1,this.elastic=F3(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&vr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=V3(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ql(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=A3(r,s.root,this.visualElement.getTransformPagePoint());let a=O3(s.layout.layoutBox,o);if(n){const c=n(x3(a));this.hasMutatedConstraints=!!c,c&&(a=HN(c))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},f=vr(m=>{if(!kf(m,n,this.currentDirection))return;let y=d&&d[m]||{};a&&(y={min:0,max:0});const _=s?200:1e6,b=s?40:1e7,I={type:"inertia",velocity:r?e[m]:0,bounceStiffness:_,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...o,...y};return this.startAxisValueAnimation(m,I)});return Promise.all(f).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Gv(this.visualElement,e),r.start(H_(e,r,0,n,this.visualElement,!1))}stopAnimation(){vr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){vr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){vr(n=>{const{drag:r}=this.getProps();if(!kf(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:c}=s.layout.layoutBox[n];o.set(e[n]-It(a,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ql(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};vr(a=>{const c=this.getAxisMotionValue(a);if(c&&this.constraints!==!1){const d=c.get();s[a]=L3({min:d,max:d},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),vr(a=>{if(!kf(a,e,null))return;const c=this.getAxisMotionValue(a),{min:d,max:f}=this.constraints[a];c.set(It(d,f,s[a]))})}addListeners(){if(!this.visualElement.current)return;U3.set(this.visualElement,this);const e=this.visualElement.current,n=td(e,"pointerdown",d=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Ql(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Nt.read(r);const a=bd(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(vr(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=d[m].translate,y.set(y.get()+d[m].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:a=Qv,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:a,dragMomentum:c}}}function kf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function z3(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class $3 extends Oo{constructor(e){super(e),this.removeGroupControls=Er,this.removeListeners=Er,this.controls=new B3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Er}unmount(){this.removeGroupControls(),this.removeListeners()}}const tS=t=>(e,n)=>{t&&Nt.postRender(()=>t(e,n))};class W3 extends Oo{constructor(){super(...arguments),this.removePointerDownListener=Er}onPointerDown(e){this.session=new JN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:XN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:tS(e),onStart:tS(n),onMove:r,onEnd:(o,a)=>{delete this.session,s&&Nt.postRender(()=>s(o,a))}}}mount(){this.removePointerDownListener=td(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Jf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Vu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(je.test(t))t=parseFloat(t);else return t;const n=nS(t,e.target.x),r=nS(t,e.target.y);return`${n}% ${r}%`}},H3={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=bo.parse(t);if(s.length>5)return r;const o=bo.createTransformer(t),a=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;s[0+a]/=c,s[1+a]/=d;const f=It(c,d,.5);return typeof s[2+a]=="number"&&(s[2+a]/=f),typeof s[3+a]=="number"&&(s[3+a]/=f),o(s)}};class G3 extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;A5(q3),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Jf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,{projection:a}=r;return a&&(a.isPresent=o,s||e.layoutDependency!==n||n===void 0||e.isPresent!==o?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||Nt.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),D_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function eR(t){const[e,n]=IN(),r=E.useContext(u_);return h.jsx(G3,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(kN),isPresent:e,safeToRemove:n})}const q3={borderRadius:{...Vu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vu,borderTopRightRadius:Vu,borderBottomLeftRadius:Vu,borderBottomRightRadius:Vu,boxShadow:H3};function K3(t,e,n){const r=In(t)?t:hc(t);return r.start(H_("",r,e,n)),r.animation}const Y3=(t,e)=>t.depth-e.depth;class Q3{constructor(){this.children=[],this.isDirty=!1}add(e){f_(this.children,e),this.isDirty=!0}remove(e){p_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Y3),this.isDirty=!1,this.children.forEach(e)}}function X3(t,e){const n=Gn.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(Eo(r),t(o-e))};return Nt.setup(r,!0),()=>Eo(r)}const tR=["TopLeft","TopRight","BottomLeft","BottomRight"],J3=tR.length,rS=t=>typeof t=="string"?parseFloat(t):t,sS=t=>typeof t=="number"||je.test(t);function Z3(t,e,n,r,s,o){s?(t.opacity=It(0,n.opacity??1,e6(r)),t.opacityExit=It(e.opacity??1,0,t6(r))):o&&(t.opacity=It(e.opacity??1,n.opacity??1,r));for(let a=0;a<J3;a++){const c=`border${tR[a]}Radius`;let d=iS(e,c),f=iS(n,c);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||sS(d)===sS(f)?(t[c]=Math.max(It(rS(d),rS(f),r),0),(_s.test(f)||_s.test(d))&&(t[c]+="%")):t[c]=f}(e.rotate||n.rotate)&&(t.rotate=It(e.rotate||0,n.rotate||0,r))}function iS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const e6=nR(0,.5,KI),t6=nR(.5,.95,Er);function nR(t,e,n){return r=>r<t?0:r>e?1:n(yd(t,e,r))}function oS(t,e){t.min=e.min,t.max=e.max}function yr(t,e){oS(t.x,e.x),oS(t.y,e.y)}function aS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function lS(t,e,n,r,s){return t-=e,t=_p(t,1/n,r),s!==void 0&&(t=_p(t,1/s,r)),t}function n6(t,e=0,n=1,r=.5,s,o=t,a=t){if(_s.test(e)&&(e=parseFloat(e),e=It(a.min,a.max,e/100)-a.min),typeof e!="number")return;let c=It(o.min,o.max,r);t===o&&(c-=e),t.min=lS(t.min,e,n,c,s),t.max=lS(t.max,e,n,c,s)}function cS(t,e,[n,r,s],o,a){n6(t,e[n],e[r],e[s],e.scale,o,a)}const r6=["x","scaleX","originX"],s6=["y","scaleY","originY"];function uS(t,e,n,r){cS(t.x,e,r6,n?n.x:void 0,r?r.x:void 0),cS(t.y,e,s6,n?n.y:void 0,r?r.y:void 0)}function dS(t){return t.translate===0&&t.scale===1}function rR(t){return dS(t.x)&&dS(t.y)}function hS(t,e){return t.min===e.min&&t.max===e.max}function i6(t,e){return hS(t.x,e.x)&&hS(t.y,e.y)}function fS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function sR(t,e){return fS(t.x,e.x)&&fS(t.y,e.y)}function pS(t){return Dn(t.x)/Dn(t.y)}function mS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class o6{constructor(){this.members=[]}add(e){f_(this.members,e),e.scheduleRender()}remove(e){if(p_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function a6(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((s||o||a)&&(r=`translate3d(${s}px, ${o}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:m,rotateX:y,rotateY:_,skewX:b,skewY:I}=n;f&&(r=`perspective(${f}px) ${r}`),m&&(r+=`rotate(${m}deg) `),y&&(r+=`rotateX(${y}deg) `),_&&(r+=`rotateY(${_}deg) `),b&&(r+=`skewX(${b}deg) `),I&&(r+=`skewY(${I}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const Hy=["","X","Y","Z"],l6={visibility:"hidden"},c6=1e3;let u6=0;function Gy(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function iR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=BN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Nt,!(s||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&iR(r)}function oR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},c=e==null?void 0:e()){this.id=u6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(f6),this.nodes.forEach(v6),this.nodes.forEach(_6),this.nodes.forEach(p6)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Q3)}addEventListener(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new y_),this.eventHandlers.get(a).add(c)}notifyListeners(a,...c){const d=this.eventHandlers.get(a);d&&d.notify(...c)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=CN(a)&&!a5(a),this.instance=a;const{layoutId:c,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let m;const y=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=X3(y,250),Jf.hasAnimatedSinceResize&&(Jf.hasAnimatedSinceResize=!1,this.nodes.forEach(yS))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:y,hasRelativeLayoutChanged:_,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||f.getDefaultTransition()||T6,{onLayoutAnimationStart:S,onLayoutAnimationComplete:C}=f.getProps(),A=!this.targetLayout||!sR(this.targetLayout,b),M=!y&&_;if(this.options.layoutRoot||this.resumeFrom||M||y&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...P_(I,"layout"),onPlay:S,onComplete:C};(f.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(m,M)}else y||yS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Eo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(w6),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&iR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gS);return}this.isUpdating||this.nodes.forEach(g6),this.isUpdating=!1,this.nodes.forEach(y6),this.nodes.forEach(d6),this.nodes.forEach(h6),this.clearAllSnapshots();const c=Gn.now();un.delta=li(0,1e3/60,c-un.timestamp),un.timestamp=c,un.isProcessing=!0,Ly.update.process(un),Ly.preRender.process(un),Ly.render.process(un),un.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,D_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(m6),this.sharedNodes.forEach(x6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Nt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Nt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Dn(this.snapshot.measuredBox.x)&&!Dn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ot(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(c=!1),c&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!rR(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;a&&this.instance&&(c||ga(this.latestValues)||m)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return a&&(d=this.removeTransform(d)),S6(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:a}=this.options;if(!a)return Ot();const c=a.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(C6))){const{scroll:m}=this.root;m&&(Jl(c.x,m.offset.x),Jl(c.y,m.offset.y))}return c}removeElementScroll(a){var d;const c=Ot();if(yr(c,a),(d=this.scroll)!=null&&d.wasRoot)return c;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:y,options:_}=m;m!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&yr(c,a),Jl(c.x,y.offset.x),Jl(c.y,y.offset.y))}return c}applyTransform(a,c=!1){const d=Ot();yr(d,a);for(let f=0;f<this.path.length;f++){const m=this.path[f];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Zl(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),ga(m.latestValues)&&Zl(d,m.latestValues)}return ga(this.latestValues)&&Zl(d,this.latestValues),d}removeTransform(a){const c=Ot();yr(c,a);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!ga(f.latestValues))continue;Kv(f.latestValues)&&f.updateSnapshot();const m=Ot(),y=f.measurePageBox();yr(m,y),uS(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return ga(this.latestValues)&&uS(c,this.latestValues),c}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==un.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var _;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(a||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:y}=this.options;if(!(!this.layout||!(m||y))){if(this.resolvedRelativeTargetAt=un.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ot(),this.relativeTargetOrigin=Ot(),rd(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ot(),this.targetWithTransforms=Ot()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),N3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yr(this.target,this.layout.layoutBox),YN(this.target,this.targetDelta)):yr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ot(),this.relativeTargetOrigin=Ot(),rd(this.relativeTargetOrigin,this.target,b.target),yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Kv(this.parent.latestValues)||KN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var I;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let d=!0;if((this.isProjectionDirty||(I=this.parent)!=null&&I.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===un.timestamp&&(d=!1),d)return;const{layout:f,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||m))return;yr(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,_=this.treeScale.y;R3(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ot());const{target:b}=a;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(aS(this.prevProjectionDelta.x,this.projectionDelta.x),aS(this.prevProjectionDelta.y,this.projectionDelta.y)),nd(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==_||!mS(this.projectionDelta.x,this.prevProjectionDelta.x)||!mS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),a){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Xl(),this.projectionDelta=Xl(),this.projectionDeltaWithTransform=Xl()}setAnimationOrigin(a,c=!1){const d=this.snapshot,f=d?d.latestValues:{},m={...this.latestValues},y=Xl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const _=Ot(),b=d?d.source:void 0,I=this.layout?this.layout.source:void 0,S=b!==I,C=this.getStack(),A=!C||C.members.length<=1,M=!!(S&&!A&&this.options.crossfade===!0&&!this.path.some(b6));this.animationProgress=0;let j;this.mixTargetDelta=W=>{const G=W/1e3;vS(y.x,a.x,G),vS(y.y,a.y,G),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rd(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),E6(this.relativeTarget,this.relativeTargetOrigin,_,G),j&&i6(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=Ot()),yr(j,this.relativeTarget)),S&&(this.animationValues=m,Z3(m,f,this.latestValues,G,M,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=G},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var c,d,f;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(f=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||f.stop(),this.pendingAnimation&&(Eo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Nt.update(()=>{Jf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=hc(0)),this.currentAnimation=K3(this.motionValue,[0,1e3],{...a,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),a.onUpdate&&a.onUpdate(m)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(c6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:c,target:d,layout:f,latestValues:m}=a;if(!(!c||!d||!f)){if(this!==a&&this.layout&&f&&aR(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Ot();const y=Dn(this.layout.layoutBox.x);d.x.min=a.target.x.min,d.x.max=d.x.min+y;const _=Dn(this.layout.layoutBox.y);d.y.min=a.target.y.min,d.y.max=d.y.min+_}yr(c,d),Zl(c,m),nd(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(a,c){this.sharedNodes.has(a)||this.sharedNodes.set(a,new o6),this.sharedNodes.get(a).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var c;const{layoutId:a}=this.options;return a?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:a}=this.options;return a?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:c,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),a&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let c=!1;const{latestValues:d}=a;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const f={};d.z&&Gy("z",a,f,this.animationValues);for(let m=0;m<Hy.length;m++)Gy(`rotate${Hy[m]}`,a,f,this.animationValues),Gy(`skew${Hy[m]}`,a,f,this.animationValues);a.render();for(const m in f)a.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return l6;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Xf(a==null?void 0:a.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Xf(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!ga(this.latestValues)&&(b.transform=d?d({},""):"none",this.hasProjected=!1),b}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=a6(this.projectionDeltaWithTransform,this.treeScale,m),d&&(c.transform=d(m,c.transform));const{x:y,y:_}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${_.origin*100}% 0`,f.animationValues?c.opacity=f===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const b in xd){if(m[b]===void 0)continue;const{correct:I,applyTo:S,isCSSVariable:C}=xd[b],A=c.transform==="none"?m[b]:I(m[b],f);if(S){const M=S.length;for(let j=0;j<M;j++)c[S[j]]=A}else C?this.options.visualElement.renderState.vars[b]=A:c[b]=A}return this.options.layoutId&&(c.pointerEvents=f===this?Xf(a==null?void 0:a.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var c;return(c=a.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(gS),this.root.sharedNodes.clear()}}}function d6(t){t.updateLayout()}function h6(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,a=e.source!==t.layout.source;o==="size"?vr(y=>{const _=a?e.measuredBox[y]:e.layoutBox[y],b=Dn(_);_.min=r[y].min,_.max=_.min+b}):aR(o,e.layoutBox,r)&&vr(y=>{const _=a?e.measuredBox[y]:e.layoutBox[y],b=Dn(r[y]);_.max=_.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+b)});const c=Xl();nd(c,r,e.layoutBox);const d=Xl();a?nd(d,t.applyTransform(s,!0),e.measuredBox):nd(d,r,e.layoutBox);const f=!rR(c);let m=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:b}=y;if(_&&b){const I=Ot();rd(I,e.layoutBox,_.layoutBox);const S=Ot();rd(S,r,b.layoutBox),sR(I,S)||(m=!0),y.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=I,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function f6(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function p6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function m6(t){t.clearSnapshot()}function gS(t){t.clearMeasurements()}function g6(t){t.isLayoutDirty=!1}function y6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function yS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function v6(t){t.resolveTargetDelta()}function _6(t){t.calcProjection()}function w6(t){t.resetSkewAndRotation()}function x6(t){t.removeLeadSnapshot()}function vS(t,e,n){t.translate=It(e.translate,0,n),t.scale=It(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function _S(t,e,n,r){t.min=It(e.min,n.min,r),t.max=It(e.max,n.max,r)}function E6(t,e,n,r){_S(t.x,e.x,n.x,r),_S(t.y,e.y,n.y,r)}function b6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const T6={duration:.45,ease:[.4,0,.1,1]},wS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),xS=wS("applewebkit/")&&!wS("chrome/")?Math.round:Er;function ES(t){t.min=xS(t.min),t.max=xS(t.max)}function S6(t){ES(t.x),ES(t.y)}function aR(t,e,n){return t==="position"||t==="preserve-aspect"&&!I3(pS(e),pS(n),.2)}function C6(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const I6=oR({attachResizeListener:(t,e)=>bd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qy={current:void 0},lR=oR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!qy.current){const t=new I6({});t.mount(window),t.setOptions({layoutScroll:!0}),qy.current=t}return qy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),N6={pan:{Feature:W3},drag:{Feature:$3,ProjectionNode:lR,MeasureLayout:eR}};function bS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=r[s];o&&Nt.postRender(()=>o(e,qd(e)))}class R6 extends Oo{mount(){const{current:e}=this.node;e&&(this.unmount=n5(e,(n,r)=>(bS(this.node,r,"Start"),s=>bS(this.node,s,"End"))))}unmount(){}}class A6 extends Oo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wd(bd(this.node.current,"focus",()=>this.onFocus()),bd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function TS(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=r[s];o&&Nt.postRender(()=>o(e,qd(e)))}class P6 extends Oo{mount(){const{current:e}=this.node;e&&(this.unmount=o5(e,(n,r)=>(TS(this.node,r,"Start"),(s,{success:o})=>TS(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xv=new WeakMap,Ky=new WeakMap,k6=t=>{const e=Xv.get(t.target);e&&e(t)},D6=t=>{t.forEach(k6)};function M6({root:t,...e}){const n=t||document;Ky.has(n)||Ky.set(n,{});const r=Ky.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(D6,{root:t,...e})),r[s]}function j6(t,e,n){const r=M6(e);return Xv.set(t,n),r.observe(t),()=>{Xv.delete(t),r.unobserve(t)}}const O6={some:0,all:1};class L6 extends Oo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:O6[s]},c=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),_=f?m:y;_&&_(d)};return j6(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(V6(e,n))&&this.startObserver()}unmount(){}}function V6({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const F6={inView:{Feature:L6},tap:{Feature:P6},focus:{Feature:A6},hover:{Feature:R6}},U6={layout:{ProjectionNode:lR,MeasureLayout:eR}},Jv={current:null},cR={current:!1};function B6(){if(cR.current=!0,!!h_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Jv.current=t.matches;t.addListener(e),e()}else Jv.current=!1}const z6=new WeakMap;function $6(t,e,n){for(const r in e){const s=e[r],o=n[r];if(In(s))t.addValue(r,s);else if(In(o))t.addValue(r,hc(s,{owner:t}));else if(o!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,hc(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const SS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class W6{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=R_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Gn.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Nt.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=a;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=um(n),this.isVariantNode=AN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in y){const b=y[_];d[_]!==void 0&&In(b)&&b.set(d[_],!1)}}mount(e){this.current=e,z6.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),cR.current||B6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Jv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Eo(this.notifyUpdate),Eo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Rc.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Nt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in fc){const n=fc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ot()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<SS.length;r++){const s=SS[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,a=e[o];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=$6(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=hc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(VI(r)||UI(r))?r=parseFloat(r):!c5(r)&&bo.test(n)&&(r=xN(e,n)),this.setBaseTarget(e,In(r)?r.get():r)),In(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=$_(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!In(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new y_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class uR extends W6{constructor(){super(...arguments),this.KeyframeResolver=XF}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;In(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function dR(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}function H6(t){return window.getComputedStyle(t)}class G6 extends uR{constructor(){super(...arguments),this.type="html",this.renderInstance=dR}readValueFromInstance(e,n){var r;if(Rc.has(n))return(r=this.projection)!=null&&r.isProjecting?Fv(n):gF(e,n);{const s=H6(e),o=(w_(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return QN(e,n)}build(e,n,r){U_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return W_(e,n,r)}}const hR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function q6(t,e,n,r){dR(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(hR.has(s)?s:F_(s),e.attrs[s])}class K6 extends uR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ot}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Rc.has(n)){const r=wN(n);return r&&r.default||0}return n=hR.has(n)?n:F_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return UN(e,n,r)}build(e,n,r){ON(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){q6(e,n,r,s)}mount(e){this.isSVGTag=VN(e.tagName),super.mount(e)}}const Y6=(t,e)=>z_(t)?new K6(e):new G6(e,{allowProjection:t!==E.Fragment}),Q6=q5({..._3,...F6,...N6,...U6},Y6),O=v5(Q6),X6=()=>{};var CS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de=function(t,e){if(!t)throw Ac(e)},Ac=function(t){return new Error("Firebase Database ("+fR.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},J6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],a=t[n++],c=t[n++],d=((s&7)<<18|(o&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|a&63)}}return e.join("")},G_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],a=s+1<t.length,c=a?t[s+1]:0,d=s+2<t.length,f=d?t[s+2]:0,m=o>>2,y=(o&3)<<4|c>>4;let _=(c&15)<<2|f>>6,b=f&63;d||(b=64,a||(_=64)),r.push(n[m],n[y],n[_],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):J6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const f=s<t.length?n[t.charAt(s)]:64;++s;const y=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||c==null||f==null||y==null)throw new Z6;const _=o<<2|c>>4;if(r.push(_),f!==64){const b=c<<4&240|f>>2;if(r.push(b),y!==64){const I=f<<6&192|y;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Z6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mR=function(t){const e=pR(t);return G_.encodeByteArray(e,!0)},wp=function(t){return mR(t).replace(/\./g,"")},xp=function(t){try{return G_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eU(t){return gR(void 0,t)}function gR(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!tU(n)||(t[n]=gR(t[n],e[n]));return t}function tU(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU=()=>nU().__FIREBASE_DEFAULTS__,sU=()=>{if(typeof process>"u"||typeof CS>"u")return;const t=CS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xp(t[1]);return e&&JSON.parse(e)},dm=()=>{try{return X6()||rU()||sU()||iU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yR=t=>{var e,n;return(n=(e=dm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},vR=t=>{const e=yR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_R=()=>{var t;return(t=dm())==null?void 0:t.config},wR=t=>{var e;return(e=dm())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function K_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[wp(JSON.stringify(n)),wp(JSON.stringify(a)),""].join(".")}const sd={};function oU(){const t={prod:[],emulator:[]};for(const e of Object.keys(sd))sd[e]?t.emulator.push(e):t.prod.push(e);return t}function aU(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let IS=!1;function Y_(t,e){if(typeof window>"u"||typeof document>"u"||!Lo(window.location.host)||sd[t]===e||sd[t]||IS)return;sd[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",o=oU().prod.length>0;function a(){const _=document.getElementById(r);_&&_.remove()}function c(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function d(_,b){_.setAttribute("width","24"),_.setAttribute("id",b),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function f(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{IS=!0,a()},_}function m(_,b){_.setAttribute("id",b),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=aU(r),b=n("text"),I=document.getElementById(b)||document.createElement("span"),S=n("learnmore"),C=document.getElementById(S)||document.createElement("a"),A=n("preprendIcon"),M=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const j=_.element;c(j),m(C,S);const W=f();d(M,A),j.append(M,I,C,W),document.body.appendChild(j)}o?(I.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function lU(){var e;const t=(e=dm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ER(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dU(){const t=Rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hU(){return fR.NODE_ADMIN===!0}function fU(){return!lU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pU(){try{return typeof indexedDB=="object"}catch{return!1}}function mU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU="FirebaseError";class vi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gU,Object.setPrototypeOf(this,vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kd.prototype.create)}}class Kd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],a=o?yU(o,r):"Error",c=`${this.serviceName}: ${a} (${s}).`;return new vi(s,c,r)}}function yU(t,e){return t.replace(vU,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const vU=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(t){return JSON.parse(t)}function fn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=function(t){let e={},n={},r={},s="";try{const o=t.split(".");e=Td(xp(o[0])||""),n=Td(xp(o[1])||""),s=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},_U=function(t){const e=bR(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},wU=function(t){const e=bR(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function pc(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Zv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ep(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function To(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],a=e[s];if(NS(o)&&NS(a)){if(!To(o,a))return!1}else if(o!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function NS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Hu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Gu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)r[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)r[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const _=r[y-3]^r[y-8]^r[y-14]^r[y-16];r[y]=(_<<1|_>>>31)&4294967295}let s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],c=this.chain_[3],d=this.chain_[4],f,m;for(let y=0;y<80;y++){y<40?y<20?(f=c^o&(a^c),m=1518500249):(f=o^a^c,m=1859775393):y<60?(f=o&a|c&(o|a),m=2400959708):(f=o^a^c,m=3395469782);const _=(s<<5|s>>>27)+f+d+m+r[y]&4294967295;d=c,c=a,a=(o<<30|o>>>2)&4294967295,o=s,s=_}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const o=this.buf_;let a=this.inbuf_;for(;s<n;){if(a===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(o[a]=e.charCodeAt(s),++a,++s,a===this.blockSize){this.compress_(o),a=0;break}}else for(;s<n;)if(o[a]=e[s],++a,++s,a===this.blockSize){this.compress_(o),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[s]>>o&255,++r;return e}}function EU(t,e){const n=new bU(t,e);return n.subscribe.bind(n)}class bU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TU(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Yy),s.error===void 0&&(s.error=Yy),s.complete===void 0&&(s.complete=Yy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yy(){}function SU(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const o=s-55296;r++,de(r<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(r)-56320;s=65536+(o<<10)+a}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},hm=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t){return t&&t._delegate?t._delegate:t}class So{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new q_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RU(e))try{this.getOrInitializeService({instanceIdentifier:ya})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ya){return this.instances.has(e)}getOptions(e=ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&a.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ya){return this.component?this.component.multipleInstances?e:ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NU(t){return t===ya?void 0:t}function RU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new IU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(He||(He={}));const PU={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},kU=He.INFO,DU={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},MU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=DU[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fm{constructor(e){this.name=e,this._logLevel=kU,this._logHandler=MU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const jU=(t,e)=>e.some(n=>t instanceof n);let RS,AS;function OU(){return RS||(RS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LU(){return AS||(AS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TR=new WeakMap,e0=new WeakMap,SR=new WeakMap,Qy=new WeakMap,X_=new WeakMap;function VU(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(uo(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&TR.set(n,t)}).catch(()=>{}),X_.set(e,t),e}function FU(t){if(e0.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});e0.set(t,e)}let t0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return e0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||SR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return uo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UU(t){t0=t(t0)}function BU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xy(this),e,...n);return SR.set(r,e.sort?e.sort():[e]),uo(r)}:LU().includes(t)?function(...e){return t.apply(Xy(this),e),uo(TR.get(this))}:function(...e){return uo(t.apply(Xy(this),e))}}function zU(t){return typeof t=="function"?BU(t):(t instanceof IDBTransaction&&FU(t),jU(t,OU())?new Proxy(t,t0):t)}function uo(t){if(t instanceof IDBRequest)return VU(t);if(Qy.has(t))return Qy.get(t);const e=zU(t);return e!==t&&(Qy.set(t,e),X_.set(e,t)),e}const Xy=t=>X_.get(t);function $U(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const a=indexedDB.open(t,e),c=uo(a);return r&&a.addEventListener("upgradeneeded",d=>{r(uo(a.result),d.oldVersion,d.newVersion,uo(a.transaction),d)}),n&&a.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const WU=["get","getKey","getAll","getAllKeys","count"],HU=["put","add","delete","clear"],Jy=new Map;function PS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jy.get(e))return Jy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=HU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||WU.includes(n)))return;const o=async function(a,...c){const d=this.transaction(a,s?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),s&&d.done]))[0]};return Jy.set(e,o),o}UU(t=>({...t,get:(e,n,r)=>PS(e,n)||t.get(e,n,r),has:(e,n)=>!!PS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function qU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const n0="@firebase/app",kS="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new fm("@firebase/app"),KU="@firebase/app-compat",YU="@firebase/analytics-compat",QU="@firebase/analytics",XU="@firebase/app-check-compat",JU="@firebase/app-check",ZU="@firebase/auth",e8="@firebase/auth-compat",t8="@firebase/database",n8="@firebase/data-connect",r8="@firebase/database-compat",s8="@firebase/functions",i8="@firebase/functions-compat",o8="@firebase/installations",a8="@firebase/installations-compat",l8="@firebase/messaging",c8="@firebase/messaging-compat",u8="@firebase/performance",d8="@firebase/performance-compat",h8="@firebase/remote-config",f8="@firebase/remote-config-compat",p8="@firebase/storage",m8="@firebase/storage-compat",g8="@firebase/firestore",y8="@firebase/ai",v8="@firebase/firestore-compat",_8="firebase",w8="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="[DEFAULT]",x8={[n0]:"fire-core",[KU]:"fire-core-compat",[QU]:"fire-analytics",[YU]:"fire-analytics-compat",[JU]:"fire-app-check",[XU]:"fire-app-check-compat",[ZU]:"fire-auth",[e8]:"fire-auth-compat",[t8]:"fire-rtdb",[n8]:"fire-data-connect",[r8]:"fire-rtdb-compat",[s8]:"fire-fn",[i8]:"fire-fn-compat",[o8]:"fire-iid",[a8]:"fire-iid-compat",[l8]:"fire-fcm",[c8]:"fire-fcm-compat",[u8]:"fire-perf",[d8]:"fire-perf-compat",[h8]:"fire-rc",[f8]:"fire-rc-compat",[p8]:"fire-gcs",[m8]:"fire-gcs-compat",[g8]:"fire-fst",[v8]:"fire-fst-compat",[y8]:"fire-vertex","fire-js":"fire-js",[_8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp=new Map,E8=new Map,s0=new Map;function DS(t,e){try{t.container.addComponent(e)}catch(n){ui.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ra(t){const e=t.name;if(s0.has(e))return ui.debug(`There were multiple attempts to register component ${e}.`),!1;s0.set(e,t);for(const n of bp.values())DS(n,t);for(const n of E8.values())DS(n,t);return!0}function pm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Hn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ho=new Kd("app","Firebase",b8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new So("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ho.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=w8;function CR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:r0,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw ho.create("bad-app-name",{appName:String(s)});if(n||(n=_R()),!n)throw ho.create("no-options");const o=bp.get(s);if(o){if(To(n,o.options)&&To(r,o.config))return o;throw ho.create("duplicate-app",{appName:s})}const a=new AU(s);for(const d of s0.values())a.addComponent(d);const c=new T8(n,r,a);return bp.set(s,c),c}function J_(t=r0){const e=bp.get(t);if(!e&&t===r0&&_R())return CR();if(!e)throw ho.create("no-app",{appName:t});return e}function ws(t,e,n){let r=x8[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ui.warn(a.join(" "));return}Ra(new So(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8="firebase-heartbeat-database",C8=1,Sd="firebase-heartbeat-store";let Zy=null;function IR(){return Zy||(Zy=$U(S8,C8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sd)}catch(n){console.warn(n)}}}}).catch(t=>{throw ho.create("idb-open",{originalErrorMessage:t.message})})),Zy}async function I8(t){try{const n=(await IR()).transaction(Sd),r=await n.objectStore(Sd).get(NR(t));return await n.done,r}catch(e){if(e instanceof vi)ui.warn(e.message);else{const n=ho.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ui.warn(n.message)}}}async function MS(t,e){try{const r=(await IR()).transaction(Sd,"readwrite");await r.objectStore(Sd).put(e,NR(t)),await r.done}catch(n){if(n instanceof vi)ui.warn(n.message);else{const r=ho.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ui.warn(r.message)}}}function NR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8=1024,R8=30;class A8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new k8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=jS();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>R8){const a=D8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ui.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=jS(),{heartbeatsToSend:r,unsentEntries:s}=P8(this._heartbeatsCache.heartbeats),o=wp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ui.warn(n),""}}}function jS(){return new Date().toISOString().substring(0,10)}function P8(t,e=N8){const n=[];let r=t.slice();for(const s of t){const o=n.find(a=>a.agent===s.agent);if(o){if(o.dates.push(s.date),OS(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),OS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class k8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pU()?mU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await I8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return MS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return MS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function OS(t){return wp(JSON.stringify({version:2,heartbeats:t})).length}function D8(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M8(t){Ra(new So("platform-logger",e=>new GU(e),"PRIVATE")),Ra(new So("heartbeat",e=>new A8(e),"PRIVATE")),ws(n0,kS,t),ws(n0,kS,"esm2020"),ws("fire-js","")}M8("");function RR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const j8=RR,AR=new Kd("auth","Firebase",RR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp=new fm("@firebase/auth");function O8(t,...e){Tp.logLevel<=He.WARN&&Tp.warn(`Auth (${Ha}): ${t}`,...e)}function Zf(t,...e){Tp.logLevel<=He.ERROR&&Tp.error(`Auth (${Ha}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t,...e){throw ew(t,...e)}function zr(t,...e){return ew(t,...e)}function Z_(t,e,n){const r={...j8(),[e]:n};return new Kd("auth","Firebase",r).create(e,{appName:t.name})}function si(t){return Z_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function L8(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Tr(t,"argument-error"),Z_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ew(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AR.create(t,...e)}function De(t,e,...n){if(!t)throw ew(e,...n)}function ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zf(e),new Error(e)}function di(t,e){t||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function V8(){return LS()==="http:"||LS()==="https:"}function LS(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(V8()||uU()||"connection"in navigator)?navigator.onLine:!0}function U8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,n){this.shortDelay=e,this.longDelay=n,di(n>e,"Short delay should be less than long delay!"),this.isMobile=Q_()||ER()}get(){return F8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t,e){di(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$8=new Yd(3e4,6e4);function Vo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function wi(t,e,n,r,s={}){return kR(t,s,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const c=Pc({key:t.config.apiKey,...a}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:d,...o};return cU()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Lo(t.emulatorConfig.host)&&(f.credentials="include"),PR.fetch()(await DR(t,t.config.apiHost,n,c),f)})}async function kR(t,e,n){t._canInitEmulator=!1;const r={...B8,...e};try{const s=new H8(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Df(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const c=o.ok?a.errorMessage:a.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Df(t,"credential-already-in-use",a);if(d==="EMAIL_EXISTS")throw Df(t,"email-already-in-use",a);if(d==="USER_DISABLED")throw Df(t,"user-disabled",a);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Z_(t,m,f);Tr(t,m)}}catch(s){if(s instanceof vi)throw s;Tr(t,"network-request-failed",{message:String(s)})}}async function Qd(t,e,n,r,s={}){const o=await wi(t,e,n,r,s);return"mfaPendingCredential"in o&&Tr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function DR(t,e,n,r){const s=`${e}${n}?${r}`,o=t,a=o.config.emulator?tw(t.config,s):`${t.config.apiScheme}://${s}`;return z8.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}function W8(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class H8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zr(this.auth,"network-request-failed")),$8.get())})}}function Df(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=zr(t,e,r);return s.customData._tokenResponse=n,s}function VS(t){return t!==void 0&&t.enterprise!==void 0}class G8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return W8(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function q8(t,e){return wi(t,"GET","/v2/recaptchaConfig",Vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K8(t,e){return wi(t,"POST","/v1/accounts:delete",e)}async function Sp(t,e){return wi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Y8(t,e=!1){const n=Mn(t),r=await n.getIdToken(e),s=nw(r);De(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:id(ev(s.auth_time)),issuedAtTime:id(ev(s.iat)),expirationTime:id(ev(s.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function ev(t){return Number(t)*1e3}function nw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zf("JWT malformed, contained fewer than 3 sections"),null;try{const s=xp(n);return s?JSON.parse(s):(Zf("Failed to decode base64 JWT payload"),null)}catch(s){return Zf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function FS(t){const e=nw(t);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof vi&&Q8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Q8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=id(this.lastLoginAt),this.creationTime=id(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cp(t){var y;const e=t.auth,n=await t.getIdToken(),r=await mc(t,Sp(e,{idToken:n}));De(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=(y=s.providerUserInfo)!=null&&y.length?MR(s.providerUserInfo):[],a=Z8(t.providerData,o),c=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=c?d:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new o0(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function J8(t){const e=Mn(t);await Cp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Z8(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function MR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e9(t,e){const n=await kR(t,{},async()=>{const r=Pc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,a=await DR(t,s,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&Lo(t.emulatorConfig.host)&&(d.credentials="include"),PR.fetch()(a,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function t9(t,e){return wi(t,"POST","/v2/accounts:revokeToken",Vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):FS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){De(e.length!==0,"internal-error");const n=FS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await e9(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,a=new rc;return r&&(De(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(De(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),o&&(De(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rc,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t,e){De(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new X8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new o0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await mc(this,this.stsTokenManager.getToken(this.auth,e));return De(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Y8(this,e)}reload(){return J8(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Cp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(si(this.auth));const e=await this.getIdToken();return await mc(this,K8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,o=n.phoneNumber??void 0,a=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,f=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:y,emailVerified:_,isAnonymous:b,providerData:I,stsTokenManager:S}=n;De(y&&S,e,"internal-error");const C=rc.fromJSON(this.name,S);De(typeof y=="string",e,"internal-error"),eo(r,e.name),eo(s,e.name),De(typeof _=="boolean",e,"internal-error"),De(typeof b=="boolean",e,"internal-error"),eo(o,e.name),eo(a,e.name),eo(c,e.name),eo(d,e.name),eo(f,e.name),eo(m,e.name);const A=new Fr({uid:y,auth:e,email:s,emailVerified:_,displayName:r,isAnonymous:b,photoURL:a,phoneNumber:o,tenantId:c,stsTokenManager:C,createdAt:f,lastLoginAt:m});return I&&Array.isArray(I)&&(A.providerData=I.map(M=>({...M}))),d&&(A._redirectEventId=d),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new rc;s.updateFromServerResponse(n);const o=new Fr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Cp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];De(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?MR(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),c=new rc;c.updateFromIdToken(r);const d=new Fr({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:a}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new o0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=new Map;function ni(t){di(t instanceof Function,"Expected a class definition");let e=US.get(t);return e?(di(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,US.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jR.type="NONE";const BS=jR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(t,e,n){return`firebase:${t}:${e}:${n}`}class sc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=ep(this.userKey,s.apiKey,o),this.fullPersistenceKey=ep("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sp(this.auth,{idToken:e}).catch(()=>{});return n?Fr._fromGetAccountInfoResponse(this.auth,n,e):null}return Fr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new sc(ni(BS),e,r);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=s[0]||ni(BS);const a=ep(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const m=await f._get(a);if(m){let y;if(typeof m=="string"){const _=await Sp(e,{idToken:m}).catch(()=>{});if(!_)break;y=await Fr._fromGetAccountInfoResponse(e,_,m)}else y=Fr._fromJSON(e,m);f!==o&&(c=y),o=f;break}}catch{}const d=s.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new sc(o,e,r):(o=d[0],c&&await o._set(a,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(a)}catch{}})),new sc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BR(e))return"Blackberry";if(zR(e))return"Webos";if(LR(e))return"Safari";if((e.includes("chrome/")||VR(e))&&!e.includes("edge/"))return"Chrome";if(UR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function OR(t=Rn()){return/firefox\//i.test(t)}function LR(t=Rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VR(t=Rn()){return/crios\//i.test(t)}function FR(t=Rn()){return/iemobile/i.test(t)}function UR(t=Rn()){return/android/i.test(t)}function BR(t=Rn()){return/blackberry/i.test(t)}function zR(t=Rn()){return/webos/i.test(t)}function rw(t=Rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function n9(t=Rn()){var e;return rw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function r9(){return dU()&&document.documentMode===10}function $R(t=Rn()){return rw(t)||UR(t)||zR(t)||BR(t)||/windows phone/i.test(t)||FR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(t,e=[]){let n;switch(t){case"Browser":n=zS(Rn());break;case"Worker":n=`${zS(Rn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ha}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,c)=>{try{const d=e(o);a(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i9(t,e={}){return wi(t,"GET","/v2/passwordPolicy",Vo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9=6;class a9{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??o9,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $S(this),this.idTokenSubscription=new $S(this),this.beforeStateQueue=new s9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ni(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await sc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sp(this,{idToken:e}),r=await Fr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Hn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(o=this.redirectUser)==null?void 0:o._redirectEventId,c=r==null?void 0:r._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===c)&&(d!=null&&d.user)&&(r=d.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=U8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(si(this));const n=e?Mn(e):null;return n&&De(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(si(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(si(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await i9(this),n=new a9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Kd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await t9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ni(e)||this._popupRedirectResolver;De(n,this,"argument-error"),this.redirectPersistenceManager=await sc.create(this,[ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(c,this,"internal-error"),c.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{a=!0,d()}}else{const d=e.addObserver(n);return()=>{a=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&O8(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Fo(t){return Mn(t)}class $S{constructor(e){this.auth=e,this.observer=null,this.addObserver=EU(n=>this.observer=n)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function c9(t){mm=t}function HR(t){return mm.loadJS(t)}function u9(){return mm.recaptchaEnterpriseScript}function d9(){return mm.gapiScript}function h9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class f9{constructor(){this.enterprise=new p9}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class p9{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const m9="recaptcha-enterprise",GR="NO_RECAPTCHA";class g9{constructor(e){this.type=m9,this.auth=Fo(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,c)=>{q8(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new G8(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,a(f.siteKey)}}).catch(d=>{c(d)})})}function s(o,a,c){const d=window.grecaptcha;VS(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{a(f)}).catch(()=>{a(GR)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new f9().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{r(this.auth).then(c=>{if(!n&&VS(window.grecaptcha))s(c,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let d=u9();d.length!==0&&(d+=c),HR(d).then(()=>{s(c,o,a)}).catch(f=>{a(f)})}}).catch(c=>{a(c)})})}}async function WS(t,e,n,r=!1,s=!1){const o=new g9(t);let a;if(s)a=GR;else try{a=await o.verify(n)}catch{a=await o.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:a}):Object.assign(c,{captchaResponse:a}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function a0(t,e,n,r,s){var o;if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await WS(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await WS(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y9(t,e){const n=pm(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(To(o,e??{}))return s;Tr(s,"already-initialized")}return n.initialize({options:e})}function v9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ni);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function _9(t,e,n){const r=Fo(t);De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=qR(e),{host:a,port:c}=w9(e),d=c===null?"":`:${c}`,f={url:`${o}//${a}${d}/`},m=Object.freeze({host:a,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){De(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),De(To(f,r.config.emulator)&&To(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Lo(a)?(K_(`${o}//${a}${d}`),Y_("Auth",!0)):x9()}function qR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function w9(t){const e=qR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:HS(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:HS(a)}}}function HS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function x9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,n){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}async function E9(t,e){return wi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b9(t,e){return Qd(t,"POST","/v1/accounts:signInWithPassword",Vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T9(t,e){return Qd(t,"POST","/v1/accounts:signInWithEmailLink",Vo(t,e))}async function S9(t,e){return Qd(t,"POST","/v1/accounts:signInWithEmailLink",Vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends sw{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Cd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Cd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return a0(e,n,"signInWithPassword",b9);case"emailLink":return T9(e,{email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return a0(e,r,"signUpPassword",E9);case"emailLink":return S9(e,{idToken:n,email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(t,e){return Qd(t,"POST","/v1/accounts:signInWithIdp",Vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9="http://localhost";class Aa extends sw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=n;if(!r||!s)return null;const a=new Aa(r,s);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ic(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ic(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ic(e,n)}buildRequest(){const e={requestUri:C9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Pc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function N9(t){const e=Hu(Gu(t)).link,n=e?Hu(Gu(e)).deep_link_id:null,r=Hu(Gu(t)).deep_link_id;return(r?Hu(Gu(r)).link:null)||r||n||e||t}class iw{constructor(e){const n=Hu(Gu(e)),r=n.apiKey??null,s=n.oobCode??null,o=I9(n.mode??null);De(r&&s&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=N9(e);try{return new iw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(){this.providerId=kc.PROVIDER_ID}static credential(e,n){return Cd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=iw.parseLink(n);return De(r,"argument-error"),Cd._fromEmailAndCode(e,r.code,r.tenantId)}}kc.PROVIDER_ID="password";kc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";kc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd extends ow{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends Xd{constructor(){super("facebook.com")}static credential(e){return Aa._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return so.credential(e.oauthAccessToken)}catch{return null}}}so.FACEBOOK_SIGN_IN_METHOD="facebook.com";so.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends Xd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Aa._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ei.credential(n,r)}catch{return null}}}ei.GOOGLE_SIGN_IN_METHOD="google.com";ei.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends Xd{constructor(){super("github.com")}static credential(e){return Aa._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch{return null}}}io.GITHUB_SIGN_IN_METHOD="github.com";io.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends Xd{constructor(){super("twitter.com")}static credential(e,n){return Aa._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return oo.credential(n,r)}catch{return null}}}oo.TWITTER_SIGN_IN_METHOD="twitter.com";oo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R9(t,e){return Qd(t,"POST","/v1/accounts:signUp",Vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await Fr._fromIdTokenResponse(e,r,s),a=GS(r);return new Pa({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=GS(r);return new Pa({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function GS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip extends vi{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ip.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ip(e,n,r,s)}}function KR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ip._fromErrorAndOperation(t,o,e,r):o})}async function A9(t,e,n=!1){const r=await mc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Pa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P9(t,e,n=!1){const{auth:r}=t;if(Hn(r.app))return Promise.reject(si(r));const s="reauthenticate";try{const o=await mc(t,KR(r,s,e,t),n);De(o.idToken,r,"internal-error");const a=nw(o.idToken);De(a,r,"internal-error");const{sub:c}=a;return De(t.uid===c,r,"user-mismatch"),Pa._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Tr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(t,e,n=!1){if(Hn(t.app))return Promise.reject(si(t));const r="signIn",s=await KR(t,r,e),o=await Pa._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function k9(t,e){return YR(Fo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(t){const e=Fo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function D9(t,e,n){if(Hn(t.app))return Promise.reject(si(t));const r=Fo(t),a=await a0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",R9).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&QR(t),d}),c=await Pa._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(c.user),c}function M9(t,e,n){return Hn(t.app)?Promise.reject(si(t)):k9(Mn(t),kc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&QR(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j9(t,e){return wi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O9(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Mn(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await mc(r,j9(r.auth,o));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const c=r.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function L9(t,e,n,r){return Mn(t).onIdTokenChanged(e,n,r)}function V9(t,e,n){return Mn(t).beforeAuthStateChanged(e,n)}function F9(t){return Mn(t).signOut()}const Np="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Np,"1"),this.storage.removeItem(Np),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9=1e3,B9=10;class JR extends XR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$R(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,d)=>{this.notifyListeners(a,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);r9()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,B9):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},U9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JR.type="LOCAL";const z9=JR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR extends XR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZR.type="SESSION";const eA=ZR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new gm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(a).map(async f=>f(n.origin,o)),d=await $9(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,d)=>{const f=aw("",20);s.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(y){const _=y;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(_.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(){return window}function H9(t){xs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(){return typeof xs().WorkerGlobalScope<"u"&&typeof xs().importScripts=="function"}async function G9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function q9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function K9(){return tA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="firebaseLocalStorageDb",Y9=1,Rp="firebaseLocalStorage",rA="fbase_key";class Jd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ym(t,e){return t.transaction([Rp],e?"readwrite":"readonly").objectStore(Rp)}function Q9(){const t=indexedDB.deleteDatabase(nA);return new Jd(t).toPromise()}function l0(){const t=indexedDB.open(nA,Y9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Rp,{keyPath:rA})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Rp)?e(r):(r.close(),await Q9(),e(await l0()))})})}async function qS(t,e,n){const r=ym(t,!0).put({[rA]:e,value:n});return new Jd(r).toPromise()}async function X9(t,e){const n=ym(t,!1).get(e),r=await new Jd(n).toPromise();return r===void 0?null:r.value}function KS(t,e){const n=ym(t,!0).delete(e);return new Jd(n).toPromise()}const J9=800,Z9=3;class sA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await l0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Z9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gm._getInstance(K9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await G9(),!this.activeServiceWorker)return;this.sender=new W9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||q9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await l0();return await qS(e,Np,"1"),await KS(e,Np),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>qS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>X9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>KS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=ym(s,!1).getAll();return new Jd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),J9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sA.type="LOCAL";const eB=sA;new Yd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t,e){return e?ni(e):(De(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw extends sw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ic(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ic(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ic(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tB(t){return YR(t.auth,new lw(t),t.bypassAuthState)}function nB(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),P9(n,new lw(t),t.bypassAuthState)}async function rB(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),A9(n,new lw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:a,type:c}=e;if(a){this.reject(a);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tB;case"linkViaPopup":case"linkViaRedirect":return rB;case"reauthViaPopup":case"reauthViaRedirect":return nB;default:Tr(this.auth,"internal-error")}}resolve(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sB=new Yd(2e3,1e4);async function iB(t,e,n){if(Hn(t.app))return Promise.reject(zr(t,"operation-not-supported-in-this-environment"));const r=Fo(t);L8(t,e,ow);const s=iA(r,n);return new Ea(r,"signInViaPopup",e,s).executeNotNull()}class Ea extends oA{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){di(this.filter.length===1,"Popup operations only handle one event");const e=aw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sB.get())};e()}}Ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oB="pendingRedirect",tp=new Map;class aB extends oA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=tp.get(this.auth._key());if(!e){try{const r=await lB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}tp.set(this.auth._key(),e)}return this.bypassAuthState||tp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lB(t,e){const n=dB(e),r=uB(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function cB(t,e){tp.set(t._key(),e)}function uB(t){return ni(t._redirectPersistence)}function dB(t){return ep(oB,t.config.apiKey,t.name)}async function hB(t,e,n=!1){if(Hn(t.app))return Promise.reject(si(t));const r=Fo(t),s=iA(r,e),a=await new aB(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fB=10*60*1e3;class pB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!aA(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(zr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fB&&this.cachedEventUids.clear(),this.cachedEventUids.has(YS(e))}saveEventToCache(e){this.cachedEventUids.add(YS(e)),this.lastProcessedEventTime=Date.now()}}function YS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function aA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function mB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gB(t,e={}){return wi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vB=/^https?/;async function _B(t){if(t.config.emulator)return;const{authorizedDomains:e}=await gB(t);for(const n of e)try{if(wB(n))return}catch{}Tr(t,"unauthorized-domain")}function wB(t){const e=i0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!vB.test(n))return!1;if(yB.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB=new Yd(3e4,6e4);function QS(){const t=xs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function EB(t){return new Promise((e,n)=>{var s,o,a;function r(){QS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{QS(),n(zr(t,"network-request-failed"))},timeout:xB.get()})}if((o=(s=xs().gapi)==null?void 0:s.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((a=xs().gapi)!=null&&a.load)r();else{const c=h9("iframefcb");return xs()[c]=()=>{gapi.load?r():n(zr(t,"network-request-failed"))},HR(`${d9()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw np=null,e})}let np=null;function bB(t){return np=np||EB(t),np}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TB=new Yd(5e3,15e3),SB="__/auth/iframe",CB="emulator/auth/iframe",IB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RB(t){const e=t.config;De(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?tw(e,CB):`https://${t.config.authDomain}/${SB}`,r={apiKey:e.apiKey,appName:t.name,v:Ha},s=NB.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Pc(r).slice(1)}`}async function AB(t){const e=await bB(t),n=xs().gapi;return De(n,t,"internal-error"),e.open({where:document.body,url:RB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IB,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const a=zr(t,"network-request-failed"),c=xs().setTimeout(()=>{o(a)},TB.get());function d(){xs().clearTimeout(c),s(r)}r.ping(d).then(d,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kB=500,DB=600,MB="_blank",jB="http://localhost";class XS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OB(t,e,n,r=kB,s=DB){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...PB,width:r.toString(),height:s.toString(),top:o,left:a},f=Rn().toLowerCase();n&&(c=VR(f)?MB:n),OR(f)&&(e=e||jB,d.scrollbars="yes");const m=Object.entries(d).reduce((_,[b,I])=>`${_}${b}=${I},`,"");if(n9(f)&&c!=="_self")return LB(e||"",c),new XS(null);const y=window.open(e||"",c,m);De(y,t,"popup-blocked");try{y.focus()}catch{}return new XS(y)}function LB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB="__/auth/handler",FB="emulator/auth/handler",UB=encodeURIComponent("fac");async function JS(t,e,n,r,s,o){De(t.config.authDomain,t,"auth-domain-config-required"),De(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ha,eventId:s};if(e instanceof ow){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Zv(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))a[m]=y}if(e instanceof Xd){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(a.scopes=m.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),f=d?`#${UB}=${encodeURIComponent(d)}`:"";return`${BB(t)}?${Pc(c).slice(1)}${f}`}function BB({config:t}){return t.emulator?tw(t,FB):`https://${t.authDomain}/${VB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="webStorageSupport";class zB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eA,this._completeRedirectFn=hB,this._overrideRedirectResult=cB}async _openPopup(e,n,r,s){var a;di((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await JS(e,n,r,i0(),s);return OB(e,o,aw())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await JS(e,n,r,i0(),s);return H9(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(di(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await AB(e),r=new pB(e);return n.register("authEvent",s=>(De(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tv,{type:tv},s=>{var a;const o=(a=s==null?void 0:s[0])==null?void 0:a[tv];o!==void 0&&n(!!o),Tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_B(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $R()||LR()||rw()}}const $B=zB;var ZS="@firebase/auth",eC="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GB(t){Ra(new So("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;De(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WR(t)},f=new l9(r,s,o,d);return v9(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ra(new So("auth-internal",e=>{const n=Fo(e.getProvider("auth").getImmediate());return(r=>new WB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ws(ZS,eC,HB(t)),ws(ZS,eC,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qB=5*60,KB=wR("authIdTokenMaxAge")||qB;let tC=null;const YB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>KB)return;const s=n==null?void 0:n.token;tC!==s&&(tC=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function QB(t=J_()){const e=pm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=y9(t,{popupRedirectResolver:$B,persistence:[eB,z9,eA]}),r=wR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=YB(o.toString());V9(n,a,()=>a(n.currentUser)),L9(n,c=>a(c))}}const s=yR("auth");return s&&_9(n,`http://${s}`),n}function XB(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}c9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=zr("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",XB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GB("Browser");var nC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fo,lA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,R){function k(){}k.prototype=R.prototype,D.F=R.prototype,D.prototype=new k,D.prototype.constructor=D,D.D=function(V,F,B){for(var L=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)L[ge-2]=arguments[ge];return R.prototype[F].apply(V,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,R,k){k||(k=0);const V=Array(16);if(typeof R=="string")for(var F=0;F<16;++F)V[F]=R.charCodeAt(k++)|R.charCodeAt(k++)<<8|R.charCodeAt(k++)<<16|R.charCodeAt(k++)<<24;else for(F=0;F<16;++F)V[F]=R[k++]|R[k++]<<8|R[k++]<<16|R[k++]<<24;R=D.g[0],k=D.g[1],F=D.g[2];let B=D.g[3],L;L=R+(B^k&(F^B))+V[0]+3614090360&4294967295,R=k+(L<<7&4294967295|L>>>25),L=B+(F^R&(k^F))+V[1]+3905402710&4294967295,B=R+(L<<12&4294967295|L>>>20),L=F+(k^B&(R^k))+V[2]+606105819&4294967295,F=B+(L<<17&4294967295|L>>>15),L=k+(R^F&(B^R))+V[3]+3250441966&4294967295,k=F+(L<<22&4294967295|L>>>10),L=R+(B^k&(F^B))+V[4]+4118548399&4294967295,R=k+(L<<7&4294967295|L>>>25),L=B+(F^R&(k^F))+V[5]+1200080426&4294967295,B=R+(L<<12&4294967295|L>>>20),L=F+(k^B&(R^k))+V[6]+2821735955&4294967295,F=B+(L<<17&4294967295|L>>>15),L=k+(R^F&(B^R))+V[7]+4249261313&4294967295,k=F+(L<<22&4294967295|L>>>10),L=R+(B^k&(F^B))+V[8]+1770035416&4294967295,R=k+(L<<7&4294967295|L>>>25),L=B+(F^R&(k^F))+V[9]+2336552879&4294967295,B=R+(L<<12&4294967295|L>>>20),L=F+(k^B&(R^k))+V[10]+4294925233&4294967295,F=B+(L<<17&4294967295|L>>>15),L=k+(R^F&(B^R))+V[11]+2304563134&4294967295,k=F+(L<<22&4294967295|L>>>10),L=R+(B^k&(F^B))+V[12]+1804603682&4294967295,R=k+(L<<7&4294967295|L>>>25),L=B+(F^R&(k^F))+V[13]+4254626195&4294967295,B=R+(L<<12&4294967295|L>>>20),L=F+(k^B&(R^k))+V[14]+2792965006&4294967295,F=B+(L<<17&4294967295|L>>>15),L=k+(R^F&(B^R))+V[15]+1236535329&4294967295,k=F+(L<<22&4294967295|L>>>10),L=R+(F^B&(k^F))+V[1]+4129170786&4294967295,R=k+(L<<5&4294967295|L>>>27),L=B+(k^F&(R^k))+V[6]+3225465664&4294967295,B=R+(L<<9&4294967295|L>>>23),L=F+(R^k&(B^R))+V[11]+643717713&4294967295,F=B+(L<<14&4294967295|L>>>18),L=k+(B^R&(F^B))+V[0]+3921069994&4294967295,k=F+(L<<20&4294967295|L>>>12),L=R+(F^B&(k^F))+V[5]+3593408605&4294967295,R=k+(L<<5&4294967295|L>>>27),L=B+(k^F&(R^k))+V[10]+38016083&4294967295,B=R+(L<<9&4294967295|L>>>23),L=F+(R^k&(B^R))+V[15]+3634488961&4294967295,F=B+(L<<14&4294967295|L>>>18),L=k+(B^R&(F^B))+V[4]+3889429448&4294967295,k=F+(L<<20&4294967295|L>>>12),L=R+(F^B&(k^F))+V[9]+568446438&4294967295,R=k+(L<<5&4294967295|L>>>27),L=B+(k^F&(R^k))+V[14]+3275163606&4294967295,B=R+(L<<9&4294967295|L>>>23),L=F+(R^k&(B^R))+V[3]+4107603335&4294967295,F=B+(L<<14&4294967295|L>>>18),L=k+(B^R&(F^B))+V[8]+1163531501&4294967295,k=F+(L<<20&4294967295|L>>>12),L=R+(F^B&(k^F))+V[13]+2850285829&4294967295,R=k+(L<<5&4294967295|L>>>27),L=B+(k^F&(R^k))+V[2]+4243563512&4294967295,B=R+(L<<9&4294967295|L>>>23),L=F+(R^k&(B^R))+V[7]+1735328473&4294967295,F=B+(L<<14&4294967295|L>>>18),L=k+(B^R&(F^B))+V[12]+2368359562&4294967295,k=F+(L<<20&4294967295|L>>>12),L=R+(k^F^B)+V[5]+4294588738&4294967295,R=k+(L<<4&4294967295|L>>>28),L=B+(R^k^F)+V[8]+2272392833&4294967295,B=R+(L<<11&4294967295|L>>>21),L=F+(B^R^k)+V[11]+1839030562&4294967295,F=B+(L<<16&4294967295|L>>>16),L=k+(F^B^R)+V[14]+4259657740&4294967295,k=F+(L<<23&4294967295|L>>>9),L=R+(k^F^B)+V[1]+2763975236&4294967295,R=k+(L<<4&4294967295|L>>>28),L=B+(R^k^F)+V[4]+1272893353&4294967295,B=R+(L<<11&4294967295|L>>>21),L=F+(B^R^k)+V[7]+4139469664&4294967295,F=B+(L<<16&4294967295|L>>>16),L=k+(F^B^R)+V[10]+3200236656&4294967295,k=F+(L<<23&4294967295|L>>>9),L=R+(k^F^B)+V[13]+681279174&4294967295,R=k+(L<<4&4294967295|L>>>28),L=B+(R^k^F)+V[0]+3936430074&4294967295,B=R+(L<<11&4294967295|L>>>21),L=F+(B^R^k)+V[3]+3572445317&4294967295,F=B+(L<<16&4294967295|L>>>16),L=k+(F^B^R)+V[6]+76029189&4294967295,k=F+(L<<23&4294967295|L>>>9),L=R+(k^F^B)+V[9]+3654602809&4294967295,R=k+(L<<4&4294967295|L>>>28),L=B+(R^k^F)+V[12]+3873151461&4294967295,B=R+(L<<11&4294967295|L>>>21),L=F+(B^R^k)+V[15]+530742520&4294967295,F=B+(L<<16&4294967295|L>>>16),L=k+(F^B^R)+V[2]+3299628645&4294967295,k=F+(L<<23&4294967295|L>>>9),L=R+(F^(k|~B))+V[0]+4096336452&4294967295,R=k+(L<<6&4294967295|L>>>26),L=B+(k^(R|~F))+V[7]+1126891415&4294967295,B=R+(L<<10&4294967295|L>>>22),L=F+(R^(B|~k))+V[14]+2878612391&4294967295,F=B+(L<<15&4294967295|L>>>17),L=k+(B^(F|~R))+V[5]+4237533241&4294967295,k=F+(L<<21&4294967295|L>>>11),L=R+(F^(k|~B))+V[12]+1700485571&4294967295,R=k+(L<<6&4294967295|L>>>26),L=B+(k^(R|~F))+V[3]+2399980690&4294967295,B=R+(L<<10&4294967295|L>>>22),L=F+(R^(B|~k))+V[10]+4293915773&4294967295,F=B+(L<<15&4294967295|L>>>17),L=k+(B^(F|~R))+V[1]+2240044497&4294967295,k=F+(L<<21&4294967295|L>>>11),L=R+(F^(k|~B))+V[8]+1873313359&4294967295,R=k+(L<<6&4294967295|L>>>26),L=B+(k^(R|~F))+V[15]+4264355552&4294967295,B=R+(L<<10&4294967295|L>>>22),L=F+(R^(B|~k))+V[6]+2734768916&4294967295,F=B+(L<<15&4294967295|L>>>17),L=k+(B^(F|~R))+V[13]+1309151649&4294967295,k=F+(L<<21&4294967295|L>>>11),L=R+(F^(k|~B))+V[4]+4149444226&4294967295,R=k+(L<<6&4294967295|L>>>26),L=B+(k^(R|~F))+V[11]+3174756917&4294967295,B=R+(L<<10&4294967295|L>>>22),L=F+(R^(B|~k))+V[2]+718787259&4294967295,F=B+(L<<15&4294967295|L>>>17),L=k+(B^(F|~R))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(F+(L<<21&4294967295|L>>>11))&4294967295,D.g[2]=D.g[2]+F&4294967295,D.g[3]=D.g[3]+B&4294967295}r.prototype.v=function(D,R){R===void 0&&(R=D.length);const k=R-this.blockSize,V=this.C;let F=this.h,B=0;for(;B<R;){if(F==0)for(;B<=k;)s(this,D,B),B+=this.blockSize;if(typeof D=="string"){for(;B<R;)if(V[F++]=D.charCodeAt(B++),F==this.blockSize){s(this,V),F=0;break}}else for(;B<R;)if(V[F++]=D[B++],F==this.blockSize){s(this,V),F=0;break}}this.h=F,this.o+=R},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;R=this.o*8;for(var k=D.length-8;k<D.length;++k)D[k]=R&255,R/=256;for(this.v(D),D=Array(16),R=0,k=0;k<4;++k)for(let V=0;V<32;V+=8)D[R++]=this.g[k]>>>V&255;return D};function o(D,R){var k=c;return Object.prototype.hasOwnProperty.call(k,D)?k[D]:k[D]=R(D)}function a(D,R){this.h=R;const k=[];let V=!0;for(let F=D.length-1;F>=0;F--){const B=D[F]|0;V&&B==R||(k[F]=B,V=!1)}this.g=k}var c={};function d(D){return-128<=D&&D<128?o(D,function(R){return new a([R|0],R<0?-1:0)}):new a([D|0],D<0?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return y;if(D<0)return C(f(-D));const R=[];let k=1;for(let V=0;D>=k;V++)R[V]=D/k|0,k*=4294967296;return new a(R,0)}function m(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return C(m(D.substring(1),R));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=f(Math.pow(R,8));let V=y;for(let B=0;B<D.length;B+=8){var F=Math.min(8,D.length-B);const L=parseInt(D.substring(B,B+F),R);F<8?(F=f(Math.pow(R,F)),V=V.j(F).add(f(L))):(V=V.j(k),V=V.add(f(L)))}return V}var y=d(0),_=d(1),b=d(16777216);t=a.prototype,t.m=function(){if(S(this))return-C(this).m();let D=0,R=1;for(let k=0;k<this.g.length;k++){const V=this.i(k);D+=(V>=0?V:4294967296+V)*R,R*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(I(this))return"0";if(S(this))return"-"+C(this).toString(D);const R=f(Math.pow(D,6));var k=this;let V="";for(;;){const F=W(k,R).g;k=A(k,F.j(R));let B=((k.g.length>0?k.g[0]:k.h)>>>0).toString(D);if(k=F,I(k))return B+V;for(;B.length<6;)B="0"+B;V=B+V}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function I(D){if(D.h!=0)return!1;for(let R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function S(D){return D.h==-1}t.l=function(D){return D=A(this,D),S(D)?-1:I(D)?0:1};function C(D){const R=D.g.length,k=[];for(let V=0;V<R;V++)k[V]=~D.g[V];return new a(k,~D.h).add(_)}t.abs=function(){return S(this)?C(this):this},t.add=function(D){const R=Math.max(this.g.length,D.g.length),k=[];let V=0;for(let F=0;F<=R;F++){let B=V+(this.i(F)&65535)+(D.i(F)&65535),L=(B>>>16)+(this.i(F)>>>16)+(D.i(F)>>>16);V=L>>>16,B&=65535,L&=65535,k[F]=L<<16|B}return new a(k,k[k.length-1]&-2147483648?-1:0)};function A(D,R){return D.add(C(R))}t.j=function(D){if(I(this)||I(D))return y;if(S(this))return S(D)?C(this).j(C(D)):C(C(this).j(D));if(S(D))return C(this.j(C(D)));if(this.l(b)<0&&D.l(b)<0)return f(this.m()*D.m());const R=this.g.length+D.g.length,k=[];for(var V=0;V<2*R;V++)k[V]=0;for(V=0;V<this.g.length;V++)for(let F=0;F<D.g.length;F++){const B=this.i(V)>>>16,L=this.i(V)&65535,ge=D.i(F)>>>16,Ce=D.i(F)&65535;k[2*V+2*F]+=L*Ce,M(k,2*V+2*F),k[2*V+2*F+1]+=B*Ce,M(k,2*V+2*F+1),k[2*V+2*F+1]+=L*ge,M(k,2*V+2*F+1),k[2*V+2*F+2]+=B*ge,M(k,2*V+2*F+2)}for(D=0;D<R;D++)k[D]=k[2*D+1]<<16|k[2*D];for(D=R;D<2*R;D++)k[D]=0;return new a(k,0)};function M(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function j(D,R){this.g=D,this.h=R}function W(D,R){if(I(R))throw Error("division by zero");if(I(D))return new j(y,y);if(S(D))return R=W(C(D),R),new j(C(R.g),C(R.h));if(S(R))return R=W(D,C(R)),new j(C(R.g),R.h);if(D.g.length>30){if(S(D)||S(R))throw Error("slowDivide_ only works with positive integers.");for(var k=_,V=R;V.l(D)<=0;)k=G(k),V=G(V);var F=J(k,1),B=J(V,1);for(V=J(V,2),k=J(k,2);!I(V);){var L=B.add(V);L.l(D)<=0&&(F=F.add(k),B=L),V=J(V,1),k=J(k,1)}return R=A(D,F.j(R)),new j(F,R)}for(F=y;D.l(R)>=0;){for(k=Math.max(1,Math.floor(D.m()/R.m())),V=Math.ceil(Math.log(k)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),B=f(k),L=B.j(R);S(L)||L.l(D)>0;)k-=V,B=f(k),L=B.j(R);I(B)&&(B=_),F=F.add(B),D=A(D,L)}return new j(F,D)}t.B=function(D){return W(this,D).h},t.and=function(D){const R=Math.max(this.g.length,D.g.length),k=[];for(let V=0;V<R;V++)k[V]=this.i(V)&D.i(V);return new a(k,this.h&D.h)},t.or=function(D){const R=Math.max(this.g.length,D.g.length),k=[];for(let V=0;V<R;V++)k[V]=this.i(V)|D.i(V);return new a(k,this.h|D.h)},t.xor=function(D){const R=Math.max(this.g.length,D.g.length),k=[];for(let V=0;V<R;V++)k[V]=this.i(V)^D.i(V);return new a(k,this.h^D.h)};function G(D){const R=D.g.length+1,k=[];for(let V=0;V<R;V++)k[V]=D.i(V)<<1|D.i(V-1)>>>31;return new a(k,D.h)}function J(D,R){const k=R>>5;R%=32;const V=D.g.length-k,F=[];for(let B=0;B<V;B++)F[B]=R>0?D.i(B+k)>>>R|D.i(B+k+1)<<32-R:D.i(B+k);return new a(F,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,lA=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=m,fo=a}).apply(typeof nC<"u"?nC:typeof self<"u"?self:typeof window<"u"?window:{});var Mf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cA,qu,uA,rp,c0,dA,hA,fA;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mf=="object"&&Mf];for(var x=0;x<p.length;++x){var T=p[x];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(p,x){if(x)e:{var T=r;p=p.split(".");for(var P=0;P<p.length-1;P++){var K=p[P];if(!(K in T))break e;T=T[K]}p=p[p.length-1],P=T[p],x=x(P),x!=P&&x!=null&&e(T,p,{configurable:!0,writable:!0,value:x})}}s("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(p){return p||function(x){var T=[],P;for(P in x)Object.prototype.hasOwnProperty.call(x,P)&&T.push([P,x[P]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(p){var x=typeof p;return x=="object"&&p!=null||x=="function"}function d(p,x,T){return p.call.apply(p.bind,arguments)}function f(p,x,T){return f=d,f.apply(null,arguments)}function m(p,x){var T=Array.prototype.slice.call(arguments,1);return function(){var P=T.slice();return P.push.apply(P,arguments),p.apply(this,P)}}function y(p,x){function T(){}T.prototype=x.prototype,p.Z=x.prototype,p.prototype=new T,p.prototype.constructor=p,p.Ob=function(P,K,X){for(var ce=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ce[Ue-2]=arguments[Ue];return x.prototype[K].apply(P,ce)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function b(p){const x=p.length;if(x>0){const T=Array(x);for(let P=0;P<x;P++)T[P]=p[P];return T}return[]}function I(p,x){for(let P=1;P<arguments.length;P++){const K=arguments[P];var T=typeof K;if(T=T!="object"?T:K?Array.isArray(K)?"array":T:"null",T=="array"||T=="object"&&typeof K.length=="number"){T=p.length||0;const X=K.length||0;p.length=T+X;for(let ce=0;ce<X;ce++)p[T+ce]=K[ce]}else p.push(K)}}class S{constructor(x,T){this.i=x,this.j=T,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function C(p){a.setTimeout(()=>{throw p},0)}function A(){var p=D;let x=null;return p.g&&(x=p.g,p.g=p.g.next,p.g||(p.h=null),x.next=null),x}class M{constructor(){this.h=this.g=null}add(x,T){const P=j.get();P.set(x,T),this.h?this.h.next=P:this.g=P,this.h=P}}var j=new S(()=>new W,p=>p.reset());class W{constructor(){this.next=this.g=this.h=null}set(x,T){this.h=x,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let G,J=!1,D=new M,R=()=>{const p=Promise.resolve(void 0);G=()=>{p.then(k)}};function k(){for(var p;p=A();){try{p.h.call(p.g)}catch(T){C(T)}var x=j;x.j(p),x.h<100&&(x.h++,p.next=x.g,x.g=p)}J=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(p,x){this.type=p,this.g=this.target=x,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var B=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var p=!1,x=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const T=()=>{};a.addEventListener("test",T,x),a.removeEventListener("test",T,x)}catch{}return p}();function L(p){return/^[\s\xa0]*$/.test(p)}function ge(p,x){F.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,x)}y(ge,F),ge.prototype.init=function(p,x){const T=this.type=p.type,P=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=x,x=p.relatedTarget,x||(T=="mouseover"?x=p.fromElement:T=="mouseout"&&(x=p.toElement)),this.relatedTarget=x,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&ge.Z.h.call(this)},ge.prototype.h=function(){ge.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),ve=0;function he(p,x,T,P,K){this.listener=p,this.proxy=null,this.src=x,this.type=T,this.capture=!!P,this.ha=K,this.key=++ve,this.da=this.fa=!1}function Z(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function ee(p,x,T){for(const P in p)x.call(T,p[P],P,p)}function re(p,x){for(const T in p)x.call(void 0,p[T],T,p)}function $(p){const x={};for(const T in p)x[T]=p[T];return x}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ne(p,x){let T,P;for(let K=1;K<arguments.length;K++){P=arguments[K];for(T in P)p[T]=P[T];for(let X=0;X<te.length;X++)T=te[X],Object.prototype.hasOwnProperty.call(P,T)&&(p[T]=P[T])}}function Se(p){this.src=p,this.g={},this.h=0}Se.prototype.add=function(p,x,T,P,K){const X=p.toString();p=this.g[X],p||(p=this.g[X]=[],this.h++);const ce=ke(p,x,P,K);return ce>-1?(x=p[ce],T||(x.fa=!1)):(x=new he(x,this.src,X,!!P,K),x.fa=T,p.push(x)),x};function Le(p,x){const T=x.type;if(T in p.g){var P=p.g[T],K=Array.prototype.indexOf.call(P,x,void 0),X;(X=K>=0)&&Array.prototype.splice.call(P,K,1),X&&(Z(x),p.g[T].length==0&&(delete p.g[T],p.h--))}}function ke(p,x,T,P){for(let K=0;K<p.length;++K){const X=p[K];if(!X.da&&X.listener==x&&X.capture==!!T&&X.ha==P)return K}return-1}var ue="closure_lm_"+(Math.random()*1e6|0),we={};function Ie(p,x,T,P,K){if(Array.isArray(x)){for(let X=0;X<x.length;X++)Ie(p,x[X],T,P,K);return null}return T=zo(T),p&&p[Ce]?p.J(x,T,c(P)?!!P.capture:!1,K):Ve(p,x,T,!1,P,K)}function Ve(p,x,T,P,K,X){if(!x)throw Error("Invalid event type");const ce=c(K)?!!K.capture:!!K;let Ue=lr(p);if(Ue||(p[ue]=Ue=new Se(p)),T=Ue.add(x,T,P,ce,X),T.proxy)return T;if(P=Ye(),T.proxy=P,P.src=p,P.listener=T,p.addEventListener)B||(K=ce),K===void 0&&(K=!1),p.addEventListener(x.toString(),P,K);else if(p.attachEvent)p.attachEvent(sn(x.toString()),P);else if(p.addListener&&p.removeListener)p.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ye(){function p(T){return x.call(p.src,p.listener,T)}const x=Yr;return p}function Je(p,x,T,P,K){if(Array.isArray(x))for(var X=0;X<x.length;X++)Je(p,x[X],T,P,K);else P=c(P)?!!P.capture:!!P,T=zo(T),p&&p[Ce]?(p=p.i,X=String(x).toString(),X in p.g&&(x=p.g[X],T=ke(x,T,P,K),T>-1&&(Z(x[T]),Array.prototype.splice.call(x,T,1),x.length==0&&(delete p.g[X],p.h--)))):p&&(p=lr(p))&&(x=p.g[x.toString()],p=-1,x&&(p=ke(x,T,P,K)),(T=p>-1?x[p]:null)&&Rt(T))}function Rt(p){if(typeof p!="number"&&p&&!p.da){var x=p.src;if(x&&x[Ce])Le(x.i,p);else{var T=p.type,P=p.proxy;x.removeEventListener?x.removeEventListener(T,P,p.capture):x.detachEvent?x.detachEvent(sn(T),P):x.addListener&&x.removeListener&&x.removeListener(P),(T=lr(x))?(Le(T,p),T.h==0&&(T.src=null,x[ue]=null)):Z(p)}}}function sn(p){return p in we?we[p]:we[p]="on"+p}function Yr(p,x){if(p.da)p=!0;else{x=new ge(x,this);const T=p.listener,P=p.ha||p.src;p.fa&&Rt(p),p=T.call(P,x)}return p}function lr(p){return p=p[ue],p instanceof Se?p:null}var Kn="__closure_events_fn_"+(Math.random()*1e9>>>0);function zo(p){return typeof p=="function"?p:(p[Kn]||(p[Kn]=function(x){return p.handleEvent(x)}),p[Kn])}function ft(){V.call(this),this.i=new Se(this),this.M=this,this.G=null}y(ft,V),ft.prototype[Ce]=!0,ft.prototype.removeEventListener=function(p,x,T,P){Je(this,p,x,T,P)};function Dt(p,x){var T,P=p.G;if(P)for(T=[];P;P=P.G)T.push(P);if(p=p.M,P=x.type||x,typeof x=="string")x=new F(x,p);else if(x instanceof F)x.target=x.target||p;else{var K=x;x=new F(P,p),Ne(x,K)}K=!0;let X,ce;if(T)for(ce=T.length-1;ce>=0;ce--)X=x.g=T[ce],K=Cr(X,P,!0,x)&&K;if(X=x.g=p,K=Cr(X,P,!0,x)&&K,K=Cr(X,P,!1,x)&&K,T)for(ce=0;ce<T.length;ce++)X=x.g=T[ce],K=Cr(X,P,!1,x)&&K}ft.prototype.N=function(){if(ft.Z.N.call(this),this.i){var p=this.i;for(const x in p.g){const T=p.g[x];for(let P=0;P<T.length;P++)Z(T[P]);delete p.g[x],p.h--}}this.G=null},ft.prototype.J=function(p,x,T,P){return this.i.add(String(p),x,!1,T,P)},ft.prototype.K=function(p,x,T,P){return this.i.add(String(p),x,!0,T,P)};function Cr(p,x,T,P){if(x=p.i.g[String(x)],!x)return!0;x=x.concat();let K=!0;for(let X=0;X<x.length;++X){const ce=x[X];if(ce&&!ce.da&&ce.capture==T){const Ue=ce.listener,Mt=ce.ha||ce.src;ce.fa&&Le(p.i,ce),K=Ue.call(Mt,P)!==!1&&K}}return K&&!P.defaultPrevented}function $c(p,x){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=f(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:a.setTimeout(p,x||0)}function Wc(p){p.g=$c(()=>{p.g=null,p.i&&(p.i=!1,Wc(p))},p.l);const x=p.h;p.h=null,p.m.apply(null,x)}class fh extends V{constructor(x,T){super(),this.m=x,this.l=T,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Wc(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bi(p){V.call(this),this.h=p,this.g={}}y(bi,V);var Hc=[];function el(p){ee(p.g,function(x,T){this.g.hasOwnProperty(T)&&Rt(x)},p),p.g={}}bi.prototype.N=function(){bi.Z.N.call(this),el(this)},bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ti=a.JSON.stringify,ph=a.JSON.parse,$o=class{stringify(p){return a.JSON.stringify(p,void 0)}parse(p){return a.JSON.parse(p,void 0)}};function Si(){}function mh(){}var Ci={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tl(){F.call(this,"d")}y(tl,F);function Gc(){F.call(this,"c")}y(Gc,F);var Ir={},nl=null;function Ii(){return nl=nl||new ft}Ir.Ia="serverreachability";function rl(p){F.call(this,Ir.Ia,p)}y(rl,F);function ks(p){const x=Ii();Dt(x,new rl(x))}Ir.STAT_EVENT="statevent";function Ds(p,x){F.call(this,Ir.STAT_EVENT,p),this.stat=x}y(Ds,F);function At(p){const x=Ii();Dt(x,new Ds(x,p))}Ir.Ja="timingevent";function qc(p,x){F.call(this,Ir.Ja,p),this.size=x}y(qc,F);function Ni(p,x){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){p()},x)}function Ri(){this.g=!0}Ri.prototype.ua=function(){this.g=!1};function gh(p,x,T,P,K,X){p.info(function(){if(p.g)if(X){var ce="",Ue=X.split("&");for(let lt=0;lt<Ue.length;lt++){var Mt=Ue[lt].split("=");if(Mt.length>1){const Vt=Mt[0];Mt=Mt[1];const er=Vt.split("_");ce=er.length>=2&&er[1]=="type"?ce+(Vt+"="+Mt+"&"):ce+(Vt+"=redacted&")}}}else ce=null;else ce=X;return"XMLHTTP REQ ("+P+") [attempt "+K+"]: "+x+`
`+T+`
`+ce})}function yh(p,x,T,P,K,X,ce){p.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+K+"]: "+x+`
`+T+`
`+X+" "+ce})}function Qr(p,x,T,P){p.info(function(){return"XMLHTTP TEXT ("+x+"): "+Wo(p,T)+(P?" "+P:"")})}function vh(p,x){p.info(function(){return"TIMEOUT: "+x})}Ri.prototype.info=function(){};function Wo(p,x){if(!p.g)return x;if(!x)return null;try{const X=JSON.parse(x);if(X){for(p=0;p<X.length;p++)if(Array.isArray(X[p])){var T=X[p];if(!(T.length<2)){var P=T[1];if(Array.isArray(P)&&!(P.length<1)){var K=P[0];if(K!="noop"&&K!="stop"&&K!="close")for(let ce=1;ce<P.length;ce++)P[ce]=""}}}}return Ti(X)}catch{return x}}var Ai={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_h;function Ms(){}y(Ms,Si),Ms.prototype.g=function(){return new XMLHttpRequest},_h=new Ms;function Xr(p){return encodeURIComponent(String(p))}function sl(p){var x=1;p=p.split(":");const T=[];for(;x>0&&p.length;)T.push(p.shift()),x--;return p.length&&T.push(p.join(":")),T}function cr(p,x,T,P){this.j=p,this.i=x,this.l=T,this.S=P||1,this.V=new bi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new wh}function wh(){this.i=null,this.g="",this.h=!1}var xh={},Kc={};function Nr(p,x,T){p.M=1,p.A=Os(ur(x)),p.u=T,p.R=!0,Yc(p,null)}function Yc(p,x){p.F=Date.now(),Ho(p),p.B=ur(p.A);var T=p.B,P=p.S;Array.isArray(P)||(P=[String(P)]),iu(T.i,"t",P),p.C=0,T=p.j.L,p.h=new wh,p.g=Ph(p.j,T?x:null,!p.u),p.P>0&&(p.O=new fh(f(p.Y,p,p.g),p.P)),x=p.V,T=p.g,P=p.ba;var K="readystatechange";Array.isArray(K)||(K&&(Hc[0]=K.toString()),K=Hc);for(let X=0;X<K.length;X++){const ce=Ie(T,K[X],P||x.handleEvent,!1,x.h||x);if(!ce)break;x.g[ce.key]=ce}x=p.J?$(p.J):{},p.u?(p.v||(p.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,x)):(p.v="GET",p.g.ea(p.B,p.v,null,x)),ks(),gh(p.i,p.v,p.B,p.l,p.S,p.u)}cr.prototype.ba=function(p){p=p.target;const x=this.O;x&&ss(p)==3?x.j():this.Y(p)},cr.prototype.Y=function(p){try{if(p==this.g)e:{const Ue=ss(this.g),Mt=this.g.ya(),lt=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||Rh(this.g)))){this.K||Ue!=4||Mt==7||(Mt==8||lt<=0?ks(3):ks(2)),il(this);var x=this.g.ca();this.X=x;var T=Eh(this);if(this.o=x==200,yh(this.i,this.v,this.B,this.l,this.S,Ue,x),this.o){if(this.U&&!this.L){t:{if(this.g){var P,K=this.g;if((P=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(P)){var X=P;break t}}X=null}if(p=X)Qr(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pt(this,p);else{this.o=!1,this.m=3,At(12),js(this),Go(this);break e}}if(this.R){p=!0;let Vt;for(;!this.K&&this.C<T.length;)if(Vt=Th(this,T),Vt==Kc){Ue==4&&(this.m=4,At(14),p=!1),Qr(this.i,this.l,null,"[Incomplete Response]");break}else if(Vt==xh){this.m=4,At(15),Qr(this.i,this.l,T,"[Invalid Chunk]"),p=!1;break}else Qr(this.i,this.l,Vt,null),pt(this,Vt);if(bh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||T.length!=0||this.h.h||(this.m=1,At(16),p=!1),this.o=this.o&&p,!p)Qr(this.i,this.l,T,"[Invalid Chunked Response]"),js(this),Go(this);else if(T.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),ta(ce),ce.P=!0,At(11))}}else Qr(this.i,this.l,T,null),pt(this,T);Ue==4&&js(this),this.o&&!this.K&&(Ue==4?ml(this.j,this):(this.o=!1,Ho(this)))}else au(this.g),x==400&&T.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),js(this),Go(this)}}}catch{}finally{}};function Eh(p){if(!bh(p))return p.g.la();const x=Rh(p.g);if(x==="")return"";let T="";const P=x.length,K=ss(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return js(p),Go(p),"";p.h.i=new a.TextDecoder}for(let X=0;X<P;X++)p.h.h=!0,T+=p.h.i.decode(x[X],{stream:!(K&&X==P-1)});return x.length=0,p.h.g+=T,p.C=0,p.h.g}function bh(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function Th(p,x){var T=p.C,P=x.indexOf(`
`,T);return P==-1?Kc:(T=Number(x.substring(T,P)),isNaN(T)?xh:(P+=1,P+T>x.length?Kc:(x=x.slice(P,P+T),p.C=P+T,x)))}cr.prototype.cancel=function(){this.K=!0,js(this)};function Ho(p){p.T=Date.now()+p.H,Qc(p,p.H)}function Qc(p,x){if(p.D!=null)throw Error("WatchDog timer not null");p.D=Ni(f(p.aa,p),x)}function il(p){p.D&&(a.clearTimeout(p.D),p.D=null)}cr.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(vh(this.i,this.B),this.M!=2&&(ks(),At(17)),js(this),this.m=2,Go(this)):Qc(this,this.T-p)};function Go(p){p.j.I==0||p.K||ml(p.j,p)}function js(p){il(p);var x=p.O;x&&typeof x.dispose=="function"&&x.dispose(),p.O=null,el(p.V),p.g&&(x=p.g,p.g=null,x.abort(),x.dispose())}function pt(p,x){try{var T=p.j;if(T.I!=0&&(T.g==p||Jc(T.h,p))){if(!p.L&&Jc(T.h,p)&&T.I==3){try{var P=T.Ba.g.parse(x)}catch{P=null}if(Array.isArray(P)&&P.length==3){var K=P;if(K[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<p.F)pl(T),Jn(T);else break e;as(T),At(18)}}else T.xa=K[1],0<T.xa-T.K&&K[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Ni(f(T.Va,T),6e3));qo(T.h)<=1&&T.ta&&(T.ta=void 0)}else Zn(T,11)}else if((p.L||T.g==p)&&pl(T),!L(x))for(K=T.Ba.g.parse(x),x=0;x<K.length;x++){let lt=K[x];const Vt=lt[0];if(!(Vt<=T.K))if(T.K=Vt,lt=lt[1],T.I==2)if(lt[0]=="c"){T.M=lt[1],T.ba=lt[2];const er=lt[3];er!=null&&(T.ka=er,T.j.info("VER="+T.ka));const Bs=lt[4];Bs!=null&&(T.za=Bs,T.j.info("SVER="+T.za));const ls=lt[5];ls!=null&&typeof ls=="number"&&ls>0&&(P=1.5*ls,T.O=P,T.j.info("backChannelRequestTimeoutMs_="+P)),P=T;const cs=p.g;if(cs){const vl=cs.g?cs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vl){var X=P.h;X.g||vl.indexOf("spdy")==-1&&vl.indexOf("quic")==-1&&vl.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(al(X,X.h),X.h=null))}if(P.G){const uu=cs.g?cs.g.getResponseHeader("X-HTTP-Session-Id"):null;uu&&(P.wa=uu,st(P.J,P.G,uu))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-p.F,T.j.info("Handshake RTT: "+T.T+"ms")),P=T;var ce=p;if(P.na=cu(P,P.L?P.ba:null,P.W),ce.L){Ko(P.h,ce);var Ue=ce,Mt=P.O;Mt&&(Ue.H=Mt),Ue.D&&(il(Ue),Ho(Ue)),P.g=ce}else gn(P);T.i.length>0&&Us(T)}else lt[0]!="stop"&&lt[0]!="close"||Zn(T,7);else T.I==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?Zn(T,7):hl(T):lt[0]!="noop"&&T.l&&T.l.qa(lt),T.A=0)}}ks(4)}catch{}}var ag=class{constructor(p,x){this.g=p,this.map=x}};function ol(p){this.l=p||10,a.PerformanceNavigationTiming?(p=a.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xc(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function qo(p){return p.h?1:p.g?p.g.size:0}function Jc(p,x){return p.h?p.h==x:p.g?p.g.has(x):!1}function al(p,x){p.g?p.g.add(x):p.h=x}function Ko(p,x){p.h&&p.h==x?p.h=null:p.g&&p.g.has(x)&&p.g.delete(x)}ol.prototype.cancel=function(){if(this.i=Yn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Yn(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let x=p.i;for(const T of p.g.values())x=x.concat(T.G);return x}return b(p.i)}var Sh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qn(p,x){if(p){p=p.split("&");for(let T=0;T<p.length;T++){const P=p[T].indexOf("=");let K,X=null;P>=0?(K=p[T].substring(0,P),X=p[T].substring(P+1)):K=p[T],x(K,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Jr(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;p instanceof Jr?(this.l=p.l,Yo(this,p.j),this.o=p.o,this.g=p.g,Zr(this,p.u),this.h=p.h,ki(this,ou(p.i)),this.m=p.m):p&&(x=String(p).match(Sh))?(this.l=!1,Yo(this,x[1]||"",!0),this.o=Qo(x[2]||""),this.g=Qo(x[3]||"",!0),Zr(this,x[4]),this.h=Qo(x[5]||"",!0),ki(this,x[6]||"",!0),this.m=Qo(x[7]||"")):(this.l=!1,this.i=new Qe(null,this.l))}Jr.prototype.toString=function(){const p=[];var x=this.j;x&&p.push(Xo(x,eu,!0),":");var T=this.g;return(T||x=="file")&&(p.push("//"),(x=this.o)&&p.push(Xo(x,eu,!0),"@"),p.push(Xr(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&p.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&p.push("/"),p.push(Xo(T,T.charAt(0)=="/"?Jo:tu,!0))),(T=this.i.toString())&&p.push("?",T),(T=this.m)&&p.push("#",Xo(T,nu)),p.join("")},Jr.prototype.resolve=function(p){const x=ur(this);let T=!!p.j;T?Yo(x,p.j):T=!!p.o,T?x.o=p.o:T=!!p.g,T?x.g=p.g:T=p.u!=null;var P=p.h;if(T)Zr(x,p.u);else if(T=!!p.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var K=x.h.lastIndexOf("/");K!=-1&&(P=x.h.slice(0,K+1)+P)}if(K=P,K==".."||K==".")P="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){P=K.lastIndexOf("/",0)==0,K=K.split("/");const X=[];for(let ce=0;ce<K.length;){const Ue=K[ce++];Ue=="."?P&&ce==K.length&&X.push(""):Ue==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),P&&ce==K.length&&X.push("")):(X.push(Ue),P=!0)}P=X.join("/")}else P=K}return T?x.h=P:T=p.i.toString()!=="",T?ki(x,ou(p.i)):T=!!p.m,T&&(x.m=p.m),x};function ur(p){return new Jr(p)}function Yo(p,x,T){p.j=T?Qo(x,!0):x,p.j&&(p.j=p.j.replace(/:$/,""))}function Zr(p,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);p.u=x}else p.u=null}function ki(p,x,T){x instanceof Qe?(p.i=x,cl(p.i,p.l)):(T||(x=Xo(x,lg)),p.i=new Qe(x,p.l))}function st(p,x,T){p.i.set(x,T)}function Os(p){return st(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Qo(p,x){return p?x?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Xo(p,x,T){return typeof p=="string"?(p=encodeURI(p).replace(x,Zc),T&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Zc(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var eu=/[#\/\?@]/g,tu=/[#\?:]/g,Jo=/[#\?]/g,lg=/[#\?@]/g,nu=/#/g;function Qe(p,x){this.h=this.g=null,this.i=p||null,this.j=!!x}function es(p){p.g||(p.g=new Map,p.h=0,p.i&&Qn(p.i,function(x,T){p.add(decodeURIComponent(x.replace(/\+/g," ")),T)}))}t=Qe.prototype,t.add=function(p,x){es(this),this.i=null,p=ts(this,p);let T=this.g.get(p);return T||this.g.set(p,T=[]),T.push(x),this.h+=1,this};function ru(p,x){es(p),x=ts(p,x),p.g.has(x)&&(p.i=null,p.h-=p.g.get(x).length,p.g.delete(x))}function ll(p,x){return es(p),x=ts(p,x),p.g.has(x)}t.forEach=function(p,x){es(this),this.g.forEach(function(T,P){T.forEach(function(K){p.call(x,K,P,this)},this)},this)};function su(p,x){es(p);let T=[];if(typeof x=="string")ll(p,x)&&(T=T.concat(p.g.get(ts(p,x))));else for(p=Array.from(p.g.values()),x=0;x<p.length;x++)T=T.concat(p[x]);return T}t.set=function(p,x){return es(this),this.i=null,p=ts(this,p),ll(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[x]),this.h+=1,this},t.get=function(p,x){return p?(p=su(this,p),p.length>0?String(p[0]):x):x};function iu(p,x,T){ru(p,x),T.length>0&&(p.i=null,p.g.set(ts(p,x),b(T)),p.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],x=Array.from(this.g.keys());for(let P=0;P<x.length;P++){var T=x[P];const K=Xr(T);T=su(this,T);for(let X=0;X<T.length;X++){let ce=K;T[X]!==""&&(ce+="="+Xr(T[X])),p.push(ce)}}return this.i=p.join("&")};function ou(p){const x=new Qe;return x.i=p.i,p.g&&(x.g=new Map(p.g),x.h=p.h),x}function ts(p,x){return x=String(x),p.j&&(x=x.toLowerCase()),x}function cl(p,x){x&&!p.j&&(es(p),p.i=null,p.g.forEach(function(T,P){const K=P.toLowerCase();P!=K&&(ru(this,P),iu(this,K,T))},p)),p.j=x}function ns(p,x){const T=new Ri;if(a.Image){const P=new Image;P.onload=m(on,T,"TestLoadImage: loaded",!0,x,P),P.onerror=m(on,T,"TestLoadImage: error",!1,x,P),P.onabort=m(on,T,"TestLoadImage: abort",!1,x,P),P.ontimeout=m(on,T,"TestLoadImage: timeout",!1,x,P),a.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=p}else x(!1)}function rs(p,x){const T=new Ri,P=new AbortController,K=setTimeout(()=>{P.abort(),on(T,"TestPingServer: timeout",!1,x)},1e4);fetch(p,{signal:P.signal}).then(X=>{clearTimeout(K),X.ok?on(T,"TestPingServer: ok",!0,x):on(T,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(K),on(T,"TestPingServer: error",!1,x)})}function on(p,x,T,P,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),P(T)}catch{}}function Zo(){this.g=new $o}function Ls(p){this.i=p.Sb||null,this.h=p.ab||!1}y(Ls,Si),Ls.prototype.g=function(){return new Xn(this.i,this.h)};function Xn(p,x){ft.call(this),this.H=p,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(Xn,ft),t=Xn.prototype,t.open=function(p,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=x,this.readyState=1,Rr(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(x.body=p),(this.H||a).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Di(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Rr(this)),this.g&&(this.readyState=3,Rr(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ch(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ch(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var x=p.value?p.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!p.done}))&&(this.response=this.responseText+=x)}p.done?Di(this):Rr(this),this.readyState==3&&Ch(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,Di(this))},t.Na=function(p){this.g&&(this.response=p,Di(this))},t.ga=function(){this.g&&Di(this)};function Di(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Rr(p)}t.setRequestHeader=function(p,x){this.A.append(p,x)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],x=this.h.entries();for(var T=x.next();!T.done;)T=T.value,p.push(T[0]+": "+T[1]),T=x.next();return p.join(`\r
`)};function Rr(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Xn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Ih(p){let x="";return ee(p,function(T,P){x+=P,x+=":",x+=T,x+=`\r
`}),x}function ul(p,x,T){e:{for(P in T){var P=!1;break e}P=!0}P||(T=Ih(T),typeof p=="string"?T!=null&&Xr(T):st(p,x,T))}function dt(p){ft.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(dt,ft);var Nh=/^https?$/i,cg=["POST","PUT"];t=dt.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,x,T,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);x=x?x.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_h.g(),this.g.onreadystatechange=_(f(this.Ca,this));try{this.B=!0,this.g.open(x,String(p),!0),this.B=!1}catch(X){Mi(this,X);return}if(p=T||"",T=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var K in P)T.set(K,P[K]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const X of P.keys())T.set(X,P.get(X));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(T.keys()).find(X=>X.toLowerCase()=="content-type"),K=a.FormData&&p instanceof a.FormData,!(Array.prototype.indexOf.call(cg,x,void 0)>=0)||P||K||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ce]of T)this.g.setRequestHeader(X,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(X){Mi(this,X)}};function Mi(p,x){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=x,p.o=5,ji(p),Fs(p)}function ji(p){p.A||(p.A=!0,Dt(p,"complete"),Dt(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,Dt(this,"complete"),Dt(this,"abort"),Fs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fs(this,!0)),dt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Vs(this):this.Xa())},t.Xa=function(){Vs(this)};function Vs(p){if(p.h&&typeof o<"u"){if(p.v&&ss(p)==4)setTimeout(p.Ca.bind(p),0);else if(Dt(p,"readystatechange"),ss(p)==4){p.h=!1;try{const X=p.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var T;if(!(T=x)){var P;if(P=X===0){let ce=String(p.D).match(Sh)[1]||null;!ce&&a.self&&a.self.location&&(ce=a.self.location.protocol.slice(0,-1)),P=!Nh.test(ce?ce.toLowerCase():"")}T=P}if(T)Dt(p,"complete"),Dt(p,"success");else{p.o=6;try{var K=ss(p)>2?p.g.statusText:""}catch{K=""}p.l=K+" ["+p.ca()+"]",ji(p)}}finally{Fs(p)}}}}function Fs(p,x){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const T=p.g;p.g=null,x||Dt(p,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ss(p){return p.g?p.g.readyState:0}t.ca=function(){try{return ss(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var x=this.g.responseText;return p&&x.indexOf(p)==0&&(x=x.substring(p.length)),ph(x)}};function Rh(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function au(p){const x={};p=(p.g&&ss(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<p.length;P++){if(L(p[P]))continue;var T=sl(p[P]);const K=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const X=x[K]||[];x[K]=X,X.push(T)}re(x,function(P){return P.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function is(p,x,T){return T&&T.internalChannelParams&&T.internalChannelParams[p]||x}function dl(p){this.za=0,this.i=[],this.j=new Ri,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=is("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=is("baseRetryDelayMs",5e3,p),this.Za=is("retryDelaySeedMs",1e4,p),this.Ta=is("forwardChannelMaxRetries",2,p),this.va=is("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new ol(p&&p.concurrentRequestLimit),this.Ba=new Zo,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=dl.prototype,t.ka=8,t.I=1,t.connect=function(p,x,T,P){At(0),this.W=p,this.H=x||{},T&&P!==void 0&&(this.H.OSID=T,this.H.OAID=P),this.F=this.X,this.J=cu(this,null,this.W),Us(this)};function hl(p){if(fl(p),p.I==3){var x=p.V++,T=ur(p.J);if(st(T,"SID",p.M),st(T,"RID",x),st(T,"TYPE","terminate"),os(p,T),x=new cr(p,p.j,x),x.M=2,x.A=Os(ur(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(x.A.toString(),"")}catch{}!T&&a.Image&&(new Image().src=x.A,T=!0),T||(x.g=Ph(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Ho(x)}na(p)}function Jn(p){p.g&&(ta(p),p.g.cancel(),p.g=null)}function fl(p){Jn(p),p.v&&(a.clearTimeout(p.v),p.v=null),pl(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&a.clearTimeout(p.m),p.m=null)}function Us(p){if(!Xc(p.h)&&!p.m){p.m=!0;var x=p.Ea;G||R(),J||(G(),J=!0),D.add(x,p),p.D=0}}function Ah(p,x){return qo(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=x.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=Ni(f(p.Ea,p,x),gl(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const K=new cr(this,this.j,p);let X=this.o;if(this.U&&(X?(X=$(X),Ne(X,this.U)):X=this.U),this.u!==null||this.R||(K.J=X,X=null),this.S)e:{for(var x=0,T=0;T<this.i.length;T++){t:{var P=this.i[T];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(x+=P,x>4096){x=T;break e}if(x===4096||T===this.i.length-1){x=T+1;break e}}x=1e3}else x=1e3;x=lu(this,K,x),T=ur(this.J),st(T,"RID",p),st(T,"CVER",22),this.G&&st(T,"X-HTTP-Session-Id",this.G),os(this,T),X&&(this.R?x="headers="+Xr(Ih(X))+"&"+x:this.u&&ul(T,this.u,X)),al(this.h,K),this.Ra&&st(T,"TYPE","init"),this.S?(st(T,"$req",x),st(T,"SID","null"),K.U=!0,Nr(K,T,null)):Nr(K,T,x),this.I=2}}else this.I==3&&(p?ea(this,p):this.i.length==0||Xc(this.h)||ea(this))};function ea(p,x){var T;x?T=x.l:T=p.V++;const P=ur(p.J);st(P,"SID",p.M),st(P,"RID",T),st(P,"AID",p.K),os(p,P),p.u&&p.o&&ul(P,p.u,p.o),T=new cr(p,p.j,T,p.D+1),p.u===null&&(T.J=p.o),x&&(p.i=x.G.concat(p.i)),x=lu(p,T,1e3),T.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),al(p.h,T),Nr(T,P,x)}function os(p,x){p.H&&ee(p.H,function(T,P){st(x,P,T)}),p.l&&ee({},function(T,P){st(x,P,T)})}function lu(p,x,T){T=Math.min(p.i.length,T);const P=p.l?f(p.l.Ka,p.l,p):null;e:{var K=p.i;let Ue=-1;for(;;){const Mt=["count="+T];Ue==-1?T>0?(Ue=K[0].g,Mt.push("ofs="+Ue)):Ue=0:Mt.push("ofs="+Ue);let lt=!0;for(let Vt=0;Vt<T;Vt++){var X=K[Vt].g;const er=K[Vt].map;if(X-=Ue,X<0)Ue=Math.max(0,K[Vt].g-100),lt=!1;else try{X="req"+X+"_"||"";try{var ce=er instanceof Map?er:Object.entries(er);for(const[Bs,ls]of ce){let cs=ls;c(ls)&&(cs=Ti(ls)),Mt.push(X+Bs+"="+encodeURIComponent(cs))}}catch(Bs){throw Mt.push(X+"type="+encodeURIComponent("_badmap")),Bs}}catch{P&&P(er)}}if(lt){ce=Mt.join("&");break e}}ce=void 0}return p=p.i.splice(0,T),x.G=p,ce}function gn(p){if(!p.g&&!p.v){p.Y=1;var x=p.Da;G||R(),J||(G(),J=!0),D.add(x,p),p.A=0}}function as(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=Ni(f(p.Da,p),gl(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,Oi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=Ni(f(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),Jn(this),Oi(this))};function ta(p){p.B!=null&&(a.clearTimeout(p.B),p.B=null)}function Oi(p){p.g=new cr(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var x=ur(p.na);st(x,"RID","rpc"),st(x,"SID",p.M),st(x,"AID",p.K),st(x,"CI",p.F?"0":"1"),!p.F&&p.ia&&st(x,"TO",p.ia),st(x,"TYPE","xmlhttp"),os(p,x),p.u&&p.o&&ul(x,p.u,p.o),p.O&&(p.g.H=p.O);var T=p.g;p=p.ba,T.M=1,T.A=Os(ur(x)),T.u=null,T.R=!0,Yc(T,p)}t.Va=function(){this.C!=null&&(this.C=null,Jn(this),as(this),At(19))};function pl(p){p.C!=null&&(a.clearTimeout(p.C),p.C=null)}function ml(p,x){var T=null;if(p.g==x){pl(p),ta(p),p.g=null;var P=2}else if(Jc(p.h,x))T=x.G,Ko(p.h,x),P=1;else return;if(p.I!=0){if(x.o)if(P==1){T=x.u?x.u.length:0,x=Date.now()-x.F;var K=p.D;P=Ii(),Dt(P,new qc(P,T)),Us(p)}else gn(p);else if(K=x.m,K==3||K==0&&x.X>0||!(P==1&&Ah(p,x)||P==2&&as(p)))switch(T&&T.length>0&&(x=p.h,x.i=x.i.concat(T)),K){case 1:Zn(p,5);break;case 4:Zn(p,10);break;case 3:Zn(p,6);break;default:Zn(p,2)}}}function gl(p,x){let T=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(T*=2),T*x}function Zn(p,x){if(p.j.info("Error code "+x),x==2){var T=f(p.bb,p),P=p.Ua;const K=!P;P=new Jr(P||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Yo(P,"https"),Os(P),K?ns(P.toString(),T):rs(P.toString(),T)}else At(2);p.I=0,p.l&&p.l.pa(x),na(p),fl(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function na(p){if(p.I=0,p.ja=[],p.l){const x=Yn(p.h);(x.length!=0||p.i.length!=0)&&(I(p.ja,x),I(p.ja,p.i),p.h.i.length=0,b(p.i),p.i.length=0),p.l.oa()}}function cu(p,x,T){var P=T instanceof Jr?ur(T):new Jr(T);if(P.g!="")x&&(P.g=x+"."+P.g),Zr(P,P.u);else{var K=a.location;P=K.protocol,x=x?x+"."+K.hostname:K.hostname,K=+K.port;const X=new Jr(null);P&&Yo(X,P),x&&(X.g=x),K&&Zr(X,K),T&&(X.h=T),P=X}return T=p.G,x=p.wa,T&&x&&st(P,T,x),st(P,"VER",p.ka),os(p,P),P}function Ph(p,x,T){if(x&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=p.Aa&&!p.ma?new dt(new Ls({ab:T})):new dt(p.ma),x.Fa(p.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function kh(){}t=kh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function yl(){}yl.prototype.g=function(p,x){return new an(p,x)};function an(p,x){ft.call(this),this.g=new dl(x),this.l=p,this.h=x&&x.messageUrlParams||null,p=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(p?p["X-WebChannel-Content-Type"]=x.messageContentType:p={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(p?p["X-WebChannel-Client-Profile"]=x.sa:p={"X-WebChannel-Client-Profile":x.sa}),this.g.U=p,(p=x&&x.Qb)&&!L(p)&&(this.g.u=p),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!L(x)&&(this.g.G=x,p=this.h,p!==null&&x in p&&(p=this.h,x in p&&delete p[x])),this.j=new Li(this)}y(an,ft),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){hl(this.g)},an.prototype.o=function(p){var x=this.g;if(typeof p=="string"){var T={};T.__data__=p,p=T}else this.v&&(T={},T.__data__=Ti(p),p=T);x.i.push(new ag(x.Ya++,p)),x.I==3&&Us(x)},an.prototype.N=function(){this.g.l=null,delete this.j,hl(this.g),delete this.g,an.Z.N.call(this)};function Dh(p){tl.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var x=p.__sm__;if(x){e:{for(const T in x){p=T;break e}p=void 0}(this.i=p)&&(p=this.i,x=x!==null&&p in x?x[p]:void 0),this.data=x}else this.data=p}y(Dh,tl);function Mh(){Gc.call(this),this.status=1}y(Mh,Gc);function Li(p){this.g=p}y(Li,kh),Li.prototype.ra=function(){Dt(this.g,"a")},Li.prototype.qa=function(p){Dt(this.g,new Dh(p))},Li.prototype.pa=function(p){Dt(this.g,new Mh)},Li.prototype.oa=function(){Dt(this.g,"b")},yl.prototype.createWebChannel=yl.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,fA=function(){return new yl},hA=function(){return Ii()},dA=Ir,c0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ai.NO_ERROR=0,Ai.TIMEOUT=8,Ai.HTTP_ERROR=6,rp=Ai,Pi.COMPLETE="complete",uA=Pi,mh.EventType=Ci,Ci.OPEN="a",Ci.CLOSE="b",Ci.ERROR="c",Ci.MESSAGE="d",ft.prototype.listen=ft.prototype.J,qu=mh,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,cA=dt}).apply(typeof Mf<"u"?Mf:typeof self<"u"?self:typeof window<"u"?window:{});const rC="@firebase/firestore",sC="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=new fm("@firebase/firestore");function Wl(){return ka.logLevel}function me(t,...e){if(ka.logLevel<=He.DEBUG){const n=e.map(cw);ka.debug(`Firestore (${Dc}): ${t}`,...n)}}function hi(t,...e){if(ka.logLevel<=He.ERROR){const n=e.map(cw);ka.error(`Firestore (${Dc}): ${t}`,...n)}}function gc(t,...e){if(ka.logLevel<=He.WARN){const n=e.map(cw);ka.warn(`Firestore (${Dc}): ${t}`,...n)}}function cw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,pA(t,r,n)}function pA(t,e,n){let r=`FIRESTORE (${Dc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw hi(r),new Error(r)}function at(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||pA(e,s,r)}function Be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends vi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bn.UNAUTHENTICATED))}shutdown(){}}class ZB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ez{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){at(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new po;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new po,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},c=d=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new po)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at(typeof r.accessToken=="string",31837,{l:r}),new mA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new bn(e)}}class tz{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class nz{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new tz(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rz{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){at(this.o===void 0,3512);const r=o=>{o.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,me("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new iC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(at(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new iC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=sz(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function Ge(t,e){return t<e?-1:t>e?1:0}function u0(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),o=e.charAt(r);if(s!==o)return nv(s)===nv(o)?Ge(s,o):nv(s)?1:-1}return Ge(t.length,e.length)}const iz=55296,oz=57343;function nv(t){const e=t.charCodeAt(0);return e>=iz&&e<=oz}function yc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="__name__";class ps{constructor(e,n,r){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Me(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ps.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ps?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=ps.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return Ge(e.length,n.length)}static compareSegments(e,n){const r=ps.isNumericId(e),s=ps.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?ps.extractNumericId(e).compare(ps.extractNumericId(n)):u0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fo.fromString(e.substring(4,e.length-2))}}class Ct extends ps{construct(e,n,r){return new Ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ct(n)}static emptyPath(){return new Ct([])}}const az=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends ps{construct(e,n,r){return new pn(e,n,r)}static isValidIdentifier(e){return az.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===oC}static keyField(){return new pn([oC])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new Te(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new Te(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Te(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else c==="`"?(a=!a,s++):c!=="."||a?(r+=c,s++):(o(),s++)}if(o(),a)throw new Te(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(n)}static emptyPath(){return new pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Ct.fromString(e))}static fromName(e){return new Pe(Ct.fromString(e).popFirst(5))}static empty(){return new Pe(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lz(t,e,n){if(!n)throw new Te(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function cz(t,e,n,r){if(e===!0&&r===!0)throw new Te(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function aC(t){if(!Pe.isDocumentKey(t))throw new Te(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function dw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function Id(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dw(t);throw new Te(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Zd(t,e){if(!gA(t))throw new Te(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&a!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Te(oe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=-62135596800,cC=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*cC);return new wt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<lC)throw new Te(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cC}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zd(e,wt._jsonSchema))return new wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-lC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wt._jsonSchemaVersion="firestore/timestamp/1.0",wt._jsonSchema={type:Bt("string",wt._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new wt(0,0))}static max(){return new Fe(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd=-1;function uz(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Fe.fromTimestamp(r===1e9?new wt(n+1,0):new wt(n,r));return new Co(s,Pe.empty(),e)}function dz(t){return new Co(t.readTime,t.key,Nd)}class Co{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Co(Fe.min(),Pe.empty(),Nd)}static max(){return new Co(Fe.max(),Pe.empty(),Nd)}}function hz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(t.documentKey,e.documentKey),n!==0?n:Ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mc(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==fz)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,r)=>{n(e)})}static reject(e){return new ne((n,r)=>{r(e)})}static waitFor(e){return new ne((n,r)=>{let s=0,o=0,a=!1;e.forEach(c=>{++s,c.next(()=>{++o,a&&o===s&&n()},d=>r(d))}),a=!0,o===s&&n()})}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next(s=>s?ne.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new ne((r,s)=>{const o=e.length,a=new Array(o);let c=0;for(let d=0;d<o;d++){const f=d;n(e[f]).next(m=>{a[f]=m,++c,c===o&&r(a)},m=>s(m))}})}static doWhile(e,n){return new ne((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function mz(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=-1;function _m(t){return t==null}function Ap(t){return t===0&&1/t==-1/0}function gz(t){return typeof t=="number"&&Number.isInteger(t)&&!Ap(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="";function yz(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=uC(e)),e=vz(t.get(n),e);return uC(e)}function vz(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case yA:n+="";break;default:n+=o}}return n}function uC(t){return t+yA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ga(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $t=class d0{constructor(e,n){this.comparator=e,this.root=n||mo.EMPTY}insert(e,n){return new d0(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mo.BLACK,null,null))}remove(e){return new d0(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jf(this.root,e,this.comparator,!1)}getReverseIterator(){return new jf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jf(this.root,e,this.comparator,!0)}},jf=class{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},mo=class Js{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??Js.RED,this.left=s??Js.EMPTY,this.right=o??Js.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new Js(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Js.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Js.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Js.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Js.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}};mo.EMPTY=null,mo.RED=!0,mo.BLACK=!1;mo.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new mo(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new $t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hC(this.data.getIterator())}getIteratorFrom(e){return new hC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new qt(this.comparator);return n.data=e,n}}class hC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new Ur([])}unionWith(e){let n=new qt(pn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ur(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new _A("Invalid base64 string: "+o):o}}(e);return new mn(n)}static fromUint8Array(e){const n=function(s){let o="";for(let a=0;a<s.length;++a)o+=String.fromCharCode(s[a]);return o}(e);return new mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const _z=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Io(t){if(at(!!t,39018),typeof t=="string"){let e=0;const n=_z.exec(t);if(at(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lt(t.seconds),nanos:Lt(t.nanos)}}function Lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function No(t){return typeof t=="string"?mn.fromBase64String(t):mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="server_timestamp",xA="__type__",EA="__previous_value__",bA="__local_write_time__";function fw(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[xA])==null?void 0:r.stringValue)===wA}function wm(t){const e=t.mapValue.fields[EA];return fw(e)?wm(e):e}function Rd(t){const e=Io(t.mapValue.fields[bA].timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e,n,r,s,o,a,c,d,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=m}}const Pp="(default)";class Ad{constructor(e,n){this.projectId=e,this.database=n||Pp}static empty(){return new Ad("","")}get isDefaultDatabase(){return this.database===Pp}isEqual(e){return e instanceof Ad&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="__type__",xz="__max__",Of={mapValue:{}},SA="__vector__",kp="value";function Ro(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fw(t)?4:bz(t)?9007199254740991:Ez(t)?10:11:Me(28295,{value:t})}function Ns(t,e){if(t===e)return!0;const n=Ro(t);if(n!==Ro(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rd(t).isEqual(Rd(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const a=Io(s.timestampValue),c=Io(o.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return No(s.bytesValue).isEqual(No(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return Lt(s.geoPointValue.latitude)===Lt(o.geoPointValue.latitude)&&Lt(s.geoPointValue.longitude)===Lt(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Lt(s.integerValue)===Lt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const a=Lt(s.doubleValue),c=Lt(o.doubleValue);return a===c?Ap(a)===Ap(c):isNaN(a)&&isNaN(c)}return!1}(t,e);case 9:return yc(t.arrayValue.values||[],e.arrayValue.values||[],Ns);case 10:case 11:return function(s,o){const a=s.mapValue.fields||{},c=o.mapValue.fields||{};if(dC(a)!==dC(c))return!1;for(const d in a)if(a.hasOwnProperty(d)&&(c[d]===void 0||!Ns(a[d],c[d])))return!1;return!0}(t,e);default:return Me(52216,{left:t})}}function Pd(t,e){return(t.values||[]).find(n=>Ns(n,e))!==void 0}function vc(t,e){if(t===e)return 0;const n=Ro(t),r=Ro(e);if(n!==r)return Ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return function(o,a){const c=Lt(o.integerValue||o.doubleValue),d=Lt(a.integerValue||a.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return fC(t.timestampValue,e.timestampValue);case 4:return fC(Rd(t),Rd(e));case 5:return u0(t.stringValue,e.stringValue);case 6:return function(o,a){const c=No(o),d=No(a);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const c=o.split("/"),d=a.split("/");for(let f=0;f<c.length&&f<d.length;f++){const m=Ge(c[f],d[f]);if(m!==0)return m}return Ge(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const c=Ge(Lt(o.latitude),Lt(a.latitude));return c!==0?c:Ge(Lt(o.longitude),Lt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return pC(t.arrayValue,e.arrayValue);case 10:return function(o,a){var _,b,I,S;const c=o.fields||{},d=a.fields||{},f=(_=c[kp])==null?void 0:_.arrayValue,m=(b=d[kp])==null?void 0:b.arrayValue,y=Ge(((I=f==null?void 0:f.values)==null?void 0:I.length)||0,((S=m==null?void 0:m.values)==null?void 0:S.length)||0);return y!==0?y:pC(f,m)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===Of.mapValue&&a===Of.mapValue)return 0;if(o===Of.mapValue)return 1;if(a===Of.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),f=a.fields||{},m=Object.keys(f);d.sort(),m.sort();for(let y=0;y<d.length&&y<m.length;++y){const _=u0(d[y],m[y]);if(_!==0)return _;const b=vc(c[d[y]],f[m[y]]);if(b!==0)return b}return Ge(d.length,m.length)}(t.mapValue,e.mapValue);default:throw Me(23264,{he:n})}}function fC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ge(t,e);const n=Io(t),r=Io(e),s=Ge(n.seconds,r.seconds);return s!==0?s:Ge(n.nanos,r.nanos)}function pC(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=vc(n[s],r[s]);if(o)return o}return Ge(n.length,r.length)}function _c(t){return h0(t)}function h0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Io(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return No(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=h0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const a of r)o?o=!1:s+=",",s+=`${a}:${h0(n.fields[a])}`;return s+"}"}(t.mapValue):Me(61005,{value:t})}function sp(t){switch(Ro(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wm(t);return e?16+sp(e):16;case 5:return 2*t.stringValue.length;case 6:return No(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+sp(o),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ga(r.fields,(o,a)=>{s+=o.length+sp(a)}),s}(t.mapValue);default:throw Me(13486,{value:t})}}function f0(t){return!!t&&"integerValue"in t}function pw(t){return!!t&&"arrayValue"in t}function mC(t){return!!t&&"nullValue"in t}function gC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ip(t){return!!t&&"mapValue"in t}function Ez(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[TA])==null?void 0:r.stringValue)===SA}function od(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ga(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=od(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=od(t.arrayValue.values[n]);return e}return{...t}}function bz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===xz}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.value=e}static empty(){return new _r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ip(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=od(n)}setAll(e){let n=pn.emptyPath(),r={},s=[];e.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=c.popLast()}a?r[c.lastSegment()]=od(a):s.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());ip(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ns(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];ip(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ga(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new _r(od(this.value))}}function CA(t){const e=[];return Ga(t.fields,(n,r)=>{const s=new pn([n]);if(ip(r)){const o=CA(r.mapValue).fields;if(o.length===0)e.push(s);else for(const a of o)e.push(s.child(a))}else e.push(s)}),new Ur(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n,r,s,o,a,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Tn(e,0,Fe.min(),Fe.min(),Fe.min(),_r.empty(),0)}static newFoundDocument(e,n,r,s){return new Tn(e,1,n,Fe.min(),r,s,0)}static newNoDocument(e,n){return new Tn(e,2,n,Fe.min(),Fe.min(),_r.empty(),0)}static newUnknownDocument(e,n){return new Tn(e,3,n,Fe.min(),Fe.min(),_r.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n){this.position=e,this.inclusive=n}}function yC(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],a=t.position[s];if(o.field.isKeyField()?r=Pe.comparator(Pe.fromName(a.referenceValue),n.key):r=vc(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function vC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ns(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n="asc"){this.field=e,this.dir=n}}function Tz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{}class Gt extends IA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Cz(e,n,r):n==="array-contains"?new Rz(e,r):n==="in"?new Az(e,r):n==="not-in"?new Pz(e,r):n==="array-contains-any"?new kz(e,r):new Gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Iz(e,r):new Nz(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vc(n,this.value)):n!==null&&Ro(this.value)===Ro(n)&&this.matchesComparison(vc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rs extends IA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Rs(e,n)}matches(e){return NA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function NA(t){return t.op==="and"}function RA(t){return Sz(t)&&NA(t)}function Sz(t){for(const e of t.filters)if(e instanceof Rs)return!1;return!0}function p0(t){if(t instanceof Gt)return t.field.canonicalString()+t.op.toString()+_c(t.value);if(RA(t))return t.filters.map(e=>p0(e)).join(",");{const e=t.filters.map(n=>p0(n)).join(",");return`${t.op}(${e})`}}function AA(t,e){return t instanceof Gt?function(r,s){return s instanceof Gt&&r.op===s.op&&r.field.isEqual(s.field)&&Ns(r.value,s.value)}(t,e):t instanceof Rs?function(r,s){return s instanceof Rs&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,a,c)=>o&&AA(a,s.filters[c]),!0):!1}(t,e):void Me(19439)}function PA(t){return t instanceof Gt?function(n){return`${n.field.canonicalString()} ${n.op} ${_c(n.value)}`}(t):t instanceof Rs?function(n){return n.op.toString()+" {"+n.getFilters().map(PA).join(" ,")+"}"}(t):"Filter"}class Cz extends Gt{constructor(e,n,r){super(e,n,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class Iz extends Gt{constructor(e,n){super(e,"in",n),this.keys=kA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Nz extends Gt{constructor(e,n){super(e,"not-in",n),this.keys=kA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Pe.fromName(r.referenceValue))}class Rz extends Gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pw(n)&&Pd(n.arrayValue,this.value)}}class Az extends Gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Pd(this.value.arrayValue,n)}}class Pz extends Gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Pd(this.value.arrayValue,n)}}class kz extends Gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Pd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(e,n=null,r=[],s=[],o=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=a,this.endAt=c,this.Te=null}}function _C(t,e=null,n=[],r=[],s=null,o=null,a=null){return new Dz(t,e,n,r,s,o,a)}function mw(t){const e=Be(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>p0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),_m(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_c(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_c(r)).join(",")),e.Te=n}return e.Te}function gw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Tz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vC(t.startAt,e.startAt)&&vC(t.endAt,e.endAt)}function m0(t){return Pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n=null,r=[],s=[],o=null,a="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=a,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Mz(t,e,n,r,s,o,a,c){return new xm(t,e,n,r,s,o,a,c)}function yw(t){return new xm(t)}function wC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jz(t){return t.collectionGroup!==null}function ad(t){const e=Be(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new qt(pn.comparator);return a.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Mp(o,r))}),n.has(pn.keyField().canonicalString())||e.Ie.push(new Mp(pn.keyField(),r))}return e.Ie}function Es(t){const e=Be(t);return e.Ee||(e.Ee=Oz(e,ad(t))),e.Ee}function Oz(t,e){if(t.limitType==="F")return _C(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Mp(s.field,o)});const n=t.endAt?new Dp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Dp(t.startAt.position,t.startAt.inclusive):null;return _C(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function g0(t,e,n){return new xm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Em(t,e){return gw(Es(t),Es(e))&&t.limitType===e.limitType}function DA(t){return`${mw(Es(t))}|lt:${t.limitType}`}function Hl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>PA(s)).join(", ")}]`),_m(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>_c(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>_c(s)).join(",")),`Target(${r})`}(Es(t))}; limitType=${t.limitType})`}function bm(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Pe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of ad(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,c,d){const f=yC(a,c,d);return a.inclusive?f<=0:f<0}(r.startAt,ad(r),s)||r.endAt&&!function(a,c,d){const f=yC(a,c,d);return a.inclusive?f>=0:f>0}(r.endAt,ad(r),s))}(t,e)}function Lz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function MA(t){return(e,n)=>{let r=!1;for(const s of ad(t)){const o=Vz(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function Vz(t,e,n){const r=t.field.isKeyField()?Pe.comparator(e.key,n.key):function(o,a,c){const d=a.data.field(o),f=c.data.field(o);return d!==null&&f!==null?vc(d,f):Me(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Me(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ga(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return vA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz=new $t(Pe.comparator);function fi(){return Fz}const jA=new $t(Pe.comparator);function Ku(...t){let e=jA;for(const n of t)e=e.insert(n.key,n);return e}function OA(t){let e=jA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ba(){return ld()}function LA(){return ld()}function ld(){return new qa(t=>t.toString(),(t,e)=>t.isEqual(e))}const Uz=new $t(Pe.comparator),Bz=new qt(Pe.comparator);function Ke(...t){let e=Bz;for(const n of t)e=e.add(n);return e}const zz=new qt(Ge);function $z(){return zz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ap(e)?"-0":e}}function VA(t){return{integerValue:""+t}}function Wz(t,e){return gz(e)?VA(e):vw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(){this._=void 0}}function Hz(t,e,n){return t instanceof kd?function(s,o){const a={fields:{[xA]:{stringValue:wA},[bA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&fw(o)&&(o=wm(o)),o&&(a.fields[EA]=o),{mapValue:a}}(n,e):t instanceof Dd?UA(t,e):t instanceof Md?BA(t,e):function(s,o){const a=FA(s,o),c=xC(a)+xC(s.Ae);return f0(a)&&f0(s.Ae)?VA(c):vw(s.serializer,c)}(t,e)}function Gz(t,e,n){return t instanceof Dd?UA(t,e):t instanceof Md?BA(t,e):n}function FA(t,e){return t instanceof jp?function(r){return f0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class kd extends Tm{}class Dd extends Tm{constructor(e){super(),this.elements=e}}function UA(t,e){const n=zA(e);for(const r of t.elements)n.some(s=>Ns(s,r))||n.push(r);return{arrayValue:{values:n}}}class Md extends Tm{constructor(e){super(),this.elements=e}}function BA(t,e){let n=zA(e);for(const r of t.elements)n=n.filter(s=>!Ns(s,r));return{arrayValue:{values:n}}}class jp extends Tm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function xC(t){return Lt(t.integerValue||t.doubleValue)}function zA(t){return pw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e,n){this.field=e,this.transform=n}}function Kz(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Dd&&s instanceof Dd||r instanceof Md&&s instanceof Md?yc(r.elements,s.elements,Ns):r instanceof jp&&s instanceof jp?Ns(r.Ae,s.Ae):r instanceof kd&&s instanceof kd}(t.transform,e.transform)}class Yz{constructor(e,n){this.version=e,this.transformResults=n}}class ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ii}static exists(e){return new ii(void 0,e)}static updateTime(e){return new ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function op(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sm{}function $A(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new HA(t.key,ii.none()):new eh(t.key,t.data,ii.none());{const n=t.data,r=_r.empty();let s=new qt(pn.comparator);for(let o of e.fields)if(!s.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),s=s.add(o)}return new Ka(t.key,r,new Ur(s.toArray()),ii.none())}}function Qz(t,e,n){t instanceof eh?function(s,o,a){const c=s.value.clone(),d=bC(s.fieldTransforms,o,a.transformResults);c.setAll(d),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Ka?function(s,o,a){if(!op(s.precondition,o))return void o.convertToUnknownDocument(a.version);const c=bC(s.fieldTransforms,o,a.transformResults),d=o.data;d.setAll(WA(s)),d.setAll(c),o.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(t,e,n):function(s,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function cd(t,e,n,r){return t instanceof eh?function(o,a,c,d){if(!op(o.precondition,a))return c;const f=o.value.clone(),m=TC(o.fieldTransforms,d,a);return f.setAll(m),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ka?function(o,a,c,d){if(!op(o.precondition,a))return c;const f=TC(o.fieldTransforms,d,a),m=a.data;return m.setAll(WA(o)),m.setAll(f),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(o,a,c){return op(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(t,e,n)}function Xz(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=FA(r.transform,s||null);o!=null&&(n===null&&(n=_r.empty()),n.set(r.field,o))}return n||null}function EC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&yc(r,s,(o,a)=>Kz(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class eh extends Sm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ka extends Sm{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function WA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function bC(t,e,n){const r=new Map;at(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const o=t[s],a=o.transform,c=e.data.field(o.field);r.set(o.field,Gz(a,c,n[s]))}return r}function TC(t,e,n){const r=new Map;for(const s of t){const o=s.transform,a=n.data.field(s.field);r.set(s.field,Hz(o,a,e))}return r}class HA extends Sm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jz extends Sm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&Qz(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=cd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=cd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=LA();return this.mutations.forEach(s=>{const o=e.get(s.key),a=o.overlayedDocument;let c=this.applyToLocalView(a,o.mutatedFields);c=n.has(s.key)?null:c;const d=$A(a,c);d!==null&&r.set(s.key,d),a.isValidDocument()||a.convertToNoDocument(Fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ke())}isEqual(e){return this.batchId===e.batchId&&yc(this.mutations,e.mutations,(n,r)=>EC(n,r))&&yc(this.baseMutations,e.baseMutations,(n,r)=>EC(n,r))}}class _w{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){at(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return Uz}();const o=e.mutations;for(let a=0;a<o.length;a++)s=s.insert(o[a].key,r[a].version);return new _w(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e$=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,Ze;function n$(t){switch(t){case oe.OK:return Me(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function GA(t){if(t===void 0)return hi("GRPC error has no .code"),oe.UNKNOWN;switch(t){case Ut.OK:return oe.OK;case Ut.CANCELLED:return oe.CANCELLED;case Ut.UNKNOWN:return oe.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return oe.INTERNAL;case Ut.UNAVAILABLE:return oe.UNAVAILABLE;case Ut.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Ut.NOT_FOUND:return oe.NOT_FOUND;case Ut.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Ut.ABORTED:return oe.ABORTED;case Ut.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Ut.DATA_LOSS:return oe.DATA_LOSS;default:return Me(39323,{code:t})}}(Ze=Ut||(Ut={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$=new fo([4294967295,4294967295],0);function SC(t){const e=r$().encode(t),n=new lA;return n.update(e),new Uint8Array(n.digest())}function CC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new fo([n,r],0),new fo([s,o],0)]}class ww{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Yu(`Invalid padding: ${n}`);if(r<0)throw new Yu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Yu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=fo.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(fo.fromNumber(r)));return s.compare(s$)===1&&(s=new fo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=SC(e),[r,s]=CC(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,s,o);if(!this.we(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new ww(o,s,n);return r.forEach(c=>a.insert(c)),a}insert(e){if(this.ge===0)return;const n=SC(e),[r,s]=CC(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,s,o);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,th.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Cm(Fe.min(),s,new $t(Ge),fi(),Ke())}}class th{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new th(r,n,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class qA{constructor(e,n){this.targetId=e,this.Ce=n}}class KA{constructor(e,n,r=mn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class IC{constructor(){this.ve=0,this.Fe=NC(),this.Me=mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),n=Ke(),r=Ke();return this.Fe.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Me(38017,{changeType:o})}}),new th(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=NC()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class i${constructor(e){this.Ge=e,this.ze=new Map,this.je=fi(),this.Je=Lf(),this.He=Lf(),this.Ye=new $t(Ge)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const o=s.target;if(m0(o))if(r===0){const a=new Pe(o.path);this.et(n,a,Tn.newNoDocument(a,Fe.min()))}else at(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const c=this.ut(e),d=c?this.ct(c,e,a):1;if(d!==0){this.it(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let a,c;try{a=No(r).toUint8Array()}catch(d){if(d instanceof _A)return gc("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new ww(a,s,o)}catch(d){return gc(d instanceof Yu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const a=this.Ge.ht(),c=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(n,o,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((o,a)=>{const c=this.ot(a);if(c){if(o.current&&m0(c.target)){const d=new Pe(c.target.path);this.It(d).has(a)||this.Et(a,d)||this.et(a,d,Tn.newNoDocument(d,e))}o.Be&&(n.set(a,o.ke()),o.qe())}});let r=Ke();this.He.forEach((o,a)=>{let c=!0;a.forEachWhile(d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.je.forEach((o,a)=>a.setReadTime(e));const s=new Cm(e,n,this.Ye,this.je,r);return this.je=fi(),this.Je=Lf(),this.He=Lf(),this.Ye=new $t(Ge),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new IC,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new qt(Ge),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new qt(Ge),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new IC),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Lf(){return new $t(Pe.comparator)}function NC(){return new $t(Pe.comparator)}const o$={asc:"ASCENDING",desc:"DESCENDING"},a$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},l$={and:"AND",or:"OR"};class c${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function y0(t,e){return t.useProto3Json||_m(e)?e:{value:e}}function Op(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function u$(t,e){return Op(t,e.toTimestamp())}function bs(t){return at(!!t,49232),Fe.fromTimestamp(function(n){const r=Io(n);return new wt(r.seconds,r.nanos)}(t))}function xw(t,e){return v0(t,e).canonicalString()}function v0(t,e){const n=function(s){return new Ct(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function QA(t){const e=Ct.fromString(t);return at(tP(e),10190,{key:e.toString()}),e}function _0(t,e){return xw(t.databaseId,e.path)}function rv(t,e){const n=QA(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pe(JA(n))}function XA(t,e){return xw(t.databaseId,e)}function d$(t){const e=QA(t);return e.length===4?Ct.emptyPath():JA(e)}function w0(t){return new Ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function JA(t){return at(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function RC(t,e,n){return{name:_0(t,e),fields:n.value.mapValue.fields}}function h$(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Me(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(f,m){return f.useProto3Json?(at(m===void 0||typeof m=="string",58123),mn.fromBase64String(m||"")):(at(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),mn.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(f){const m=f.code===void 0?oe.UNKNOWN:GA(f.code);return new Te(m,f.message||"")}(a);n=new KA(r,s,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=rv(t,r.document.name),o=bs(r.document.updateTime),a=r.document.createTime?bs(r.document.createTime):Fe.min(),c=new _r({mapValue:{fields:r.document.fields}}),d=Tn.newFoundDocument(s,o,a,c),f=r.targetIds||[],m=r.removedTargetIds||[];n=new ap(f,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=rv(t,r.document),o=r.readTime?bs(r.readTime):Fe.min(),a=Tn.newNoDocument(s,o),c=r.removedTargetIds||[];n=new ap([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=rv(t,r.document),o=r.removedTargetIds||[];n=new ap([],o,s,null)}else{if(!("filter"in e))return Me(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,a=new t$(s,o),c=r.targetId;n=new qA(c,a)}}return n}function f$(t,e){let n;if(e instanceof eh)n={update:RC(t,e.key,e.value)};else if(e instanceof HA)n={delete:_0(t,e.key)};else if(e instanceof Ka)n={update:RC(t,e.key,e.data),updateMask:E$(e.fieldMask)};else{if(!(e instanceof Jz))return Me(16599,{Vt:e.type});n={verify:_0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const c=a.transform;if(c instanceof kd)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Dd)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Md)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof jp)return{fieldPath:a.field.canonicalString(),increment:c.Ae};throw Me(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:u$(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Me(27497)}(t,e.precondition)),n}function p$(t,e){return t&&t.length>0?(at(e!==void 0,14353),t.map(n=>function(s,o){let a=s.updateTime?bs(s.updateTime):bs(o);return a.isEqual(Fe.min())&&(a=bs(o)),new Yz(a,s.transformResults||[])}(n,e))):[]}function m$(t,e){return{documents:[XA(t,e.path)]}}function g$(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=XA(t,s);const o=function(f){if(f.length!==0)return eP(Rs.create(f,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(f){if(f.length!==0)return f.map(m=>function(_){return{field:Gl(_.field),direction:_$(_.dir)}}(m))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const c=y0(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ft:n,parent:s}}function y$(t){let e=d$(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){at(r===1,65062);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(y){const _=ZA(y);return _ instanceof Rs&&RA(_)?_.getFilters():[_]}(n.where));let a=[];n.orderBy&&(a=function(y){return y.map(_=>function(I){return new Mp(ql(I.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(y){let _;return _=typeof y=="object"?y.value:y,_m(_)?null:_}(n.limit));let d=null;n.startAt&&(d=function(y){const _=!!y.before,b=y.values||[];return new Dp(b,_)}(n.startAt));let f=null;return n.endAt&&(f=function(y){const _=!y.before,b=y.values||[];return new Dp(b,_)}(n.endAt)),Mz(e,s,a,o,c,"F",d,f)}function v$(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ZA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ql(n.unaryFilter.field);return Gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ql(n.unaryFilter.field);return Gt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ql(n.unaryFilter.field);return Gt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ql(n.unaryFilter.field);return Gt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}}(t):t.fieldFilter!==void 0?function(n){return Gt.create(ql(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rs.create(n.compositeFilter.filters.map(r=>ZA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Me(1026)}}(n.compositeFilter.op))}(t):Me(30097,{filter:t})}function _$(t){return o$[t]}function w$(t){return a$[t]}function x$(t){return l$[t]}function Gl(t){return{fieldPath:t.canonicalString()}}function ql(t){return pn.fromServerFormat(t.fieldPath)}function eP(t){return t instanceof Gt?function(n){if(n.op==="=="){if(gC(n.value))return{unaryFilter:{field:Gl(n.field),op:"IS_NAN"}};if(mC(n.value))return{unaryFilter:{field:Gl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gC(n.value))return{unaryFilter:{field:Gl(n.field),op:"IS_NOT_NAN"}};if(mC(n.value))return{unaryFilter:{field:Gl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gl(n.field),op:w$(n.op),value:n.value}}}(t):t instanceof Rs?function(n){const r=n.getFilters().map(s=>eP(s));return r.length===1?r[0]:{compositeFilter:{op:x$(n.op),filters:r}}}(t):Me(54877,{filter:t})}function E$(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n,r,s,o=Fe.min(),a=Fe.min(),c=mn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new lo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b${constructor(e){this.yt=e}}function T$(t){const e=y$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?g0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${constructor(){this.Cn=new C$}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Co.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Co.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class C${constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new qt(Ct.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new qt(Ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nP=41943040;class Wn{static withCacheSize(e){return new Wn(e,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn.DEFAULT_COLLECTION_PERCENTILE=10,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wn.DEFAULT=new Wn(nP,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wn.DISABLED=new Wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new wc(0)}static cr(){return new wc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="LruGarbageCollector",I$=1048576;function kC([t,e],[n,r]){const s=Ge(t,n);return s===0?Ge(e,r):s}class N${constructor(e){this.Ir=e,this.buffer=new qt(kC),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();kC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class R${constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(PC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jc(n)?me(PC,"Ignoring IndexedDB error during garbage collection: ",n):await Mc(n)}await this.Vr(3e5)})}}class A${constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(vm.ce);const r=new N$(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(AC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AC):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,o,a,c,d,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,a=Date.now(),this.nthSequenceNumber(e,s))).next(y=>(r=y,c=Date.now(),this.removeTargets(e,r,n))).next(y=>(o=y,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(f=Date.now(),Wl()<=He.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-m}ms
	Determined least recently used ${s} in `+(c-a)+`ms
	Removed ${o} targets in `+(d-c)+`ms
	Removed ${y} documents in `+(f-d)+`ms
Total Duration: ${f-m}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:y})))}}function P$(t,e){return new A$(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(){this.changes=new qa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&cd(r.mutation,s,Ur.empty(),wt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ke()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ke()){const s=ba();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let a=Ku();return o.forEach((c,d)=>{a=a.insert(c,d.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=ba();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ke()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((a,c)=>{n.set(a,c)})})}computeViews(e,n,r,s){let o=fi();const a=ld(),c=function(){return ld()}();return n.forEach((d,f)=>{const m=r.get(f.key);s.has(f.key)&&(m===void 0||m.mutation instanceof Ka)?o=o.insert(f.key,f):m!==void 0?(a.set(f.key,m.mutation.getFieldMask()),cd(m.mutation,f,m.mutation.getFieldMask(),wt.now())):a.set(f.key,Ur.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((f,m)=>a.set(f,m)),n.forEach((f,m)=>c.set(f,new D$(m,a.get(f)??null))),c))}recalculateAndSaveOverlays(e,n){const r=ld();let s=new $t((a,c)=>a-c),o=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const c of a)c.keys().forEach(d=>{const f=n.get(d);if(f===null)return;let m=r.get(d)||Ur.empty();m=c.applyToLocalView(f,m),r.set(d,m);const y=(s.get(c.batchId)||Ke()).add(d);s=s.insert(c.batchId,y)})}).next(()=>{const a=[],c=s.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,m=d.value,y=LA();m.forEach(_=>{if(!o.has(_)){const b=$A(n.get(_),r.get(_));b!==null&&y.set(_,b),o=o.add(_)}}),a.push(this.documentOverlayCache.saveOverlays(e,f,y))}return ne.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return Pe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jz(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const a=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):ne.resolve(ba());let c=Nd,d=o;return a.next(f=>ne.forEach(f,(m,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),o.get(m)?ne.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{d=d.insert(m,_)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,d,f,Ke())).next(m=>({batchId:c,changes:OA(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next(r=>{let s=Ku();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let a=Ku();return this.indexManager.getCollectionParents(e,o).next(c=>ne.forEach(c,d=>{const f=function(y,_){return new xm(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,s).next(m=>{m.forEach((y,_)=>{a=a.insert(y,_)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(a=>{o.forEach((d,f)=>{const m=f.getKey();a.get(m)===null&&(a=a.insert(m,Tn.newInvalidDocument(m)))});let c=Ku();return a.forEach((d,f)=>{const m=o.get(d);m!==void 0&&cd(m.mutation,f,Ur.empty(),wt.now()),bm(n,f)&&(c=c.insert(d,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:bs(s.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:T$(s.bundledQuery),readTime:bs(s.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(){this.overlays=new $t(Pe.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ba();return ne.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.St(e,n,o)}),ne.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const s=ba(),o=n.length+1,a=new Pe(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>r&&s.set(d.getKey(),d)}return ne.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new $t((f,m)=>f-m);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=o.get(f.largestBatchId);m===null&&(m=ba(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const c=ba(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,m)=>c.set(f,m)),!(c.size()>=s)););return ne.resolve(c)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new e$(n,r));let o=this.qr.get(n);o===void 0&&(o=Ke(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.Qr=new qt(en.$r),this.Ur=new qt(en.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new en(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new en(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Pe(new Ct([])),r=new en(n,e),s=new en(n,e+1),o=[];return this.Ur.forEachInRange([r,s],a=>{this.Gr(a),o.push(a.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Pe(new Ct([])),r=new en(n,e),s=new en(n,e+1);let o=Ke();return this.Ur.forEachInRange([r,s],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new en(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class en{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Pe.comparator(e.key,n.key)||Ge(e.Yr,n.Yr)}static Kr(e,n){return Ge(e.Yr,n.Yr)||Pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new qt(en.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Zz(o,n,r,s);this.mutationQueue.push(a);for(const c of s)this.Zr=this.Zr.add(new en(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ne.resolve(a)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),o=s<0?0:s;return ne.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?hw:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new en(n,0),s=new en(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],a=>{const c=this.Xr(a.Yr);o.push(c)}),ne.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qt(Ge);return n.forEach(s=>{const o=new en(s,0),a=new en(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,a],c=>{r=r.add(c.Yr)})}),ne.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Pe.isDocumentKey(o)||(o=o.child(""));const a=new en(new Pe(o),0);let c=new qt(Ge);return this.Zr.forEachWhile(d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===s&&(c=c.add(d.Yr)),!0)},a),ne.resolve(this.ti(c))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){at(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ne.forEach(n.mutations,s=>{const o=new en(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new en(n,0),s=this.Zr.firstAfterOrEqual(r);return ne.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(e){this.ri=e,this.docs=function(){return new $t(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():Tn.newInvalidDocument(n))}getEntries(e,n){let r=fi();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Tn.newInvalidDocument(s))}),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=fi();const a=n.path,c=new Pe(a.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:m}}=d.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||hz(dz(m),r)<=0||(s.has(m.key)||bm(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return ne.resolve(o)}getAllFromCollectionGroup(e,n,r,s){Me(9500)}ii(e,n){return ne.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new U$(this)}getSize(e){return ne.resolve(this.size)}}class U$ extends k${constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(e){this.persistence=e,this.si=new qa(n=>mw(n),gw),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.oi=0,this._i=new Ew,this.targetCount=0,this.ai=wc.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new wc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.si.forEach((a,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(a),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),ne.waitFor(o).next(()=>s)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(a=>{o.push(s.markPotentiallyOrphaned(e,a))}),ne.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,n){this.ui={},this.overlays={},this.ci=new vm(0),this.li=!1,this.li=!0,this.hi=new L$,this.referenceDelegate=e(this),this.Pi=new B$(this),this.indexManager=new S$,this.remoteDocumentCache=function(s){return new F$(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new b$(n),this.Ii=new j$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new O$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new V$(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const s=new z$(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(o=>this.referenceDelegate.di(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ai(e,n){return ne.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class z$ extends pz{constructor(e){super(),this.currentSequenceNumber=e}}class bw{constructor(e){this.persistence=e,this.Ri=new Ew,this.Vi=null}static mi(e){return new bw(e)}get fi(){if(this.Vi)return this.Vi;throw Me(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,r=>{const s=Pe.fromPath(r);return this.gi(e,s).next(o=>{o||n.removeEntry(s,Fe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Lp{constructor(e,n){this.persistence=e,this.pi=new qa(r=>yz(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=P$(this,n)}static mi(e,n){return new Lp(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return ne.forEach(this.pi,(r,s)=>this.br(e,r,s).next(o=>o?ne.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,a=>this.br(e,a,n).next(c=>{c||(r++,o.removeEntry(a,Fe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sp(e.data.value)),n}br(e,n,r){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return ne.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ke(),s=Ke();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Tw(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return fU()?8:mz(Rn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ys(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.ws(e,n,s,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new $$;return this.Ss(e,n,a).next(c=>{if(o.result=c,this.Vs)return this.bs(e,n,a,c.size)})}).next(()=>o.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Wl()<=He.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Hl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Wl()<=He.DEBUG&&me("QueryEngine","Query:",Hl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Wl()<=He.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Hl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Es(n))):ne.resolve())}ys(e,n){if(wC(n))return ne.resolve(null);let r=Es(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=g0(n,null,"F"),r=Es(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=Ke(...o);return this.ps.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,r).next(d=>{const f=this.Ds(n,c);return this.Cs(n,f,a,d.readTime)?this.ys(e,g0(n,null,"F")):this.vs(e,f,n,d)}))})))}ws(e,n,r,s){return wC(n)||s.isEqual(Fe.min())?ne.resolve(null):this.ps.getDocuments(e,r).next(o=>{const a=this.Ds(n,o);return this.Cs(n,a,r,s)?ne.resolve(null):(Wl()<=He.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Hl(n)),this.vs(e,a,n,uz(s,Nd)).next(c=>c))})}Ds(e,n){let r=new qt(MA(e));return n.forEach((s,o)=>{bm(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,r){return Wl()<=He.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Hl(n)),this.ps.getDocumentsMatchingQuery(e,n,Co.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="LocalStore",H$=3e8;class G${constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new $t(Ge),this.xs=new qa(o=>mw(o),gw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new M$(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function q$(t,e,n,r){return new G$(t,e,n,r)}async function sP(t,e){const n=Be(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],c=[];let d=Ke();for(const f of s){a.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}for(const f of o){c.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next(f=>({Ls:f,removedBatchIds:a,addedBatchIds:c}))})})}function K$(t,e){const n=Be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(c,d,f,m){const y=f.batch,_=y.keys();let b=ne.resolve();return _.forEach(I=>{b=b.next(()=>m.getEntry(d,I)).next(S=>{const C=f.docVersions.get(I);at(C!==null,48541),S.version.compareTo(C)<0&&(y.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),m.addEntry(S)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(d,y))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let d=Ke();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function iP(t){const e=Be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Y$(t,e){const n=Be(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const c=[];e.targetChanges.forEach((m,y)=>{const _=s.get(y);if(!_)return;c.push(n.Pi.removeMatchingKeys(o,m.removedDocuments,y).next(()=>n.Pi.addMatchingKeys(o,m.addedDocuments,y)));let b=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?b=b.withResumeToken(mn.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):m.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(m.resumeToken,r)),s=s.insert(y,b),function(S,C,A){return S.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=H$?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(_,b,m)&&c.push(n.Pi.updateTargetData(o,b))});let d=fi(),f=Ke();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))}),c.push(Q$(o,a,e.documentUpdates).next(m=>{d=m.ks,f=m.qs})),!r.isEqual(Fe.min())){const m=n.Pi.getLastRemoteSnapshotVersion(o).next(y=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(m)}return ne.waitFor(c).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,f)).next(()=>d)}).then(o=>(n.Ms=s,o))}function Q$(t,e,n){let r=Ke(),s=Ke();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=fi();return n.forEach((c,d)=>{const f=o.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(c)),d.isNoDocument()&&d.version.isEqual(Fe.min())?(e.removeEntry(c,d.readTime),a=a.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),a=a.insert(c,d)):me(Sw,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)}),{ks:a,qs:s}})}function X$(t,e){const n=Be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=hw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function J$(t,e){const n=Be(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(o=>o?(s=o,ne.resolve(s)):n.Pi.allocateTargetId(r).next(a=>(s=new lo(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function x0(t,e,n){const r=Be(t),s=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!jc(a))throw a;me(Sw,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function DC(t,e,n){const r=Be(t);let s=Fe.min(),o=Ke();return r.persistence.runTransaction("Execute query","readwrite",a=>function(d,f,m){const y=Be(d),_=y.xs.get(m);return _!==void 0?ne.resolve(y.Ms.get(_)):y.Pi.getTargetData(f,m)}(r,a,Es(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,c.targetId).next(d=>{o=d})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,n?s:Fe.min(),n?o:Ke())).next(c=>(Z$(r,Lz(e),c),{documents:c,Qs:o})))}function Z$(t,e,n){let r=t.Os.get(e)||Fe.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class MC{constructor(){this.activeTargetIds=$z()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eW{constructor(){this.Mo=new MC,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new MC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tW{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="ConnectivityMonitor";class OC{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(jC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(jC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vf=null;function E0(){return Vf===null?Vf=function(){return 268435456+Math.round(2147483648*Math.random())}():Vf++,"0x"+Vf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="RestConnection",nW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rW{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Pp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,o){const a=E0(),c=this.zo(e,n.toUriEncodedString());me(sv,`Sending RPC '${e}' ${a}:`,c,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,s,o);const{host:f}=new URL(c),m=Lo(f);return this.Jo(e,c,d,r,m).then(y=>(me(sv,`Received RPC '${e}' ${a}: `,y),y),y=>{throw gc(sv,`RPC '${e}' ${a} failed with error: `,y,"url: ",c,"request:",r),y})}Ho(e,n,r,s,o,a){return this.Go(e,n,r,s,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Dc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}zo(e,n){const r=nW[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn="WebChannelConnection";class iW extends rW{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,o){const a=E0();return new Promise((c,d)=>{const f=new cA;f.setWithCredentials(!0),f.listenOnce(uA.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case rp.NO_ERROR:const y=f.getResponseJson();me(xn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),c(y);break;case rp.TIMEOUT:me(xn,`RPC '${e}' ${a} timed out`),d(new Te(oe.DEADLINE_EXCEEDED,"Request time out"));break;case rp.HTTP_ERROR:const _=f.getStatus();if(me(xn,`RPC '${e}' ${a} failed with status:`,_,"response text:",f.getResponseText()),_>0){let b=f.getResponseJson();Array.isArray(b)&&(b=b[0]);const I=b==null?void 0:b.error;if(I&&I.status&&I.message){const S=function(A){const M=A.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(M)>=0?M:oe.UNKNOWN}(I.status);d(new Te(S,I.message))}else d(new Te(oe.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Te(oe.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:a,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{me(xn,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(s);me(xn,`RPC '${e}' ${a} sending request:`,s),f.send(n,"POST",m,r,15)})}T_(e,n,r){const s=E0(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=fA(),c=hA(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=o.join("");me(xn,`Creating RPC '${e}' stream ${s}: ${m}`,d);const y=a.createWebChannel(m,d);this.I_(y);let _=!1,b=!1;const I=new sW({Yo:C=>{b?me(xn,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(_||(me(xn,`Opening RPC '${e}' stream ${s} transport.`),y.open(),_=!0),me(xn,`RPC '${e}' stream ${s} sending:`,C),y.send(C))},Zo:()=>y.close()}),S=(C,A,M)=>{C.listen(A,j=>{try{M(j)}catch(W){setTimeout(()=>{throw W},0)}})};return S(y,qu.EventType.OPEN,()=>{b||(me(xn,`RPC '${e}' stream ${s} transport opened.`),I.o_())}),S(y,qu.EventType.CLOSE,()=>{b||(b=!0,me(xn,`RPC '${e}' stream ${s} transport closed`),I.a_(),this.E_(y))}),S(y,qu.EventType.ERROR,C=>{b||(b=!0,gc(xn,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),I.a_(new Te(oe.UNAVAILABLE,"The operation could not be completed")))}),S(y,qu.EventType.MESSAGE,C=>{var A;if(!b){const M=C.data[0];at(!!M,16349);const j=M,W=(j==null?void 0:j.error)||((A=j[0])==null?void 0:A.error);if(W){me(xn,`RPC '${e}' stream ${s} received error:`,W);const G=W.status;let J=function(k){const V=Ut[k];if(V!==void 0)return GA(V)}(G),D=W.message;J===void 0&&(J=oe.INTERNAL,D="Unknown error status: "+G+" with message "+W.message),b=!0,I.a_(new Te(J,D)),y.close()}else me(xn,`RPC '${e}' stream ${s} received:`,M),I.u_(M)}}),S(c,dA.STAT_EVENT,C=>{C.stat===c0.PROXY?me(xn,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===c0.NOPROXY&&me(xn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{I.__()},0),I}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function iv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(t){return new c$(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="PersistentStream";class aP{constructor(e,n,r,s,o,a,c,d){this.Mi=e,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new oP(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(hi(n.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Te(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return me(LC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(me(LC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oW extends aP{constructor(e,n,r,s,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=h$(this.serializer,e),r=function(o){if(!("targetChange"in o))return Fe.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?Fe.min():a.readTime?bs(a.readTime):Fe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=w0(this.serializer),n.addTarget=function(o,a){let c;const d=a.target;if(c=m0(d)?{documents:m$(o,d)}:{query:g$(o,d).ft},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=YA(o,a.resumeToken);const f=y0(o,a.expectedCount);f!==null&&(c.expectedCount=f)}else if(a.snapshotVersion.compareTo(Fe.min())>0){c.readTime=Op(o,a.snapshotVersion.toTimestamp());const f=y0(o,a.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const r=v$(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=w0(this.serializer),n.removeTarget=e,this.q_(n)}}class aW extends aP{constructor(e,n,r,s,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=p$(e.writeResults,e.commitTime),r=bs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=w0(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>f$(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{}class cW extends lW{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Te(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Go(e,v0(n,r),s,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Te(oe.UNKNOWN,o.toString())})}Ho(e,n,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Ho(e,v0(n,r),s,a,c,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(oe.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class uW{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hi(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="RemoteStore";class dW{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{Ya(this)&&(me(Da,"Restarting streams for network reachability change."),await async function(d){const f=Be(d);f.Ea.add(4),await nh(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Nm(f)}(this))})}),this.Ra=new uW(r,s)}}async function Nm(t){if(Ya(t))for(const e of t.da)await e(!0)}async function nh(t){for(const e of t.da)await e(!1)}function lP(t,e){const n=Be(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Rw(n)?Nw(n):Oc(n).O_()&&Iw(n,e))}function Cw(t,e){const n=Be(t),r=Oc(n);n.Ia.delete(e),r.O_()&&cP(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ya(n)&&n.Ra.set("Unknown"))}function Iw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oc(t).Y_(e)}function cP(t,e){t.Va.Ue(e),Oc(t).Z_(e)}function Nw(t){t.Va=new i$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Oc(t).start(),t.Ra.ua()}function Rw(t){return Ya(t)&&!Oc(t).x_()&&t.Ia.size>0}function Ya(t){return Be(t).Ea.size===0}function uP(t){t.Va=void 0}async function hW(t){t.Ra.set("Online")}async function fW(t){t.Ia.forEach((e,n)=>{Iw(t,e)})}async function pW(t,e){uP(t),Rw(t)?(t.Ra.ha(e),Nw(t)):t.Ra.set("Unknown")}async function mW(t,e,n){if(t.Ra.set("Online"),e instanceof KA&&e.state===2&&e.cause)try{await async function(s,o){const a=o.cause;for(const c of o.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,a),s.Ia.delete(c),s.Va.removeTarget(c))}(t,e)}catch(r){me(Da,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vp(t,r)}else if(e instanceof ap?t.Va.Ze(e):e instanceof qA?t.Va.st(e):t.Va.tt(e),!n.isEqual(Fe.min()))try{const r=await iP(t.localStore);n.compareTo(r)>=0&&await function(o,a){const c=o.Va.Tt(a);return c.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const m=o.Ia.get(f);m&&o.Ia.set(f,m.withResumeToken(d.resumeToken,a))}}),c.targetMismatches.forEach((d,f)=>{const m=o.Ia.get(d);if(!m)return;o.Ia.set(d,m.withResumeToken(mn.EMPTY_BYTE_STRING,m.snapshotVersion)),cP(o,d);const y=new lo(m.target,d,f,m.sequenceNumber);Iw(o,y)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){me(Da,"Failed to raise snapshot:",r),await Vp(t,r)}}async function Vp(t,e,n){if(!jc(e))throw e;t.Ea.add(1),await nh(t),t.Ra.set("Offline"),n||(n=()=>iP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{me(Da,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Nm(t)})}function dP(t,e){return e().catch(n=>Vp(t,n,e))}async function Rm(t){const e=Be(t),n=Ao(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hw;for(;gW(e);)try{const s=await X$(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,yW(e,s)}catch(s){await Vp(e,s)}hP(e)&&fP(e)}function gW(t){return Ya(t)&&t.Ta.length<10}function yW(t,e){t.Ta.push(e);const n=Ao(t);n.O_()&&n.X_&&n.ea(e.mutations)}function hP(t){return Ya(t)&&!Ao(t).x_()&&t.Ta.length>0}function fP(t){Ao(t).start()}async function vW(t){Ao(t).ra()}async function _W(t){const e=Ao(t);for(const n of t.Ta)e.ea(n.mutations)}async function wW(t,e,n){const r=t.Ta.shift(),s=_w.from(r,e,n);await dP(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Rm(t)}async function xW(t,e){e&&Ao(t).X_&&await async function(r,s){if(function(a){return n$(a)&&a!==oe.ABORTED}(s.code)){const o=r.Ta.shift();Ao(r).B_(),await dP(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Rm(r)}}(t,e),hP(t)&&fP(t)}async function VC(t,e){const n=Be(t);n.asyncQueue.verifyOperationInProgress(),me(Da,"RemoteStore received new credentials");const r=Ya(n);n.Ea.add(3),await nh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Nm(n)}async function EW(t,e){const n=Be(t);e?(n.Ea.delete(2),await Nm(n)):e||(n.Ea.add(2),await nh(n),n.Ra.set("Unknown"))}function Oc(t){return t.ma||(t.ma=function(n,r,s){const o=Be(n);return o.sa(),new oW(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:hW.bind(null,t),t_:fW.bind(null,t),r_:pW.bind(null,t),H_:mW.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Rw(t)?Nw(t):t.Ra.set("Unknown")):(await t.ma.stop(),uP(t))})),t.ma}function Ao(t){return t.fa||(t.fa=function(n,r,s){const o=Be(n);return o.sa(),new aW(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:vW.bind(null,t),r_:xW.bind(null,t),ta:_W.bind(null,t),na:wW.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Rm(t)):(await t.fa.stop(),t.Ta.length>0&&(me(Da,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new po,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const a=Date.now()+r,c=new Aw(e,n,a,s,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pw(t,e){if(hi("AsyncQueue",`${e}: ${t}`),jc(t))return new Te(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{static emptySet(e){return new oc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Pe.comparator(n.key,r.key):(n,r)=>Pe.comparator(n.key,r.key),this.keyedMap=Ku(),this.sortedSet=new $t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new oc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(){this.ga=new $t(Pe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Me(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class xc{constructor(e,n,r,s,o,a,c,d,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,s,o){const a=[];return n.forEach(c=>{a.push({type:0,doc:c})}),new xc(e,n,oc.emptySet(n),a,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Em(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bW{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class TW{constructor(){this.queries=UC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Be(n),o=s.queries;s.queries=UC(),o.forEach((a,c)=>{for(const d of c.Sa)d.onError(r)})})(this,new Te(oe.ABORTED,"Firestore shutting down"))}}function UC(){return new qa(t=>DA(t),Em)}async function SW(t,e){const n=Be(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.ba()&&e.Da()&&(r=2):(o=new bW,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const c=Pw(a,`Initialization of query '${Hl(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&kw(n)}async function CW(t,e){const n=Be(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const a=o.Sa.indexOf(e);a>=0&&(o.Sa.splice(a,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function IW(t,e){const n=Be(t);let r=!1;for(const s of e){const o=s.query,a=n.queries.get(o);if(a){for(const c of a.Sa)c.Fa(s)&&(r=!0);a.wa=s}}r&&kw(n)}function NW(t,e,n){const r=Be(t),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);r.queries.delete(e)}function kw(t){t.Ca.forEach(e=>{e.next()})}var b0,BC;(BC=b0||(b0={})).Ma="default",BC.Cache="cache";class RW{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new xc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==b0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.key=e}}class mP{constructor(e){this.key=e}}class AW{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ke(),this.mutatedKeys=Ke(),this.eu=MA(e),this.tu=new oc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new FC,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,a=s,c=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((m,y)=>{const _=s.get(m),b=bm(this.query,y)?y:null,I=!!_&&this.mutatedKeys.has(_.key),S=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let C=!1;_&&b?_.data.isEqual(b.data)?I!==S&&(r.track({type:3,doc:b}),C=!0):this.su(_,b)||(r.track({type:2,doc:b}),C=!0,(d&&this.eu(b,d)>0||f&&this.eu(b,f)<0)&&(c=!0)):!_&&b?(r.track({type:0,doc:b}),C=!0):_&&!b&&(r.track({type:1,doc:_}),C=!0,(d||f)&&(c=!0)),C&&(b?(a=a.add(b),o=S?o.add(m):o.delete(m)):(a=a.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{tu:a,iu:r,Cs:c,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((m,y)=>function(b,I){const S=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Rt:C})}};return S(b)-S(I)}(m.type,y.type)||this.eu(m.doc,y.doc)),this.ou(r),s=s??!1;const c=n&&!s?this._u():[],d=this.Xa.size===0&&this.current&&!s?1:0,f=d!==this.Za;return this.Za=d,a.length!==0||f?{snapshot:new xc(this.query,e.tu,o,a,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new FC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ke(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new mP(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new pP(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return xc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Dw="SyncEngine";class PW{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class kW{constructor(e){this.key=e,this.hu=!1}}class DW{constructor(e,n,r,s,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new qa(c=>DA(c),Em),this.Iu=new Map,this.Eu=new Set,this.du=new $t(Pe.comparator),this.Au=new Map,this.Ru=new Ew,this.Vu={},this.mu=new Map,this.fu=wc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function MW(t,e,n=!0){const r=xP(t);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await gP(r,e,n,!0),s}async function jW(t,e){const n=xP(t);await gP(n,e,!0,!1)}async function gP(t,e,n,r){const s=await J$(t.localStore,Es(e)),o=s.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await OW(t,e,o,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&lP(t.remoteStore,s),c}async function OW(t,e,n,r,s){t.pu=(y,_,b)=>async function(S,C,A,M){let j=C.view.ru(A);j.Cs&&(j=await DC(S.localStore,C.query,!1).then(({documents:D})=>C.view.ru(D,j)));const W=M&&M.targetChanges.get(C.targetId),G=M&&M.targetMismatches.get(C.targetId)!=null,J=C.view.applyChanges(j,S.isPrimaryClient,W,G);return $C(S,C.targetId,J.au),J.snapshot}(t,y,_,b);const o=await DC(t.localStore,e,!0),a=new AW(e,o.Qs),c=a.ru(o.documents),d=th.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),f=a.applyChanges(c,t.isPrimaryClient,d);$C(t,n,f.au);const m=new PW(e,n,a);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function LW(t,e,n){const r=Be(t),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter(a=>!Em(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await x0(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Cw(r.remoteStore,s.targetId),T0(r,s.targetId)}).catch(Mc)):(T0(r,s.targetId),await x0(r.localStore,s.targetId,!0))}async function VW(t,e){const n=Be(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Cw(n.remoteStore,r.targetId))}async function FW(t,e,n){const r=GW(t);try{const s=await function(a,c){const d=Be(a),f=wt.now(),m=c.reduce((b,I)=>b.add(I.key),Ke());let y,_;return d.persistence.runTransaction("Locally write mutations","readwrite",b=>{let I=fi(),S=Ke();return d.Ns.getEntries(b,m).next(C=>{I=C,I.forEach((A,M)=>{M.isValidDocument()||(S=S.add(A))})}).next(()=>d.localDocuments.getOverlayedDocuments(b,I)).next(C=>{y=C;const A=[];for(const M of c){const j=Xz(M,y.get(M.key).overlayedDocument);j!=null&&A.push(new Ka(M.key,j,CA(j.value.mapValue),ii.exists(!0)))}return d.mutationQueue.addMutationBatch(b,f,A,c)}).next(C=>{_=C;const A=C.applyToLocalDocumentSet(y,S);return d.documentOverlayCache.saveOverlays(b,C.batchId,A)})}).then(()=>({batchId:_.batchId,changes:OA(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,c,d){let f=a.Vu[a.currentUser.toKey()];f||(f=new $t(Ge)),f=f.insert(c,d),a.Vu[a.currentUser.toKey()]=f}(r,s.batchId,n),await rh(r,s.changes),await Rm(r.remoteStore)}catch(s){const o=Pw(s,"Failed to persist write");n.reject(o)}}async function yP(t,e){const n=Be(t);try{const r=await Y$(n.localStore,e);e.targetChanges.forEach((s,o)=>{const a=n.Au.get(o);a&&(at(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?at(a.hu,14607):s.removedDocuments.size>0&&(at(a.hu,42227),a.hu=!1))}),await rh(n,r,e)}catch(r){await Mc(r)}}function zC(t,e,n){const r=Be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((o,a)=>{const c=a.view.va(e);c.snapshot&&s.push(c.snapshot)}),function(a,c){const d=Be(a);d.onlineState=c;let f=!1;d.queries.forEach((m,y)=>{for(const _ of y.Sa)_.va(c)&&(f=!0)}),f&&kw(d)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function UW(t,e,n){const r=Be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),o=s&&s.key;if(o){let a=new $t(Pe.comparator);a=a.insert(o,Tn.newNoDocument(o,Fe.min()));const c=Ke().add(o),d=new Cm(Fe.min(),new Map,new $t(Ge),a,c);await yP(r,d),r.du=r.du.remove(o),r.Au.delete(e),Mw(r)}else await x0(r.localStore,e,!1).then(()=>T0(r,e,n)).catch(Mc)}async function BW(t,e){const n=Be(t),r=e.batch.batchId;try{const s=await K$(n.localStore,e);_P(n,r,null),vP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await rh(n,s)}catch(s){await Mc(s)}}async function zW(t,e,n){const r=Be(t);try{const s=await function(a,c){const d=Be(a);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return d.mutationQueue.lookupMutationBatch(f,c).next(y=>(at(y!==null,37113),m=y.keys(),d.mutationQueue.removeMutationBatch(f,y))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,m,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>d.localDocuments.getDocuments(f,m))})}(r.localStore,e);_P(r,e,n),vP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await rh(r,s)}catch(s){await Mc(s)}}function vP(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function _P(t,e,n){const r=Be(t);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function T0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||wP(t,r)})}function wP(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Cw(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Mw(t))}function $C(t,e,n){for(const r of n)r instanceof pP?(t.Ru.addReference(r.key,e),$W(t,r)):r instanceof mP?(me(Dw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||wP(t,r.key)):Me(19791,{wu:r})}function $W(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(me(Dw,"New document in limbo: "+n),t.Eu.add(r),Mw(t))}function Mw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Pe(Ct.fromString(e)),r=t.fu.next();t.Au.set(r,new kW(n)),t.du=t.du.insert(n,r),lP(t.remoteStore,new lo(Es(yw(n.path)),r,"TargetPurposeLimboResolution",vm.ce))}}async function rh(t,e,n){const r=Be(t),s=[],o=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((c,d)=>{a.push(r.pu(d,e,n).then(f=>{var m;if((f||n)&&r.isPrimaryClient){const y=f?!f.fromCache:(m=n==null?void 0:n.targetChanges.get(d.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(f){s.push(f);const y=Tw.As(d.targetId,f);o.push(y)}}))}),await Promise.all(a),r.Pu.H_(s),await async function(d,f){const m=Be(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>ne.forEach(f,_=>ne.forEach(_.Es,b=>m.persistence.referenceDelegate.addReference(y,_.targetId,b)).next(()=>ne.forEach(_.ds,b=>m.persistence.referenceDelegate.removeReference(y,_.targetId,b)))))}catch(y){if(!jc(y))throw y;me(Sw,"Failed to update sequence numbers: "+y)}for(const y of f){const _=y.targetId;if(!y.fromCache){const b=m.Ms.get(_),I=b.snapshotVersion,S=b.withLastLimboFreeSnapshotVersion(I);m.Ms=m.Ms.insert(_,S)}}}(r.localStore,o))}async function WW(t,e){const n=Be(t);if(!n.currentUser.isEqual(e)){me(Dw,"User change. New user:",e.toKey());const r=await sP(n.localStore,e);n.currentUser=e,function(o,a){o.mu.forEach(c=>{c.forEach(d=>{d.reject(new Te(oe.CANCELLED,a))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await rh(n,r.Ls)}}function HW(t,e){const n=Be(t),r=n.Au.get(e);if(r&&r.hu)return Ke().add(r.key);{let s=Ke();const o=n.Iu.get(e);if(!o)return s;for(const a of o){const c=n.Tu.get(a);s=s.unionWith(c.view.nu)}return s}}function xP(t){const e=Be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UW.bind(null,e),e.Pu.H_=IW.bind(null,e.eventManager),e.Pu.yu=NW.bind(null,e.eventManager),e}function GW(t){const e=Be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zW.bind(null,e),e}class Fp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Im(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return q$(this.persistence,new W$,e.initialUser,this.serializer)}Cu(e){return new rP(bw.mi,this.serializer)}Du(e){return new eW}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fp.provider={build:()=>new Fp};class qW extends Fp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){at(this.persistence.referenceDelegate instanceof Lp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new R$(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Wn.withCacheSize(this.cacheSizeBytes):Wn.DEFAULT;return new rP(r=>Lp.mi(r,n),this.serializer)}}class S0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=WW.bind(null,this.syncEngine),await EW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new TW}()}createDatastore(e){const n=Im(e.databaseInfo.databaseId),r=function(o){return new iW(o)}(e.databaseInfo);return function(o,a,c,d){return new cW(o,a,c,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,a,c){return new dW(r,s,o,a,c)}(this.localStore,this.datastore,e.asyncQueue,n=>zC(this.syncEngine,n,0),function(){return OC.v()?new OC:new tW}())}createSyncEngine(e,n){return function(s,o,a,c,d,f,m){const y=new DW(s,o,a,c,d,f);return m&&(y.gu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=Be(s);me(Da,"RemoteStore shutting down."),o.Ea.add(5),await nh(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}S0.provider={build:()=>new S0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="FirestoreClient";class YW{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=bn.UNAUTHENTICATED,this.clientId=uw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{me(Po,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(me(Po,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new po;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Pw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ov(t,e){t.asyncQueue.verifyOperationInProgress(),me(Po,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await sP(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function WC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await QW(t);me(Po,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>VC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>VC(e.remoteStore,s)),t._onlineComponents=e}async function QW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(Po,"Using user provided OfflineComponentProvider");try{await ov(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===oe.FAILED_PRECONDITION||s.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;gc("Error using user provided cache. Falling back to memory cache: "+n),await ov(t,new Fp)}}else me(Po,"Using default OfflineComponentProvider"),await ov(t,new qW(void 0));return t._offlineComponents}async function EP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(Po,"Using user provided OnlineComponentProvider"),await WC(t,t._uninitializedComponentsProvider._online)):(me(Po,"Using default OnlineComponentProvider"),await WC(t,new S0))),t._onlineComponents}function XW(t){return EP(t).then(e=>e.syncEngine)}async function JW(t){const e=await EP(t),n=e.eventManager;return n.onListen=MW.bind(null,e.syncEngine),n.onUnlisten=LW.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jW.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=VW.bind(null,e.syncEngine),n}function ZW(t,e,n={}){const r=new po;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,c,d,f){const m=new KW({next:_=>{m.Nu(),a.enqueueAndForget(()=>CW(o,y));const b=_.docs.has(c);!b&&_.fromCache?f.reject(new Te(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&_.fromCache&&d&&d.source==="server"?f.reject(new Te(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),y=new RW(yw(c.path),m,{includeMetadataChanges:!0,qa:!0});return SW(o,y)}(await JW(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="firestore.googleapis.com",GC=!0;class qC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Te(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TP,this.ssl=GC}else this.host=e.host,this.ssl=e.ssl??GC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<I$)throw new Te(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bP(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Te(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Te(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Te(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jw{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new JB;switch(r.type){case"firstParty":return new nz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Te(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=HC.get(n);r&&(me("ComponentProvider","Removing Datastore"),HC.delete(n),r.terminate())}(this),Promise.resolve()}}function e7(t,e,n,r={}){var f;t=Id(t,jw);const s=Lo(e),o=t._getSettings(),a={...o,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;s&&(K_(`https://${c}`),Y_("Firestore",!0)),o.host!==TP&&o.host!==c&&gc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:c,ssl:s,emulatorOptions:r};if(!To(d,a)&&(t._setSettings(d),r.mockUserToken)){let m,y;if(typeof r.mockUserToken=="string")m=r.mockUserToken,y=bn.MOCK_USER;else{m=xR(r.mockUserToken,(f=t._app)==null?void 0:f.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Te(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new bn(_)}t._authCredentials=new ZB(new mA(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ow(this.firestore,e,this._query)}}class rn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}toJSON(){return{type:rn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Zd(n,rn._jsonSchema))return new rn(e,r||null,new Pe(Ct.fromString(n.referencePath)))}}rn._jsonSchemaVersion="firestore/documentReference/1.0",rn._jsonSchema={type:Bt("string",rn._jsonSchemaVersion),referencePath:Bt("string")};class jd extends Ow{constructor(e,n,r){super(e,n,yw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new Pe(e))}withConverter(e){return new jd(this.firestore,e,this._path)}}function SP(t,e,...n){if(t=Mn(t),arguments.length===1&&(e=uw.newId()),lz("doc","path",e),t instanceof jw){const r=Ct.fromString(e,...n);return aC(r),new rn(t,null,new Pe(r))}{if(!(t instanceof rn||t instanceof jd))throw new Te(oe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ct.fromString(e,...n));return aC(r),new rn(t.firestore,t instanceof jd?t.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="AsyncQueue";class YC{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new oP(this,"async_queue_retry"),this._c=()=>{const r=iv();r&&me(KC,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=iv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=iv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new po;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!jc(e))throw e;me(KC,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,hi("INTERNAL UNHANDLED ERROR: ",QC(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Aw.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(s),s}uc(){this.nc&&Me(47125,{Pc:QC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function QC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Lw extends jw{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new YC,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new YC(e),this._firestoreClient=void 0,await e}}}function t7(t,e){const n=typeof t=="object"?t:J_(),r=typeof t=="string"?t:Pp,s=pm(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=vR("firestore");o&&e7(s,...o)}return s}function CP(t){if(t._terminated)throw new Te(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||n7(t),t._firestoreClient}function n7(t){var r,s,o;const e=t._freezeSettings(),n=function(c,d,f,m){return new wz(c,d,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,bP(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new YW(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wr(mn.fromBase64String(e))}catch(n){throw new Te(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wr(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zd(e,wr._jsonSchema))return wr.fromBase64String(e.bytes)}}wr._jsonSchemaVersion="firestore/bytes/1.0",wr._jsonSchema={type:Bt("string",wr._jsonSchemaVersion),bytes:Bt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ts._jsonSchemaVersion}}static fromJSON(e){if(Zd(e,Ts._jsonSchema))return new Ts(e.latitude,e.longitude)}}Ts._jsonSchemaVersion="firestore/geoPoint/1.0",Ts._jsonSchema={type:Bt("string",Ts._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ss._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zd(e,Ss._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ss(e.vectorValues);throw new Te(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ss._jsonSchemaVersion="firestore/vectorValue/1.0",Ss._jsonSchema={type:Bt("string",Ss._jsonSchemaVersion),vectorValues:Bt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r7=/^__.*__$/;class s7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ka(e,this.data,this.fieldMask,n,this.fieldTransforms):new eh(e,this.data,n,this.fieldTransforms)}}function IP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{Ac:t})}}class Uw{constructor(e,n,r,s,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Uw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Up(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(IP(this.Ac)&&r7.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class i7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Im(e)}Cc(e,n,r,s=!1){return new Uw({Ac:e,methodName:n,Dc:r,path:pn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function o7(t){const e=t._freezeSettings(),n=Im(t._databaseId);return new i7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function a7(t,e,n,r,s,o={}){const a=t.Cc(o.merge||o.mergeFields?2:0,e,n,s);PP("Data must be an object, but it was:",a,r);const c=RP(r,a);let d,f;if(o.merge)d=new Ur(a.fieldMask),f=a.fieldTransforms;else if(o.mergeFields){const m=[];for(const y of o.mergeFields){const _=l7(e,y,n);if(!a.contains(_))throw new Te(oe.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);u7(m,_)||m.push(_)}d=new Ur(m),f=a.fieldTransforms.filter(y=>d.covers(y.field))}else d=null,f=a.fieldTransforms;return new s7(new _r(c),d,f)}class Bw extends Fw{_toFieldTransform(e){return new qz(e.path,new kd)}isEqual(e){return e instanceof Bw}}function NP(t,e){if(AP(t=Mn(t)))return PP("Unsupported field value:",e,t),RP(t,e);if(t instanceof Fw)return function(r,s){if(!IP(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const o=[];let a=0;for(const c of r){let d=NP(c,s.wc(a));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=Mn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Wz(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=wt.fromDate(r);return{timestampValue:Op(s.serializer,o)}}if(r instanceof wt){const o=new wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Op(s.serializer,o)}}if(r instanceof Ts)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wr)return{bytesValue:YA(s.serializer,r._byteString)};if(r instanceof rn){const o=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw s.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:xw(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ss)return function(a,c){return{mapValue:{fields:{[TA]:{stringValue:SA},[kp]:{arrayValue:{values:a.toArray().map(f=>{if(typeof f!="number")throw c.Sc("VectorValues must only contain numeric values.");return vw(c.serializer,f)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${dw(r)}`)}(t,e)}function RP(t,e){const n={};return vA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ga(t,(r,s)=>{const o=NP(s,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function AP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wt||t instanceof Ts||t instanceof wr||t instanceof rn||t instanceof Fw||t instanceof Ss)}function PP(t,e,n){if(!AP(n)||!gA(n)){const r=dw(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function l7(t,e,n){if((e=Mn(e))instanceof Vw)return e._internalPath;if(typeof e=="string")return kP(t,e);throw Up("Field path arguments must be of type string or ",t,!1,void 0,n)}const c7=new RegExp("[~\\*/\\[\\]]");function kP(t,e,n){if(e.search(c7)>=0)throw Up(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Vw(...e.split("."))._internalPath}catch{throw Up(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Up(t,e,n,r,s){const o=r&&!r.isEmpty(),a=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||a)&&(d+=" (found",o&&(d+=` in field ${r}`),a&&(d+=` in document ${s}`),d+=")"),new Te(oe.INVALID_ARGUMENT,c+t+d)}function u7(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new d7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(MP("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class d7 extends DP{data(){return super.data()}}function MP(t,e){return typeof e=="string"?kP(t,e):e instanceof Vw?e._internalPath:e._delegate._internalPath}class h7{convertValue(e,n="none"){switch(Ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(No(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ga(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,s,o;const n=(o=(s=(r=e.fields)==null?void 0:r[kp].arrayValue)==null?void 0:s.values)==null?void 0:o.map(a=>Lt(a.doubleValue));return new Ss(n)}convertGeoPoint(e){return new Ts(Lt(e.latitude),Lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=wm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Rd(e));default:return null}}convertTimestamp(e){const n=Io(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ct.fromString(e);at(tP(r),9688,{name:e});const s=new Ad(r.get(1),r.get(3)),o=new Pe(r.popFirst(5));return s.isEqual(n)||hi(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f7(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Qu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ia extends DP{constructor(e,n,r,s,o,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(MP("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ia._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ia._jsonSchema={type:Bt("string",Ia._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class lp extends Ia{data(e={}){return super.data(e)}}class ud{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Qu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new lp(this._firestore,this._userDataWriter,r.key,r,new Qu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(c=>{const d=new lp(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Qu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const d=new lp(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Qu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,m=-1;return c.type!==0&&(f=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),m=a.indexOf(c.doc.key)),{type:p7(c.type),doc:d,oldIndex:f,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ud._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=uw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function p7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m7(t){t=Id(t,rn);const e=Id(t.firestore,Lw);return ZW(CP(e),t._key).then(n=>_7(e,t,n))}ud._jsonSchemaVersion="firestore/querySnapshot/1.0",ud._jsonSchema={type:Bt("string",ud._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class g7 extends h7{constructor(e){super(),this.firestore=e}convertBytes(e){return new wr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function y7(t,e,n){t=Id(t,rn);const r=Id(t.firestore,Lw),s=f7(t.converter,e,n);return v7(r,[a7(o7(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ii.none())])}function v7(t,e){return function(r,s){const o=new po;return r.asyncQueue.enqueueAndForget(async()=>FW(await XW(r),s,o)),o.promise}(CP(t),e)}function _7(t,e,n){const r=n.docs.get(e._key),s=new g7(t);return new Ia(t,s,e._key,r,new Qu(n.hasPendingWrites,n.fromCache),e.converter)}function XC(){return new Bw("serverTimestamp")}(function(e,n=!0){(function(s){Dc=s})(Ha),Ra(new So("firestore",(r,{instanceIdentifier:s,options:o})=>{const a=r.getProvider("app").getImmediate(),c=new Lw(new ez(r.getProvider("auth-internal")),new rz(a,r.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Te(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ad(f.options.projectId,m)}(a,s),a);return o={useFetchStreams:n,...o},c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),ws(rC,sC,e),ws(rC,sC,"esm2020")})();var w7="firebase",x7="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws(w7,x7,"app");var JC={};const ZC="@firebase/database",e1="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jP="";function E7(t){jP=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),fn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Td(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return _i(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new b7(e)}}catch{}return new T7},Ta=OP("localStorage"),S7=OP("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new fm("@firebase/database"),C7=function(){let t=1;return function(){return t++}}(),LP=function(t){const e=CU(t),n=new xU;n.update(e);const r=n.digest();return G_.encodeByteArray(r)},sh=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=sh.apply(null,r):typeof r=="object"?e+=fn(r):e+=r,e+=" "}return e};let dd=null,t1=!0;const I7=function(t,e){de(!0,"Can't turn on custom loggers persistently."),ac.logLevel=He.VERBOSE,dd=ac.log.bind(ac)},Sn=function(...t){if(t1===!0&&(t1=!1,dd===null&&S7.get("logging_enabled")===!0&&I7()),dd){const e=sh.apply(null,t);dd(e)}},ih=function(t){return function(...e){Sn(t,...e)}},C0=function(...t){const e="FIREBASE INTERNAL ERROR: "+sh(...t);ac.error(e)},pi=function(...t){const e=`FIREBASE FATAL ERROR: ${sh(...t)}`;throw ac.error(e),new Error(e)},ir=function(...t){const e="FIREBASE WARNING: "+sh(...t);ac.warn(e)},N7=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ir("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},VP=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},R7=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ec="[MIN_NAME]",Ma="[MAX_NAME]",Lc=function(t,e){if(t===e)return 0;if(t===Ec||e===Ma)return-1;if(e===Ec||t===Ma)return 1;{const n=n1(t),r=n1(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},A7=function(t,e){return t===e?0:t<e?-1:1},Fu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+fn(e))},zw=function(t){if(typeof t!="object"||t===null)return fn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=fn(e[r]),n+=":",n+=zw(t[e[r]]);return n+="}",n},FP=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Sr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const UP=function(t){de(!VP(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,o,a,c,d;t===0?(o=0,a=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=c+r,a=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(o=0,a=Math.round(t/Math.pow(2,1-r-n))));const f=[];for(d=n;d;d-=1)f.push(a%2?1:0),a=Math.floor(a/2);for(d=e;d;d-=1)f.push(o%2?1:0),o=Math.floor(o/2);f.push(s?1:0),f.reverse();const m=f.join("");let y="";for(d=0;d<64;d+=8){let _=parseInt(m.substr(d,8),2).toString(16);_.length===1&&(_="0"+_),y=y+_}return y.toLowerCase()},P7=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},k7=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},D7=new RegExp("^-?(0*)\\d{1,10}$"),M7=-2147483648,j7=2147483647,n1=function(t){if(D7.test(t)){const e=Number(t);if(e>=M7&&e<=j7)return e}return null},oh=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ir("Exception was thrown by user callback.",n),e},Math.floor(0))}},O7=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},hd=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Hn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ir(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Sn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ir(e)}}class cp{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}cp.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="5",BP="v",zP="s",$P="r",WP="f",HP=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,GP="ls",qP="p",I0="ac",KP="websocket",YP="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e,n,r,s,o=!1,a="",c=!1,d=!1,f=null){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=d,this.emulatorOptions=f,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ta.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ta.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function F7(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function XP(t,e,n){de(typeof e=="string","typeof type must == string"),de(typeof n=="object","typeof params must == object");let r;if(e===KP)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===YP)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);F7(t)&&(n.ns=t.namespace);const s=[];return Sr(n,(o,a)=>{s.push(o+"="+a)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(){this.counters_={}}incrementCounter(e,n=1){_i(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return eU(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av={},lv={};function Ww(t){const e=t.toString();return av[e]||(av[e]=new U7),av[e]}function B7(t,e){const n=t.toString();return lv[n]||(lv[n]=e()),lv[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&oh(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="start",$7="close",W7="pLPCommand",H7="pRTLPCB",JP="id",ZP="pw",ek="ser",G7="cb",q7="seg",K7="ts",Y7="d",Q7="dframe",tk=1870,nk=30,X7=tk-nk,J7=25e3,Z7=3e4;class ec{constructor(e,n,r,s,o,a,c){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.transportSessionId=a,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ih(e),this.stats_=Ww(n),this.urlFn=d=>(this.appCheckToken&&(d[I0]=this.appCheckToken),XP(n,YP,d))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new z7(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Z7)),R7(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Hw((...o)=>{const[a,c,d,f,m]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===r1)this.id=c,this.password=d;else if(a===$7)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...o)=>{const[a,c]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(a,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[r1]="t",r[ek]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[G7]=this.scriptTagHolder.uniqueCallbackIdentifier),r[BP]=$w,this.transportSessionId&&(r[zP]=this.transportSessionId),this.lastSessionId&&(r[GP]=this.lastSessionId),this.applicationId&&(r[qP]=this.applicationId),this.appCheckToken&&(r[I0]=this.appCheckToken),typeof location<"u"&&location.hostname&&HP.test(location.hostname)&&(r[$P]=WP);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ec.forceAllow_=!0}static forceDisallow(){ec.forceDisallow_=!0}static isAvailable(){return ec.forceAllow_?!0:!ec.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!P7()&&!k7()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=fn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=mR(n),s=FP(r,X7);for(let o=0;o<s.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Q7]="t",r[JP]=e,r[ZP]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=fn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Hw{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=C7(),window[W7+this.uniqueCallbackIdentifier]=e,window[H7+this.uniqueCallbackIdentifier]=n,this.myIFrame=Hw.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(c){Sn("frame writing exception"),c.stack&&Sn(c.stack),Sn(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Sn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[JP]=this.myID,e[ZP]=this.myPW,e[ek]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+nk+r.length<=tk;){const a=this.pendingSegs.shift();r=r+"&"+q7+s+"="+a.seg+"&"+K7+s+"="+a.ts+"&"+Y7+s+"="+a.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(J7)),o=()=>{clearTimeout(s),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Sn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eH=16384,tH=45e3;let Bp=null;typeof MozWebSocket<"u"?Bp=MozWebSocket:typeof WebSocket<"u"&&(Bp=WebSocket);class Vr{constructor(e,n,r,s,o,a,c){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ih(this.connId),this.stats_=Ww(n),this.connURL=Vr.connectionURL_(n,a,c,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,o){const a={};return a[BP]=$w,typeof location<"u"&&location.hostname&&HP.test(location.hostname)&&(a[$P]=WP),n&&(a[zP]=n),r&&(a[GP]=r),s&&(a[I0]=s),o&&(a[qP]=o),XP(e,KP,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ta.set("previous_websocket_failure",!0);try{let r;hU(),this.mySock=new Bp(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Vr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Bp!==null&&!Vr.forceDisallow_}static previouslyFailed(){return Ta.isInMemoryStorage||Ta.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ta.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Td(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(de(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=fn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=FP(n,eH);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(tH))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Vr.responsesRequiredToBeHealthy=2;Vr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{static get ALL_TRANSPORTS(){return[ec,Vr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Vr&&Vr.isAvailable();let r=n&&!Vr.previouslyFailed();if(e.webSocketOnly&&(n||ir("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Vr];else{const s=this.transports_=[];for(const o of Od.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);Od.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Od.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nH=6e4,rH=5e3,sH=10*1024,iH=100*1024,cv="t",s1="d",oH="s",i1="r",aH="e",o1="o",a1="a",l1="n",c1="p",lH="h";class cH{constructor(e,n,r,s,o,a,c,d,f,m){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=o,this.onMessage_=a,this.onReady_=c,this.onDisconnect_=d,this.onKill_=f,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ih("c:"+this.id+":"),this.transportManager_=new Od(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=hd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>iH?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>sH?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(cv in e){const n=e[cv];n===a1?this.upgradeIfSecondaryHealthy_():n===i1?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===o1&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Fu("t",e),r=Fu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:c1,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:a1,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:l1,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Fu("t",e),r=Fu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Fu(cv,e);if(s1 in e){const r=e[s1];if(n===lH){const s={...r};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===l1){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===oH?this.onConnectionShutdown_(r):n===i1?this.onReset_(r):n===aH?C0("Server Error: "+r):n===o1?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):C0("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),$w!==r&&ir("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),hd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(nH))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):hd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(rH))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:c1,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ta.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e){this.allowedEvents_=e,this.listeners_={},de(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let o=0;o<s.length;o++)if(s[o].callback===n&&(!r||r===s[o].context)){s.splice(o,1);return}}validateEventType_(e){de(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp extends sk{static getInstance(){return new zp}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Q_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return de(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=32,d1=768;class xt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ct(){return new xt("")}function et(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ko(t){return t.pieces_.length-t.pieceNum_}function _t(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new xt(t.pieces_,e)}function ik(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function uH(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ok(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function ak(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new xt(e,0)}function nn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof xt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new xt(n,0)}function Xe(t){return t.pieceNum_>=t.pieces_.length}function xr(t,e){const n=et(t),r=et(e);if(n===null)return e;if(n===r)return xr(_t(t),_t(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function lk(t,e){if(ko(t)!==ko(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Br(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ko(t)>ko(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class dH{constructor(e,n){this.errorPrefix_=n,this.parts_=ok(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=hm(this.parts_[r]);ck(this)}}function hH(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=hm(e),ck(t)}function fH(t){const e=t.parts_.pop();t.byteLength_-=hm(e),t.parts_.length>0&&(t.byteLength_-=1)}function ck(t){if(t.byteLength_>d1)throw new Error(t.errorPrefix_+"has a key path longer than "+d1+" bytes ("+t.byteLength_+").");if(t.parts_.length>u1)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+u1+") or object contains a cycle "+va(t))}function va(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw extends sk{static getInstance(){return new Gw}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return de(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=1e3,pH=60*5*1e3,h1=30*1e3,mH=1.3,gH=3e4,yH="server_kill",f1=3;class oi extends rk{constructor(e,n,r,s,o,a,c,d){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=d,this.id=oi.nextPersistentConnectionId_++,this.log_=ih("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Uu,this.maxReconnectDelay_=pH,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Gw.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&zp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,o={r:s,a:e,b:n};this.log_(fn(o)),de(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new q_,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const c=a.d;a.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,s){this.initConnection_();const o=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),de(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),de(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const c={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(a).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const o={p:r},a="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(a,o,c=>{const d=c.d,f=c.s;oi.warnOnListenWarnings_(d,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",c),f!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(f,d))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&_i(e,"w")){const r=pc(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();ir(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||wU(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=h1)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=_U(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const o=s.s,a=s.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),de(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const o={p:e},a="n";s&&(o.q=r,o.t=s),this.sendRequest(a,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,o){this.initConnection_();const a={p:n,d:r};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:e,request:a,onComplete:s}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+fn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):C0("Unrecognized action received from server: "+fn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){de(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Uu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Uu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>gH&&(this.reconnectDelay_=Uu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*mH)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+oi.nextConnectionId_++,o=this.lastSessionId;let a=!1,c=null;const d=function(){c?c.close():(a=!0,r())},f=function(y){de(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(y)};this.realtime_={close:d,sendRequest:f};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,_]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);a?Sn("getToken() completed but was canceled"):(Sn("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=_&&_.token,c=new cH(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,b=>{ir(b+" ("+this.repoInfo_.toString()+")"),this.interrupt(yH)},o))}catch(y){this.log_("Failed to get token: "+y),a||(this.repoInfo_.nodeAdmin&&ir(y),d())}}}interrupt(e){Sn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Sn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Zv(this.interruptReasons_)&&(this.reconnectDelay_=Uu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>zw(o)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new xt(e).toString();let s;if(this.listens.has(r)){const o=this.listens.get(r);s=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){Sn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=f1&&(this.reconnectDelay_=h1,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Sn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=f1&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+jP.replace(/\./g,"-")]=1,Q_()?e["framework.cordova"]=1:ER()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=zp.getInstance().currentlyOnline();return Zv(this.interruptReasons_)&&e}}oi.nextPersistentConnectionId_=0;oi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new tt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new tt(Ec,e),s=new tt(Ec,n);return this.compare(r,s)!==0}minPost(){return tt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ff;class uk extends Am{static get __EMPTY_NODE(){return Ff}static set __EMPTY_NODE(e){Ff=e}compare(e,n){return Lc(e.name,n.name)}isDefinedOn(e){throw Ac("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return tt.MIN}maxPost(){return new tt(Ma,Ff)}makePost(e,n){return de(typeof e=="string","KeyIndex indexValue must always be a string."),new tt(e,Ff)}toString(){return".key"}}const lc=new uk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,n,r,s,o=null){this.isReverse_=s,this.resultGenerator_=o,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,s&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class tn{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??tn.RED,this.left=s??qn.EMPTY_NODE,this.right=o??qn.EMPTY_NODE}copy(e,n,r,s,o){return new tn(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return qn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return qn.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}tn.RED=!0;tn.BLACK=!1;class vH{copy(e,n,r,s,o){return this}insert(e,n,r){return new tn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class qn{constructor(e,n=qn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new qn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,tn.BLACK,null,null))}remove(e){return new qn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,tn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Uf(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Uf(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Uf(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Uf(this.root_,null,this.comparator_,!0,e)}}qn.EMPTY_NODE=new vH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _H(t,e){return Lc(t.name,e.name)}function qw(t,e){return Lc(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N0;function wH(t){N0=t}const dk=function(t){return typeof t=="number"?"number:"+UP(t):"string:"+t},hk=function(t){if(t.isLeafNode()){const e=t.val();de(typeof e=="string"||typeof e=="number"||typeof e=="object"&&_i(e,".sv"),"Priority must be a string or number.")}else de(t===N0||t.isEmpty(),"priority of unexpected type.");de(t===N0||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p1;class Zt{static set __childrenNodeConstructor(e){p1=e}static get __childrenNodeConstructor(){return p1}constructor(e,n=Zt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,de(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),hk(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Zt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Zt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Xe(e)?this:et(e)===".priority"?this.priorityNode_:Zt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Zt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=et(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(de(r!==".priority"||ko(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Zt.__childrenNodeConstructor.EMPTY_NODE.updateChild(_t(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+dk(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=UP(this.value_):e+=this.value_,this.lazyHash_=LP(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Zt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Zt.__childrenNodeConstructor?-1:(de(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Zt.VALUE_TYPE_ORDER.indexOf(n),o=Zt.VALUE_TYPE_ORDER.indexOf(r);return de(s>=0,"Unknown leaf type: "+n),de(o>=0,"Unknown leaf type: "+r),s===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Zt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fk,pk;function xH(t){fk=t}function EH(t){pk=t}class bH extends Am{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),o=r.compareTo(s);return o===0?Lc(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return tt.MIN}maxPost(){return new tt(Ma,new Zt("[PRIORITY-POST]",pk))}makePost(e,n){const r=fk(e);return new tt(n,new Zt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Nn=new bH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TH=Math.log(2);class SH{constructor(e){const n=o=>parseInt(Math.log(o)/TH,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const $p=function(t,e,n,r){t.sort(e);const s=function(d,f){const m=f-d;let y,_;if(m===0)return null;if(m===1)return y=t[d],_=n?n(y):y,new tn(_,y.node,tn.BLACK,null,null);{const b=parseInt(m/2,10)+d,I=s(d,b),S=s(b+1,f);return y=t[b],_=n?n(y):y,new tn(_,y.node,tn.BLACK,I,S)}},o=function(d){let f=null,m=null,y=t.length;const _=function(I,S){const C=y-I,A=y;y-=I;const M=s(C+1,A),j=t[C],W=n?n(j):j;b(new tn(W,j.node,S,null,M))},b=function(I){f?(f.left=I,f=I):(m=I,f=I)};for(let I=0;I<d.count;++I){const S=d.nextBitIsOne(),C=Math.pow(2,d.count-(I+1));S?_(C,tn.BLACK):(_(C,tn.BLACK),_(C,tn.RED))}return m},a=new SH(t.length),c=o(a);return new qn(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uv;const Fl={};class ri{static get Default(){return de(Fl&&Nn,"ChildrenNode.ts has not been loaded"),uv=uv||new ri({".priority":Fl},{".priority":Nn}),uv}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=pc(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof qn?n:null}hasIndex(e){return _i(this.indexSet_,e.toString())}addIndex(e,n){de(e!==lc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const o=n.getIterator(tt.Wrap);let a=o.getNext();for(;a;)s=s||e.isDefinedOn(a.node),r.push(a),a=o.getNext();let c;s?c=$p(r,e.getCompare()):c=Fl;const d=e.toString(),f={...this.indexSet_};f[d]=e;const m={...this.indexes_};return m[d]=c,new ri(m,f)}addToIndexes(e,n){const r=Ep(this.indexes_,(s,o)=>{const a=pc(this.indexSet_,o);if(de(a,"Missing index implementation for "+o),s===Fl)if(a.isDefinedOn(e.node)){const c=[],d=n.getIterator(tt.Wrap);let f=d.getNext();for(;f;)f.name!==e.name&&c.push(f),f=d.getNext();return c.push(e),$p(c,a.getCompare())}else return Fl;else{const c=n.get(e.name);let d=s;return c&&(d=d.remove(new tt(e.name,c))),d.insert(e,e.node)}});return new ri(r,this.indexSet_)}removeFromIndexes(e,n){const r=Ep(this.indexes_,s=>{if(s===Fl)return s;{const o=n.get(e.name);return o?s.remove(new tt(e.name,o)):s}});return new ri(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu;class ot{static get EMPTY_NODE(){return Bu||(Bu=new ot(new qn(qw),null,ri.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&hk(this.priorityNode_),this.children_.isEmpty()&&de(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Bu}updatePriority(e){return this.children_.isEmpty()?this:new ot(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Bu:n}}getChild(e){const n=et(e);return n===null?this:this.getImmediateChild(n).getChild(_t(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(de(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new tt(e,n);let s,o;n.isEmpty()?(s=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const a=s.isEmpty()?Bu:this.priorityNode_;return new ot(s,a,o)}}updateChild(e,n){const r=et(e);if(r===null)return n;{de(et(e)!==".priority"||ko(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(_t(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,o=!0;if(this.forEachChild(Nn,(a,c)=>{n[a]=c.val(e),r++,o&&ot.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!e&&o&&s<2*r){const a=[];for(const c in n)a[c]=n[c];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+dk(this.getPriority().val())+":"),this.forEachChild(Nn,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":LP(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const o=s.getPredecessorKey(new tt(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new tt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new tt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,tt.Wrap);let o=s.peek();for(;o!=null&&n.compare(o,e)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,tt.Wrap);let o=s.peek();for(;o!=null&&n.compare(o,e)>0;)s.getNext(),o=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ah?-1:0}withIndex(e){if(e===lc||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ot(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===lc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Nn),s=n.getIterator(Nn);let o=r.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===lc?null:this.indexMap_.get(e.toString())}}ot.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class CH extends ot{constructor(){super(new qn(qw),ot.EMPTY_NODE,ri.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ot.EMPTY_NODE}isEmpty(){return!1}}const ah=new CH;Object.defineProperties(tt,{MIN:{value:new tt(Ec,ot.EMPTY_NODE)},MAX:{value:new tt(Ma,ah)}});uk.__EMPTY_NODE=ot.EMPTY_NODE;Zt.__childrenNodeConstructor=ot;wH(ah);EH(ah);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IH=!0;function Cn(t,e=null){if(t===null)return ot.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),de(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Zt(n,Cn(e))}if(!(t instanceof Array)&&IH){const n=[];let r=!1;if(Sr(t,(a,c)=>{if(a.substring(0,1)!=="."){const d=Cn(c);d.isEmpty()||(r=r||!d.getPriority().isEmpty(),n.push(new tt(a,d)))}}),n.length===0)return ot.EMPTY_NODE;const o=$p(n,_H,a=>a.name,qw);if(r){const a=$p(n,Nn.getCompare());return new ot(o,Cn(e),new ri({".priority":a},{".priority":Nn}))}else return new ot(o,Cn(e),ri.Default)}else{let n=ot.EMPTY_NODE;return Sr(t,(r,s)=>{if(_i(t,r)&&r.substring(0,1)!=="."){const o=Cn(s);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Cn(e))}}xH(Cn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH extends Am{constructor(e){super(),this.indexPath_=e,de(!Xe(e)&&et(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),o=r.compareTo(s);return o===0?Lc(e.name,n.name):o}makePost(e,n){const r=Cn(e),s=ot.EMPTY_NODE.updateChild(this.indexPath_,r);return new tt(n,s)}maxPost(){const e=ot.EMPTY_NODE.updateChild(this.indexPath_,ah);return new tt(Ma,e)}toString(){return ok(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH extends Am{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Lc(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return tt.MIN}maxPost(){return tt.MAX}makePost(e,n){const r=Cn(e);return new tt(n,r)}toString(){return".value"}}const AH=new RH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PH(t){return{type:"value",snapshotNode:t}}function kH(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function DH(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function m1(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function MH(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Nn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return de(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return de(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ec}hasEnd(){return this.endSet_}getIndexEndValue(){return de(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return de(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ma}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return de(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Nn}copy(){const e=new Kw;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function g1(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Nn?n="$priority":t.index_===AH?n="$value":t.index_===lc?n="$key":(de(t.index_ instanceof NH,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=fn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=fn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+fn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=fn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+fn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function y1(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Nn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp extends rk{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(de(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=ih("p:rest:"),this.listens_={}}listen(e,n,r,s){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const a=Wp.getListenId_(e,r),c={};this.listens_[a]=c;const d=g1(e._queryParams);this.restRequest_(o+".json",d,(f,m)=>{let y=m;if(f===404&&(y=null,f=null),f===null&&this.onDataUpdate_(o,y,!1,r),pc(this.listens_,a)===c){let _;f?f===401?_="permission_denied":_="rest_error:"+f:_="ok",s(_,null)}})}unlisten(e,n){const r=Wp.getListenId_(e,n);delete this.listens_[r]}get(e){const n=g1(e._queryParams),r=e._path.toString(),s=new q_;return this.restRequest_(r+".json",n,(o,a)=>{let c=a;o===404&&(c=null,o=null),o===null?(this.onDataUpdate_(r,c,!1,null),s.resolve(c)):s.reject(new Error(c))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,o])=>{s&&s.accessToken&&(n.auth=s.accessToken),o&&o.token&&(n.ac=o.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Pc(n);this.log_("Sending REST request for "+a);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+a+" received. status:",c.status,"response:",c.responseText);let d=null;if(c.status>=200&&c.status<300){try{d=Td(c.responseText)}catch{ir("Failed to parse JSON response for "+a+": "+c.responseText)}r(null,d)}else c.status!==401&&c.status!==404&&ir("Got unsuccessful REST response for "+a+" Status: "+c.status),r(c.status);r=null}},c.open("GET",a,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(){this.rootNode_=ot.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(){return{value:null,children:new Map}}function mk(t,e,n){if(Xe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=et(e);t.children.has(r)||t.children.set(r,Hp());const s=t.children.get(r);e=_t(e),mk(s,e,n)}}function R0(t,e,n){t.value!==null?n(e,t.value):OH(t,(r,s)=>{const o=new xt(e.toString()+"/"+r);R0(s,o,n)})}function OH(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Sr(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=10*1e3,VH=30*1e3,FH=5*60*1e3;class UH{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new LH(e);const r=v1+(VH-v1)*Math.random();hd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Sr(e,(s,o)=>{o>0&&_i(this.statsToReport_,s)&&(n[s]=o,r=!0)}),r&&this.server_.reportStats(n),hd(this.reportStats_.bind(this),Math.floor(Math.random()*2*FH))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gs;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(gs||(gs={}));function gk(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function yk(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function vk(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=gs.ACK_USER_WRITE,this.source=gk()}operationForChild(e){if(Xe(this.path)){if(this.affectedTree.value!=null)return de(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new xt(e));return new Gp(ct(),n,this.revert)}}else return de(et(this.path)===e,"operationForChild called for unrelated child."),new Gp(_t(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=gs.OVERWRITE}operationForChild(e){return Xe(this.path)?new ja(this.source,ct(),this.snap.getImmediateChild(e)):new ja(this.source,_t(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=gs.MERGE}operationForChild(e){if(Xe(this.path)){const n=this.children.subtree(new xt(e));return n.isEmpty()?null:n.value?new ja(this.source,ct(),n.value):new Ld(this.source,ct(),n)}else return de(et(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ld(this.source,_t(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Xe(e))return this.isFullyInitialized()&&!this.filtered_;const n=et(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function BH(t,e,n,r){const s=[],o=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(MH(a.childName,a.snapshotNode))}),zu(t,s,"child_removed",e,r,n),zu(t,s,"child_added",e,r,n),zu(t,s,"child_moved",o,r,n),zu(t,s,"child_changed",e,r,n),zu(t,s,"value",e,r,n),s}function zu(t,e,n,r,s,o){const a=r.filter(c=>c.type===n);a.sort((c,d)=>$H(t,c,d)),a.forEach(c=>{const d=zH(t,c,o);s.forEach(f=>{f.respondsTo(c.type)&&e.push(f.createEvent(d,t.query_))})})}function zH(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function $H(t,e,n){if(e.childName==null||n.childName==null)throw Ac("Should only compare child_ events.");const r=new tt(e.childName,e.snapshotNode),s=new tt(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(t,e){return{eventCache:t,serverCache:e}}function fd(t,e,n,r){return _k(new Yw(e,n,r),t.serverCache)}function wk(t,e,n,r){return _k(t.eventCache,new Yw(e,n,r))}function A0(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Oa(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dv;const WH=()=>(dv||(dv=new qn(A7)),dv);class vt{static fromObject(e){let n=new vt(null);return Sr(e,(r,s)=>{n=n.set(new xt(r),s)}),n}constructor(e,n=WH()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ct(),value:this.value};if(Xe(e))return null;{const r=et(e),s=this.children.get(r);if(s!==null){const o=s.findRootMostMatchingPathAndValue(_t(e),n);return o!=null?{path:nn(new xt(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Xe(e))return this;{const n=et(e),r=this.children.get(n);return r!==null?r.subtree(_t(e)):new vt(null)}}set(e,n){if(Xe(e))return new vt(n,this.children);{const r=et(e),o=(this.children.get(r)||new vt(null)).set(_t(e),n),a=this.children.insert(r,o);return new vt(this.value,a)}}remove(e){if(Xe(e))return this.children.isEmpty()?new vt(null):new vt(null,this.children);{const n=et(e),r=this.children.get(n);if(r){const s=r.remove(_t(e));let o;return s.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,s),this.value===null&&o.isEmpty()?new vt(null):new vt(this.value,o)}else return this}}get(e){if(Xe(e))return this.value;{const n=et(e),r=this.children.get(n);return r?r.get(_t(e)):null}}setTree(e,n){if(Xe(e))return n;{const r=et(e),o=(this.children.get(r)||new vt(null)).setTree(_t(e),n);let a;return o.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,o),new vt(this.value,a)}}fold(e){return this.fold_(ct(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,o)=>{r[s]=o.fold_(nn(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ct(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(Xe(e))return null;{const o=et(e),a=this.children.get(o);return a?a.findOnPath_(_t(e),nn(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ct(),n)}foreachOnPath_(e,n,r){if(Xe(e))return this;{this.value&&r(n,this.value);const s=et(e),o=this.children.get(s);return o?o.foreachOnPath_(_t(e),nn(n,s),r):new vt(null)}}foreach(e){this.foreach_(ct(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(nn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.writeTree_=e}static empty(){return new $r(new vt(null))}}function pd(t,e,n){if(Xe(e))return new $r(new vt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let o=r.value;const a=xr(s,e);return o=o.updateChild(a,n),new $r(t.writeTree_.set(s,o))}else{const s=new vt(n),o=t.writeTree_.setTree(e,s);return new $r(o)}}}function _1(t,e,n){let r=t;return Sr(n,(s,o)=>{r=pd(r,nn(e,s),o)}),r}function w1(t,e){if(Xe(e))return $r.empty();{const n=t.writeTree_.setTree(e,new vt(null));return new $r(n)}}function P0(t,e){return Qa(t,e)!=null}function Qa(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(xr(n.path,e)):null}function x1(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Nn,(r,s)=>{e.push(new tt(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new tt(r,s.value))}),e}function go(t,e){if(Xe(e))return t;{const n=Qa(t,e);return n!=null?new $r(new vt(n)):new $r(t.writeTree_.subtree(e))}}function k0(t){return t.writeTree_.isEmpty()}function bc(t,e){return xk(ct(),t.writeTree_,e)}function xk(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,o)=>{s===".priority"?(de(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=xk(nn(t,s),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(nn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(t,e){return Ik(e,t)}function HH(t,e,n,r,s){de(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=pd(t.visibleWrites,e,n)),t.lastWriteId=r}function GH(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function qH(t,e){const n=t.allWrites.findIndex(c=>c.writeId===e);de(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,o=!1,a=t.allWrites.length-1;for(;s&&a>=0;){const c=t.allWrites[a];c.visible&&(a>=n&&KH(c,r.path)?s=!1:Br(r.path,c.path)&&(o=!0)),a--}if(s){if(o)return YH(t),!0;if(r.snap)t.visibleWrites=w1(t.visibleWrites,r.path);else{const c=r.children;Sr(c,d=>{t.visibleWrites=w1(t.visibleWrites,nn(r.path,d))})}return!0}else return!1}function KH(t,e){if(t.snap)return Br(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Br(nn(t.path,n),e))return!0;return!1}function YH(t){t.visibleWrites=bk(t.allWrites,QH,ct()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function QH(t){return t.visible}function bk(t,e,n){let r=$r.empty();for(let s=0;s<t.length;++s){const o=t[s];if(e(o)){const a=o.path;let c;if(o.snap)Br(n,a)?(c=xr(n,a),r=pd(r,c,o.snap)):Br(a,n)&&(c=xr(a,n),r=pd(r,ct(),o.snap.getChild(c)));else if(o.children){if(Br(n,a))c=xr(n,a),r=_1(r,c,o.children);else if(Br(a,n))if(c=xr(a,n),Xe(c))r=_1(r,ct(),o.children);else{const d=pc(o.children,et(c));if(d){const f=d.getChild(_t(c));r=pd(r,ct(),f)}}}else throw Ac("WriteRecord should have .snap or .children")}}return r}function Tk(t,e,n,r,s){if(!r&&!s){const o=Qa(t.visibleWrites,e);if(o!=null)return o;{const a=go(t.visibleWrites,e);if(k0(a))return n;if(n==null&&!P0(a,ct()))return null;{const c=n||ot.EMPTY_NODE;return bc(a,c)}}}else{const o=go(t.visibleWrites,e);if(!s&&k0(o))return n;if(!s&&n==null&&!P0(o,ct()))return null;{const a=function(f){return(f.visible||s)&&(!r||!~r.indexOf(f.writeId))&&(Br(f.path,e)||Br(e,f.path))},c=bk(t.allWrites,a,e),d=n||ot.EMPTY_NODE;return bc(c,d)}}}function XH(t,e,n){let r=ot.EMPTY_NODE;const s=Qa(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Nn,(o,a)=>{r=r.updateImmediateChild(o,a)}),r;if(n){const o=go(t.visibleWrites,e);return n.forEachChild(Nn,(a,c)=>{const d=bc(go(o,new xt(a)),c);r=r.updateImmediateChild(a,d)}),x1(o).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const o=go(t.visibleWrites,e);return x1(o).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function JH(t,e,n,r,s){de(r||s,"Either existingEventSnap or existingServerSnap must exist");const o=nn(e,n);if(P0(t.visibleWrites,o))return null;{const a=go(t.visibleWrites,o);return k0(a)?s.getChild(n):bc(a,s.getChild(n))}}function ZH(t,e,n,r){const s=nn(e,n),o=Qa(t.visibleWrites,s);if(o!=null)return o;if(r.isCompleteForChild(n)){const a=go(t.visibleWrites,s);return bc(a,r.getNode().getImmediateChild(n))}else return null}function eG(t,e){return Qa(t.visibleWrites,e)}function tG(t,e,n,r,s,o,a){let c;const d=go(t.visibleWrites,e),f=Qa(d,ct());if(f!=null)c=f;else if(n!=null)c=bc(d,n);else return[];if(c=c.withIndex(a),!c.isEmpty()&&!c.isLeafNode()){const m=[],y=a.getCompare(),_=o?c.getReverseIteratorFrom(r,a):c.getIteratorFrom(r,a);let b=_.getNext();for(;b&&m.length<s;)y(b,r)!==0&&m.push(b),b=_.getNext();return m}else return[]}function nG(){return{visibleWrites:$r.empty(),allWrites:[],lastWriteId:-1}}function D0(t,e,n,r){return Tk(t.writeTree,t.treePath,e,n,r)}function Sk(t,e){return XH(t.writeTree,t.treePath,e)}function E1(t,e,n,r){return JH(t.writeTree,t.treePath,e,n,r)}function qp(t,e){return eG(t.writeTree,nn(t.treePath,e))}function rG(t,e,n,r,s,o){return tG(t.writeTree,t.treePath,e,n,r,s,o)}function Qw(t,e,n){return ZH(t.writeTree,t.treePath,e,n)}function Ck(t,e){return Ik(nn(t.treePath,e),t.writeTree)}function Ik(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;de(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),de(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const o=s.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,m1(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,DH(r,s.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,kH(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,m1(r,e.snapshotNode,s.oldSnap));else throw Ac("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iG{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Nk=new iG;class Xw{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Yw(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Qw(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Oa(this.viewCache_),o=rG(this.writes_,s,n,1,r,e);return o.length===0?null:o[0]}}function oG(t,e){de(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),de(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function aG(t,e,n,r,s){const o=new sG;let a,c;if(n.type===gs.OVERWRITE){const f=n;f.source.fromUser?a=M0(t,e,f.path,f.snap,r,s,o):(de(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.serverCache.isFiltered()&&!Xe(f.path),a=Kp(t,e,f.path,f.snap,r,s,c,o))}else if(n.type===gs.MERGE){const f=n;f.source.fromUser?a=cG(t,e,f.path,f.children,r,s,o):(de(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.serverCache.isFiltered(),a=j0(t,e,f.path,f.children,r,s,c,o))}else if(n.type===gs.ACK_USER_WRITE){const f=n;f.revert?a=hG(t,e,f.path,r,s,o):a=uG(t,e,f.path,f.affectedTree,r,s,o)}else if(n.type===gs.LISTEN_COMPLETE)a=dG(t,e,n.path,r,o);else throw Ac("Unknown operation type: "+n.type);const d=o.getChanges();return lG(e,a,d),{viewCache:a,changes:d}}function lG(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=A0(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(PH(A0(e)))}}function Rk(t,e,n,r,s,o){const a=e.eventCache;if(qp(r,n)!=null)return e;{let c,d;if(Xe(n))if(de(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=Oa(e),m=f instanceof ot?f:ot.EMPTY_NODE,y=Sk(r,m);c=t.filter.updateFullNode(e.eventCache.getNode(),y,o)}else{const f=D0(r,Oa(e));c=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const f=et(n);if(f===".priority"){de(ko(n)===1,"Can't have a priority with additional path components");const m=a.getNode();d=e.serverCache.getNode();const y=E1(r,n,m,d);y!=null?c=t.filter.updatePriority(m,y):c=a.getNode()}else{const m=_t(n);let y;if(a.isCompleteForChild(f)){d=e.serverCache.getNode();const _=E1(r,n,a.getNode(),d);_!=null?y=a.getNode().getImmediateChild(f).updateChild(m,_):y=a.getNode().getImmediateChild(f)}else y=Qw(r,f,e.serverCache);y!=null?c=t.filter.updateChild(a.getNode(),f,y,m,s,o):c=a.getNode()}}return fd(e,c,a.isFullyInitialized()||Xe(n),t.filter.filtersNodes())}}function Kp(t,e,n,r,s,o,a,c){const d=e.serverCache;let f;const m=a?t.filter:t.filter.getIndexedFilter();if(Xe(n))f=m.updateFullNode(d.getNode(),r,null);else if(m.filtersNodes()&&!d.isFiltered()){const b=d.getNode().updateChild(n,r);f=m.updateFullNode(d.getNode(),b,null)}else{const b=et(n);if(!d.isCompleteForPath(n)&&ko(n)>1)return e;const I=_t(n),C=d.getNode().getImmediateChild(b).updateChild(I,r);b===".priority"?f=m.updatePriority(d.getNode(),C):f=m.updateChild(d.getNode(),b,C,I,Nk,null)}const y=wk(e,f,d.isFullyInitialized()||Xe(n),m.filtersNodes()),_=new Xw(s,y,o);return Rk(t,y,n,s,_,c)}function M0(t,e,n,r,s,o,a){const c=e.eventCache;let d,f;const m=new Xw(s,e,o);if(Xe(n))f=t.filter.updateFullNode(e.eventCache.getNode(),r,a),d=fd(e,f,!0,t.filter.filtersNodes());else{const y=et(n);if(y===".priority")f=t.filter.updatePriority(e.eventCache.getNode(),r),d=fd(e,f,c.isFullyInitialized(),c.isFiltered());else{const _=_t(n),b=c.getNode().getImmediateChild(y);let I;if(Xe(_))I=r;else{const S=m.getCompleteChild(y);S!=null?ik(_)===".priority"&&S.getChild(ak(_)).isEmpty()?I=S:I=S.updateChild(_,r):I=ot.EMPTY_NODE}if(b.equals(I))d=e;else{const S=t.filter.updateChild(c.getNode(),y,I,_,m,a);d=fd(e,S,c.isFullyInitialized(),t.filter.filtersNodes())}}}return d}function b1(t,e){return t.eventCache.isCompleteForChild(e)}function cG(t,e,n,r,s,o,a){let c=e;return r.foreach((d,f)=>{const m=nn(n,d);b1(e,et(m))&&(c=M0(t,c,m,f,s,o,a))}),r.foreach((d,f)=>{const m=nn(n,d);b1(e,et(m))||(c=M0(t,c,m,f,s,o,a))}),c}function T1(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function j0(t,e,n,r,s,o,a,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,f;Xe(n)?f=r:f=new vt(null).setTree(n,r);const m=e.serverCache.getNode();return f.children.inorderTraversal((y,_)=>{if(m.hasChild(y)){const b=e.serverCache.getNode().getImmediateChild(y),I=T1(t,b,_);d=Kp(t,d,new xt(y),I,s,o,a,c)}}),f.children.inorderTraversal((y,_)=>{const b=!e.serverCache.isCompleteForChild(y)&&_.value===null;if(!m.hasChild(y)&&!b){const I=e.serverCache.getNode().getImmediateChild(y),S=T1(t,I,_);d=Kp(t,d,new xt(y),S,s,o,a,c)}}),d}function uG(t,e,n,r,s,o,a){if(qp(s,n)!=null)return e;const c=e.serverCache.isFiltered(),d=e.serverCache;if(r.value!=null){if(Xe(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return Kp(t,e,n,d.getNode().getChild(n),s,o,c,a);if(Xe(n)){let f=new vt(null);return d.getNode().forEachChild(lc,(m,y)=>{f=f.set(new xt(m),y)}),j0(t,e,n,f,s,o,c,a)}else return e}else{let f=new vt(null);return r.foreach((m,y)=>{const _=nn(n,m);d.isCompleteForPath(_)&&(f=f.set(m,d.getNode().getChild(_)))}),j0(t,e,n,f,s,o,c,a)}}function dG(t,e,n,r,s){const o=e.serverCache,a=wk(e,o.getNode(),o.isFullyInitialized()||Xe(n),o.isFiltered());return Rk(t,a,n,r,Nk,s)}function hG(t,e,n,r,s,o){let a;if(qp(r,n)!=null)return e;{const c=new Xw(r,e,s),d=e.eventCache.getNode();let f;if(Xe(n)||et(n)===".priority"){let m;if(e.serverCache.isFullyInitialized())m=D0(r,Oa(e));else{const y=e.serverCache.getNode();de(y instanceof ot,"serverChildren would be complete if leaf node"),m=Sk(r,y)}m=m,f=t.filter.updateFullNode(d,m,o)}else{const m=et(n);let y=Qw(r,m,e.serverCache);y==null&&e.serverCache.isCompleteForChild(m)&&(y=d.getImmediateChild(m)),y!=null?f=t.filter.updateChild(d,m,y,_t(n),c,o):e.eventCache.getNode().hasChild(m)?f=t.filter.updateChild(d,m,ot.EMPTY_NODE,_t(n),c,o):f=d,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=D0(r,Oa(e)),a.isLeafNode()&&(f=t.filter.updateFullNode(f,a,o)))}return a=e.serverCache.isFullyInitialized()||qp(r,ct())!=null,fd(e,f,a,t.filter.filtersNodes())}}function fG(t,e){const n=Oa(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Xe(e)&&!n.getImmediateChild(et(e)).isEmpty())?n.getChild(e):null}function S1(t,e,n,r){e.type===gs.MERGE&&e.source.queryId!==null&&(de(Oa(t.viewCache_),"We should always have a full cache before handling merges"),de(A0(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,o=aG(t.processor_,s,e,n,r);return oG(t.processor_,o.viewCache),de(o.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,pG(t,o.changes,o.viewCache.eventCache.getNode())}function pG(t,e,n,r){const s=t.eventRegistrations_;return BH(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C1;function mG(t){de(!C1,"__referenceConstructor has already been defined"),C1=t}function Jw(t,e,n,r){const s=e.source.queryId;if(s!==null){const o=t.views.get(s);return de(o!=null,"SyncTree gave us an op for an invalid query."),S1(o,e,n,r)}else{let o=[];for(const a of t.views.values())o=o.concat(S1(a,e,n,r));return o}}function Zw(t,e){let n=null;for(const r of t.views.values())n=n||fG(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I1;function gG(t){de(!I1,"__referenceConstructor has already been defined"),I1=t}class N1{constructor(e){this.listenProvider_=e,this.syncPointTree_=new vt(null),this.pendingWriteTree_=nG(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function yG(t,e,n,r,s){return HH(t.pendingWriteTree_,e,n,r,s),s?km(t,new ja(gk(),e,n)):[]}function tc(t,e,n=!1){const r=GH(t.pendingWriteTree_,e);if(qH(t.pendingWriteTree_,e)){let o=new vt(null);return r.snap!=null?o=o.set(ct(),!0):Sr(r.children,a=>{o=o.set(new xt(a),!0)}),km(t,new Gp(r.path,o,n))}else return[]}function Pm(t,e,n){return km(t,new ja(yk(),e,n))}function vG(t,e,n){const r=vt.fromObject(n);return km(t,new Ld(yk(),e,r))}function _G(t,e,n,r){const s=Dk(t,r);if(s!=null){const o=Mk(s),a=o.path,c=o.queryId,d=xr(a,e),f=new ja(vk(c),d,n);return jk(t,a,f)}else return[]}function wG(t,e,n,r){const s=Dk(t,r);if(s){const o=Mk(s),a=o.path,c=o.queryId,d=xr(a,e),f=vt.fromObject(n),m=new Ld(vk(c),d,f);return jk(t,a,m)}else return[]}function Ak(t,e,n){const s=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(a,c)=>{const d=xr(a,e),f=Zw(c,d);if(f)return f});return Tk(s,e,o,n,!0)}function km(t,e){return Pk(e,t.syncPointTree_,null,Ek(t.pendingWriteTree_,ct()))}function Pk(t,e,n,r){if(Xe(t.path))return kk(t,e,n,r);{const s=e.get(ct());n==null&&s!=null&&(n=Zw(s,ct()));let o=[];const a=et(t.path),c=t.operationForChild(a),d=e.children.get(a);if(d&&c){const f=n?n.getImmediateChild(a):null,m=Ck(r,a);o=o.concat(Pk(c,d,f,m))}return s&&(o=o.concat(Jw(s,t,r,n))),o}}function kk(t,e,n,r){const s=e.get(ct());n==null&&s!=null&&(n=Zw(s,ct()));let o=[];return e.children.inorderTraversal((a,c)=>{const d=n?n.getImmediateChild(a):null,f=Ck(r,a),m=t.operationForChild(a);m&&(o=o.concat(kk(m,c,d,f)))}),s&&(o=o.concat(Jw(s,t,r,n))),o}function Dk(t,e){return t.tagToQueryMap.get(e)}function Mk(t){const e=t.indexOf("$");return de(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new xt(t.substr(0,e))}}function jk(t,e,n){const r=t.syncPointTree_.get(e);de(r,"Missing sync point for query tag that we're tracking");const s=Ek(t.pendingWriteTree_,e);return Jw(r,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new ex(n)}node(){return this.node_}}class tx{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=nn(this.path_,e);return new tx(this.syncTree_,n)}node(){return Ak(this.syncTree_,this.path_)}}const xG=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},R1=function(t,e,n){if(!t||typeof t!="object")return t;if(de(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return EG(t[".sv"],e,n);if(typeof t[".sv"]=="object")return bG(t[".sv"],e);de(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},EG=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:de(!1,"Unexpected server value: "+t)}},bG=function(t,e,n){t.hasOwnProperty("increment")||de(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&de(!1,"Unexpected increment value: "+r);const s=e.node();if(de(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const a=s.getValue();return typeof a!="number"?r:a+r},TG=function(t,e,n,r){return nx(e,new tx(n,t),r)},SG=function(t,e,n){return nx(t,new ex(e),n)};function nx(t,e,n){const r=t.getPriority().val(),s=R1(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const a=t,c=R1(a.getValue(),e,n);return c!==a.getValue()||s!==a.getPriority().val()?new Zt(c,Cn(s)):t}else{const a=t;return o=a,s!==a.getPriority().val()&&(o=o.updatePriority(new Zt(s))),a.forEachChild(Nn,(c,d)=>{const f=nx(d,e.getImmediateChild(c),n);f!==d&&(o=o.updateImmediateChild(c,f))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function sx(t,e){let n=e instanceof xt?e:new xt(e),r=t,s=et(n);for(;s!==null;){const o=pc(r.node.children,s)||{children:{},childCount:0};r=new rx(s,r,o),n=_t(n),s=et(n)}return r}function Vc(t){return t.node.value}function Ok(t,e){t.node.value=e,O0(t)}function Lk(t){return t.node.childCount>0}function CG(t){return Vc(t)===void 0&&!Lk(t)}function Dm(t,e){Sr(t.node.children,(n,r)=>{e(new rx(n,t,r))})}function Vk(t,e,n,r){n&&e(t),Dm(t,s=>{Vk(s,e,!0)})}function IG(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function lh(t){return new xt(t.parent===null?t.name:lh(t.parent)+"/"+t.name)}function O0(t){t.parent!==null&&NG(t.parent,t.name,t)}function NG(t,e,n){const r=CG(n),s=_i(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,O0(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,O0(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RG=/[\[\].#$\/\u0000-\u001F\u007F]/,AG=/[\[\].#$\u0000-\u001F\u007F]/,hv=10*1024*1024,Fk=function(t){return typeof t=="string"&&t.length!==0&&!RG.test(t)},PG=function(t){return typeof t=="string"&&t.length!==0&&!AG.test(t)},kG=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),PG(t)},Uk=function(t,e,n){const r=n instanceof xt?new dH(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+va(r));if(typeof e=="function")throw new Error(t+"contains a function "+va(r)+" with contents = "+e.toString());if(VP(e))throw new Error(t+"contains "+e.toString()+" "+va(r));if(typeof e=="string"&&e.length>hv/3&&hm(e)>hv)throw new Error(t+"contains a string greater than "+hv+" utf8 bytes "+va(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,o=!1;if(Sr(e,(a,c)=>{if(a===".value")s=!0;else if(a!==".priority"&&a!==".sv"&&(o=!0,!Fk(a)))throw new Error(t+" contains an invalid key ("+a+") "+va(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);hH(r,a),Uk(t,c,r),fH(r)}),s&&o)throw new Error(t+' contains ".value" child '+va(r)+" in addition to actual children.")}},DG=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Fk(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!kG(n))throw new Error(SU(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function jG(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],o=s.getPath();n!==null&&!lk(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(s)}n&&t.eventLists_.push(n)}function Xa(t,e,n){jG(t,n),OG(t,r=>Br(r,e)||Br(e,r))}function OG(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const o=s.path;e(o)?(LG(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function LG(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();dd&&Sn("event: "+n.toString()),oh(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VG="repo_interrupt",FG=25;class UG{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new MG,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Hp(),this.transactionQueueTree_=new rx,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function BG(t,e,n){if(t.stats_=Ww(t.repoInfo_),t.forceRestClient_||O7())t.server_=new Wp(t.repoInfo_,(r,s,o,a)=>{A1(t,r,s,o,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>P1(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{fn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new oi(t.repoInfo_,e,(r,s,o,a)=>{A1(t,r,s,o,a)},r=>{P1(t,r)},r=>{$G(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=B7(t.repoInfo_,()=>new UH(t.stats_,t.server_)),t.infoData_=new jH,t.infoSyncTree_=new N1({startListening:(r,s,o,a)=>{let c=[];const d=t.infoData_.getNode(r._path);return d.isEmpty()||(c=Pm(t.infoSyncTree_,r._path,d),setTimeout(()=>{a("ok")},0)),c},stopListening:()=>{}}),ix(t,"connected",!1),t.serverSyncTree_=new N1({startListening:(r,s,o,a)=>(t.server_.listen(r,o,s,(c,d)=>{const f=a(c,d);Xa(t.eventQueue_,r._path,f)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function zG(t){const n=t.infoData_.getNode(new xt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Bk(t){return xG({timestamp:zG(t)})}function A1(t,e,n,r,s){t.dataUpdateCount++;const o=new xt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(s)if(r){const d=Ep(n,f=>Cn(f));a=wG(t.serverSyncTree_,o,d,s)}else{const d=Cn(n);a=_G(t.serverSyncTree_,o,d,s)}else if(r){const d=Ep(n,f=>Cn(f));a=vG(t.serverSyncTree_,o,d)}else{const d=Cn(n);a=Pm(t.serverSyncTree_,o,d)}let c=o;a.length>0&&(c=ax(t,o)),Xa(t.eventQueue_,c,a)}function P1(t,e){ix(t,"connected",e),e===!1&&HG(t)}function $G(t,e){Sr(e,(n,r)=>{ix(t,n,r)})}function ix(t,e,n){const r=new xt("/.info/"+e),s=Cn(n);t.infoData_.updateSnapshot(r,s);const o=Pm(t.infoSyncTree_,r,s);Xa(t.eventQueue_,r,o)}function WG(t){return t.nextWriteId_++}function HG(t){zk(t,"onDisconnectEvents");const e=Bk(t),n=Hp();R0(t.onDisconnect_,ct(),(s,o)=>{const a=TG(s,o,t.serverSyncTree_,e);mk(n,s,a)});let r=[];R0(n,ct(),(s,o)=>{r=r.concat(Pm(t.serverSyncTree_,s,o));const a=YG(t,s);ax(t,a)}),t.onDisconnect_=Hp(),Xa(t.eventQueue_,ct(),r)}function GG(t){t.persistentConnection_&&t.persistentConnection_.interrupt(VG)}function zk(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Sn(n,...e)}function $k(t,e,n){return Ak(t.serverSyncTree_,e,n)||ot.EMPTY_NODE}function ox(t,e=t.transactionQueueTree_){if(e||Mm(t,e),Vc(e)){const n=Hk(t,e);de(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&qG(t,lh(e),n)}else Lk(e)&&Dm(e,n=>{ox(t,n)})}function qG(t,e,n){const r=n.map(f=>f.currentWriteId),s=$k(t,e,r);let o=s;const a=s.hash();for(let f=0;f<n.length;f++){const m=n[f];de(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const y=xr(e,m.path);o=o.updateChild(y,m.currentOutputSnapshotRaw)}const c=o.val(!0),d=e;t.server_.put(d.toString(),c,f=>{zk(t,"transaction put response",{path:d.toString(),status:f});let m=[];if(f==="ok"){const y=[];for(let _=0;_<n.length;_++)n[_].status=2,m=m.concat(tc(t.serverSyncTree_,n[_].currentWriteId)),n[_].onComplete&&y.push(()=>n[_].onComplete(null,!0,n[_].currentOutputSnapshotResolved)),n[_].unwatcher();Mm(t,sx(t.transactionQueueTree_,e)),ox(t,t.transactionQueueTree_),Xa(t.eventQueue_,e,m);for(let _=0;_<y.length;_++)oh(y[_])}else{if(f==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{ir("transaction at "+d.toString()+" failed: "+f);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=f}ax(t,e)}},a)}function ax(t,e){const n=Wk(t,e),r=lh(n),s=Hk(t,n);return KG(t,s,r),r}function KG(t,e,n){if(e.length===0)return;const r=[];let s=[];const a=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const d=e[c],f=xr(n,d.path);let m=!1,y;if(de(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)m=!0,y=d.abortReason,s=s.concat(tc(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=FG)m=!0,y="maxretry",s=s.concat(tc(t.serverSyncTree_,d.currentWriteId,!0));else{const _=$k(t,d.path,a);d.currentInputSnapshot=_;const b=e[c].update(_.val());if(b!==void 0){Uk("transaction failed: Data returned ",b,d.path);let I=Cn(b);typeof b=="object"&&b!=null&&_i(b,".priority")||(I=I.updatePriority(_.getPriority()));const C=d.currentWriteId,A=Bk(t),M=SG(I,_,A);d.currentOutputSnapshotRaw=I,d.currentOutputSnapshotResolved=M,d.currentWriteId=WG(t),a.splice(a.indexOf(C),1),s=s.concat(yG(t.serverSyncTree_,d.path,M,d.currentWriteId,d.applyLocally)),s=s.concat(tc(t.serverSyncTree_,C,!0))}else m=!0,y="nodata",s=s.concat(tc(t.serverSyncTree_,d.currentWriteId,!0))}Xa(t.eventQueue_,n,s),s=[],m&&(e[c].status=2,function(_){setTimeout(_,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(y==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(y),!1,null))))}Mm(t,t.transactionQueueTree_);for(let c=0;c<r.length;c++)oh(r[c]);ox(t,t.transactionQueueTree_)}function Wk(t,e){let n,r=t.transactionQueueTree_;for(n=et(e);n!==null&&Vc(r)===void 0;)r=sx(r,n),e=_t(e),n=et(e);return r}function Hk(t,e){const n=[];return Gk(t,e,n),n.sort((r,s)=>r.order-s.order),n}function Gk(t,e,n){const r=Vc(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Dm(e,s=>{Gk(t,s,n)})}function Mm(t,e){const n=Vc(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,Ok(e,n.length>0?n:void 0)}Dm(e,r=>{Mm(t,r)})}function YG(t,e){const n=lh(Wk(t,e)),r=sx(t.transactionQueueTree_,e);return IG(r,s=>{fv(t,s)}),fv(t,r),Vk(r,s=>{fv(t,s)}),n}function fv(t,e){const n=Vc(e);if(n){const r=[];let s=[],o=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(de(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(de(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),s=s.concat(tc(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));o===-1?Ok(e,void 0):n.length=o+1,Xa(t.eventQueue_,lh(e),s);for(let a=0;a<r.length;a++)oh(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QG(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function XG(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ir(`Invalid query segment '${n}' in query '${t}'`)}return e}const k1=function(t,e){const n=JG(t),r=n.namespace;n.domain==="firebase.com"&&pi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&pi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||N7();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new QP(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new xt(n.pathString)}},JG=function(t){let e="",n="",r="",s="",o="",a=!0,c="https",d=443;if(typeof t=="string"){let f=t.indexOf("//");f>=0&&(c=t.substring(0,f-1),t=t.substring(f+2));let m=t.indexOf("/");m===-1&&(m=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(m,y)),m<y&&(s=QG(t.substring(m,y)));const _=XG(t.substring(Math.min(t.length,y)));f=e.indexOf(":"),f>=0?(a=c==="https"||c==="wss",d=parseInt(e.substring(f+1),10)):f=e.length;const b=e.slice(0,f);if(b.toLowerCase()==="localhost")n="localhost";else if(b.split(".").length<=2)n=b;else{const I=e.indexOf(".");r=e.substring(0,I).toLowerCase(),n=e.substring(I+1),o=r}"ns"in _&&(o=_.ns)}return{host:e,port:d,domain:n,subdomain:r,secure:a,scheme:c,pathString:s,namespace:o}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return Xe(this._path)?null:ik(this._path)}get ref(){return new Fc(this._repo,this._path)}get _queryIdentifier(){const e=y1(this._queryParams),n=zw(e);return n==="{}"?"default":n}get _queryObject(){return y1(this._queryParams)}isEqual(e){if(e=Mn(e),!(e instanceof lx))return!1;const n=this._repo===e._repo,r=lk(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+uH(this._path)}}class Fc extends lx{constructor(e,n){super(e,n,new Kw,!1)}get parent(){const e=ak(this._path);return e===null?null:new Fc(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}mG(Fc);gG(Fc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZG="FIREBASE_DATABASE_EMULATOR_HOST",L0={};let eq=!1;function tq(t,e,n,r){const s=e.lastIndexOf(":"),o=e.substring(0,s),a=Lo(o);t.repoInfo_=new QP(e,a,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function nq(t,e,n,r,s){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||pi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Sn("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=k1(o,s),c=a.repoInfo,d;typeof process<"u"&&JC&&(d=JC[ZG]),d?(o=`http://${d}?ns=${c.namespace}`,a=k1(o,s),c=a.repoInfo):a.repoInfo.secure;const f=new V7(t.name,t.options,e);DG("Invalid Firebase Database URL",a),Xe(a.path)||pi("Database URL must point to the root of a Firebase Database (not including a child path).");const m=sq(c,t,f,new L7(t,n));return new iq(m,t)}function rq(t,e){const n=L0[e];(!n||n[t.key]!==t)&&pi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),GG(t),delete n[t.key]}function sq(t,e,n,r){let s=L0[e.name];s||(s={},L0[e.name]=s);let o=s[t.toURLString()];return o&&pi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new UG(t,eq,n,r),s[t.toURLString()]=o,o}class iq{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(BG(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Fc(this._repo,ct())),this._rootInternal}_delete(){return this._rootInternal!==null&&(rq(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&pi("Cannot call "+e+" on a deleted database.")}}function oq(t=J_(),e){const n=pm(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=vR("database");r&&aq(n,...r)}return n}function aq(t,e,n,r={}){t=Mn(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,o=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&To(r,o.repoInfo_.emulatorOptions))return;pi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&pi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new cp(cp.OWNER);else if(r.mockUserToken){const c=typeof r.mockUserToken=="string"?r.mockUserToken:xR(r.mockUserToken,t.app.options.projectId);a=new cp(c)}Lo(e)&&(K_(e),Y_("Database",!0)),tq(o,s,r,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lq(t){E7(Ha),Ra(new So("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return nq(r,s,o,n)},"PUBLIC").setMultipleInstances(!0)),ws(ZC,e1,t),ws(ZC,e1,"esm2020")}oi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};oi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};lq();const Yp={apiKey:"AIzaSyDNquPgsG3jrYRODTOgH1cACJdc8PWCBbc",authDomain:"cemar-counseling-e8ea3.firebaseapp.com",projectId:"cemar-counseling-e8ea3",storageBucket:"cemar-counseling-e8ea3.firebasestorage.app",messagingSenderId:"1081149760081",appId:"1:1081149760081:web:5ec55812689c86b469ce70",databaseURL:"https://cemar-counseling-e8ea3-default-rtdb.firebaseio.com"};(!Yp.apiKey||!Yp.projectId)&&console.error("Firebase configuration is incomplete. Please check your .env.local file.");const cx=CR(Yp),jm=QB(cx),qk=new ei;qk.setCustomParameters({prompt:"select_account"});oq(cx,Yp.databaseURL);const Kk=t7(cx);function or(){return typeof window>"u"?!1:localStorage.getItem("authToken")!==null}function Om(t,e){typeof window>"u"||(t&&e?localStorage.setItem("authToken",e):(localStorage.removeItem("authToken"),localStorage.removeItem("userData")),window.dispatchEvent(new Event("storage")))}function Lm(){if(!or())return null;const t=localStorage.getItem("userData");if(!t)return null;try{return JSON.parse(t)}catch{return null}}function ux(t){localStorage.setItem("userData",JSON.stringify(t))}async function Yk(t,e){try{const n=SP(Kk,"users",t);await y7(n,{...e,createdAt:XC(),updatedAt:XC()},{merge:!0})}catch(n){throw console.error("Error saving user to Firestore:",n),n}}async function cq(t){try{const e=SP(Kk,"users",t),n=await m7(e);return n.exists()?n.data():null}catch(e){return console.error("Error fetching user from Firestore:",e),null}}async function uq(){var t;try{const n=(await iB(jm,qk)).user,r={id:n.uid,name:n.displayName||((t=n.email)==null?void 0:t.split("@")[0])||"User",email:n.email||"",avatar:n.photoURL||void 0};return await Yk(n.uid,{...r,role:"client"}),ux(r),Om(!0,n.uid),r}catch(e){console.error("Error signing in with Google:",e);const n=dx(e);throw new Error(n)}}async function dq(t,e,n){try{const s=(await D9(jm,e,n)).user;try{await O9(s,{displayName:t})}catch(a){console.warn("Warning: could not update profile displayName",a)}const o={id:s.uid,name:t,email:e,avatar:s.photoURL||void 0};return await Yk(s.uid,{...o,role:"client"}),ux(o),Om(!0,s.uid),o}catch(r){console.error("Error signing up:",r);const s=dx(r);throw new Error(s)}}async function hq(t,e){try{const r=(await M9(jm,t,e)).user,s=await cq(r.uid);if(!s)throw new Error("User profile not found");const o={id:r.uid,name:s.name,email:r.email||"",avatar:s.avatar};return ux(o),Om(!0,r.uid),o}catch(n){console.error("Error logging in:",n);const r=dx(n);throw new Error(r)}}function dx(t){if(!t)return"Authentication error";switch(t.code||""){case"auth/email-already-in-use":return"This email is already in use. Try logging in or use a different email.";case"auth/invalid-email":return"The email address is invalid.";case"auth/operation-not-allowed":return"Email/password sign-in is not enabled. Enable it in Firebase Console  Authentication  Sign-in method.";case"auth/weak-password":return"Password is too weak. Use at least 6 characters.";case"auth/wrong-password":return"Incorrect password. Please try again.";case"auth/user-not-found":return"No user found with this email. Please sign up first.";case"auth/user-disabled":return"This user account has been disabled.";case"auth/popup-closed-by-user":return"Sign-in popup closed before completing sign-in.";default:return t.message||"Authentication error"}}async function fq(){try{return await F9(jm),localStorage.removeItem("userData"),localStorage.removeItem("authToken"),Om(!1),!0}catch(t){throw console.error("Error logging out:",t),t}}function Ee(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function pq(t,e){const n=E.createContext(e),r=o=>{const{children:a,...c}=o,d=E.useMemo(()=>c,Object.values(c));return h.jsx(n.Provider,{value:d,children:a})};r.displayName=t+"Provider";function s(o){const a=E.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function qr(t,e=[]){let n=[];function r(o,a){const c=E.createContext(a),d=n.length;n=[...n,a];const f=y=>{var A;const{scope:_,children:b,...I}=y,S=((A=_==null?void 0:_[t])==null?void 0:A[d])||c,C=E.useMemo(()=>I,Object.values(I));return h.jsx(S.Provider,{value:C,children:b})};f.displayName=o+"Provider";function m(y,_){var S;const b=((S=_==null?void 0:_[t])==null?void 0:S[d])||c,I=E.useContext(b);if(I)return I;if(a!==void 0)return a;throw new Error(`\`${y}\` must be used within \`${o}\``)}return[f,m]}const s=()=>{const o=n.map(a=>E.createContext(a));return function(c){const d=(c==null?void 0:c[t])||o;return E.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return s.scopeName=t,[r,mq(s,...e)]}function mq(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=r.reduce((c,{useScope:d,scopeName:f})=>{const y=d(o)[`__scope${f}`];return{...c,...y}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var Kt=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},gq=r_[" useInsertionEffect ".trim().toString()]||Kt;function La({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,o,a]=yq({defaultProp:e,onChange:n}),c=t!==void 0,d=c?t:s;{const m=E.useRef(t!==void 0);E.useEffect(()=>{const y=m.current;y!==c&&console.warn(`${r} is changing from ${y?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,r])}const f=E.useCallback(m=>{var y;if(c){const _=vq(m)?m(t):m;_!==t&&((y=a.current)==null||y.call(a,_))}else o(m)},[c,t,o,a]);return[d,f]}function yq({defaultProp:t,onChange:e}){const[n,r]=E.useState(t),s=E.useRef(n),o=E.useRef(e);return gq(()=>{o.current=e},[e]),E.useEffect(()=>{var a;s.current!==n&&((a=o.current)==null||a.call(o,n),s.current=n)},[n,s]),[n,r,o]}function vq(t){return typeof t=="function"}var _q=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ze=_q.reduce((t,e)=>{const n=Na(`Primitive.${e}`),r=E.forwardRef((s,o)=>{const{asChild:a,...c}=s,d=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(d,{...c,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Qk(t,e){t&&zd.flushSync(()=>t.dispatchEvent(e))}function hx(t){const e=t+"CollectionProvider",[n,r]=qr(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=S=>{const{scope:C,children:A}=S,M=Zs.useRef(null),j=Zs.useRef(new Map).current;return h.jsx(s,{scope:C,itemMap:j,collectionRef:M,children:A})};a.displayName=e;const c=t+"CollectionSlot",d=Na(c),f=Zs.forwardRef((S,C)=>{const{scope:A,children:M}=S,j=o(c,A),W=it(C,j.collectionRef);return h.jsx(d,{ref:W,children:M})});f.displayName=c;const m=t+"CollectionItemSlot",y="data-radix-collection-item",_=Na(m),b=Zs.forwardRef((S,C)=>{const{scope:A,children:M,...j}=S,W=Zs.useRef(null),G=it(C,W),J=o(m,A);return Zs.useEffect(()=>(J.itemMap.set(W,{ref:W,...j}),()=>void J.itemMap.delete(W))),h.jsx(_,{[y]:"",ref:G,children:M})});b.displayName=m;function I(S){const C=o(t+"CollectionConsumer",S);return Zs.useCallback(()=>{const M=C.collectionRef.current;if(!M)return[];const j=Array.from(M.querySelectorAll(`[${y}]`));return Array.from(C.itemMap.values()).sort((J,D)=>j.indexOf(J.ref.current)-j.indexOf(D.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:a,Slot:f,ItemSlot:b},I,r]}var wq=E.createContext(void 0);function Vm(t){const e=E.useContext(wq);return t||e||"ltr"}function Wr(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function xq(t,e=globalThis==null?void 0:globalThis.document){const n=Wr(t);E.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Eq="DismissableLayer",V0="dismissableLayer.update",bq="dismissableLayer.pointerDownOutside",Tq="dismissableLayer.focusOutside",D1,Xk=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fm=E.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:c,...d}=t,f=E.useContext(Xk),[m,y]=E.useState(null),_=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=E.useState({}),I=it(e,D=>y(D)),S=Array.from(f.layers),[C]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),A=S.indexOf(C),M=m?S.indexOf(m):-1,j=f.layersWithOutsidePointerEventsDisabled.size>0,W=M>=A,G=Iq(D=>{const R=D.target,k=[...f.branches].some(V=>V.contains(R));!W||k||(s==null||s(D),a==null||a(D),D.defaultPrevented||c==null||c())},_),J=Nq(D=>{const R=D.target;[...f.branches].some(V=>V.contains(R))||(o==null||o(D),a==null||a(D),D.defaultPrevented||c==null||c())},_);return xq(D=>{M===f.layers.size-1&&(r==null||r(D),!D.defaultPrevented&&c&&(D.preventDefault(),c()))},_),E.useEffect(()=>{if(m)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(D1=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),M1(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=D1)}},[m,_,n,f]),E.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),M1())},[m,f]),E.useEffect(()=>{const D=()=>b({});return document.addEventListener(V0,D),()=>document.removeEventListener(V0,D)},[]),h.jsx(ze.div,{...d,ref:I,style:{pointerEvents:j?W?"auto":"none":void 0,...t.style},onFocusCapture:Ee(t.onFocusCapture,J.onFocusCapture),onBlurCapture:Ee(t.onBlurCapture,J.onBlurCapture),onPointerDownCapture:Ee(t.onPointerDownCapture,G.onPointerDownCapture)})});Fm.displayName=Eq;var Sq="DismissableLayerBranch",Cq=E.forwardRef((t,e)=>{const n=E.useContext(Xk),r=E.useRef(null),s=it(e,r);return E.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),h.jsx(ze.div,{...t,ref:s})});Cq.displayName=Sq;function Iq(t,e=globalThis==null?void 0:globalThis.document){const n=Wr(t),r=E.useRef(!1),s=E.useRef(()=>{});return E.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let d=function(){Jk(bq,n,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=d,e.addEventListener("click",s.current,{once:!0})):d()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Nq(t,e=globalThis==null?void 0:globalThis.document){const n=Wr(t),r=E.useRef(!1);return E.useEffect(()=>{const s=o=>{o.target&&!r.current&&Jk(Tq,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function M1(){const t=new CustomEvent(V0);document.dispatchEvent(t)}function Jk(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Qk(s,o):s.dispatchEvent(o)}var pv=0;function fx(){E.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??j1()),document.body.insertAdjacentElement("beforeend",t[1]??j1()),pv++,()=>{pv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),pv--}},[])}function j1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var mv="focusScope.autoFocusOnMount",gv="focusScope.autoFocusOnUnmount",O1={bubbles:!1,cancelable:!0},Rq="FocusScope",Um=E.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...a}=t,[c,d]=E.useState(null),f=Wr(s),m=Wr(o),y=E.useRef(null),_=it(e,S=>d(S)),b=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let S=function(j){if(b.paused||!c)return;const W=j.target;c.contains(W)?y.current=W:ro(y.current,{select:!0})},C=function(j){if(b.paused||!c)return;const W=j.relatedTarget;W!==null&&(c.contains(W)||ro(y.current,{select:!0}))},A=function(j){if(document.activeElement===document.body)for(const G of j)G.removedNodes.length>0&&ro(c)};document.addEventListener("focusin",S),document.addEventListener("focusout",C);const M=new MutationObserver(A);return c&&M.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",C),M.disconnect()}}},[r,c,b.paused]),E.useEffect(()=>{if(c){V1.add(b);const S=document.activeElement;if(!c.contains(S)){const A=new CustomEvent(mv,O1);c.addEventListener(mv,f),c.dispatchEvent(A),A.defaultPrevented||(Aq(jq(Zk(c)),{select:!0}),document.activeElement===S&&ro(c))}return()=>{c.removeEventListener(mv,f),setTimeout(()=>{const A=new CustomEvent(gv,O1);c.addEventListener(gv,m),c.dispatchEvent(A),A.defaultPrevented||ro(S??document.body,{select:!0}),c.removeEventListener(gv,m),V1.remove(b)},0)}}},[c,f,m,b]);const I=E.useCallback(S=>{if(!n&&!r||b.paused)return;const C=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,A=document.activeElement;if(C&&A){const M=S.currentTarget,[j,W]=Pq(M);j&&W?!S.shiftKey&&A===W?(S.preventDefault(),n&&ro(j,{select:!0})):S.shiftKey&&A===j&&(S.preventDefault(),n&&ro(W,{select:!0})):A===M&&S.preventDefault()}},[n,r,b.paused]);return h.jsx(ze.div,{tabIndex:-1,...a,ref:_,onKeyDown:I})});Um.displayName=Rq;function Aq(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ro(r,{select:e}),document.activeElement!==n)return}function Pq(t){const e=Zk(t),n=L1(e,t),r=L1(e.reverse(),t);return[n,r]}function Zk(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function L1(t,e){for(const n of t)if(!kq(n,{upTo:e}))return n}function kq(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Dq(t){return t instanceof HTMLInputElement&&"select"in t}function ro(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Dq(t)&&e&&t.select()}}var V1=Mq();function Mq(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=F1(t,e),t.unshift(e)},remove(e){var n;t=F1(t,e),(n=t[0])==null||n.resume()}}}function F1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function jq(t){return t.filter(e=>e.tagName!=="A")}var Oq=r_[" useId ".trim().toString()]||(()=>{}),Lq=0;function Cs(t){const[e,n]=E.useState(Oq());return Kt(()=>{n(r=>r??String(Lq++))},[t]),e?`radix-${e}`:""}const Vq=["top","right","bottom","left"],Do=Math.min,sr=Math.max,Qp=Math.round,Bf=Math.floor,Is=t=>({x:t,y:t}),Fq={left:"right",right:"left",bottom:"top",top:"bottom"},Uq={start:"end",end:"start"};function F0(t,e,n){return sr(t,Do(e,n))}function mi(t,e){return typeof t=="function"?t(e):t}function gi(t){return t.split("-")[0]}function Uc(t){return t.split("-")[1]}function px(t){return t==="x"?"y":"x"}function mx(t){return t==="y"?"height":"width"}function ai(t){return["top","bottom"].includes(gi(t))?"y":"x"}function gx(t){return px(ai(t))}function Bq(t,e,n){n===void 0&&(n=!1);const r=Uc(t),s=gx(t),o=mx(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=Xp(a)),[a,Xp(a)]}function zq(t){const e=Xp(t);return[U0(t),e,U0(e)]}function U0(t){return t.replace(/start|end/g,e=>Uq[e])}function $q(t,e,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?o:a;default:return[]}}function Wq(t,e,n,r){const s=Uc(t);let o=$q(gi(t),n==="start",r);return s&&(o=o.map(a=>a+"-"+s),e&&(o=o.concat(o.map(U0)))),o}function Xp(t){return t.replace(/left|right|bottom|top/g,e=>Fq[e])}function Hq(t){return{top:0,right:0,bottom:0,left:0,...t}}function e2(t){return typeof t!="number"?Hq(t):{top:t,right:t,bottom:t,left:t}}function Jp(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function U1(t,e,n){let{reference:r,floating:s}=t;const o=ai(e),a=gx(e),c=mx(a),d=gi(e),f=o==="y",m=r.x+r.width/2-s.width/2,y=r.y+r.height/2-s.height/2,_=r[c]/2-s[c]/2;let b;switch(d){case"top":b={x:m,y:r.y-s.height};break;case"bottom":b={x:m,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y};break;case"left":b={x:r.x-s.width,y};break;default:b={x:r.x,y:r.y}}switch(Uc(e)){case"start":b[a]-=_*(n&&f?-1:1);break;case"end":b[a]+=_*(n&&f?-1:1);break}return b}const Gq=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:a}=n,c=o.filter(Boolean),d=await(a.isRTL==null?void 0:a.isRTL(e));let f=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:m,y}=U1(f,r,d),_=r,b={},I=0;for(let S=0;S<c.length;S++){const{name:C,fn:A}=c[S],{x:M,y:j,data:W,reset:G}=await A({x:m,y,initialPlacement:r,placement:_,strategy:s,middlewareData:b,rects:f,platform:a,elements:{reference:t,floating:e}});m=M??m,y=j??y,b={...b,[C]:{...b[C],...W}},G&&I<=50&&(I++,typeof G=="object"&&(G.placement&&(_=G.placement),G.rects&&(f=G.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):G.rects),{x:m,y}=U1(f,_,d)),S=-1)}return{x:m,y,placement:_,strategy:s,middlewareData:b}};async function Vd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:a,elements:c,strategy:d}=t,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:y="floating",altBoundary:_=!1,padding:b=0}=mi(e,t),I=e2(b),C=c[_?y==="floating"?"reference":"floating":y],A=Jp(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(C)))==null||n?C:C.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:f,rootBoundary:m,strategy:d})),M=y==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),W=await(o.isElement==null?void 0:o.isElement(j))?await(o.getScale==null?void 0:o.getScale(j))||{x:1,y:1}:{x:1,y:1},G=Jp(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:M,offsetParent:j,strategy:d}):M);return{top:(A.top-G.top+I.top)/W.y,bottom:(G.bottom-A.bottom+I.bottom)/W.y,left:(A.left-G.left+I.left)/W.x,right:(G.right-A.right+I.right)/W.x}}const qq=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:a,elements:c,middlewareData:d}=e,{element:f,padding:m=0}=mi(t,e)||{};if(f==null)return{};const y=e2(m),_={x:n,y:r},b=gx(s),I=mx(b),S=await a.getDimensions(f),C=b==="y",A=C?"top":"left",M=C?"bottom":"right",j=C?"clientHeight":"clientWidth",W=o.reference[I]+o.reference[b]-_[b]-o.floating[I],G=_[b]-o.reference[b],J=await(a.getOffsetParent==null?void 0:a.getOffsetParent(f));let D=J?J[j]:0;(!D||!await(a.isElement==null?void 0:a.isElement(J)))&&(D=c.floating[j]||o.floating[I]);const R=W/2-G/2,k=D/2-S[I]/2-1,V=Do(y[A],k),F=Do(y[M],k),B=V,L=D-S[I]-F,ge=D/2-S[I]/2+R,Ce=F0(B,ge,L),ve=!d.arrow&&Uc(s)!=null&&ge!==Ce&&o.reference[I]/2-(ge<B?V:F)-S[I]/2<0,he=ve?ge<B?ge-B:ge-L:0;return{[b]:_[b]+he,data:{[b]:Ce,centerOffset:ge-Ce-he,...ve&&{alignmentOffset:he}},reset:ve}}}),Kq=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:a,initialPlacement:c,platform:d,elements:f}=e,{mainAxis:m=!0,crossAxis:y=!0,fallbackPlacements:_,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:S=!0,...C}=mi(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const A=gi(s),M=ai(c),j=gi(c)===c,W=await(d.isRTL==null?void 0:d.isRTL(f.floating)),G=_||(j||!S?[Xp(c)]:zq(c)),J=I!=="none";!_&&J&&G.push(...Wq(c,S,I,W));const D=[c,...G],R=await Vd(e,C),k=[];let V=((r=o.flip)==null?void 0:r.overflows)||[];if(m&&k.push(R[A]),y){const Ce=Bq(s,a,W);k.push(R[Ce[0]],R[Ce[1]])}if(V=[...V,{placement:s,overflows:k}],!k.every(Ce=>Ce<=0)){var F,B;const Ce=(((F=o.flip)==null?void 0:F.index)||0)+1,ve=D[Ce];if(ve){var L;const Z=y==="alignment"?M!==ai(ve):!1,ee=((L=V[0])==null?void 0:L.overflows[0])>0;if(!Z||ee)return{data:{index:Ce,overflows:V},reset:{placement:ve}}}let he=(B=V.filter(Z=>Z.overflows[0]<=0).sort((Z,ee)=>Z.overflows[1]-ee.overflows[1])[0])==null?void 0:B.placement;if(!he)switch(b){case"bestFit":{var ge;const Z=(ge=V.filter(ee=>{if(J){const re=ai(ee.placement);return re===M||re==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(re=>re>0).reduce((re,$)=>re+$,0)]).sort((ee,re)=>ee[1]-re[1])[0])==null?void 0:ge[0];Z&&(he=Z);break}case"initialPlacement":he=c;break}if(s!==he)return{reset:{placement:he}}}return{}}}};function B1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function z1(t){return Vq.some(e=>t[e]>=0)}const Yq=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=mi(t,e);switch(r){case"referenceHidden":{const o=await Vd(e,{...s,elementContext:"reference"}),a=B1(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:z1(a)}}}case"escaped":{const o=await Vd(e,{...s,altBoundary:!0}),a=B1(o,n.floating);return{data:{escapedOffsets:a,escaped:z1(a)}}}default:return{}}}}};async function Qq(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=gi(n),c=Uc(n),d=ai(n)==="y",f=["left","top"].includes(a)?-1:1,m=o&&d?-1:1,y=mi(e,t);let{mainAxis:_,crossAxis:b,alignmentAxis:I}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return c&&typeof I=="number"&&(b=c==="end"?I*-1:I),d?{x:b*m,y:_*f}:{x:_*f,y:b*m}}const Xq=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:a,middlewareData:c}=e,d=await Qq(e,t);return a===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+d.x,y:o+d.y,data:{...d,placement:a}}}}},Jq=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:c={fn:C=>{let{x:A,y:M}=C;return{x:A,y:M}}},...d}=mi(t,e),f={x:n,y:r},m=await Vd(e,d),y=ai(gi(s)),_=px(y);let b=f[_],I=f[y];if(o){const C=_==="y"?"top":"left",A=_==="y"?"bottom":"right",M=b+m[C],j=b-m[A];b=F0(M,b,j)}if(a){const C=y==="y"?"top":"left",A=y==="y"?"bottom":"right",M=I+m[C],j=I-m[A];I=F0(M,I,j)}const S=c.fn({...e,[_]:b,[y]:I});return{...S,data:{x:S.x-n,y:S.y-r,enabled:{[_]:o,[y]:a}}}}}},Zq=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:a}=e,{offset:c=0,mainAxis:d=!0,crossAxis:f=!0}=mi(t,e),m={x:n,y:r},y=ai(s),_=px(y);let b=m[_],I=m[y];const S=mi(c,e),C=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(d){const j=_==="y"?"height":"width",W=o.reference[_]-o.floating[j]+C.mainAxis,G=o.reference[_]+o.reference[j]-C.mainAxis;b<W?b=W:b>G&&(b=G)}if(f){var A,M;const j=_==="y"?"width":"height",W=["top","left"].includes(gi(s)),G=o.reference[y]-o.floating[j]+(W&&((A=a.offset)==null?void 0:A[y])||0)+(W?0:C.crossAxis),J=o.reference[y]+o.reference[j]+(W?0:((M=a.offset)==null?void 0:M[y])||0)-(W?C.crossAxis:0);I<G?I=G:I>J&&(I=J)}return{[_]:b,[y]:I}}}},eK=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:a,elements:c}=e,{apply:d=()=>{},...f}=mi(t,e),m=await Vd(e,f),y=gi(s),_=Uc(s),b=ai(s)==="y",{width:I,height:S}=o.floating;let C,A;y==="top"||y==="bottom"?(C=y,A=_===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(A=y,C=_==="end"?"top":"bottom");const M=S-m.top-m.bottom,j=I-m.left-m.right,W=Do(S-m[C],M),G=Do(I-m[A],j),J=!e.middlewareData.shift;let D=W,R=G;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=j),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(D=M),J&&!_){const V=sr(m.left,0),F=sr(m.right,0),B=sr(m.top,0),L=sr(m.bottom,0);b?R=I-2*(V!==0||F!==0?V+F:sr(m.left,m.right)):D=S-2*(B!==0||L!==0?B+L:sr(m.top,m.bottom))}await d({...e,availableWidth:R,availableHeight:D});const k=await a.getDimensions(c.floating);return I!==k.width||S!==k.height?{reset:{rects:!0}}:{}}}};function Bm(){return typeof window<"u"}function Bc(t){return t2(t)?(t.nodeName||"").toLowerCase():"#document"}function ar(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ps(t){var e;return(e=(t2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function t2(t){return Bm()?t instanceof Node||t instanceof ar(t).Node:!1}function Hr(t){return Bm()?t instanceof Element||t instanceof ar(t).Element:!1}function As(t){return Bm()?t instanceof HTMLElement||t instanceof ar(t).HTMLElement:!1}function $1(t){return!Bm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ar(t).ShadowRoot}function ch(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Gr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function tK(t){return["table","td","th"].includes(Bc(t))}function zm(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function yx(t){const e=vx(),n=Hr(t)?Gr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function nK(t){let e=Mo(t);for(;As(e)&&!Tc(e);){if(yx(e))return e;if(zm(e))return null;e=Mo(e)}return null}function vx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Tc(t){return["html","body","#document"].includes(Bc(t))}function Gr(t){return ar(t).getComputedStyle(t)}function $m(t){return Hr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Mo(t){if(Bc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||$1(t)&&t.host||Ps(t);return $1(e)?e.host:e}function n2(t){const e=Mo(t);return Tc(e)?t.ownerDocument?t.ownerDocument.body:t.body:As(e)&&ch(e)?e:n2(e)}function Fd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=n2(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),a=ar(s);if(o){const c=B0(a);return e.concat(a,a.visualViewport||[],ch(s)?s:[],c&&n?Fd(c):[])}return e.concat(s,Fd(s,[],n))}function B0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function r2(t){const e=Gr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=As(t),o=s?t.offsetWidth:n,a=s?t.offsetHeight:r,c=Qp(n)!==o||Qp(r)!==a;return c&&(n=o,r=a),{width:n,height:r,$:c}}function _x(t){return Hr(t)?t:t.contextElement}function cc(t){const e=_x(t);if(!As(e))return Is(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=r2(e);let a=(o?Qp(n.width):n.width)/r,c=(o?Qp(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const rK=Is(0);function s2(t){const e=ar(t);return!vx()||!e.visualViewport?rK:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function sK(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ar(t)?!1:e}function Va(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=_x(t);let a=Is(1);e&&(r?Hr(r)&&(a=cc(r)):a=cc(t));const c=sK(o,n,r)?s2(o):Is(0);let d=(s.left+c.x)/a.x,f=(s.top+c.y)/a.y,m=s.width/a.x,y=s.height/a.y;if(o){const _=ar(o),b=r&&Hr(r)?ar(r):r;let I=_,S=B0(I);for(;S&&r&&b!==I;){const C=cc(S),A=S.getBoundingClientRect(),M=Gr(S),j=A.left+(S.clientLeft+parseFloat(M.paddingLeft))*C.x,W=A.top+(S.clientTop+parseFloat(M.paddingTop))*C.y;d*=C.x,f*=C.y,m*=C.x,y*=C.y,d+=j,f+=W,I=ar(S),S=B0(I)}}return Jp({width:m,height:y,x:d,y:f})}function wx(t,e){const n=$m(t).scrollLeft;return e?e.left+n:Va(Ps(t)).left+n}function i2(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:wx(t,r)),o=r.top+e.scrollTop;return{x:s,y:o}}function iK(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",a=Ps(r),c=e?zm(e.floating):!1;if(r===a||c&&o)return n;let d={scrollLeft:0,scrollTop:0},f=Is(1);const m=Is(0),y=As(r);if((y||!y&&!o)&&((Bc(r)!=="body"||ch(a))&&(d=$m(r)),As(r))){const b=Va(r);f=cc(r),m.x=b.x+r.clientLeft,m.y=b.y+r.clientTop}const _=a&&!y&&!o?i2(a,d,!0):Is(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+m.x+_.x,y:n.y*f.y-d.scrollTop*f.y+m.y+_.y}}function oK(t){return Array.from(t.getClientRects())}function aK(t){const e=Ps(t),n=$m(t),r=t.ownerDocument.body,s=sr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=sr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+wx(t);const c=-n.scrollTop;return Gr(r).direction==="rtl"&&(a+=sr(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:a,y:c}}function lK(t,e){const n=ar(t),r=Ps(t),s=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,c=0,d=0;if(s){o=s.width,a=s.height;const f=vx();(!f||f&&e==="fixed")&&(c=s.offsetLeft,d=s.offsetTop)}return{width:o,height:a,x:c,y:d}}function cK(t,e){const n=Va(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=As(t)?cc(t):Is(1),a=t.clientWidth*o.x,c=t.clientHeight*o.y,d=s*o.x,f=r*o.y;return{width:a,height:c,x:d,y:f}}function W1(t,e,n){let r;if(e==="viewport")r=lK(t,n);else if(e==="document")r=aK(Ps(t));else if(Hr(e))r=cK(e,n);else{const s=s2(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Jp(r)}function o2(t,e){const n=Mo(t);return n===e||!Hr(n)||Tc(n)?!1:Gr(n).position==="fixed"||o2(n,e)}function uK(t,e){const n=e.get(t);if(n)return n;let r=Fd(t,[],!1).filter(c=>Hr(c)&&Bc(c)!=="body"),s=null;const o=Gr(t).position==="fixed";let a=o?Mo(t):t;for(;Hr(a)&&!Tc(a);){const c=Gr(a),d=yx(a);!d&&c.position==="fixed"&&(s=null),(o?!d&&!s:!d&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ch(a)&&!d&&o2(t,a))?r=r.filter(m=>m!==a):s=c,a=Mo(a)}return e.set(t,r),r}function dK(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?zm(e)?[]:uK(e,this._c):[].concat(n),r],c=a[0],d=a.reduce((f,m)=>{const y=W1(e,m,s);return f.top=sr(y.top,f.top),f.right=Do(y.right,f.right),f.bottom=Do(y.bottom,f.bottom),f.left=sr(y.left,f.left),f},W1(e,c,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function hK(t){const{width:e,height:n}=r2(t);return{width:e,height:n}}function fK(t,e,n){const r=As(e),s=Ps(e),o=n==="fixed",a=Va(t,!0,o,e);let c={scrollLeft:0,scrollTop:0};const d=Is(0);function f(){d.x=wx(s)}if(r||!r&&!o)if((Bc(e)!=="body"||ch(s))&&(c=$m(e)),r){const b=Va(e,!0,o,e);d.x=b.x+e.clientLeft,d.y=b.y+e.clientTop}else s&&f();o&&!r&&s&&f();const m=s&&!r&&!o?i2(s,c):Is(0),y=a.left+c.scrollLeft-d.x-m.x,_=a.top+c.scrollTop-d.y-m.y;return{x:y,y:_,width:a.width,height:a.height}}function yv(t){return Gr(t).position==="static"}function H1(t,e){if(!As(t)||Gr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ps(t)===n&&(n=n.ownerDocument.body),n}function a2(t,e){const n=ar(t);if(zm(t))return n;if(!As(t)){let s=Mo(t);for(;s&&!Tc(s);){if(Hr(s)&&!yv(s))return s;s=Mo(s)}return n}let r=H1(t,e);for(;r&&tK(r)&&yv(r);)r=H1(r,e);return r&&Tc(r)&&yv(r)&&!yx(r)?n:r||nK(t)||n}const pK=async function(t){const e=this.getOffsetParent||a2,n=this.getDimensions,r=await n(t.floating);return{reference:fK(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function mK(t){return Gr(t).direction==="rtl"}const gK={convertOffsetParentRelativeRectToViewportRelativeRect:iK,getDocumentElement:Ps,getClippingRect:dK,getOffsetParent:a2,getElementRects:pK,getClientRects:oK,getDimensions:hK,getScale:cc,isElement:Hr,isRTL:mK};function l2(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function yK(t,e){let n=null,r;const s=Ps(t);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function a(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const f=t.getBoundingClientRect(),{left:m,top:y,width:_,height:b}=f;if(c||e(),!_||!b)return;const I=Bf(y),S=Bf(s.clientWidth-(m+_)),C=Bf(s.clientHeight-(y+b)),A=Bf(m),j={rootMargin:-I+"px "+-S+"px "+-C+"px "+-A+"px",threshold:sr(0,Do(1,d))||1};let W=!0;function G(J){const D=J[0].intersectionRatio;if(D!==d){if(!W)return a();D?a(!1,D):r=setTimeout(()=>{a(!1,1e-7)},1e3)}D===1&&!l2(f,t.getBoundingClientRect())&&a(),W=!1}try{n=new IntersectionObserver(G,{...j,root:s.ownerDocument})}catch{n=new IntersectionObserver(G,j)}n.observe(t)}return a(!0),o}function vK(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=_x(t),m=s||o?[...f?Fd(f):[],...Fd(e)]:[];m.forEach(A=>{s&&A.addEventListener("scroll",n,{passive:!0}),o&&A.addEventListener("resize",n)});const y=f&&c?yK(f,n):null;let _=-1,b=null;a&&(b=new ResizeObserver(A=>{let[M]=A;M&&M.target===f&&b&&(b.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var j;(j=b)==null||j.observe(e)})),n()}),f&&!d&&b.observe(f),b.observe(e));let I,S=d?Va(t):null;d&&C();function C(){const A=Va(t);S&&!l2(S,A)&&n(),S=A,I=requestAnimationFrame(C)}return n(),()=>{var A;m.forEach(M=>{s&&M.removeEventListener("scroll",n),o&&M.removeEventListener("resize",n)}),y==null||y(),(A=b)==null||A.disconnect(),b=null,d&&cancelAnimationFrame(I)}}const _K=Xq,wK=Jq,xK=Kq,EK=eK,bK=Yq,G1=qq,TK=Zq,SK=(t,e,n)=>{const r=new Map,s={platform:gK,...n},o={...s.platform,_c:r};return Gq(t,e,{...s,platform:o})};var up=typeof document<"u"?E.useLayoutEffect:E.useEffect;function Zp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Zp(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!Zp(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function c2(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function q1(t,e){const n=c2(t);return Math.round(e*n)/n}function vv(t){const e=E.useRef(t);return up(()=>{e.current=t}),e}function CK(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:a}={},transform:c=!0,whileElementsMounted:d,open:f}=t,[m,y]=E.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[_,b]=E.useState(r);Zp(_,r)||b(r);const[I,S]=E.useState(null),[C,A]=E.useState(null),M=E.useCallback(Z=>{Z!==J.current&&(J.current=Z,S(Z))},[]),j=E.useCallback(Z=>{Z!==D.current&&(D.current=Z,A(Z))},[]),W=o||I,G=a||C,J=E.useRef(null),D=E.useRef(null),R=E.useRef(m),k=d!=null,V=vv(d),F=vv(s),B=vv(f),L=E.useCallback(()=>{if(!J.current||!D.current)return;const Z={placement:e,strategy:n,middleware:_};F.current&&(Z.platform=F.current),SK(J.current,D.current,Z).then(ee=>{const re={...ee,isPositioned:B.current!==!1};ge.current&&!Zp(R.current,re)&&(R.current=re,zd.flushSync(()=>{y(re)}))})},[_,e,n,F,B]);up(()=>{f===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,y(Z=>({...Z,isPositioned:!1})))},[f]);const ge=E.useRef(!1);up(()=>(ge.current=!0,()=>{ge.current=!1}),[]),up(()=>{if(W&&(J.current=W),G&&(D.current=G),W&&G){if(V.current)return V.current(W,G,L);L()}},[W,G,L,V,k]);const Ce=E.useMemo(()=>({reference:J,floating:D,setReference:M,setFloating:j}),[M,j]),ve=E.useMemo(()=>({reference:W,floating:G}),[W,G]),he=E.useMemo(()=>{const Z={position:n,left:0,top:0};if(!ve.floating)return Z;const ee=q1(ve.floating,m.x),re=q1(ve.floating,m.y);return c?{...Z,transform:"translate("+ee+"px, "+re+"px)",...c2(ve.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ee,top:re}},[n,c,ve.floating,m.x,m.y]);return E.useMemo(()=>({...m,update:L,refs:Ce,elements:ve,floatingStyles:he}),[m,L,Ce,ve,he])}const IK=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?G1({element:r.current,padding:s}).fn(n):{}:r?G1({element:r,padding:s}).fn(n):{}}}},NK=(t,e)=>({..._K(t),options:[t,e]}),RK=(t,e)=>({...wK(t),options:[t,e]}),AK=(t,e)=>({...TK(t),options:[t,e]}),PK=(t,e)=>({...xK(t),options:[t,e]}),kK=(t,e)=>({...EK(t),options:[t,e]}),DK=(t,e)=>({...bK(t),options:[t,e]}),MK=(t,e)=>({...IK(t),options:[t,e]});var jK="Arrow",u2=E.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return h.jsx(ze.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});u2.displayName=jK;var OK=u2;function d2(t){const[e,n]=E.useState(void 0);return Kt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let a,c;if("borderBoxSize"in o){const d=o.borderBoxSize,f=Array.isArray(d)?d[0]:d;a=f.inlineSize,c=f.blockSize}else a=t.offsetWidth,c=t.offsetHeight;n({width:a,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var xx="Popper",[h2,Wm]=qr(xx),[LK,f2]=h2(xx),p2=t=>{const{__scopePopper:e,children:n}=t,[r,s]=E.useState(null);return h.jsx(LK,{scope:e,anchor:r,onAnchorChange:s,children:n})};p2.displayName=xx;var m2="PopperAnchor",g2=E.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=f2(m2,n),a=E.useRef(null),c=it(e,a);return E.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:h.jsx(ze.div,{...s,ref:c})});g2.displayName=m2;var Ex="PopperContent",[VK,FK]=h2(Ex),y2=E.forwardRef((t,e)=>{var ue,we,Ie,Ve,Ye,Je;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:a=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:y="partial",hideWhenDetached:_=!1,updatePositionStrategy:b="optimized",onPlaced:I,...S}=t,C=f2(Ex,n),[A,M]=E.useState(null),j=it(e,Rt=>M(Rt)),[W,G]=E.useState(null),J=d2(W),D=(J==null?void 0:J.width)??0,R=(J==null?void 0:J.height)??0,k=r+(o!=="center"?"-"+o:""),V=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},F=Array.isArray(f)?f:[f],B=F.length>0,L={padding:V,boundary:F.filter(BK),altBoundary:B},{refs:ge,floatingStyles:Ce,placement:ve,isPositioned:he,middlewareData:Z}=CK({strategy:"fixed",placement:k,whileElementsMounted:(...Rt)=>vK(...Rt,{animationFrame:b==="always"}),elements:{reference:C.anchor},middleware:[NK({mainAxis:s+R,alignmentAxis:a}),d&&RK({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?AK():void 0,...L}),d&&PK({...L}),kK({...L,apply:({elements:Rt,rects:sn,availableWidth:Yr,availableHeight:lr})=>{const{width:Kn,height:zo}=sn.reference,ft=Rt.floating.style;ft.setProperty("--radix-popper-available-width",`${Yr}px`),ft.setProperty("--radix-popper-available-height",`${lr}px`),ft.setProperty("--radix-popper-anchor-width",`${Kn}px`),ft.setProperty("--radix-popper-anchor-height",`${zo}px`)}}),W&&MK({element:W,padding:c}),zK({arrowWidth:D,arrowHeight:R}),_&&DK({strategy:"referenceHidden",...L})]}),[ee,re]=w2(ve),$=Wr(I);Kt(()=>{he&&($==null||$())},[he,$]);const te=(ue=Z.arrow)==null?void 0:ue.x,Ne=(we=Z.arrow)==null?void 0:we.y,Se=((Ie=Z.arrow)==null?void 0:Ie.centerOffset)!==0,[Le,ke]=E.useState();return Kt(()=>{A&&ke(window.getComputedStyle(A).zIndex)},[A]),h.jsx("div",{ref:ge.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ce,transform:he?Ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Le,"--radix-popper-transform-origin":[(Ve=Z.transformOrigin)==null?void 0:Ve.x,(Ye=Z.transformOrigin)==null?void 0:Ye.y].join(" "),...((Je=Z.hide)==null?void 0:Je.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx(VK,{scope:n,placedSide:ee,onArrowChange:G,arrowX:te,arrowY:Ne,shouldHideArrow:Se,children:h.jsx(ze.div,{"data-side":ee,"data-align":re,...S,ref:j,style:{...S.style,animation:he?void 0:"none"}})})})});y2.displayName=Ex;var v2="PopperArrow",UK={top:"bottom",right:"left",bottom:"top",left:"right"},_2=E.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=FK(v2,r),a=UK[o.placedSide];return h.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:h.jsx(OK,{...s,ref:n,style:{...s.style,display:"block"}})})});_2.displayName=v2;function BK(t){return t!==null}var zK=t=>({name:"transformOrigin",options:t,fn(e){var C,A,M;const{placement:n,rects:r,middlewareData:s}=e,a=((C=s.arrow)==null?void 0:C.centerOffset)!==0,c=a?0:t.arrowWidth,d=a?0:t.arrowHeight,[f,m]=w2(n),y={start:"0%",center:"50%",end:"100%"}[m],_=(((A=s.arrow)==null?void 0:A.x)??0)+c/2,b=(((M=s.arrow)==null?void 0:M.y)??0)+d/2;let I="",S="";return f==="bottom"?(I=a?y:`${_}px`,S=`${-d}px`):f==="top"?(I=a?y:`${_}px`,S=`${r.floating.height+d}px`):f==="right"?(I=`${-d}px`,S=a?y:`${b}px`):f==="left"&&(I=`${r.floating.width+d}px`,S=a?y:`${b}px`),{data:{x:I,y:S}}}});function w2(t){const[e,n="center"]=t.split("-");return[e,n]}var x2=p2,E2=g2,b2=y2,T2=_2,$K="Portal",Hm=E.forwardRef((t,e)=>{var c;const{container:n,...r}=t,[s,o]=E.useState(!1);Kt(()=>o(!0),[]);const a=n||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return a?nL.createPortal(h.jsx(ze.div,{...r,ref:e}),a):null});Hm.displayName=$K;function WK(t,e){return E.useReducer((n,r)=>e[n][r]??n,t)}var xi=t=>{const{present:e,children:n}=t,r=HK(e),s=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),o=it(r.ref,GK(s));return typeof n=="function"||r.isPresent?E.cloneElement(s,{ref:o}):null};xi.displayName="Presence";function HK(t){const[e,n]=E.useState(),r=E.useRef(null),s=E.useRef(t),o=E.useRef("none"),a=t?"mounted":"unmounted",[c,d]=WK(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const f=zf(r.current);o.current=c==="mounted"?f:"none"},[c]),Kt(()=>{const f=r.current,m=s.current;if(m!==t){const _=o.current,b=zf(f);t?d("MOUNT"):b==="none"||(f==null?void 0:f.display)==="none"?d("UNMOUNT"):d(m&&_!==b?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,d]),Kt(()=>{if(e){let f;const m=e.ownerDocument.defaultView??window,y=b=>{const S=zf(r.current).includes(b.animationName);if(b.target===e&&S&&(d("ANIMATION_END"),!s.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",f=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},_=b=>{b.target===e&&(o.current=zf(r.current))};return e.addEventListener("animationstart",_),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{m.clearTimeout(f),e.removeEventListener("animationstart",_),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:E.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function zf(t){return(t==null?void 0:t.animationName)||"none"}function GK(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var _v="rovingFocusGroup.onEntryFocus",qK={bubbles:!1,cancelable:!0},uh="RovingFocusGroup",[z0,S2,KK]=hx(uh),[YK,Gm]=qr(uh,[KK]),[QK,XK]=YK(uh),C2=E.forwardRef((t,e)=>h.jsx(z0.Provider,{scope:t.__scopeRovingFocusGroup,children:h.jsx(z0.Slot,{scope:t.__scopeRovingFocusGroup,children:h.jsx(JK,{...t,ref:e})})}));C2.displayName=uh;var JK=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:m=!1,...y}=t,_=E.useRef(null),b=it(e,_),I=Vm(o),[S,C]=La({prop:a,defaultProp:c??null,onChange:d,caller:uh}),[A,M]=E.useState(!1),j=Wr(f),W=S2(n),G=E.useRef(!1),[J,D]=E.useState(0);return E.useEffect(()=>{const R=_.current;if(R)return R.addEventListener(_v,j),()=>R.removeEventListener(_v,j)},[j]),h.jsx(QK,{scope:n,orientation:r,dir:I,loop:s,currentTabStopId:S,onItemFocus:E.useCallback(R=>C(R),[C]),onItemShiftTab:E.useCallback(()=>M(!0),[]),onFocusableItemAdd:E.useCallback(()=>D(R=>R+1),[]),onFocusableItemRemove:E.useCallback(()=>D(R=>R-1),[]),children:h.jsx(ze.div,{tabIndex:A||J===0?-1:0,"data-orientation":r,...y,ref:b,style:{outline:"none",...t.style},onMouseDown:Ee(t.onMouseDown,()=>{G.current=!0}),onFocus:Ee(t.onFocus,R=>{const k=!G.current;if(R.target===R.currentTarget&&k&&!A){const V=new CustomEvent(_v,qK);if(R.currentTarget.dispatchEvent(V),!V.defaultPrevented){const F=W().filter(ve=>ve.focusable),B=F.find(ve=>ve.active),L=F.find(ve=>ve.id===S),Ce=[B,L,...F].filter(Boolean).map(ve=>ve.ref.current);R2(Ce,m)}}G.current=!1}),onBlur:Ee(t.onBlur,()=>M(!1))})})}),I2="RovingFocusGroupItem",N2=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:a,...c}=t,d=Cs(),f=o||d,m=XK(I2,n),y=m.currentTabStopId===f,_=S2(n),{onFocusableItemAdd:b,onFocusableItemRemove:I,currentTabStopId:S}=m;return E.useEffect(()=>{if(r)return b(),()=>I()},[r,b,I]),h.jsx(z0.ItemSlot,{scope:n,id:f,focusable:r,active:s,children:h.jsx(ze.span,{tabIndex:y?0:-1,"data-orientation":m.orientation,...c,ref:e,onMouseDown:Ee(t.onMouseDown,C=>{r?m.onItemFocus(f):C.preventDefault()}),onFocus:Ee(t.onFocus,()=>m.onItemFocus(f)),onKeyDown:Ee(t.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){m.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const A=tY(C,m.orientation,m.dir);if(A!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let j=_().filter(W=>W.focusable).map(W=>W.ref.current);if(A==="last")j.reverse();else if(A==="prev"||A==="next"){A==="prev"&&j.reverse();const W=j.indexOf(C.currentTarget);j=m.loop?nY(j,W+1):j.slice(W+1)}setTimeout(()=>R2(j))}}),children:typeof a=="function"?a({isCurrentTabStop:y,hasTabStop:S!=null}):a})})});N2.displayName=I2;var ZK={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function eY(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function tY(t,e,n){const r=eY(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return ZK[r]}function R2(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function nY(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var A2=C2,P2=N2,rY=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ul=new WeakMap,$f=new WeakMap,Wf={},wv=0,k2=function(t){return t&&(t.host||k2(t.parentNode))},sY=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=k2(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},iY=function(t,e,n,r){var s=sY(e,Array.isArray(t)?t:[t]);Wf[n]||(Wf[n]=new WeakMap);var o=Wf[n],a=[],c=new Set,d=new Set(s),f=function(y){!y||c.has(y)||(c.add(y),f(y.parentNode))};s.forEach(f);var m=function(y){!y||d.has(y)||Array.prototype.forEach.call(y.children,function(_){if(c.has(_))m(_);else try{var b=_.getAttribute(r),I=b!==null&&b!=="false",S=(Ul.get(_)||0)+1,C=(o.get(_)||0)+1;Ul.set(_,S),o.set(_,C),a.push(_),S===1&&I&&$f.set(_,!0),C===1&&_.setAttribute(n,"true"),I||_.setAttribute(r,"true")}catch(A){console.error("aria-hidden: cannot operate on ",_,A)}})};return m(e),c.clear(),wv++,function(){a.forEach(function(y){var _=Ul.get(y)-1,b=o.get(y)-1;Ul.set(y,_),o.set(y,b),_||($f.has(y)||y.removeAttribute(r),$f.delete(y)),b||y.removeAttribute(n)}),wv--,wv||(Ul=new WeakMap,Ul=new WeakMap,$f=new WeakMap,Wf={})}},bx=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=rY(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),iY(r,s,n,"aria-hidden")):function(){return null}},ms=function(){return ms=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ms.apply(this,arguments)};function D2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function oY(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var dp="right-scroll-bar-position",hp="width-before-scroll-bar",aY="with-scroll-bars-hidden",lY="--removed-body-scroll-bar-size";function xv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function cY(t,e){var n=E.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var uY=typeof window<"u"?E.useLayoutEffect:E.useEffect,K1=new WeakMap;function dY(t,e){var n=cY(null,function(r){return t.forEach(function(s){return xv(s,r)})});return uY(function(){var r=K1.get(n);if(r){var s=new Set(r),o=new Set(t),a=n.current;s.forEach(function(c){o.has(c)||xv(c,null)}),o.forEach(function(c){s.has(c)||xv(c,a)})}K1.set(n,t)},[t]),n}function hY(t){return t}function fY(t,e){e===void 0&&(e=hY);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var a=e(o,r);return n.push(a),function(){n=n.filter(function(c){return c!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var c=n;n=[],c.forEach(o),a=n}var d=function(){var m=a;a=[],m.forEach(o)},f=function(){return Promise.resolve().then(d)};f(),n={push:function(m){a.push(m),f()},filter:function(m){return a=a.filter(m),n}}}};return s}function pY(t){t===void 0&&(t={});var e=fY(null);return e.options=ms({async:!0,ssr:!1},t),e}var M2=function(t){var e=t.sideCar,n=D2(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,ms({},n))};M2.isSideCarExport=!0;function mY(t,e){return t.useMedium(e),M2}var j2=pY(),Ev=function(){},qm=E.forwardRef(function(t,e){var n=E.useRef(null),r=E.useState({onScrollCapture:Ev,onWheelCapture:Ev,onTouchMoveCapture:Ev}),s=r[0],o=r[1],a=t.forwardProps,c=t.children,d=t.className,f=t.removeScrollBar,m=t.enabled,y=t.shards,_=t.sideCar,b=t.noRelative,I=t.noIsolation,S=t.inert,C=t.allowPinchZoom,A=t.as,M=A===void 0?"div":A,j=t.gapMode,W=D2(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),G=_,J=dY([n,e]),D=ms(ms({},W),s);return E.createElement(E.Fragment,null,m&&E.createElement(G,{sideCar:j2,removeScrollBar:f,shards:y,noRelative:b,noIsolation:I,inert:S,setCallbacks:o,allowPinchZoom:!!C,lockRef:n,gapMode:j}),a?E.cloneElement(E.Children.only(c),ms(ms({},D),{ref:J})):E.createElement(M,ms({},D,{className:d,ref:J}),c))});qm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qm.classNames={fullWidth:hp,zeroRight:dp};var gY=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yY(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=gY();return e&&t.setAttribute("nonce",e),t}function vY(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function _Y(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var wY=function(){var t=0,e=null;return{add:function(n){t==0&&(e=yY())&&(vY(e,n),_Y(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},xY=function(){var t=wY();return function(e,n){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},O2=function(){var t=xY(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},EY={left:0,top:0,right:0,gap:0},bv=function(t){return parseInt(t||"",10)||0},bY=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[bv(n),bv(r),bv(s)]},TY=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return EY;var e=bY(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},SY=O2(),uc="data-scroll-locked",CY=function(t,e,n,r){var s=t.left,o=t.top,a=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(aY,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(uc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dp,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(hp,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(dp," .").concat(dp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(hp," .").concat(hp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(uc,`] {
    `).concat(lY,": ").concat(c,`px;
  }
`)},Y1=function(){var t=parseInt(document.body.getAttribute(uc)||"0",10);return isFinite(t)?t:0},IY=function(){E.useEffect(function(){return document.body.setAttribute(uc,(Y1()+1).toString()),function(){var t=Y1()-1;t<=0?document.body.removeAttribute(uc):document.body.setAttribute(uc,t.toString())}},[])},NY=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;IY();var o=E.useMemo(function(){return TY(s)},[s]);return E.createElement(SY,{styles:CY(o,!e,s,n?"":"!important")})},$0=!1;if(typeof window<"u")try{var Hf=Object.defineProperty({},"passive",{get:function(){return $0=!0,!0}});window.addEventListener("test",Hf,Hf),window.removeEventListener("test",Hf,Hf)}catch{$0=!1}var Bl=$0?{passive:!1}:!1,RY=function(t){return t.tagName==="TEXTAREA"},L2=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!RY(t)&&n[e]==="visible")},AY=function(t){return L2(t,"overflowY")},PY=function(t){return L2(t,"overflowX")},Q1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=V2(t,r);if(s){var o=F2(t,r),a=o[1],c=o[2];if(a>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},kY=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},DY=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},V2=function(t,e){return t==="v"?AY(e):PY(e)},F2=function(t,e){return t==="v"?kY(e):DY(e)},MY=function(t,e){return t==="h"&&e==="rtl"?-1:1},jY=function(t,e,n,r,s){var o=MY(t,window.getComputedStyle(e).direction),a=o*r,c=n.target,d=e.contains(c),f=!1,m=a>0,y=0,_=0;do{var b=F2(t,c),I=b[0],S=b[1],C=b[2],A=S-C-o*I;(I||A)&&V2(t,c)&&(y+=A,_+=I),c=c.parentNode.host||c.parentNode}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(m&&Math.abs(y)<1||!m&&Math.abs(_)<1)&&(f=!0),f},Gf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},X1=function(t){return[t.deltaX,t.deltaY]},J1=function(t){return t&&"current"in t?t.current:t},OY=function(t,e){return t[0]===e[0]&&t[1]===e[1]},LY=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},VY=0,zl=[];function FY(t){var e=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),s=E.useState(VY++)[0],o=E.useState(O2)[0],a=E.useRef(t);E.useEffect(function(){a.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var S=oY([t.lockRef.current],(t.shards||[]).map(J1),!0).filter(Boolean);return S.forEach(function(C){return C.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),S.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=E.useCallback(function(S,C){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!a.current.allowPinchZoom;var A=Gf(S),M=n.current,j="deltaX"in S?S.deltaX:M[0]-A[0],W="deltaY"in S?S.deltaY:M[1]-A[1],G,J=S.target,D=Math.abs(j)>Math.abs(W)?"h":"v";if("touches"in S&&D==="h"&&J.type==="range")return!1;var R=Q1(D,J);if(!R)return!0;if(R?G=D:(G=D==="v"?"h":"v",R=Q1(D,J)),!R)return!1;if(!r.current&&"changedTouches"in S&&(j||W)&&(r.current=G),!G)return!0;var k=r.current||G;return jY(k,C,S,k==="h"?j:W)},[]),d=E.useCallback(function(S){var C=S;if(!(!zl.length||zl[zl.length-1]!==o)){var A="deltaY"in C?X1(C):Gf(C),M=e.current.filter(function(G){return G.name===C.type&&(G.target===C.target||C.target===G.shadowParent)&&OY(G.delta,A)})[0];if(M&&M.should){C.cancelable&&C.preventDefault();return}if(!M){var j=(a.current.shards||[]).map(J1).filter(Boolean).filter(function(G){return G.contains(C.target)}),W=j.length>0?c(C,j[0]):!a.current.noIsolation;W&&C.cancelable&&C.preventDefault()}}},[]),f=E.useCallback(function(S,C,A,M){var j={name:S,delta:C,target:A,should:M,shadowParent:UY(A)};e.current.push(j),setTimeout(function(){e.current=e.current.filter(function(W){return W!==j})},1)},[]),m=E.useCallback(function(S){n.current=Gf(S),r.current=void 0},[]),y=E.useCallback(function(S){f(S.type,X1(S),S.target,c(S,t.lockRef.current))},[]),_=E.useCallback(function(S){f(S.type,Gf(S),S.target,c(S,t.lockRef.current))},[]);E.useEffect(function(){return zl.push(o),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:_}),document.addEventListener("wheel",d,Bl),document.addEventListener("touchmove",d,Bl),document.addEventListener("touchstart",m,Bl),function(){zl=zl.filter(function(S){return S!==o}),document.removeEventListener("wheel",d,Bl),document.removeEventListener("touchmove",d,Bl),document.removeEventListener("touchstart",m,Bl)}},[]);var b=t.removeScrollBar,I=t.inert;return E.createElement(E.Fragment,null,I?E.createElement(o,{styles:LY(s)}):null,b?E.createElement(NY,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function UY(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const BY=mY(j2,FY);var Km=E.forwardRef(function(t,e){return E.createElement(qm,ms({},t,{ref:e,sideCar:BY}))});Km.classNames=qm.classNames;var W0=["Enter"," "],zY=["ArrowDown","PageUp","Home"],U2=["ArrowUp","PageDown","End"],$Y=[...zY,...U2],WY={ltr:[...W0,"ArrowRight"],rtl:[...W0,"ArrowLeft"]},HY={ltr:["ArrowLeft"],rtl:["ArrowRight"]},dh="Menu",[Ud,GY,qY]=hx(dh),[Ja,B2]=qr(dh,[qY,Wm,Gm]),Ym=Wm(),z2=Gm(),[KY,Za]=Ja(dh),[YY,hh]=Ja(dh),$2=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:o,modal:a=!0}=t,c=Ym(e),[d,f]=E.useState(null),m=E.useRef(!1),y=Wr(o),_=Vm(s);return E.useEffect(()=>{const b=()=>{m.current=!0,document.addEventListener("pointerdown",I,{capture:!0,once:!0}),document.addEventListener("pointermove",I,{capture:!0,once:!0})},I=()=>m.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",I,{capture:!0}),document.removeEventListener("pointermove",I,{capture:!0})}},[]),h.jsx(x2,{...c,children:h.jsx(KY,{scope:e,open:n,onOpenChange:y,content:d,onContentChange:f,children:h.jsx(YY,{scope:e,onClose:E.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:m,dir:_,modal:a,children:r})})})};$2.displayName=dh;var QY="MenuAnchor",Tx=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Ym(n);return h.jsx(E2,{...s,...r,ref:e})});Tx.displayName=QY;var Sx="MenuPortal",[XY,W2]=Ja(Sx,{forceMount:void 0}),H2=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,o=Za(Sx,e);return h.jsx(XY,{scope:e,forceMount:n,children:h.jsx(xi,{present:n||o.open,children:h.jsx(Hm,{asChild:!0,container:s,children:r})})})};H2.displayName=Sx;var br="MenuContent",[JY,Cx]=Ja(br),G2=E.forwardRef((t,e)=>{const n=W2(br,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,o=Za(br,t.__scopeMenu),a=hh(br,t.__scopeMenu);return h.jsx(Ud.Provider,{scope:t.__scopeMenu,children:h.jsx(xi,{present:r||o.open,children:h.jsx(Ud.Slot,{scope:t.__scopeMenu,children:a.modal?h.jsx(ZY,{...s,ref:e}):h.jsx(eQ,{...s,ref:e})})})})}),ZY=E.forwardRef((t,e)=>{const n=Za(br,t.__scopeMenu),r=E.useRef(null),s=it(e,r);return E.useEffect(()=>{const o=r.current;if(o)return bx(o)},[]),h.jsx(Ix,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ee(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),eQ=E.forwardRef((t,e)=>{const n=Za(br,t.__scopeMenu);return h.jsx(Ix,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),tQ=Na("MenuContent.ScrollLock"),Ix=E.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:y,onInteractOutside:_,onDismiss:b,disableOutsideScroll:I,...S}=t,C=Za(br,n),A=hh(br,n),M=Ym(n),j=z2(n),W=GY(n),[G,J]=E.useState(null),D=E.useRef(null),R=it(e,D,C.onContentChange),k=E.useRef(0),V=E.useRef(""),F=E.useRef(0),B=E.useRef(null),L=E.useRef("right"),ge=E.useRef(0),Ce=I?Km:E.Fragment,ve=I?{as:tQ,allowPinchZoom:!0}:void 0,he=ee=>{var ue,we;const re=V.current+ee,$=W().filter(Ie=>!Ie.disabled),te=document.activeElement,Ne=(ue=$.find(Ie=>Ie.ref.current===te))==null?void 0:ue.textValue,Se=$.map(Ie=>Ie.textValue),Le=fQ(Se,re,Ne),ke=(we=$.find(Ie=>Ie.textValue===Le))==null?void 0:we.ref.current;(function Ie(Ve){V.current=Ve,window.clearTimeout(k.current),Ve!==""&&(k.current=window.setTimeout(()=>Ie(""),1e3))})(re),ke&&setTimeout(()=>ke.focus())};E.useEffect(()=>()=>window.clearTimeout(k.current),[]),fx();const Z=E.useCallback(ee=>{var $,te;return L.current===(($=B.current)==null?void 0:$.side)&&mQ(ee,(te=B.current)==null?void 0:te.area)},[]);return h.jsx(JY,{scope:n,searchRef:V,onItemEnter:E.useCallback(ee=>{Z(ee)&&ee.preventDefault()},[Z]),onItemLeave:E.useCallback(ee=>{var re;Z(ee)||((re=D.current)==null||re.focus(),J(null))},[Z]),onTriggerLeave:E.useCallback(ee=>{Z(ee)&&ee.preventDefault()},[Z]),pointerGraceTimerRef:F,onPointerGraceIntentChange:E.useCallback(ee=>{B.current=ee},[]),children:h.jsx(Ce,{...ve,children:h.jsx(Um,{asChild:!0,trapped:s,onMountAutoFocus:Ee(o,ee=>{var re;ee.preventDefault(),(re=D.current)==null||re.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:h.jsx(Fm,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:y,onInteractOutside:_,onDismiss:b,children:h.jsx(A2,{asChild:!0,...j,dir:A.dir,orientation:"vertical",loop:r,currentTabStopId:G,onCurrentTabStopIdChange:J,onEntryFocus:Ee(d,ee=>{A.isUsingKeyboardRef.current||ee.preventDefault()}),preventScrollOnEntryFocus:!0,children:h.jsx(b2,{role:"menu","aria-orientation":"vertical","data-state":lD(C.open),"data-radix-menu-content":"",dir:A.dir,...M,...S,ref:R,style:{outline:"none",...S.style},onKeyDown:Ee(S.onKeyDown,ee=>{const $=ee.target.closest("[data-radix-menu-content]")===ee.currentTarget,te=ee.ctrlKey||ee.altKey||ee.metaKey,Ne=ee.key.length===1;$&&(ee.key==="Tab"&&ee.preventDefault(),!te&&Ne&&he(ee.key));const Se=D.current;if(ee.target!==Se||!$Y.includes(ee.key))return;ee.preventDefault();const ke=W().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);U2.includes(ee.key)&&ke.reverse(),dQ(ke)}),onBlur:Ee(t.onBlur,ee=>{ee.currentTarget.contains(ee.target)||(window.clearTimeout(k.current),V.current="")}),onPointerMove:Ee(t.onPointerMove,Bd(ee=>{const re=ee.target,$=ge.current!==ee.clientX;if(ee.currentTarget.contains(re)&&$){const te=ee.clientX>ge.current?"right":"left";L.current=te,ge.current=ee.clientX}}))})})})})})})});G2.displayName=br;var nQ="MenuGroup",Nx=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(ze.div,{role:"group",...r,ref:e})});Nx.displayName=nQ;var rQ="MenuLabel",q2=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(ze.div,{...r,ref:e})});q2.displayName=rQ;var em="MenuItem",Z1="menu.itemSelect",Qm=E.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,o=E.useRef(null),a=hh(em,t.__scopeMenu),c=Cx(em,t.__scopeMenu),d=it(e,o),f=E.useRef(!1),m=()=>{const y=o.current;if(!n&&y){const _=new CustomEvent(Z1,{bubbles:!0,cancelable:!0});y.addEventListener(Z1,b=>r==null?void 0:r(b),{once:!0}),Qk(y,_),_.defaultPrevented?f.current=!1:a.onClose()}};return h.jsx(K2,{...s,ref:d,disabled:n,onClick:Ee(t.onClick,m),onPointerDown:y=>{var _;(_=t.onPointerDown)==null||_.call(t,y),f.current=!0},onPointerUp:Ee(t.onPointerUp,y=>{var _;f.current||(_=y.currentTarget)==null||_.click()}),onKeyDown:Ee(t.onKeyDown,y=>{const _=c.searchRef.current!=="";n||_&&y.key===" "||W0.includes(y.key)&&(y.currentTarget.click(),y.preventDefault())})})});Qm.displayName=em;var K2=E.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=t,a=Cx(em,n),c=z2(n),d=E.useRef(null),f=it(e,d),[m,y]=E.useState(!1),[_,b]=E.useState("");return E.useEffect(()=>{const I=d.current;I&&b((I.textContent??"").trim())},[o.children]),h.jsx(Ud.ItemSlot,{scope:n,disabled:r,textValue:s??_,children:h.jsx(P2,{asChild:!0,...c,focusable:!r,children:h.jsx(ze.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:f,onPointerMove:Ee(t.onPointerMove,Bd(I=>{r?a.onItemLeave(I):(a.onItemEnter(I),I.defaultPrevented||I.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ee(t.onPointerLeave,Bd(I=>a.onItemLeave(I))),onFocus:Ee(t.onFocus,()=>y(!0)),onBlur:Ee(t.onBlur,()=>y(!1))})})})}),sQ="MenuCheckboxItem",Y2=E.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return h.jsx(eD,{scope:t.__scopeMenu,checked:n,children:h.jsx(Qm,{role:"menuitemcheckbox","aria-checked":tm(n)?"mixed":n,...s,ref:e,"data-state":Ax(n),onSelect:Ee(s.onSelect,()=>r==null?void 0:r(tm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Y2.displayName=sQ;var Q2="MenuRadioGroup",[iQ,oQ]=Ja(Q2,{value:void 0,onValueChange:()=>{}}),X2=E.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,o=Wr(r);return h.jsx(iQ,{scope:t.__scopeMenu,value:n,onValueChange:o,children:h.jsx(Nx,{...s,ref:e})})});X2.displayName=Q2;var J2="MenuRadioItem",Z2=E.forwardRef((t,e)=>{const{value:n,...r}=t,s=oQ(J2,t.__scopeMenu),o=n===s.value;return h.jsx(eD,{scope:t.__scopeMenu,checked:o,children:h.jsx(Qm,{role:"menuitemradio","aria-checked":o,...r,ref:e,"data-state":Ax(o),onSelect:Ee(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})})})});Z2.displayName=J2;var Rx="MenuItemIndicator",[eD,aQ]=Ja(Rx,{checked:!1}),tD=E.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,o=aQ(Rx,n);return h.jsx(xi,{present:r||tm(o.checked)||o.checked===!0,children:h.jsx(ze.span,{...s,ref:e,"data-state":Ax(o.checked)})})});tD.displayName=Rx;var lQ="MenuSeparator",nD=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(ze.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});nD.displayName=lQ;var cQ="MenuArrow",rD=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Ym(n);return h.jsx(T2,{...s,...r,ref:e})});rD.displayName=cQ;var uQ="MenuSub",[iZ,sD]=Ja(uQ),Xu="MenuSubTrigger",iD=E.forwardRef((t,e)=>{const n=Za(Xu,t.__scopeMenu),r=hh(Xu,t.__scopeMenu),s=sD(Xu,t.__scopeMenu),o=Cx(Xu,t.__scopeMenu),a=E.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=o,f={__scopeMenu:t.__scopeMenu},m=E.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return E.useEffect(()=>m,[m]),E.useEffect(()=>{const y=c.current;return()=>{window.clearTimeout(y),d(null)}},[c,d]),h.jsx(Tx,{asChild:!0,...f,children:h.jsx(K2,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":lD(n.open),...t,ref:om(e,s.onTriggerChange),onClick:y=>{var _;(_=t.onClick)==null||_.call(t,y),!(t.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ee(t.onPointerMove,Bd(y=>{o.onItemEnter(y),!y.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(o.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:Ee(t.onPointerLeave,Bd(y=>{var b,I;m();const _=(b=n.content)==null?void 0:b.getBoundingClientRect();if(_){const S=(I=n.content)==null?void 0:I.dataset.side,C=S==="right",A=C?-5:5,M=_[C?"left":"right"],j=_[C?"right":"left"];o.onPointerGraceIntentChange({area:[{x:y.clientX+A,y:y.clientY},{x:M,y:_.top},{x:j,y:_.top},{x:j,y:_.bottom},{x:M,y:_.bottom}],side:S}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(y),y.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Ee(t.onKeyDown,y=>{var b;const _=o.searchRef.current!=="";t.disabled||_&&y.key===" "||WY[r.dir].includes(y.key)&&(n.onOpenChange(!0),(b=n.content)==null||b.focus(),y.preventDefault())})})})});iD.displayName=Xu;var oD="MenuSubContent",aD=E.forwardRef((t,e)=>{const n=W2(br,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,o=Za(br,t.__scopeMenu),a=hh(br,t.__scopeMenu),c=sD(oD,t.__scopeMenu),d=E.useRef(null),f=it(e,d);return h.jsx(Ud.Provider,{scope:t.__scopeMenu,children:h.jsx(xi,{present:r||o.open,children:h.jsx(Ud.Slot,{scope:t.__scopeMenu,children:h.jsx(Ix,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:f,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var y;a.isUsingKeyboardRef.current&&((y=d.current)==null||y.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:Ee(t.onFocusOutside,m=>{m.target!==c.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Ee(t.onEscapeKeyDown,m=>{a.onClose(),m.preventDefault()}),onKeyDown:Ee(t.onKeyDown,m=>{var b;const y=m.currentTarget.contains(m.target),_=HY[a.dir].includes(m.key);y&&_&&(o.onOpenChange(!1),(b=c.trigger)==null||b.focus(),m.preventDefault())})})})})})});aD.displayName=oD;function lD(t){return t?"open":"closed"}function tm(t){return t==="indeterminate"}function Ax(t){return tm(t)?"indeterminate":t?"checked":"unchecked"}function dQ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function hQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function fQ(t,e,n){const s=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let a=hQ(t,Math.max(o,0));s.length===1&&(a=a.filter(f=>f!==n));const d=a.find(f=>f.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function pQ(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const c=e[o],d=e[a],f=c.x,m=c.y,y=d.x,_=d.y;m>r!=_>r&&n<(y-f)*(r-m)/(_-m)+f&&(s=!s)}return s}function mQ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return pQ(n,e)}function Bd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var gQ=$2,yQ=Tx,vQ=H2,_Q=G2,wQ=Nx,xQ=q2,EQ=Qm,bQ=Y2,TQ=X2,SQ=Z2,CQ=tD,IQ=nD,NQ=rD,RQ=iD,AQ=aD,Xm="DropdownMenu",[PQ,oZ]=qr(Xm,[B2]),On=B2(),[kQ,cD]=PQ(Xm),uD=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:a,modal:c=!0}=t,d=On(e),f=E.useRef(null),[m,y]=La({prop:s,defaultProp:o??!1,onChange:a,caller:Xm});return h.jsx(kQ,{scope:e,triggerId:Cs(),triggerRef:f,contentId:Cs(),open:m,onOpenChange:y,onOpenToggle:E.useCallback(()=>y(_=>!_),[y]),modal:c,children:h.jsx(gQ,{...d,open:m,onOpenChange:y,dir:r,modal:c,children:n})})};uD.displayName=Xm;var dD="DropdownMenuTrigger",hD=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,o=cD(dD,n),a=On(n);return h.jsx(yQ,{asChild:!0,...a,children:h.jsx(ze.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:om(e,o.triggerRef),onPointerDown:Ee(t.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(o.onOpenToggle(),o.open||c.preventDefault())}),onKeyDown:Ee(t.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&o.onOpenToggle(),c.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});hD.displayName=dD;var DQ="DropdownMenuPortal",fD=t=>{const{__scopeDropdownMenu:e,...n}=t,r=On(e);return h.jsx(vQ,{...r,...n})};fD.displayName=DQ;var pD="DropdownMenuContent",mD=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cD(pD,n),o=On(n),a=E.useRef(!1);return h.jsx(_Q,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:e,onCloseAutoFocus:Ee(t.onCloseAutoFocus,c=>{var d;a.current||(d=s.triggerRef.current)==null||d.focus(),a.current=!1,c.preventDefault()}),onInteractOutside:Ee(t.onInteractOutside,c=>{const d=c.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,m=d.button===2||f;(!s.modal||m)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mD.displayName=pD;var MQ="DropdownMenuGroup",jQ=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=On(n);return h.jsx(wQ,{...s,...r,ref:e})});jQ.displayName=MQ;var OQ="DropdownMenuLabel",gD=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=On(n);return h.jsx(xQ,{...s,...r,ref:e})});gD.displayName=OQ;var LQ="DropdownMenuItem",yD=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=On(n);return h.jsx(EQ,{...s,...r,ref:e})});yD.displayName=LQ;var VQ="DropdownMenuCheckboxItem",vD=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=On(n);return h.jsx(bQ,{...s,...r,ref:e})});vD.displayName=VQ;var FQ="DropdownMenuRadioGroup",UQ=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=On(n);return h.jsx(TQ,{...s,...r,ref:e})});UQ.displayName=FQ;var BQ="DropdownMenuRadioItem",_D=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=On(n);return h.jsx(SQ,{...s,...r,ref:e})});_D.displayName=BQ;var zQ="DropdownMenuItemIndicator",wD=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=On(n);return h.jsx(CQ,{...s,...r,ref:e})});wD.displayName=zQ;var $Q="DropdownMenuSeparator",xD=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=On(n);return h.jsx(IQ,{...s,...r,ref:e})});xD.displayName=$Q;var WQ="DropdownMenuArrow",HQ=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=On(n);return h.jsx(NQ,{...s,...r,ref:e})});HQ.displayName=WQ;var GQ="DropdownMenuSubTrigger",ED=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=On(n);return h.jsx(RQ,{...s,...r,ref:e})});ED.displayName=GQ;var qQ="DropdownMenuSubContent",bD=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=On(n);return h.jsx(AQ,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bD.displayName=qQ;var KQ=uD,YQ=hD,QQ=fD,TD=mD,SD=gD,CD=yD,ID=vD,ND=_D,RD=wD,AD=xD,PD=ED,kD=bD;const XQ=KQ,JQ=YQ,ZQ=E.forwardRef(({className:t,inset:e,children:n,...r},s)=>h.jsxs(PD,{ref:s,className:fe("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,h.jsx(YV,{className:"ml-auto"})]}));ZQ.displayName=PD.displayName;const eX=E.forwardRef(({className:t,...e},n)=>h.jsx(kD,{ref:n,className:fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));eX.displayName=kD.displayName;const DD=E.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(QQ,{children:h.jsx(TD,{ref:r,sideOffset:e,className:fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));DD.displayName=TD.displayName;const Kl=E.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(CD,{ref:r,className:fe("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));Kl.displayName=CD.displayName;const tX=E.forwardRef(({className:t,children:e,checked:n,...r},s)=>h.jsxs(ID,{ref:s,className:fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(RD,{children:h.jsx(pp,{className:"h-4 w-4"})})}),e]}));tX.displayName=ID.displayName;const nX=E.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(ND,{ref:r,className:fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(RD,{children:h.jsx(XV,{className:"h-2 w-2 fill-current"})})}),e]}));nX.displayName=ND.displayName;const MD=E.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(SD,{ref:r,className:fe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));MD.displayName=SD.displayName;const H0=E.forwardRef(({className:t,...e},n)=>h.jsx(AD,{ref:n,className:fe("-mx-1 my-1 h-px bg-muted",t),...e}));H0.displayName=AD.displayName;var Tv={exports:{}},Sv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eI;function rX(){if(eI)return Sv;eI=1;var t=sm();function e(y,_){return y===_&&(y!==0||1/y===1/_)||y!==y&&_!==_}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,o=t.useLayoutEffect,a=t.useDebugValue;function c(y,_){var b=_(),I=r({inst:{value:b,getSnapshot:_}}),S=I[0].inst,C=I[1];return o(function(){S.value=b,S.getSnapshot=_,d(S)&&C({inst:S})},[y,b,_]),s(function(){return d(S)&&C({inst:S}),y(function(){d(S)&&C({inst:S})})},[y]),a(b),b}function d(y){var _=y.getSnapshot;y=y.value;try{var b=_();return!n(y,b)}catch{return!0}}function f(y,_){return _()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return Sv.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Sv}var tI;function sX(){return tI||(tI=1,Tv.exports=rX()),Tv.exports}var iX=sX();function oX(){return iX.useSyncExternalStore(aX,()=>!0,()=>!1)}function aX(){return()=>{}}var Px="Avatar",[lX,aZ]=qr(Px),[cX,jD]=lX(Px),OD=E.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,o]=E.useState("idle");return h.jsx(cX,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:h.jsx(ze.span,{...r,ref:e})})});OD.displayName=Px;var LD="AvatarImage",VD=E.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=t,a=jD(LD,n),c=uX(r,o),d=Wr(f=>{s(f),a.onImageLoadingStatusChange(f)});return Kt(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?h.jsx(ze.img,{...o,ref:e,src:r}):null});VD.displayName=LD;var FD="AvatarFallback",UD=E.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,o=jD(FD,n),[a,c]=E.useState(r===void 0);return E.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(d)}},[r]),a&&o.imageLoadingStatus!=="loaded"?h.jsx(ze.span,{...s,ref:e}):null});UD.displayName=FD;function nI(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function uX(t,{referrerPolicy:e,crossOrigin:n}){const r=oX(),s=E.useRef(null),o=r?(s.current||(s.current=new window.Image),s.current):null,[a,c]=E.useState(()=>nI(o,t));return Kt(()=>{c(nI(o,t))},[o,t]),Kt(()=>{const d=y=>()=>{c(y)};if(!o)return;const f=d("loaded"),m=d("error");return o.addEventListener("load",f),o.addEventListener("error",m),e&&(o.referrerPolicy=e),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",f),o.removeEventListener("error",m)}},[o,n,e]),a}var BD=OD,zD=VD,$D=UD;const Jm=E.forwardRef(({className:t,...e},n)=>h.jsx(BD,{ref:n,className:fe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Jm.displayName=BD.displayName;const Zm=E.forwardRef(({className:t,...e},n)=>h.jsx(zD,{ref:n,className:fe("aspect-square h-full w-full",t),...e}));Zm.displayName=zD.displayName;const eg=E.forwardRef(({className:t,...e},n)=>h.jsx($D,{ref:n,className:fe("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));eg.displayName=$D.displayName;const rI={hidden:{opacity:0,y:20},visible:t=>({opacity:1,y:0,transition:{delay:t*.1,duration:.5}})},dX={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}}},hX={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,y:-20,transition:{duration:.2,ease:"easeIn"}}};function fX(){var b;const[t,e]=E.useState(!1),[n,r]=E.useState(!1),[s,o]=E.useState(!1),[a,c]=E.useState(null),d=jo(),f=jn(),{theme:m}=yi();E.useEffect(()=>{const I=()=>{const S=or();if(o(S),S){const C=Lm();c(C)}else c(null)};return I(),window.addEventListener("storage",I),()=>{window.removeEventListener("storage",I)}},[]),E.useEffect(()=>{const I=()=>{window.scrollY>10?r(!0):r(!1)};return window.addEventListener("scroll",I),()=>window.removeEventListener("scroll",I)},[]);const y=async()=>{await fq(),f("/")},_=[{href:"/",label:"Home"},{href:"/about",label:"About"},{href:"/services",label:"Services"},{href:"/contact",label:"Contact"}];return h.jsxs(O.header,{initial:{y:-100},animate:{y:0},transition:{duration:.5,type:"spring",stiffness:100},className:fe("fixed top-0 w-full z-50 transition-all duration-500",n?"bg-[#30D5C8]/95 backdrop-blur-sm shadow-sm":"bg-transparent"),children:[h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex h-16 items-center",children:[h.jsx("div",{className:"flex-shrink-0",children:h.jsx(dn,{to:"/",className:"flex items-center",children:h.jsx(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},whileHover:{scale:1.1,rotate:2},whileTap:{scale:.95},transition:{duration:.5,type:"spring",stiffness:100},children:h.jsx("img",{src:"/images/logo.png",alt:"CEMAR - Celebrating Every Milestone And Recovery",className:"h-16 md:h-15"})})})}),h.jsx("nav",{className:"hidden md:flex flex-1 justify-center space-x-12",children:_.map((I,S)=>h.jsx(O.div,{custom:S,initial:"hidden",animate:"visible",variants:rI,children:h.jsx(dn,{to:I.href,className:fe("inline-flex items-center px-1 pt-1 text-sm font-medium transition-colors hover:text-[#30D5C8]",d.pathname===I.href?"border-b-2 border-[#008080]":"",m==="dark"?"text-white":"text-black"),children:I.label})},I.href))}),h.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[h.jsx(O.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:h.jsx(qe,{variant:"default",className:"hidden md:inline-flex bg-[#008080] hover:bg-[#30D5C8] text-white transition-colors duration-300",onClick:()=>{f(s?"/booking":"/login?returnUrl=/booking")},children:"Book Appointment"})}),s?h.jsxs(XQ,{children:[h.jsx(JQ,{asChild:!0,children:h.jsx(O.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:h.jsx(qe,{variant:"ghost",className:"relative h-8 w-8 rounded-full ring-2 ring-[#008080] hover:ring-[#30D5C8]",children:h.jsxs(Jm,{className:"h-8 w-8",children:[h.jsx(Zm,{src:a==null?void 0:a.avatar,alt:a==null?void 0:a.name}),h.jsx(eg,{className:"bg-[#008080] text-white",children:((b=a==null?void 0:a.name)==null?void 0:b.substring(0,2).toUpperCase())||"U"})]})})})}),h.jsx(O.div,{initial:"hidden",animate:"visible",variants:dX,children:h.jsxs(DD,{className:"w-56 border-[#008080]",align:"end",forceMount:!0,children:[h.jsx(MD,{className:"font-normal",children:h.jsxs("div",{className:"flex flex-col space-y-1",children:[h.jsx("p",{className:"text-sm font-medium leading-none text-White",children:a==null?void 0:a.name}),h.jsx("p",{className:"text-xs leading-none text-[#30D5C8]",children:a==null?void 0:a.email})]})}),h.jsx(H0,{className:"bg-[#008080]/20"}),h.jsxs(Kl,{onClick:()=>f("/profile"),className:"text-White  hover:text-[#30D5C8] cursor-pointer",children:[h.jsx(h4,{className:"mr-2 h-4 w-4"}),h.jsx("span",{children:"Profile"})]}),h.jsxs(Kl,{onClick:()=>f("/account-settings"),className:"text-White hover:text-[#30D5C8] cursor-pointer",children:[h.jsx(MI,{className:"mr-2 h-4 w-4"}),h.jsx("span",{children:"Settings"})]}),h.jsxs(Kl,{onClick:()=>f("/preferences"),className:"text-White hover:text-[#30D5C8] cursor-pointer",children:[h.jsx(l4,{className:"mr-2 h-4 w-4"}),h.jsx("span",{children:"Preferences"})]}),h.jsxs(Kl,{onClick:()=>f("/booking"),className:"text-White hover:text-[#30D5C8] cursor-pointer",children:[h.jsx(c_,{className:"mr-2 h-4 w-4"}),h.jsx("span",{children:"Book Appointment"})]}),h.jsx(H0,{className:"bg-[#008080]/20"}),h.jsxs(Kl,{className:"text-red-600 hover:text-red-700 cursor-pointer",onClick:y,children:[h.jsx(r4,{className:"mr-2 h-4 w-4"}),h.jsx("span",{children:"Log out"})]})]})})]}):h.jsx(O.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:h.jsx(qe,{variant:"outline",className:"bg-[#30D5C8] text-black border-2 border-[#008080] hover:bg-[#30D5C8]/90 hover:text-black hover:border-[#008080] transition-colors duration-300",onClick:()=>f("/login"),children:"Login"})})]}),h.jsx("div",{className:"md:hidden",children:h.jsx(O.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:h.jsxs(qe,{variant:"ghost",size:"icon",onClick:()=>e(!t),className:"inline-flex items-center justify-center rounded-md p-2 text-[#008080] hover:bg-[#30D5C8]/10 focus:outline-none focus:ring-2 focus:ring-[#008080]",children:[h.jsx("span",{className:"sr-only",children:"Open main menu"}),t?h.jsx(f4,{className:"block h-6 w-6","aria-hidden":"true"}):h.jsx(i4,{className:"block h-6 w-6","aria-hidden":"true"})]})})})]})}),t&&h.jsx(O.div,{initial:"hidden",animate:"visible",exit:"exit",variants:hX,className:"md:hidden bg-[#008080] border-b border-[#008080]/20 shadow-md",children:h.jsxs("div",{className:"space-y-1 px-2 pb-3 pt-2",children:[_.map((I,S)=>h.jsx(O.div,{custom:S,initial:"hidden",animate:"visible",variants:rI,children:h.jsx(dn,{to:I.href,className:fe("block rounded-md px-3 py-2 text-base font-medium transition-colors hover:text-white",d.pathname===I.href?"bg-white/10":"hover:bg-white/10","text-white"),onClick:()=>e(!1),children:I.label})},I.href)),s?h.jsxs(h.Fragment,{children:[h.jsx(dn,{to:"/profile",className:"block rounded-md px-3 py-2 text-base font-medium text-white hover:text-white hover:bg-white/10",onClick:()=>e(!1),children:"Profile"}),h.jsx(dn,{to:"/account-settings",className:"block rounded-md px-3 py-2 text-base font-medium text-white hover:text-white hover:bg-white/10",onClick:()=>e(!1),children:"Account Settings"}),h.jsx(dn,{to:"/preferences",className:"block rounded-md px-3 py-2 text-base font-medium text-white hover:text-white hover:bg-white/10",onClick:()=>e(!1),children:"Preferences"}),h.jsx("div",{className:"px-3 py-2",children:h.jsx(qe,{variant:"destructive",className:"w-full bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90 hover:text-black",onClick:y,children:"Log out"})})]}):h.jsx("div",{className:"px-3 py-2",children:h.jsx(qe,{variant:"outline",className:"w-full bg-white text-[#008080] border-white hover:bg-white/90 hover:text-[#008080] hover:border-white transition-colors duration-300",onClick:()=>f("/login"),children:"Login"})})]})})]})}const pX={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,staggerChildren:.1}}},Jt={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:15}},hover:{scale:1.05,transition:{type:"spring",stiffness:400,damping:10}}},Cv={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{type:"spring",stiffness:100,damping:15}},hover:{scale:1.2,rotate:5,transition:{type:"spring",stiffness:400,damping:10}}};function mX(){const t=jn(),e=n=>{console.log("Starting navigation check..."),console.log("LocalStorage isLoggedIn:",localStorage.getItem("isLoggedIn"));const r=or();console.log("checkIsLoggedIn result:",r),console.log("Attempting to navigate to:",n),r?t(n):(console.log("User not logged in, redirecting to login"),t("/login"))};return h.jsx(O.footer,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:pX,className:"bg-muted py-12",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[h.jsxs(O.div,{variants:Jt,className:"space-y-4",children:[h.jsx(O.div,{variants:Jt,whileHover:{scale:1.1,rotate:2},whileTap:{scale:.95},className:"cursor-pointer",children:h.jsx("img",{src:"/light.png",alt:"",className:"h-20 md:h-26"})}),h.jsx(O.p,{variants:Jt,className:"text-sm text-muted-foreground",children:"Celebrating Every Milestone And Recovery"}),h.jsxs("div",{className:"flex space-x-4",children:[h.jsxs(O.a,{href:"#",variants:Cv,whileHover:"hover",className:"text-muted-foreground hover:text-[#30D5C8]",children:[h.jsx(ZV,{className:"h-5 w-5"}),h.jsx("span",{className:"sr-only",children:"Facebook"})]}),h.jsxs(O.a,{href:"#",variants:Cv,whileHover:"hover",className:"text-muted-foreground hover:text-[#30D5C8]",children:[h.jsx(d4,{className:"h-5 w-5"}),h.jsx("span",{className:"sr-only",children:"Twitter"})]}),h.jsxs(O.a,{href:"#",variants:Cv,whileHover:"hover",className:"text-muted-foreground hover:text-[#30D5C8]",children:[h.jsx(n4,{className:"h-5 w-5"}),h.jsx("span",{className:"sr-only",children:"Instagram"})]})]})]}),h.jsxs(O.div,{variants:Jt,className:"space-y-4",children:[h.jsx(O.h3,{variants:Jt,className:"text-lg font-semibold",children:"Quick Links"}),h.jsx("ul",{className:"space-y-2",children:["Home","About","Services","Contact"].map((n,r)=>{const s=n==="Home"?"/":`/${n.toLowerCase()}`;return h.jsx(O.li,{variants:Jt,custom:r,whileHover:"hover",children:h.jsx(dn,{to:s,onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"text-muted-foreground hover:text-[#30D5C8]",children:n})},n)})})]}),h.jsxs(O.div,{variants:Jt,className:"space-y-4",children:[h.jsx(O.h3,{variants:Jt,className:"text-lg font-semibold",children:"Services"}),h.jsx("ul",{className:"space-y-2",children:["One-on-One Therapy","Group Counseling","Online Sessions"].map((n,r)=>h.jsx(O.li,{variants:Jt,custom:r,whileHover:"hover",children:h.jsx(dn,{to:"#",className:"text-muted-foreground hover:text-[#30D5C8]",onClick:s=>{s.preventDefault(),window.scrollTo({top:0,behavior:"smooth"}),e("/services")},children:n})},n))})]}),h.jsxs(O.div,{variants:Jt,className:"space-y-4",children:[h.jsx(O.h3,{variants:Jt,className:"text-lg font-semibold",children:"Contact"}),h.jsx(O.p,{variants:Jt,className:"mt-2",children:h.jsx("a",{href:"tel:+19059092400",className:"hover:text-[#30D5C8]",children:"(905) 909-2400"})}),h.jsx(O.p,{variants:Jt,children:h.jsx("a",{href:"mailto:info@cemarcounseling.com",className:"hover:text-[#30D5C8]",children:"info@cemarcounseling.com"})})]})]}),h.jsxs(O.div,{variants:Jt,className:"mt-12 pt-8 border-t border-white",children:[h.jsxs(O.p,{variants:Jt,className:"text-center text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," CEMAR. All rights reserved."]}),h.jsxs("div",{className:"mt-4 flex justify-center space-x-6 flex-wrap",children:[h.jsx(O.a,{variants:Jt,whileHover:"hover",href:"/privacy",className:"text-xs text-muted-foreground hover:text-[#30D5C8]",children:"Privacy Policy"}),h.jsx(O.a,{variants:Jt,whileHover:"hover",href:"/terms",className:"text-xs text-muted-foreground hover:text-[#30D5C8]",children:"Terms of Service"}),h.jsx(O.a,{variants:Jt,whileHover:"hover",href:"/informed-consent",className:"text-xs text-muted-foreground hover:text-[#30D5C8]",children:"Informed Consent"})]})]})]})})}function gX({className:t,...e}){return h.jsx("div",{className:fe("animate-pulse rounded-md bg-muted",t),...e})}function Fa({src:t,alt:e,className:n,onLoad:r,priority:s=!1,...o}){const[a,c]=E.useState(!0),[d,f]=E.useState(!1),[m,y]=E.useState("");return E.useEffect(()=>{c(!0),f(!1);const _=new Image;s&&(_.fetchPriority="high"),_.src=t;const b=()=>{y(t),c(!1),r==null||r()},I=()=>{f(!0),c(!1),console.error(`Failed to load image: ${t}`)};return _.onload=b,_.onerror=I,()=>{_.onload=null,_.onerror=null}},[t,r,s]),d?h.jsx("div",{className:fe("bg-muted flex items-center justify-center",n),children:h.jsx("span",{className:"text-muted-foreground",children:"Failed to load image"})}):h.jsxs(h.Fragment,{children:[a&&h.jsx(gX,{className:fe("rounded-md",n)}),h.jsx("img",{src:m||t,alt:e,loading:s?"eager":"lazy",className:fe("transition-all duration-700",a?"opacity-0 scale-105":"opacity-100 scale-100",n),...o})]})}const sI=O(Fa);function yX(){const{theme:t}=yi(),e=jn(),n=E.useMemo(()=>["/images/0.JPG","/images/1.JPG","/images/2.JPG","/images/3.JPG"],[]),r=E.useMemo(()=>[{img:"/images/client1.jpg",quote:"The counseling sessions have truly transformed my perspective on life. The therapists are compassionate and professional.",name:"Sarah M.",role:"Individual Therapy"},{img:"/images/client2.jpg",quote:"Group counseling helped me realize I wasn't alone in my struggles. The supportive community made all the difference.",name:"James T.",role:"Group Counseling"},{img:"/images/client3.jpg",quote:"The online sessions fit perfectly into my busy schedule. Quality care from the convenience of my home.",name:"Emily R.",role:"Online Sessions"}],[]),[s,o]=E.useState(!1),[a,c]=E.useState(0),[d,f]=E.useState(!0),[m,y]=E.useState(!1),[_,b]=E.useState(0),I=E.useRef(null),S=E.useRef(null),C=s?"/booking":"/login",A=E.useMemo(()=>({type:"spring",stiffness:100,damping:15}),[]),M=E.useMemo(()=>({fadeIn:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:A}},card:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:A},hover:{scale:1.05,transition:{type:"spring",stiffness:400,damping:10}}},icon:{hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:A},hover:{scale:1.2}}}),[A]),j=E.useCallback(k=>{k.current!==null&&(window.clearInterval(k.current),k.current=null)},[]),W=E.useCallback(k=>new Promise(V=>{const F=new Image;F.src=k,F.onload=()=>V(),F.onerror=()=>V()}),[]),G=E.useCallback(async k=>{const V=k%n.length,F=n[V];await W(F)},[n,W]);E.useEffect(()=>{const k=localStorage.getItem("isLoggedIn")==="true";o(k)},[]),E.useEffect(()=>{let k=!0;return(async()=>{try{await Promise.all(n.map(V=>W(V)))}catch(V){console.error("Preload error",V)}k&&y(!0)})(),()=>{k=!1}},[n,W]),E.useEffect(()=>(j(S),S.current=window.setInterval(()=>{c(k=>(k+1)%n.length)},5e3),()=>j(S)),[n.length,j]),E.useEffect(()=>(j(I),I.current=window.setInterval(()=>{b(k=>(k+1)%r.length)},5e3),()=>j(I)),[r.length,j]),E.useEffect(()=>{window.scrollTo(0,0),document.title="CEMAR Counseling"},[]);const J=k=>{b(k),j(I)},D=()=>{b(k=>(k-1+r.length)%r.length),j(I)},R=()=>{b(k=>(k+1)%r.length),j(I)};return h.jsxs("div",{id:"home",className:"pt-16",children:[h.jsxs("section",{className:"relative h-[90vh] flex items-center overflow-hidden",children:[h.jsx(O_,{mode:"wait",children:h.jsx(O.div,{initial:{opacity:0,scale:1.05},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.45},className:"absolute inset-0 z-0",children:h.jsx(Fa,{src:m?n[a]:"/placeholder.svg",alt:"Calm counseling environment",className:fe("w-full h-full object-cover brightness-[0.7]",d?"scale-105":"scale-100"),priority:!0,onLoad:async()=>{f(!1),G(a+1).catch(()=>{})}})},a)}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/30 to-black/60 z-[1]"}),h.jsx("div",{className:"container relative z-10 mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-3xl",children:[h.jsx(O.div,{initial:"hidden",animate:"visible",variants:M.fadeIn,children:h.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-4",children:["Welcome to ",h.jsx("span",{className:"text-[#30D5C8]",children:"CEMAR Counseling"})]})}),h.jsx(O.div,{initial:"hidden",animate:"visible",variants:M.fadeIn,children:h.jsx("p",{className:"text-xl md:text-2xl text-white/90 mb-8",children:"Celebrating Every Milestone And Recovery"})}),h.jsx(O.div,{initial:"hidden",animate:"visible",variants:M.fadeIn,whileHover:{scale:1.03},children:h.jsx(qe,{size:"lg",className:"text-lg bg-[#008080] hover:bg-[#008080]/90 text-white shadow-lg",onClick:()=>{e(s?"/booking":"/login?returnUrl=/booking")},children:"Book an Appointment"})})]})}),h.jsx("div",{className:"absolute inset-0 z-[2] pointer-events-none",children:h.jsx(O.div,{initial:{opacity:0},animate:{opacity:[0,.5,0]},transition:{duration:20,repeat:1/0,repeatType:"reverse"},className:"absolute top-1/4 left-1/4 w-32 h-32 rounded-full bg-primary/20 blur-xl"})})]}),h.jsx("section",{className:"py-20 bg-background relative overflow-hidden",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[h.jsxs(O.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"text-center mb-16",children:[h.jsx(O.h2,{variants:M.fadeIn,className:`text-3xl md:text-4xl font-bold mb-4 ${t==="dark"?"text-white":"text-black"}`,children:"Our Services"}),h.jsx(O.p,{variants:M.fadeIn,className:`text-xl ${t==="dark"?"text-white/80":"text-black/80"} max-w-2xl mx-auto`,children:"We offer a range of professional counseling services to support your mental health journey"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[h.jsxs(O.div,{initial:"hidden",whileInView:"visible",whileHover:"hover",viewport:{once:!0,margin:"-50px"},variants:M.card,className:"bg-card rounded-lg p-8 shadow-lg hover:shadow-xl transition-all duration-300 border-2 border-[#30D5C8]/20 hover:border-[#30D5C8]/40",children:[h.jsx(O.div,{variants:M.icon,className:"bg-[#30D5C8]/10 p-3 rounded-full w-fit mb-6",children:h.jsx(c_,{className:"h-8 w-8 text-[#30D5C8]"})}),h.jsxs(O.div,{children:[h.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Therapy Sessions"}),h.jsx("p",{className:"text-muted-foreground mb-6",children:"One-on-one sessions with our experienced therapists to address your specific needs and concerns."})]}),h.jsx(O.div,{variants:M.fadeIn,whileHover:{scale:1.02},children:h.jsx(qe,{className:"bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90",children:"Learn More"})})]}),h.jsxs(O.div,{initial:"hidden",whileInView:"visible",whileHover:"hover",viewport:{once:!0,margin:"-50px"},variants:M.card,className:"bg-card rounded-lg p-8 shadow-lg hover:shadow-xl transition-all duration-300 border-2 border-[#30D5C8]/20 hover:border-[#30D5C8]/40",children:[h.jsx(O.div,{variants:M.icon,className:"bg-[#30D5C8]/10 p-3 rounded-full w-fit mb-6",children:h.jsx(jI,{className:"h-8 w-8 text-[#30D5C8]"})}),h.jsxs(O.div,{children:[h.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Group Counseling"}),h.jsx("p",{className:"text-muted-foreground mb-6",children:"Connect with others facing similar challenges in a supportive group environment led by our counselors."})]}),h.jsx(O.div,{variants:M.fadeIn,whileHover:{scale:1.02},children:h.jsx(qe,{className:"bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90",children:"Learn More"})})]}),h.jsxs(O.div,{initial:"hidden",whileInView:"visible",whileHover:"hover",viewport:{once:!0,margin:"-50px"},variants:M.card,className:"bg-card rounded-lg p-8 shadow-lg hover:shadow-xl transition-all duration-300 border-2 border-[#30D5C8]/20 hover:border-[#30D5C8]/40",children:[h.jsx(O.div,{variants:M.icon,className:"bg-[#30D5C8]/10 p-3 rounded-full w-fit mb-6",children:h.jsx(OI,{className:"h-8 w-8 text-[#30D5C8]"})}),h.jsxs(O.div,{children:[h.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Online Sessions"}),h.jsx("p",{className:"text-muted-foreground mb-6",children:"Access therapy from the comfort of your home with our secure and confidential online sessions."})]}),h.jsx(O.div,{variants:M.fadeIn,whileHover:{scale:1.02},children:h.jsx(qe,{className:"bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90",children:"Learn More"})})]})]})]})}),h.jsx("section",{className:"py-20 bg-background relative overflow-hidden",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[h.jsxs(O.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"text-center mb-8",children:[h.jsx(O.h2,{variants:M.fadeIn,className:`text-3xl md:text-4xl font-bold mb-2 ${t==="dark"?"text-white":"text-black"}`,children:"What Our Clients Say"}),h.jsx(O.p,{variants:M.fadeIn,className:`text-lg ${t==="dark"?"text-white/80":"text-black/80"} max-w-2xl mx-auto`,children:"Hear from individuals who have experienced positive change through our counseling services."})]}),h.jsxs("div",{className:"relative rounded-lg overflow-hidden shadow-lg",children:[h.jsx(sI,{src:"/images/testimonials-bg.jpg",alt:"soft background",className:"absolute inset-0 w-full h-full object-cover brightness-[0.65] pointer-events-none"}),h.jsxs("div",{className:"relative z-10 px-4 py-12",children:[h.jsxs("div",{className:"relative",children:[h.jsx(O.div,{className:"flex",animate:{x:`-${_*100}%`},transition:{type:"spring",stiffness:120,damping:20},style:{width:`${r.length*100}%`},children:r.map((k,V)=>h.jsx("div",{className:"w-full px-4",style:{flex:"0 0 100%"},children:h.jsxs(O.blockquote,{initial:"hidden",whileInView:"visible",variants:M.card,className:"bg-card/80 backdrop-blur-sm rounded-lg p-6 md:p-10 shadow-xl border-2 border-[#30D5C8]/20",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[h.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden flex-shrink-0 ring-2 ring-[#30D5C8]",children:h.jsx("img",{loading:"lazy",src:k.img,alt:`${k.name} avatar`,className:"w-full h-full object-cover",onError:F=>{F.target.src="/images/avatar-placeholder.png"}})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-[#30D5C8]",children:k.name}),h.jsx("p",{className:"text-sm text-muted-foreground",children:k.role})]})]}),h.jsxs(O.p,{variants:M.fadeIn,className:"text-muted-foreground italic mb-4 md:mb-6",children:['"',k.quote,'"']}),h.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:5}).map((F,B)=>h.jsx("span",{className:"text-[#30D5C8]",children:""},B))})]})},V))}),h.jsx("button",{onClick:D,className:"absolute top-1/2 left-4 transform -translate-y-1/2 bg-white/10 hover:bg-white/20 text-white p-2 rounded-full shadow-md z-20","aria-label":"Previous testimonial",children:""}),h.jsx("button",{onClick:R,className:"absolute top-1/2 right-4 transform -translate-y-1/2 bg-white/10 hover:bg-white/20 text-white p-2 rounded-full shadow-md z-20","aria-label":"Next testimonial",children:""})]}),h.jsx("div",{className:"mt-6 flex justify-center items-center gap-3",children:r.map((k,V)=>h.jsx("button",{onClick:()=>J(V),"aria-label":`Go to testimonial ${V+1}`,className:`w-3 h-3 rounded-full transition-colors ${_===V?"bg-[#30D5C8]":"bg-white/40"}`},V))})]})]})]})}),h.jsxs("section",{className:"py-20 relative overflow-hidden",children:[h.jsxs(O.div,{className:"absolute inset-0 z-0",initial:{scale:1,rotate:0},animate:{scale:[1,1.05,1],rotate:[0,1,0]},transition:{duration:20,repeat:1/0,repeatType:"reverse"},children:[h.jsx(sI,{src:"/images/gold.jpg",alt:"Autumn forest path",className:"w-full h-full object-cover",animate:{scale:[1.05,1,1.05]},transition:{duration:25,repeat:1/0,repeatType:"reverse"}}),h.jsx(O.div,{className:"absolute inset-0",animate:{backgroundColor:["rgba(0,0,0,0.4)","rgba(0,0,0,0.5)","rgba(0,0,0,0.4)"]},transition:{duration:15,repeat:1/0,repeatType:"reverse"}})]}),h.jsx("div",{className:"container relative z-10 mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs(O.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center max-w-3xl mx-auto",children:[h.jsx(O.h2,{variants:M.fadeIn,className:"text-3xl md:text-4xl font-bold mb-4 text-white",children:"Begin Your Journey Today"}),h.jsx(O.p,{variants:M.fadeIn,className:"text-xl text-white/90 mb-8",children:"Take the first step towards better mental health and well-being. Our team of professionals is here to support you."}),h.jsx(O.div,{variants:M.fadeIn,whileHover:{scale:1.03},children:h.jsx(qe,{asChild:!0,size:"lg",className:"text-lg bg-[#008080] hover:bg-[#008080]/90 text-white shadow-lg",children:h.jsx(dn,{to:C,children:"Book an Appointment"})})})]})})]})]})}const qf=["/images/0.JPG","/images/1.JPG","/images/2.JPG","/images/3.JPG"];function vX(){const[t,e]=E.useState(!1),n=jn(),{theme:r}=yi();E.useEffect(()=>{const y=new Image;y.src="/assets/team-meeting.jpg",y.onload=()=>e(!0)},[]);const s={hidden:{opacity:0,y:20},visible:y=>({opacity:1,y:0,transition:{delay:y*.1,duration:.5}})},o={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:15,staggerChildren:.2}}},a={hidden:{opacity:0,x:-50},visible:{opacity:1,x:0,transition:{type:"spring",stiffness:100,damping:15}}},c={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:15}},hover:{y:-10,scale:1.02,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",transition:{type:"spring",stiffness:400,damping:10}}},[d,f]=E.useState(0),m=E.useRef(null);return E.useEffect(()=>(m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{f(y=>(y+1)%qf.length)},3500),()=>{m.current&&clearTimeout(m.current)}),[d]),h.jsxs("div",{className:"pt-16",children:[h.jsxs("section",{className:"relative h-[60vh] flex items-center overflow-hidden",children:[h.jsxs(O.div,{className:"absolute inset-0 z-0",initial:{scale:1,rotate:0},animate:{scale:[1,1.2,1.1,1.3,1],rotate:[0,1,-1,2,0],filter:["brightness(0.7) saturate(1)","brightness(0.8) saturate(1.2)","brightness(0.7) saturate(1.1)","brightness(0.9) saturate(1.3)","brightness(0.7) saturate(1)"]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse",ease:"easeInOut",times:[0,.25,.5,.75,1]},children:[h.jsx(Fa,{src:"/images/community-support.jpg",alt:"Community support and connection",className:"w-full h-full object-cover"}),h.jsx(O.div,{className:"absolute inset-0",animate:{backgroundColor:["rgba(0, 0, 0, 0.4)","rgba(0, 0, 0, 0.5)","rgba(0, 0, 0, 0.3)","rgba(0, 0, 0, 0.6)","rgba(0, 0, 0, 0.4)"]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse",ease:"easeInOut"}})]}),h.jsx("div",{className:"container relative z-10 mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs(O.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center max-w-3xl mx-auto",children:[h.jsxs(O.h1,{variants:s,custom:0,className:"text-4xl md:text-5xl font-bold mb-6 text-white",children:["About"," ",h.jsx("span",{className:"text-[#30D5C8]",children:"Us"})]}),h.jsx(O.p,{variants:s,custom:1,className:"text-xl text-white/90",children:"Dedicated to supporting mental health and well-being in our community"})]})})]}),h.jsx("section",{className:"py-20 bg-background",children:h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-6xl mx-auto",children:[" ",h.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[" ",h.jsxs(O.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:o,children:[h.jsxs(O.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"text-center mb-16",children:[h.jsx(O.h2,{variants:s,custom:0,className:`text-3xl md:text-4xl font-bold mb-4 ${r==="dark"?"text-white":"text-black"}`,children:"Our Mission"}),h.jsx(O.p,{variants:s,custom:1,className:`text-xl ${r==="dark"?"text-white/80":"text-black/80"} max-w-2xl mx-auto`,children:"To provide compassionate and professional counseling services that empower individuals to overcome challenges and achieve personal growth."})]}),h.jsxs(O.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"text-center mb-16",children:[h.jsx(O.h2,{variants:s,custom:0,className:`text-3xl md:text-4xl font-bold mb-4 ${r==="dark"?"text-white":"text-black"}`,children:"Our Vision"}),h.jsx(O.p,{variants:s,custom:1,className:`text-xl ${r==="dark"?"text-white/80":"text-black/80"} max-w-2xl mx-auto`,children:"Here at CEMAR, we envision to providing a dedicated, compassionate, and non-discriminatory space for individuals to explore their mental health journeys."})]}),h.jsxs(O.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"text-center mb-16",children:[h.jsx(O.h2,{variants:s,custom:0,className:`text-3xl md:text-4xl font-bold mb-4 ${r==="dark"?"text-white":"text-black"}`,children:"Our Goal"}),h.jsx(O.p,{variants:s,custom:1,className:`text-xl ${r==="dark"?"text-white/80":"text-black/80"} max-w-2xl mx-auto`,children:"To enhance and equip clients' emotional well-being and coping skills."})]})]}),h.jsxs(O.div,{variants:s,custom:2,className:"relative w-full h-auto overflow-hidden rounded-lg bg-black/10 md:max-w-3xl",children:[h.jsx(O.img,{src:qf[d],alt:"Slideshow",className:"w-full object-cover h-[700px]",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8}},qf[d]),h.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-3 p-2 bg-black/30 rounded-full",children:qf.map((y,_)=>h.jsx("button",{className:`w-4 h-4 rounded-full ${_===d?"bg-[#30D5C8]":"bg-white/70"}`,onClick:()=>f(_),"aria-label":`Go to slide ${_+1}`},_))})]})]})]})})}),h.jsx("section",{className:"py-20 bg-muted",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs(O.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center mb-16",children:[h.jsx(O.h2,{variants:s,custom:0,className:"text-3xl md:text-4xl font-bold mb-6",children:"Meet Your Therapist"}),h.jsx(O.p,{variants:s,custom:1,className:"text-xl text-muted-foreground",children:"Get to know the professional who will guide you through your journey"})]}),h.jsx(O.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:s,custom:0,className:"max-w-4xl mx-auto bg-card rounded-lg overflow-hidden shadow-lg mt-8",children:h.jsxs("div",{className:"md:flex h-full",children:[h.jsx("div",{className:"md:w-1/2 h-full pt-16",children:h.jsx(O.img,{src:"/images/team/cecilia.jpg",alt:"Cecilia Mar",className:"w-full h-full object-cover rounded-2xl shadow-2xl",initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5},whileHover:{scale:1.02}})}),h.jsxs("div",{className:"p-8 md:w-1/2",children:[h.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Richard A. Titus-Glover"}),h.jsx("p",{className:"text-primary mb-6",children:"Licensed Professional Counselor"}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold mb-2",children:"About"}),h.jsx("p",{className:"text-muted-foreground",children:"With over 15 years of experience supporting individuals and families facing mental health challenges, I am deeply committed to providing tailored therapeutic approaches. Understanding that each person's journey is unique, I employ evidence-based modalities including Cognitive Behaviour Therapy (CBT), Dialectical Behaviour Therapy (DBT), Psychodynamic Therapy, and Solution-Focused Brief Therapy (SFBT). This diverse toolkit allows me to effectively address the specific issues and concerns of my clients, fostering personal growth and resilience."})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold mb-2",children:"Education & Credentials"}),h.jsxs("ul",{className:"text-muted-foreground space-y-1",children:[h.jsx("li",{children:"Master of Social Work, RSW"}),h.jsxs("li",{children:["Registered, and in good Standing",h.jsxs("li",{children:[" with ",h.jsx("a",{href:"https://www.ocswssw.org/registrants/",className:"text-[#00FFFF] font-bold italic hover:underline transition duration-300 ease-in-out transform hover:scale-105",children:"OCSWSSW"})]})]})]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold mb-2",children:"Specializations"}),h.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1",children:[h.jsx("li",{children:"ADHD and Autism"}),h.jsx("li",{children:"Anxiety & Depression"}),h.jsx("li",{children:"Relationship Counseling"}),h.jsx("li",{children:"Stress Management"}),h.jsx("li",{children:"Personal Growth"})]})]})]})]})]})})]})}),h.jsx("section",{className:"py-20 bg-background",children:h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs(O.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"max-w-4xl mx-auto",children:[h.jsxs(O.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"text-center mb-16",children:[h.jsx(O.h2,{variants:s,custom:0,className:`text-3xl md:text-4xl font-bold mb-4 ${r==="dark"?"text-white":"text-black"}`,children:"Our Core Values"}),h.jsx(O.p,{variants:s,custom:1,className:`text-xl ${r==="dark"?"text-white/80":"text-black/80"} max-w-2xl mx-auto`})]}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[h.jsxs(O.div,{variants:c,whileHover:"hover",className:"bg-card p-6 rounded-lg border-2 border-[#30D5C8]/20 hover:border-[#30D5C8]/40",children:[h.jsx("h3",{className:"text-xl font-semibold mb-3 text-white",children:"Compassion"}),h.jsx("p",{className:"text-white",children:"We approach every client with empathy and understanding, recognizing that each person's journey is unique."})]}),h.jsxs(O.div,{variants:c,whileHover:"hover",className:"bg-card p-6 rounded-lg border-2 border-[#30D5C8]/20 hover:border-[#30D5C8]/40",children:[h.jsx("h3",{className:"text-xl font-semibold mb-3 text-white",children:"Excellence"}),h.jsx("p",{className:"text-white",children:"We are committed to providing the highest quality care through evidence-based practices and continuous professional development."})]}),h.jsxs(O.div,{variants:c,whileHover:"hover",className:"bg-card p-6 rounded-lg border-2 border-[#30D5C8]/20 hover:border-[#30D5C8]/40",children:[h.jsx("h3",{className:"text-xl font-semibold mb-3 text-white",children:"Inclusivity"}),h.jsx("p",{className:"text-white",children:"We create a welcoming environment for people of all backgrounds, identities, and experiences."})]}),h.jsxs(O.div,{variants:c,whileHover:"hover",className:"bg-card p-6 rounded-lg border-2 border-[#30D5C8]/20 hover:border-[#30D5C8]/40",children:[h.jsx("h3",{className:"text-xl font-semibold mb-3 text-white",children:"Integrity"}),h.jsx("p",{className:"text-white",children:"We uphold the highest ethical standards in all our interactions, maintaining confidentiality and trust."})]})]})]})})}),h.jsxs("section",{className:"py-20 relative overflow-hidden",children:[h.jsxs(O.div,{className:"absolute inset-0 z-0",initial:{scale:1,rotate:0},animate:{scale:[1,1.2,1.1,1.3,1],rotate:[0,1,-1,2,0],filter:["brightness(0.7) saturate(1)","brightness(0.8) saturate(1.2)","brightness(0.7) saturate(1.1)","brightness(0.9) saturate(1.3)","brightness(0.7) saturate(1)"]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse",ease:"easeInOut",times:[0,.25,.5,.75,1]},children:[h.jsx(Fa,{src:"/images/gold.jpg",alt:"Autumn forest path",className:"w-full h-full object-cover"}),h.jsx(O.div,{className:"absolute inset-0",animate:{backgroundColor:["rgba(0, 0, 0, 0.4)","rgba(0, 0, 0, 0.5)","rgba(0, 0, 0, 0.3)","rgba(0, 0, 0, 0.6)","rgba(0, 0, 0, 0.4)"]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse",ease:"easeInOut"}})]}),h.jsx("div",{className:"container relative z-10 mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs(O.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:o,className:"text-center max-w-3xl mx-auto",children:[h.jsx(O.h2,{variants:a,className:"text-3xl md:text-4xl font-bold mb-4 text-white",children:"Ready to Begin Your Journey?"}),h.jsx(O.p,{variants:a,className:"text-xl text-white/90 mb-8",children:"Take the first step towards better mental health and well-being. Our team of professionals is here to support you."}),h.jsx(O.div,{variants:a,children:h.jsx(qe,{size:"lg",className:"text-lg bg-[#008080] hover:bg-[#008080]/90 text-white shadow-lg",onClick:()=>{or()?n("/booking"):n("/login")},children:"Book an Appointment"})})]})})]})]})}function _X(){const{theme:t}=yi(),e={hidden:{opacity:0,y:20},visible:m=>({opacity:1,y:0,transition:{delay:m*.1,duration:.5}})},n=[{title:"One-on-One Therapy",description:"Personalized therapy sessions tailored to your specific needs. Our therapists use evidence-based approaches to help you navigate challenges, develop coping strategies, and achieve your mental health goals.",icon:h.jsx(c_,{className:"h-10 w-10 text-[#30D5C8]"}),features:["50-minute individual sessions","Personalized treatment plans","Available in-person or online","Flexible scheduling options"]},{title:"Group Counseling",description:"Connect with others facing similar challenges in a supportive environment. Our group sessions foster community, shared learning, and mutual support under the guidance of experienced facilitators.",icon:h.jsx(jI,{className:"h-10 w-10 text-[#30D5C8]"}),features:["Small groups of 6-8 participants","Topic-focused sessions","Affordable care option","Build community and connection"]},{title:"Online Sessions",description:"Access quality therapy from the comfort of your home. Our secure telehealth platform makes it easy to connect with your therapist regardless of location, while maintaining the same standard of care.",icon:h.jsx(OI,{className:"h-10 w-10 text-[#30D5C8]"}),features:["Secure, HIPAA-compliant platform","No commute or waiting room time","Same quality care as in-person","Technical support available"]},{title:"Cognitive Behavioral Therapy",description:"CBT helps identify and change negative thought patterns that influence behaviors and emotions. This structured approach is effective for treating anxiety, depression, and other mental health conditions.",icon:h.jsx(KV,{className:"h-10 w-10 text-[#30D5C8]"}),features:["Evidence-based techniques","Practical skill development","Homework between sessions","Measurable progress tracking"]},{title:"Couples Counseling",description:"Strengthen your relationship with professional guidance. Our couples counseling helps improve communication, resolve conflicts, and deepen connection between partners.",icon:h.jsx(e4,{className:"h-10 w-10 text-[#30D5C8]"}),features:["Communication skill building","Conflict resolution strategies","Rebuilding trust and intimacy","Joint and individual sessions"]},{title:"Mindfulness-Based Therapy",description:"Learn to be present in the moment and develop a non-judgmental awareness of your thoughts and feelings. Mindfulness practices can reduce stress, anxiety, and improve overall well-being.",icon:h.jsx(c4,{className:"h-10 w-10 text-[#30D5C8]"}),features:["Meditation techniques","Stress reduction practices","Present-moment awareness","Integration into daily life"]}],r=[{title:"Individual Session",price:"$160",description:"Per 50-minute session",features:["One-on-one attention","Personalized treatment plan","In-person or virtual options","Flexible scheduling"]},{title:"Group Therapy",price:"$100",description:"Per 90-minute session",features:["Small group setting (6-8 people)","Topic-focused sessions","Supportive community","Led by licensed therapist"]},{title:"Couples Package",price:"$195",description:"Per 60-minute session",features:["Relationship assessment","Communication training","Conflict resolution strategies","Joint goal setting"]}],s=jn(),o={hidden:{opacity:0,y:50,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:100,damping:15,staggerChildren:.1}},hover:{y:-10,scale:1.02,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",transition:{type:"spring",stiffness:400,damping:10}}},a={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{type:"spring",stiffness:100,damping:15}}},c={hidden:{opacity:0,y:30,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:100,damping:15}},hover:{y:-5,scale:1.02,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",transition:{type:"spring",stiffness:400,damping:10}}},d={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{type:"spring",stiffness:200,damping:15}}},f={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{type:"spring",stiffness:100,damping:15}},hover:{scale:1.2,rotate:5,transition:{type:"spring",stiffness:400,damping:10}}};return h.jsxs("div",{className:"pt-16",children:[h.jsxs("section",{className:"relative h-[60vh] flex items-center overflow-hidden",children:[h.jsxs(O.div,{className:"absolute inset-0 z-0",initial:{scale:1,rotate:0},animate:{scale:[1,1.2,1.1,1.3,1],rotate:[0,1,-1,2,0],filter:["brightness(0.7) saturate(1)","brightness(0.8) saturate(1.2)","brightness(0.7) saturate(1.1)","brightness(0.9) saturate(1.3)","brightness(0.7) saturate(1)"]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse",ease:"easeInOut",times:[0,.25,.5,.75,1]},children:[h.jsx(Fa,{src:"/images/professional-counseling.jpg",alt:"Professional counseling environment",className:"w-full h-full object-cover"}),h.jsx(O.div,{className:"absolute inset-0",animate:{backgroundColor:["rgba(0, 0, 0, 0.4)","rgba(0, 0, 0, 0.5)","rgba(0, 0, 0, 0.3)","rgba(0, 0, 0, 0.6)","rgba(0, 0, 0, 0.4)"]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse",ease:"easeInOut"}})]}),h.jsx("div",{className:"container relative z-10 mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs(O.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center max-w-3xl mx-auto",children:[h.jsxs(O.h1,{variants:e,custom:0,className:"text-4xl md:text-5xl font-bold mb-6 text-white",children:["Our"," ",h.jsx("span",{className:"text-[#30D5C8]",children:"Services"})]}),h.jsx(O.p,{variants:e,custom:1,className:"text-xl text-white/90",children:"We offer a range of professional counseling services tailored to meet your unique needs and support your mental health journey"}),h.jsx(O.div,{variants:e,custom:2,children:h.jsx(qe,{size:"lg",className:"text-lg bg-[#008080] hover:bg-[#008080]/90 text-white shadow-lg mt-6",onClick:()=>{or()?s("/booking"):s("/login")},children:"Book an Appointment"})})]})})]}),h.jsx("section",{className:"py-12 bg-[#30D5C8]/5",children:h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map((m,y)=>h.jsxs(O.div,{initial:"hidden",whileInView:"visible",whileHover:"hover",viewport:{once:!0,margin:"-50px"},variants:o,custom:y,className:"bg-card rounded-lg p-8 shadow-lg hover:shadow-xl transition-all duration-300 border-2 border-[#30D5C8]/20 hover:border-[#30D5C8]/40",children:[h.jsx(O.div,{className:"bg-[#30D5C8]/10 p-3 rounded-full w-fit mb-6",variants:a,whileHover:"hover",children:h.jsx(O.div,{variants:f,children:m.icon})}),h.jsxs(O.div,{variants:a,children:[h.jsx("h3",{className:"text-xl font-semibold mb-4",children:m.title}),h.jsx("p",{className:"text-muted-foreground mb-6",children:m.description})]}),h.jsx(O.div,{variants:a,children:h.jsx("ul",{className:"space-y-3 mb-6",children:m.features.map((_,b)=>h.jsxs(O.li,{variants:a,custom:b,className:"flex items-center text-muted-foreground",children:[h.jsx(pp,{className:"h-4 w-4 text-[#30D5C8] mr-2"}),_]},b))})}),h.jsx(O.div,{variants:a,children:h.jsx(qe,{asChild:!0,className:"bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90",children:h.jsx(dn,{to:"/booking",children:"Book Now"})})})]},m.title))})})}),h.jsx("section",{className:"py-20 bg-[#30D5C8]/5",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs(O.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"text-center mb-16",children:[h.jsx(O.h2,{variants:e,custom:0,className:`text-3xl md:text-4xl font-bold mb-4 ${t==="dark"?"text-white":"text-black"}`,children:"Pricing"}),h.jsx(O.p,{variants:e,custom:1,className:`text-xl ${t==="dark"?"text-white/80":"text-black/80"} max-w-2xl mx-auto`,children:"Transparent pricing for our services. We also accept many insurance plans and offer sliding scale options for those in need."})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-16",children:r.map((m,y)=>h.jsxs(O.div,{initial:"hidden",whileInView:"visible",whileHover:"hover",viewport:{once:!0,margin:"-50px"},variants:c,custom:y,className:"bg-card rounded-lg p-8 shadow-lg hover:shadow-xl transition-all duration-300 border-2 border-[#30D5C8]/20 hover:border-[#30D5C8]/40",children:[h.jsxs(O.div,{variants:a,children:[h.jsx("h3",{className:"text-xl font-semibold mb-2",children:m.title}),h.jsxs(O.div,{variants:d,className:"mb-4",children:[h.jsx("span",{className:"text-4xl font-bold text-[#30D5C8]",children:m.price}),h.jsxs("span",{className:"text-muted-foreground",children:[" ",m.description]})]}),h.jsx(O.ul,{variants:a,className:"space-y-3 mb-6",children:m.features.map((_,b)=>h.jsxs(O.li,{variants:a,custom:b,className:"flex items-center text-muted-foreground",children:[h.jsx(pp,{className:"h-4 w-4 text-[#30D5C8] mr-2"}),_]},b))})]}),h.jsx(O.div,{variants:a,children:h.jsx(qe,{asChild:!0,className:"bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90",children:h.jsx(dn,{to:"/booking",children:"Book Now"})})})]},m.title))}),h.jsxs(O.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"text-center mt-24 mb-16",children:[h.jsx(O.p,{variants:e,custom:1,className:`text-xl ${t==="dark"?"text-white/80":"text-black/80"} max-w-2xl mx-auto mb-6`,children:"Not sure which service is right for you? Contact us for a free 15-minute consultation to discuss your needs."}),h.jsx(O.div,{variants:e,custom:2,whileHover:{scale:1.05},whileTap:{scale:.95},children:h.jsx(qe,{size:"lg",className:"text-lg bg-[#008080] hover:bg-[#008080]/90 text-white shadow-lg",onClick:()=>{or()?s("/booking?calendly=free15"):s("/login")},children:"Book a Free 15-Minute Consultation"})})]})]})}),h.jsxs("section",{className:"py-20 relative overflow-hidden",children:[h.jsxs(O.div,{className:"absolute inset-0 z-0",initial:{scale:1,rotate:0},animate:{scale:[1,1.2,1.1,1.3,1],rotate:[0,1,-1,2,0],filter:["brightness(0.7) saturate(1)","brightness(0.8) saturate(1.2)","brightness(0.7) saturate(1.1)","brightness(0.9) saturate(1.3)","brightness(0.7) saturate(1)"]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse",ease:"easeInOut",times:[0,.25,.5,.75,1]},children:[h.jsx(Fa,{src:"/images/gold.jpg",alt:"Autumn forest path",className:"w-full h-full object-cover"}),h.jsx(O.div,{className:"absolute inset-0",animate:{backgroundColor:["rgba(0, 0, 0, 0.4)","rgba(0, 0, 0, 0.5)","rgba(0, 0, 0, 0.3)","rgba(0, 0, 0, 0.6)","rgba(0, 0, 0, 0.4)"]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse",ease:"easeInOut"}})]}),h.jsx("div",{className:"container relative z-10 mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs(O.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center max-w-3xl mx-auto",children:[h.jsx(O.h2,{variants:e,custom:0,className:"text-3xl md:text-4xl font-bold mb-4 text-white",children:"Ready to Begin Your Journey?"}),h.jsx(O.p,{variants:e,custom:1,className:"text-xl text-white/90 mb-8",children:"Take the first step towards better mental health and well-being. Our team of professionals is here to support you."}),h.jsx(O.div,{variants:e,custom:2,children:h.jsx(qe,{size:"lg",className:"text-lg bg-[#008080] hover:bg-[#008080]/90 text-white shadow-lg",onClick:()=>{or()?s("/booking"):s("/login")},children:"Book an Appointment"})})]})})]})]})}const kn=E.forwardRef(({className:t,type:e,...n},r)=>h.jsx("input",{type:e,className:fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:placeholder:text-white/70",t),ref:r,...n}));kn.displayName="Input";const WD=E.forwardRef(({className:t,...e},n)=>h.jsx("textarea",{className:fe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:placeholder:text-white/70",t),ref:n,...e}));WD.displayName="Textarea";function wX(){const[t,e]=E.useState({name:"",email:"",message:""}),[n,r]=E.useState(!1),[s,o]=E.useState(!1),{theme:a}=yi(),c=b=>{const{name:I,value:S}=b.target;e(C=>({...C,[I]:S}))},d=b=>{b.preventDefault(),o(!0),setTimeout(()=>{o(!1),r(!0),e({name:"",email:"",message:""})},1500)},f=()=>{r(!1),e({name:"",email:"",message:""})},m={hidden:{opacity:0,y:20},visible:b=>({opacity:1,y:0,transition:{delay:b*.1,duration:.5,type:"spring",stiffness:50}})},y={hidden:{opacity:0,y:50,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:100,damping:15,staggerChildren:.1}}},_={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{type:"spring",stiffness:100,damping:15}},focus:{scale:1.02,boxShadow:"0 0 0 2px rgba(48, 213, 200, 0.2)",transition:{type:"spring",stiffness:400,damping:10}}};return h.jsxs("div",{className:"pt-16",children:[h.jsxs("section",{className:"relative h-[60vh] flex items-center overflow-hidden",children:[h.jsxs(O.div,{className:"absolute inset-0 z-0",initial:{scale:1,rotate:0},animate:{scale:[1,1.2,1.1,1.3,1],rotate:[0,1,-1,2,0],filter:["brightness(0.7) saturate(1)","brightness(0.8) saturate(1.2)","brightness(0.7) saturate(1.1)","brightness(0.9) saturate(1.3)","brightness(0.7) saturate(1)"]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse",ease:"easeInOut",times:[0,.25,.5,.75,1]},children:[h.jsx(Fa,{src:"/images/communication-connection.jpg",alt:"Communication and connection",className:"w-full h-full object-cover"}),h.jsx(O.div,{className:"absolute inset-0",animate:{backgroundColor:["rgba(0, 0, 0, 0.4)","rgba(0, 0, 0, 0.5)","rgba(0, 0, 0, 0.3)","rgba(0, 0, 0, 0.6)","rgba(0, 0, 0, 0.4)"]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse",ease:"easeInOut"}})]}),h.jsx("div",{className:"container relative z-10 mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs(O.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center max-w-3xl mx-auto",children:[h.jsxs(O.h1,{variants:m,custom:0,className:"text-4xl md:text-5xl font-bold mb-6 text-white",children:["Contact"," ",h.jsx("span",{className:"text-[#30D5C8]",children:"Us"})]}),h.jsx(O.p,{variants:m,custom:1,className:"text-xl text-white/90",children:"Have questions about our services? Reach out to us and our team will get back to you soon."})]})})]}),h.jsxs("section",{className:"py-20 bg-background relative overflow-hidden",children:[h.jsx(O.div,{className:"absolute top-0 right-0 w-96 h-96 bg-primary/5 rounded-full blur-3xl",animate:{x:[50,100,50],y:[0,50,0],scale:[1,1.1,1]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),h.jsx(O.div,{className:"absolute bottom-0 left-0 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl",animate:{x:[0,-50,0],y:[0,50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[h.jsxs(O.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center mb-16",children:[h.jsx(O.h2,{variants:m,custom:0,className:`text-3xl md:text-4xl font-bold mb-4 ${a==="dark"?"text-white":"text-black"}`,children:"Get in Touch"}),h.jsx(O.p,{variants:m,custom:1,className:`text-xl ${a==="dark"?"text-white/80":"text-black/80"} max-w-2xl mx-auto`,children:"Have questions about our services? Reach out to us and our team will get back to you soon."})]}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-12 max-w-5xl mx-auto",children:[h.jsxs(O.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:y,className:"bg-card p-8 rounded-lg shadow-md border relative overflow-hidden",children:[h.jsx(O.div,{className:"absolute -top-20 -right-20 w-64 h-64 bg-primary/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],rotate:[0,45,0]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),h.jsx(O_,{mode:"wait",children:n?h.jsxs(O.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{type:"spring",stiffness:100},className:"flex flex-col items-center justify-center h-full text-center py-12 relative z-10",children:[h.jsx(O.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15},children:h.jsx(l_,{className:"h-16 w-16 text-primary mb-4"})}),h.jsx(O.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-2xl font-semibold mb-2",children:"Thank You!"}),h.jsx(O.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-muted-foreground",children:"Your message has been sent successfully. We will get back to you soon."}),h.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-6",children:h.jsx(qe,{variant:"outline",onClick:f,children:"Send Another Message"})})]},"success"):h.jsxs(O.form,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:y,className:"space-y-6 relative z-10",onSubmit:d,children:[h.jsxs(O.div,{variants:_,children:[h.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-white mb-2",children:"Name"}),h.jsx(kn,{id:"name",name:"name",value:t.name,onChange:c,placeholder:"Your name",required:!0,className:`w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#30D5C8] ${a==="dark"?"placeholder:text-white/70 text-white bg-transparent":"placeholder:text-black/70 text-black"}`})]}),h.jsxs(O.div,{variants:_,children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white mb-2",children:"Email"}),h.jsx(kn,{id:"email",name:"email",type:"email",value:t.email,onChange:c,placeholder:"your@email.com",required:!0,className:`w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#30D5C8] ${a==="dark"?"placeholder:text-white/70 text-white bg-transparent":"placeholder:text-black/70 text-black"}`})]}),h.jsxs(O.div,{variants:_,children:[h.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-white mb-2",children:"Message"}),h.jsx(WD,{id:"message",name:"message",value:t.message,onChange:c,placeholder:"Your message",required:!0,className:`min-h-[150px] w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#30D5C8] ${a==="dark"?"placeholder:text-white/70 text-white bg-transparent":"placeholder:text-black/70 text-black"}`})]}),h.jsx(O.div,{variants:_,children:h.jsx(qe,{type:"submit",className:"w-full bg-[#30D5C8] hover:bg-[#30D5C8]/90 text-black",disabled:s,children:s?"Sending...":"Send Message"})})]},"form")})]}),h.jsxs(O.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"space-y-8",children:[h.jsxs(O.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center mb-16",children:[h.jsx(O.h2,{variants:m,custom:0,className:`text-2xl md:text-3xl font-bold mb-4 ${a==="dark"?"text-white":"text-black"}`,children:"Other Ways to Reach Us"}),h.jsxs(O.div,{variants:m,custom:1,className:"max-w-2xl mx-auto space-y-6",children:[h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx(O.div,{className:"bg-[#008080]/10 p-3 rounded-full mb-4",whileHover:{scale:1.1,backgroundColor:"rgba(0, 128, 128, 0.2)"},children:h.jsx(a4,{className:"h-6 w-6 text-[#008080]"})}),h.jsxs("div",{className:"text-center",children:[h.jsx("h3",{className:`font-medium ${a==="dark"?"text-white":"text-black"}`,children:"Phone"}),h.jsx("p",{children:h.jsx("a",{href:"tel:+19059092400",className:`${a==="dark"?"text-white hover:text-[#30D5C8]":"text-black hover:text-[#008080]"} transition-colors`,children:"(905) 909-2400"})}),h.jsx("p",{className:`text-sm mt-1 ${a==="dark"?"text-white/80":"text-black/80"}`,children:"Monday-Friday, 9am-5pm"})]})]}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx(O.div,{className:"bg-[#008080]/10 p-3 rounded-full mb-4",whileHover:{scale:1.1,backgroundColor:"rgba(0, 128, 128, 0.2)"},children:h.jsx(s4,{className:"h-6 w-6 text-[#008080]"})}),h.jsxs("div",{className:"text-center",children:[h.jsx("h3",{className:`font-medium ${a==="dark"?"text-white":"text-black"}`,children:"Email"}),h.jsx("p",{children:h.jsx("a",{href:"mailto:info@cemarcounseling.com",className:`${a==="dark"?"text-white hover:text-[#30D5C8]":"text-black hover:text-[#008080]"} transition-colors`,children:"info@cemarcounseling.com"})}),h.jsx("p",{className:`text-sm mt-1 ${a==="dark"?"text-white/80":"text-black/80"}`,children:"We'll respond within 24 hours"})]})]})]})]}),h.jsxs(O.div,{variants:m,custom:2,className:"bg-[#008080] p-6 rounded-lg mt-8",children:[h.jsx("h3",{className:"font-medium mb-2 text-white",children:"Office Hours"}),h.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-white",children:[h.jsx("div",{children:"Monday - Friday"}),h.jsx("div",{children:"9:00 AM - 7:00 PM"}),h.jsx("div",{children:"Saturday"}),h.jsx("div",{children:"10:00 AM - 4:00 PM"}),h.jsx("div",{children:"Sunday"}),h.jsx("div",{children:"Closed"})]})]})]})]})]})]}),h.jsx("section",{className:"py-20 bg-background",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs(O.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center mb-12",children:[h.jsx(O.h2,{variants:m,custom:0,className:`text-3xl md:text-4xl font-bold mb-4 ${a==="dark"?"text-white":"text-black"}`,children:"Frequently Asked Questions"}),h.jsx(O.p,{variants:m,custom:1,className:`text-xl ${a==="dark"?"text-white/80":"text-black/80"} max-w-2xl mx-auto`,children:"Find answers to common questions about our services"})]}),h.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[h.jsxs(O.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},className:"bg-card p-6 rounded-lg border",children:[h.jsx("h3",{className:"font-semibold mb-2",children:"How do I schedule my first appointment?"}),h.jsx("p",{className:"text-muted-foreground",children:"You can schedule an appointment by using our online booking system, calling our office, or sending us an email. New clients will need to complete intake forms before their first session."})]}),h.jsxs(O.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.2},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},className:"bg-card p-6 rounded-lg border",children:[h.jsx("h3",{className:"font-semibold mb-2",children:"Do you accept insurance?"}),h.jsx("p",{className:"text-muted-foreground",children:"Yes, we accept many major insurance plans. Please contact our office with your insurance information to verify your coverage before your first appointment."})]}),h.jsxs(O.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.3},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},className:"bg-card p-6 rounded-lg border",children:[h.jsx("h3",{className:"font-semibold mb-2",children:"How long are therapy sessions?"}),h.jsx("p",{className:"text-muted-foreground",children:"Individual therapy sessions are typically 50 minutes, while group sessions are 90 minutes. The frequency of sessions will be determined based on your needs and treatment plan."})]}),h.jsxs(O.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.4},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},className:"bg-card p-6 rounded-lg border",children:[h.jsx("h3",{className:"font-semibold mb-2",children:"What is your cancellation policy?"}),h.jsx("p",{className:"text-muted-foreground",children:"We require 24 hours notice for cancellations. Late cancellations or no-shows are non refundable."})]})]})]})})]})}function xX(){var a,c;const[t,e]=E.useState(null),n=[{key:"individual",title:"Individual Counseling",description:"Select this to schedule individual counseling.",url:"https://calendly.com/cemarcounseling-info/30min?hide_event_type_details=1&hide_gdpr_banner=1"},{key:"group",title:"Group Counseling",description:"Select this to schedule group counseling.",url:"https://calendly.com/cemarcounseling-info/group-counseling?hide_event_type_details=1&hide_gdpr_banner=1"},{key:"couples",title:"Couples Counseling",description:"Select this to schedule couples counseling.",url:"https://calendly.com/cemarcounseling-info/couples-counseling?hide_event_type_details=1&hide_gdpr_banner=1"},{key:"free15",title:"Free 15-Min Consultation",description:"Select this to schedule free 15-min consultation.",url:"https://calendly.com/cemarcounseling-info/new-meeting?hide_event_type_details=1&hide_gdpr_banner=1"}],r=t?(a=n.find(d=>d.key===t))==null?void 0:a.url:null;E.useEffect(()=>{r&&typeof window<"u"&&window.Calendly&&window.Calendly.initInlineWidgets()},[r]);const s=d=>{e(d)},o=()=>{e(null)};return h.jsx("div",{className:"pt-16",children:h.jsx("section",{className:"py-20 bg-background",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsx(O.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center mb-12",children:h.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center",children:[h.jsx("h1",{className:"text-4xl font-bold mb-4 text-black dark:text-white/90",children:"Book an Appointment"}),h.jsx("p",{className:"text-lg text-black/70 mb-8 dark:text-white/70",children:"Choose the counseling service that best fits your needs, then select your preferred date and time to get started on your wellness journey."})]})}),h.jsx("div",{className:"max-w-4xl mx-auto",children:t?h.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-gradient-to-br from-[#30D5C8] to-[#008080] rounded-lg p-6 shadow-lg",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-black",children:(c=n.find(d=>d.key===t))==null?void 0:c.title}),h.jsx("p",{className:"text-base text-black font-medium mt-2",children:"Complete your booking by selecting an available time slot below."})]}),h.jsx("div",{children:h.jsx("button",{onClick:o,className:"text-sm text-white hover:text-white/80 underline font-medium",children:"Change service"})})]}),r&&h.jsx("div",{className:"mt-6 bg-white dark:bg-slate-900 rounded-lg overflow-hidden border border-[#30D5C8]/20",children:h.jsx("iframe",{src:r,width:"100%",height:"750",frameBorder:"0",title:"Schedule appointment"})})]}):h.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:n.map(d=>h.jsx(O.button,{onClick:()=>s(d.key),whileHover:{scale:1.02},whileTap:{scale:.98},className:"text-left bg-card p-6 rounded-lg shadow hover:shadow-lg border border-[#30D5C8]/10",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold mb-2",children:d.title}),h.jsx("p",{className:"text-sm text-muted-foreground",children:d.description})]}),h.jsx("div",{className:"ml-4",children:h.jsx("span",{className:"inline-block rounded-full bg-[#30D5C8] text-black px-3 py-1 font-medium text-sm",children:"Select"})})]})},d.key))})})]})})})}var EX="Label",HD=E.forwardRef((t,e)=>h.jsx(ze.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));HD.displayName=EX;var GD=HD;const bX=CI("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),hn=E.forwardRef(({className:t,...e},n)=>h.jsx(GD,{ref:n,className:fe(bX(),t),...e}));hn.displayName=GD.displayName;var tg="Tabs",[TX,lZ]=qr(tg,[Gm]),qD=Gm(),[SX,kx]=TX(tg),KD=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:a="horizontal",dir:c,activationMode:d="automatic",...f}=t,m=Vm(c),[y,_]=La({prop:r,onChange:s,defaultProp:o??"",caller:tg});return h.jsx(SX,{scope:n,baseId:Cs(),value:y,onValueChange:_,orientation:a,dir:m,activationMode:d,children:h.jsx(ze.div,{dir:m,"data-orientation":a,...f,ref:e})})});KD.displayName=tg;var YD="TabsList",QD=E.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,o=kx(YD,n),a=qD(n);return h.jsx(A2,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:r,children:h.jsx(ze.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});QD.displayName=YD;var XD="TabsTrigger",JD=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=t,a=kx(XD,n),c=qD(n),d=tM(a.baseId,r),f=nM(a.baseId,r),m=r===a.value;return h.jsx(P2,{asChild:!0,...c,focusable:!s,active:m,children:h.jsx(ze.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":f,"data-state":m?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:d,...o,ref:e,onMouseDown:Ee(t.onMouseDown,y=>{!s&&y.button===0&&y.ctrlKey===!1?a.onValueChange(r):y.preventDefault()}),onKeyDown:Ee(t.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&a.onValueChange(r)}),onFocus:Ee(t.onFocus,()=>{const y=a.activationMode!=="manual";!m&&!s&&y&&a.onValueChange(r)})})})});JD.displayName=XD;var ZD="TabsContent",eM=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...a}=t,c=kx(ZD,n),d=tM(c.baseId,r),f=nM(c.baseId,r),m=r===c.value,y=E.useRef(m);return E.useEffect(()=>{const _=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(_)},[]),h.jsx(xi,{present:s||m,children:({present:_})=>h.jsx(ze.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!_,id:f,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:y.current?"0s":void 0},children:_&&o})})});eM.displayName=ZD;function tM(t,e){return`${t}-trigger-${e}`}function nM(t,e){return`${t}-content-${e}`}var CX=KD,rM=QD,sM=JD,iM=eM;const IX=CX,oM=E.forwardRef(({className:t,...e},n)=>h.jsx(rM,{ref:n,className:fe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));oM.displayName=rM.displayName;const G0=E.forwardRef(({className:t,...e},n)=>h.jsx(sM,{ref:n,className:fe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));G0.displayName=sM.displayName;const q0=E.forwardRef(({className:t,...e},n)=>h.jsx(iM,{ref:n,className:fe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));q0.displayName=iM.displayName;function iI({className:t="",variant:e="default"}){const[n,r]=E.useState(!1),[s,o]=E.useState(null),a=jn(),d=new URLSearchParams(window.location.search).get("returnUrl"),f=async()=>{r(!0),o(null);try{const m=await uq();console.log(" Successfully signed in:",m),setTimeout(()=>{a(d||"/")},500)}catch(m){const y=(m==null?void 0:m.message)||"Failed to sign in with Google";console.error(" Google sign-in error:",y),o(y)}finally{r(!1)}};return h.jsxs(O.div,{className:t,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[h.jsx(qe,{onClick:f,disabled:n,variant:e,className:`w-full h-11 rounded-lg font-medium transition-all duration-300 ${e==="default"?"bg-white hover:bg-gray-100 text-black border border-gray-300":"border-2 border-[#30D5C8] hover:bg-[#30D5C8]/10"}`,children:h.jsx(O.div,{className:"flex items-center justify-center gap-2",animate:{scale:n?.95:1},children:n?h.jsxs(h.Fragment,{children:[h.jsx(O.div,{className:"w-4 h-4 border-2 border-[#30D5C8] border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),h.jsx("span",{className:"text-black",children:"Signing in..."})]}):h.jsxs(h.Fragment,{children:[h.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),h.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),h.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),h.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),h.jsx("span",{className:"text-black",children:"Sign in with Google"})]})})}),s&&h.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:h.jsxs("p",{className:"text-sm text-red-600",children:[h.jsx("span",{className:"font-semibold",children:"Error:"})," ",s]})})]})}const NX={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5,staggerChildren:.1}}},Xs={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:15}}},$l={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{type:"spring",stiffness:100,damping:15}},hover:{scale:1.02,transition:{type:"spring",stiffness:400,damping:10}}},Kf={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:15}},hover:{scale:1.05,transition:{type:"spring",stiffness:400,damping:10}},tap:{scale:.95,transition:{type:"spring",stiffness:400,damping:10}}};function RX(){const t=jn(),e=jo(),[n]=iV();n.get("tab");const[r,s]=E.useState(!1),[o,a]=E.useState({email:"",password:""}),[c,d]=E.useState({name:"",email:"",password:"",confirmPassword:""}),[f,m]=E.useState("");E.useEffect(()=>{if(or()){const C=new URLSearchParams(e.search).get("returnUrl");t(C||"/")}},[t,e]);const y=S=>{const{name:C,value:A}=S.target;a(M=>({...M,[C]:A}))},_=S=>{const{name:C,value:A}=S.target;d(M=>({...M,[C]:A}))},b=async S=>{S.preventDefault(),m(""),s(!0);try{await hq(o.email,o.password);const A=new URLSearchParams(e.search).get("returnUrl");t(A||"/")}catch(C){const A=(C==null?void 0:C.message)||"Failed to login. Please check your credentials.";m(A)}finally{s(!1)}},I=async S=>{if(S.preventDefault(),m(""),c.password!==c.confirmPassword){m("Passwords do not match");return}s(!0);try{await dq(c.name,c.email,c.password);const A=new URLSearchParams(e.search).get("returnUrl");t(A||"/")}catch(C){const A=(C==null?void 0:C.message)||"Failed to create account. Please try again.";m(A)}finally{s(!1)}};return h.jsx("div",{className:"pt-16",children:h.jsxs(O.section,{initial:"hidden",animate:"visible",variants:NX,className:"py-20 relative overflow-hidden min-h-screen flex items-center justify-center",style:{backgroundImage:"url('/images/hero-1.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[h.jsx("div",{className:"absolute inset-0 bg-[#30D5C8]/10 backdrop-blur-[2px]"}),h.jsx(O.div,{className:"absolute top-0 right-0 w-96 h-96 bg-primary/5 rounded-full blur-3xl",animate:{x:[50,100,50],y:[0,50,0],scale:[1,1.1,1]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),h.jsx(O.div,{className:"absolute bottom-0 left-0 w-96 h-96 bg-[#30D5C8]/5 rounded-full blur-3xl",animate:{x:[0,-50,0],y:[0,50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:h.jsxs(O.div,{variants:Xs,className:"max-w-md mx-auto",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsxs(O.h1,{variants:Xs,className:"text-3xl font-bold mb-2 text-white",children:["Welcome to ",h.jsx("span",{className:"text-[#30D5C8]",children:"CEMAR"})]}),h.jsx(O.p,{variants:Xs,className:"text-white/90",children:"Sign in to book your appointment"})]}),h.jsxs(O.div,{variants:Xs,className:"bg-[#30D5C8] p-8 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 border-2 border-[#30D5C8]/20 hover:border-[#30D5C8]/40",children:[h.jsx(O.div,{className:"absolute -top-20 -right-20 w-64 h-64 bg-[#30D5C8]/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],rotate:[0,45,0]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),h.jsxs(IX,{defaultValue:"login",className:"w-full relative z-10",children:[h.jsxs(oM,{className:"grid w-full grid-cols-2 mb-6 bg-[#008080]",children:[h.jsx(G0,{value:"login",className:"data-[state=active]:bg-[#30D5C8]",children:"Login"}),h.jsx(G0,{value:"signup",className:"data-[state=active]:bg-[#30D5C8]",children:"Sign Up"})]}),h.jsxs(O_,{mode:"wait",children:[h.jsx(q0,{value:"login",children:h.jsx(O.div,{variants:Xs,className:"bg-[#008080] p-6 rounded-lg border border-[#008080]/20",children:h.jsxs(O.form,{onSubmit:b,className:"space-y-4",variants:Xs,initial:"hidden",animate:"visible",exit:"hidden",children:[h.jsxs(O.div,{variants:$l,className:"space-y-2",children:[h.jsx(hn,{htmlFor:"email",children:"Email"}),h.jsx(kn,{id:"email",name:"email",type:"email",value:o.email,onChange:y,placeholder:"Enter your email",required:!0,className:"transition-all duration-300 focus:ring-2 focus:ring-cyan-400/30 placeholder:text-black/70 bg-white dark:bg-white text-black dark:text-black"})]}),h.jsxs(O.div,{variants:$l,className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(hn,{htmlFor:"password",children:"Password"}),h.jsx(dn,{to:"/forgot-password",className:"text-sm text-[white] hover:text-blue-500 hover:underline",children:"Forgot password?"})]}),h.jsx(kn,{id:"password",name:"password",type:"password",value:o.password,onChange:y,placeholder:"Enter your password",required:!0,className:"transition-all duration-300 focus:ring-2 focus:ring-cyan-400/30 placeholder:text-black/70 bg-white dark:bg-white text-black dark:text-black"})]}),f&&h.jsx(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-sm text-red-500",children:f}),h.jsx(O.div,{variants:Kf,whileHover:"hover",whileTap:"tap",children:h.jsx(qe,{type:"submit",className:"w-full bg-[#30D5C8] hover:bg-[#30D5C8]/90 text-black",disabled:r,children:r?h.jsxs(h.Fragment,{children:[h.jsx(O.div,{animate:{rotate:360},transition:{duration:1,repeat:Number.POSITIVE_INFINITY,ease:"linear"},className:"mr-2 h-4 w-4 border-2 border-black border-t-transparent rounded-full"}),"Signing in..."]}):"Sign In"})}),h.jsxs("div",{className:"relative my-4",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("span",{className:"w-full border-t border-white"})}),h.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:h.jsx("span",{className:"bg-[#008080] px-2 text-white",children:"Or"})})]}),h.jsx(O.div,{variants:Kf,whileHover:"hover",whileTap:"tap",children:h.jsx(iI,{className:"w-full relative overflow-hidden bg-[#008080] text-white hover:bg-[#008080]/90",variant:"outline"})})]})})}),h.jsx(q0,{value:"signup",children:h.jsx(O.div,{variants:Xs,className:"bg-[#008080] p-6 rounded-lg border border-[#008080]/20",children:h.jsxs(O.form,{onSubmit:I,className:"space-y-4",variants:Xs,initial:"hidden",animate:"visible",exit:"hidden",children:[h.jsxs(O.div,{variants:$l,className:"space-y-2",children:[h.jsx(hn,{htmlFor:"name",children:"Full Name"}),h.jsx(kn,{id:"name",name:"name",value:c.name,onChange:_,placeholder:"Enter your full name",required:!0,className:"transition-all duration-300 focus:ring-2 focus:ring-cyan-400/30 placeholder:text-black/70 bg-white dark:bg-white text-black dark:text-black"})]}),h.jsxs(O.div,{variants:$l,className:"space-y-2",children:[h.jsx(hn,{htmlFor:"signup-email",children:"Email"}),h.jsx(kn,{id:"signup-email",name:"email",type:"email",value:c.email,onChange:_,placeholder:"Enter your email",required:!0,className:"transition-all duration-300 focus:ring-2 focus:ring-cyan-400/30 placeholder:text-black/70 bg-white dark:bg-white text-black dark:text-black"})]}),h.jsxs(O.div,{variants:$l,className:"space-y-2",children:[h.jsx(hn,{htmlFor:"signup-password",children:"Password"}),h.jsx(kn,{id:"signup-password",name:"password",type:"password",value:c.password,onChange:_,placeholder:"Enter your password",required:!0,className:"transition-all duration-300 focus:ring-2 focus:ring-cyan-400/30 placeholder:text-black/70 bg-white dark:bg-white text-black dark:text-black"})]}),h.jsxs(O.div,{variants:$l,className:"space-y-2",children:[h.jsx(hn,{htmlFor:"confirm-password",children:"Confirm Password"}),h.jsx(kn,{id:"confirm-password",name:"confirmPassword",type:"password",value:c.confirmPassword,onChange:_,placeholder:"Confirm your password",required:!0,className:"transition-all duration-300 focus:ring-2 focus:ring-cyan-400/30 placeholder:text-black/70 bg-white dark:bg-white text-black dark:text-black"})]}),f&&h.jsx(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-sm text-red-500",children:f}),h.jsx(O.div,{variants:Kf,whileHover:"hover",whileTap:"tap",children:h.jsx(qe,{type:"submit",className:"w-full bg-[#30D5C8] hover:bg-[#30D5C8]/90 text-black",disabled:r,children:r?h.jsxs(h.Fragment,{children:[h.jsx(O.div,{animate:{rotate:360},transition:{duration:1,repeat:Number.POSITIVE_INFINITY,ease:"linear"},className:"mr-2 h-4 w-4 border-2 border-black border-t-transparent rounded-full"}),"Creating account..."]}):"Create Account"})}),h.jsxs("div",{className:"relative my-4",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("span",{className:"w-full border-t border-white"})}),h.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:h.jsx("span",{className:"bg-[#008080] px-2 text-white",children:"Or"})})]}),h.jsx(O.div,{variants:Kf,whileHover:"hover",whileTap:"tap",children:h.jsx(iI,{className:"w-full relative overflow-hidden bg-[#008080] text-white hover:bg-[#008080]/90",variant:"outline"})})]})})})]})]}),h.jsx(O.div,{variants:Xs,className:"mt-6 text-center text-sm text-black",children:h.jsxs("p",{children:["By continuing, you agree to our"," ",h.jsx(dn,{to:"/terms",className:"text-[#008080] hover:text-blue-500 hover:underline",children:"Terms of Service"})," ","and"," ",h.jsx(dn,{to:"/privacy",className:"text-[#008080] hover:text-blue-500 hover:underline",children:"Privacy Policy"}),"."]})})]})]})})]})})}const St={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,staggerChildren:.1}}},to={hidden:{opacity:0,x:-50},visible:{opacity:1,x:0,transition:{duration:.6,type:"spring",stiffness:100}},hover:{scale:1.02,transition:{duration:.3,type:"spring",stiffness:400}}},$u={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{duration:.4,type:"spring",stiffness:200}}};function AX(){return h.jsx("div",{className:"pt-16",children:h.jsxs(O.section,{initial:"hidden",animate:"visible",variants:St,className:"py-20 relative overflow-hidden min-h-screen",style:{backgroundImage:"url('/images/hero-1.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[h.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},className:"absolute inset-0 bg-[#008080]/10 backdrop-blur-[2px]"}),h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:h.jsxs(O.div,{variants:St,className:"max-w-4xl mx-auto bg-[#008080] p-8 rounded-lg shadow-lg border-2 border-white/20",children:[h.jsx(O.h1,{variants:St,className:"text-3xl font-bold mb-6 text-white",children:"Terms and Conditions"}),h.jsx(O.p,{variants:St,className:"text-white/90 mb-8",children:"Last updated: 4/10/2025"}),h.jsxs("div",{className:"space-y-8",children:[h.jsxs(O.section,{variants:to,whileHover:"hover",className:"bg-[#008080] rounded-lg p-8 shadow-lg border-2 border-white/20 relative overflow-hidden",children:[h.jsx(O.h2,{variants:St,className:"text-2xl font-semibold mb-4 text-white",children:"1. Introduction"}),h.jsxs("div",{className:"prose prose-lg max-w-none",children:[h.jsx(O.p,{variants:St,className:"mb-4 text-white/90",children:"Welcome to CEMAR Counselling. These terms and conditions outline the rules and regulations for the use of our counselling services and website."}),h.jsx(O.p,{variants:St,className:"text-white/90",children:"By accessing our website and using our services, you accept these terms and conditions in full. If you disagree with these terms and conditions or any part of these terms and conditions, you must not use our services."})]})]}),h.jsxs(O.section,{variants:to,whileHover:"hover",className:"bg-[#008080] rounded-lg p-8 shadow-lg border-2 border-white/20 relative overflow-hidden",children:[h.jsx(O.h2,{variants:St,className:"text-2xl font-semibold mb-4 text-white",children:"2. Service Description"}),h.jsxs("div",{className:"prose prose-lg max-w-none",children:[h.jsx(O.p,{variants:St,className:"mb-4 text-white/90",children:"CEMAR Counselling provides mental health counselling services. Our platform facilitates the booking of counselling sessions between clients and qualified mental health professionals."}),h.jsx(O.p,{variants:St,className:"text-white/90",children:"While we strive to provide the highest quality of care, we do not guarantee specific outcomes from counselling sessions. Results may vary depending on individual circumstances and engagement with the therapeutic process."})]})]}),h.jsxs(O.section,{variants:to,whileHover:"hover",className:"bg-[#008080] rounded-lg p-8 shadow-lg border-2 border-white/20 relative overflow-hidden",children:[h.jsx(O.h2,{variants:St,className:"text-2xl font-semibold mb-4 text-white",children:"3. User Responsibilities"}),h.jsxs("div",{className:"prose prose-lg max-w-none",children:[h.jsx(O.p,{variants:St,className:"mb-4 text-white/90",children:"Users must:"}),h.jsx("ul",{className:"list-none space-y-3",children:["Provide accurate and complete information during registration","Maintain the confidentiality of their account credentials","Notify us immediately of any unauthorized use of their account","Arrive punctually for scheduled appointments","Provide at least 24 hours notice for appointment cancellations","Engage respectfully with counsellors and staff"].map((t,e)=>h.jsxs(O.li,{variants:$u,className:"flex items-center text-white/90",children:[h.jsx(O.span,{className:"text-white mr-2",animate:{scale:[1,1.2,1]},transition:{duration:.5,delay:e*.1},children:""}),t]},e))})]})]}),h.jsxs(O.section,{variants:to,whileHover:"hover",className:"bg-[#008080] rounded-lg p-8 shadow-lg border-2 border-white/20 relative overflow-hidden",children:[h.jsx(O.h2,{variants:St,className:"text-2xl font-semibold mb-4 text-white",children:"4. Privacy and Confidentiality"}),h.jsxs("div",{className:"prose prose-lg max-w-none",children:[h.jsx(O.p,{variants:St,className:"mb-4 text-white/90",children:"We are committed to protecting your privacy and maintaining the confidentiality of your personal information. All counselling sessions and client information are kept strictly confidential, except in cases where:"}),h.jsx("ul",{className:"list-none space-y-3",children:["There is a risk of harm to self or others","There is suspected abuse of children or vulnerable adults","There is a court order requiring disclosure","The client provides written consent for disclosure"].map((t,e)=>h.jsxs(O.li,{variants:$u,className:"flex items-center text-white/90",children:[h.jsx(O.span,{className:"text-white mr-2",animate:{scale:[1,1.2,1]},transition:{duration:.5,delay:e*.1},children:""}),t]},e))})]})]}),h.jsxs(O.section,{variants:to,whileHover:"hover",className:"bg-[#008080] rounded-lg p-8 shadow-lg border-2 border-white/20 relative overflow-hidden",children:[h.jsx(O.h2,{variants:St,className:"text-2xl font-semibold mb-4 text-white",children:"5. Payment and Cancellation"}),h.jsxs("div",{className:"prose prose-lg max-w-none",children:[h.jsx(O.p,{variants:St,className:"mb-4 text-white/90",children:"Payment is required at the time of booking. We accept major credit cards and other specified payment methods. Our cancellation policy requires:"}),h.jsx("ul",{className:"list-none space-y-3",children:["24 hours notice for appointment cancellations","Late cancellations or no-shows may be charged the full session fee","Refunds are provided at our discretion"].map((t,e)=>h.jsxs(O.li,{variants:$u,className:"flex items-center text-white/90",children:[h.jsx(O.span,{className:"text-white mr-2",animate:{scale:[1,1.2,1]},transition:{duration:.5,delay:e*.1},children:""}),t]},e))})]})]}),h.jsxs(O.section,{variants:to,whileHover:"hover",className:"bg-[#008080] rounded-lg p-8 shadow-lg border-2 border-white/20 relative overflow-hidden",children:[h.jsx(O.h2,{variants:St,className:"text-2xl font-semibold mb-4 text-white",children:"6. Emergency Services"}),h.jsxs("div",{className:"prose prose-lg max-w-none",children:[h.jsx(O.p,{variants:St,className:"mb-4 text-white/90",children:"Our services are not intended for emergencies. If you are experiencing a mental health emergency, please:"}),h.jsx("ul",{className:"list-none space-y-3",children:["Call your local emergency services","Visit your nearest emergency room","Contact a crisis helpline"].map((t,e)=>h.jsxs(O.li,{variants:$u,className:"flex items-center text-white/90",children:[h.jsx(O.span,{className:"text-white mr-2",animate:{scale:[1,1.2,1]},transition:{duration:.5,delay:e*.1},children:""}),t]},e))})]})]}),h.jsxs(O.section,{variants:to,whileHover:"hover",className:"bg-[#008080] rounded-lg p-8 shadow-lg border-2 border-white/20 relative overflow-hidden",children:[h.jsx(O.h2,{variants:St,className:"text-2xl font-semibold mb-4 text-white",children:"7. Limitation of Liability"}),h.jsxs("div",{className:"prose prose-lg max-w-none",children:[h.jsx(O.p,{variants:St,className:"mb-4 text-white/90",children:"While we strive to provide quality services, we cannot be held liable for:"}),h.jsx("ul",{className:"list-none space-y-3",children:["Technical issues affecting online sessions","Actions taken based on counselling advice","Indirect or consequential losses","Circumstances beyond our reasonable control"].map((t,e)=>h.jsxs(O.li,{variants:$u,className:"flex items-center text-white/90",children:[h.jsx(O.span,{className:"text-white mr-2",animate:{scale:[1,1.2,1]},transition:{duration:.5,delay:e*.1},children:""}),t]},e))})]})]}),h.jsxs(O.section,{variants:to,whileHover:"hover",className:"bg-[#008080] rounded-lg p-8 shadow-lg border-2 border-white/20 relative overflow-hidden",children:[h.jsx(O.h2,{variants:St,className:"text-2xl font-semibold mb-4 text-white",children:"8. Changes to Terms"}),h.jsx("div",{className:"prose prose-lg max-w-none",children:h.jsx(O.p,{variants:St,className:"mb-4 text-white/90",children:"We reserve the right to modify these terms at any time. Changes will be effective immediately upon posting to our website. Continued use of our services after changes constitutes acceptance of the modified terms."})})]})]}),h.jsxs(O.p,{variants:St,className:"text-white/90 mt-8",children:["For any questions about these terms, please contact us at"," ",h.jsx(O.a,{href:"mailto:info@cemarcounseling.com",className:"text-white hover:underline",whileHover:{scale:1.05},whileTap:{scale:.95},children:"support@cemarcounselling.com"})]})]})})]})})}function PX(){jn();const[t,e]=E.useState(""),[n,r]=E.useState(!1),[s,o]=E.useState(!1),{theme:a}=yi(),[c,d]=E.useState(""),f=async m=>{m.preventDefault(),d(""),r(!0);try{await new Promise(y=>setTimeout(y,1500)),o(!0)}catch{d("Failed to send reset email. Please try again.")}finally{r(!1)}};return h.jsx("div",{className:"pt-16",children:h.jsxs("section",{className:"py-20 bg-background relative overflow-hidden",children:[h.jsx(O.div,{className:"absolute top-0 right-0 w-96 h-96 bg-primary/5 rounded-full blur-3xl",animate:{x:[50,100,50],y:[0,50,0],scale:[1,1.1,1]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),h.jsx(O.div,{className:"absolute bottom-0 left-0 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl",animate:{x:[0,-50,0],y:[0,50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:h.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md mx-auto",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx(O.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},className:fe("text-3xl font-bold mb-4",a==="dark"?"text-white":"text-black"),children:"Reset Your Password"}),h.jsx(O.p,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:fe("text-muted-foreground mb-8",a==="dark"?"text-white/70":"text-black/70"),children:"Enter your email address and we'll send you instructions to reset your password"})]}),h.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"bg-card p-8 rounded-lg shadow-md border relative overflow-hidden",children:[h.jsx(O.div,{className:"absolute -top-20 -right-20 w-64 h-64 bg-primary/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],rotate:[0,45,0]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),s?h.jsxs(O.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-8",children:[h.jsx(O.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},children:h.jsx(l_,{className:"h-16 w-16 text-primary mx-auto mb-4"})}),h.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Check Your Email"}),h.jsx("p",{className:"text-muted-foreground mb-6",children:"We've sent password reset instructions to your email address."}),h.jsx(O.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:h.jsx(qe,{asChild:!0,className:"w-full bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90",children:h.jsx(dn,{to:"/login",children:"Return to Login"})})})]}):h.jsxs("form",{onSubmit:f,className:"space-y-4",children:[h.jsxs(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4,duration:.5},className:"space-y-2",children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white",children:"Email Address"}),h.jsx(kn,{id:"email",type:"email",value:t,onChange:m=>e(m.target.value),placeholder:"Enter your email",required:!0,className:"w-full transition-all duration-300 focus:ring-2 focus:ring-primary/50 placeholder:text-black/70"})]}),c&&h.jsx(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-sm text-red-500",children:c}),h.jsx(O.div,{whileHover:{scale:1.05,transition:{duration:.2}},whileTap:{scale:.95},children:h.jsx(qe,{type:"submit",className:"w-full bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90",disabled:n,children:n?h.jsxs(h.Fragment,{children:[h.jsx(O.div,{animate:{rotate:360},transition:{duration:1,repeat:Number.POSITIVE_INFINITY,ease:"linear"},className:"mr-2 h-4 w-4 border-2 border-black border-t-transparent rounded-full"}),"Sending..."]}):"Send Reset Instructions"})}),h.jsx(O.div,{whileHover:{scale:1.05,transition:{duration:.2}},whileTap:{scale:.95},className:"text-center mt-4",children:h.jsx(qe,{asChild:!0,variant:"outline",className:fe("w-48",a==="dark"?"bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90":"border-[#30D5C8] text-black hover:bg-[#30D5C8] hover:text-black"),children:h.jsx(dn,{to:"/login",children:"Back to Login"})})})]})]})]})})]})})}const yo=E.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:fe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));yo.displayName="Card";const vo=E.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:fe("flex flex-col space-y-1.5 p-6",t),...e}));vo.displayName="CardHeader";const _o=E.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:fe("text-2xl font-semibold leading-none tracking-tight",t),...e}));_o.displayName="CardTitle";const wo=E.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:fe("text-sm text-muted-foreground",t),...e}));wo.displayName="CardDescription";const xo=E.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:fe("p-6 pt-0",t),...e}));xo.displayName="CardContent";const kX=E.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:fe("flex items-center p-6 pt-0",t),...e}));kX.displayName="CardFooter";function DX(){const t=jn(),[e,n]=E.useState(null),[r,s]=E.useState(!0),o=E.useRef(null),{theme:a}=yi();E.useEffect(()=>{if(!or()){t("/login?tab=signup");return}const m=Lm();n(m),s(!1)},[t]);const c=()=>{var f;(f=o.current)==null||f.click()},d=f=>{var y;const m=(y=f.target.files)==null?void 0:y[0];if(m){const _=new FileReader;_.onloadend=()=>{if(e){const b={...e,avatar:_.result};localStorage.setItem("userData",JSON.stringify(b)),n(b),window.dispatchEvent(new Event("storage"))}},_.readAsDataURL(m)}};return r?h.jsx("div",{className:"pt-16 min-h-screen flex items-center justify-center",children:h.jsx(O.div,{animate:{rotate:360},transition:{duration:1,repeat:Number.POSITIVE_INFINITY,ease:"linear"},className:"h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):e?h.jsx("div",{className:"pt-16",children:h.jsxs("section",{className:"py-20 bg-background relative overflow-hidden",children:[h.jsx(O.div,{className:"absolute top-0 right-0 w-96 h-96 bg-primary/5 rounded-full blur-3xl",animate:{x:[50,100,50],y:[0,50,0],scale:[1,1.1,1]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),h.jsx(O.div,{className:"absolute bottom-0 left-0 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl",animate:{x:[0,-50,0],y:[0,50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:h.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-4xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsx(O.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},className:fe("text-3xl font-bold mb-2",a==="dark"?"text-white":"text-black"),children:"Your Profile"}),h.jsx(O.p,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:fe(a==="dark"?"text-white":"text-black"),children:"Manage your personal information and appointments"})]}),h.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[h.jsx(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3,duration:.5},children:h.jsxs(yo,{children:[h.jsxs(vo,{className:"text-center",children:[h.jsx("div",{className:"flex justify-center mb-4",children:h.jsxs("div",{className:"relative group",children:[h.jsxs(Jm,{className:"h-24 w-24 cursor-pointer transition-transform group-hover:scale-105",onClick:c,children:[h.jsx(Zm,{src:e.avatar,alt:e.name}),h.jsx(eg,{className:"text-2xl bg-primary/10 text-primary",children:e.name.substring(0,2).toUpperCase()})]}),h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",onClick:c,children:h.jsx(kI,{className:"h-6 w-6 text-white"})}),h.jsx("input",{ref:o,type:"file",accept:"image/*",className:"hidden",onChange:d,"aria-label":"Upload profile picture"})]})}),h.jsx(_o,{children:e.name}),h.jsx(wo,{children:e.email})]}),h.jsx(xo,{className:"space-y-4",children:h.jsxs(qe,{className:"w-full bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90",variant:"outline",onClick:()=>t("/account-settings"),children:[h.jsx(MI,{className:"mr-2 h-4 w-4"}),"Account Settings"]})})]})}),h.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},className:"md:col-span-2",children:h.jsxs(yo,{children:[h.jsxs(vo,{children:[h.jsx(_o,{children:"Upcoming Appointments"}),h.jsx(wo,{children:"Your scheduled sessions"})]}),h.jsx(xo,{children:h.jsx("div",{className:"space-y-4",children:h.jsxs("div",{className:"bg-muted p-4 rounded-lg text-center",children:[h.jsx("p",{className:"text-muted-foreground",children:"You don't have any upcoming appointments."}),h.jsx(qe,{className:"mt-4",asChild:!0,onClick:()=>t("/booking"),children:"Book an Appointment"})]})})})]})}),h.jsx(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5,duration:.5},className:"md:col-span-3",children:h.jsxs(yo,{children:[h.jsxs(vo,{children:[h.jsx(_o,{children:"Past Appointments"}),h.jsx(wo,{children:"Your previous sessions"})]}),h.jsx(xo,{children:h.jsx("div",{className:"space-y-4",children:h.jsx("div",{className:"bg-muted p-4 rounded-lg text-center",children:h.jsx("p",{className:"text-muted-foreground",children:"You don't have any past appointments."})})})})]})})]})]})})]})}):h.jsx("div",{className:"pt-16",children:h.jsx("section",{className:"py-20 bg-background relative overflow-hidden",children:h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:h.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md mx-auto text-center",children:[h.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Create Your Profile"}),h.jsx("p",{className:"text-muted-foreground mb-8",children:"Sign up to manage your appointments and access personalized features."}),h.jsx(qe,{size:"lg",className:"bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary",onClick:()=>t("/login?tab=signup"),children:"Sign Up Now"})]})})})})}var ng="Dialog",[aM,lM]=qr(ng),[MX,Kr]=aM(ng),cM=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,c=E.useRef(null),d=E.useRef(null),[f,m]=La({prop:r,defaultProp:s??!1,onChange:o,caller:ng});return h.jsx(MX,{scope:e,triggerRef:c,contentRef:d,contentId:Cs(),titleId:Cs(),descriptionId:Cs(),open:f,onOpenChange:m,onOpenToggle:E.useCallback(()=>m(y=>!y),[m]),modal:a,children:n})};cM.displayName=ng;var uM="DialogTrigger",dM=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Kr(uM,n),o=it(e,s.triggerRef);return h.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":jx(s.open),...r,ref:o,onClick:Ee(t.onClick,s.onOpenToggle)})});dM.displayName=uM;var Dx="DialogPortal",[jX,hM]=aM(Dx,{forceMount:void 0}),fM=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=Kr(Dx,e);return h.jsx(jX,{scope:e,forceMount:n,children:E.Children.map(r,a=>h.jsx(xi,{present:n||o.open,children:h.jsx(Hm,{asChild:!0,container:s,children:a})}))})};fM.displayName=Dx;var nm="DialogOverlay",pM=E.forwardRef((t,e)=>{const n=hM(nm,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Kr(nm,t.__scopeDialog);return o.modal?h.jsx(xi,{present:r||o.open,children:h.jsx(LX,{...s,ref:e})}):null});pM.displayName=nm;var OX=Na("DialogOverlay.RemoveScroll"),LX=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Kr(nm,n);return h.jsx(Km,{as:OX,allowPinchZoom:!0,shards:[s.contentRef],children:h.jsx(ze.div,{"data-state":jx(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ua="DialogContent",mM=E.forwardRef((t,e)=>{const n=hM(Ua,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Kr(Ua,t.__scopeDialog);return h.jsx(xi,{present:r||o.open,children:o.modal?h.jsx(VX,{...s,ref:e}):h.jsx(FX,{...s,ref:e})})});mM.displayName=Ua;var VX=E.forwardRef((t,e)=>{const n=Kr(Ua,t.__scopeDialog),r=E.useRef(null),s=it(e,n.contentRef,r);return E.useEffect(()=>{const o=r.current;if(o)return bx(o)},[]),h.jsx(gM,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Ee(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0;(a.button===2||c)&&o.preventDefault()}),onFocusOutside:Ee(t.onFocusOutside,o=>o.preventDefault())})}),FX=E.forwardRef((t,e)=>{const n=Kr(Ua,t.__scopeDialog),r=E.useRef(!1),s=E.useRef(!1);return h.jsx(gM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,c;(a=t.onCloseAutoFocus)==null||a.call(t,o),o.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var d,f;(d=t.onInteractOutside)==null||d.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;((f=n.triggerRef.current)==null?void 0:f.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),gM=E.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...a}=t,c=Kr(Ua,n),d=E.useRef(null),f=it(e,d);return fx(),h.jsxs(h.Fragment,{children:[h.jsx(Um,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:h.jsx(Fm,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":jx(c.open),...a,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(BX,{titleId:c.titleId}),h.jsx($X,{contentRef:d,descriptionId:c.descriptionId})]})]})}),Mx="DialogTitle",yM=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Kr(Mx,n);return h.jsx(ze.h2,{id:s.titleId,...r,ref:e})});yM.displayName=Mx;var vM="DialogDescription",_M=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Kr(vM,n);return h.jsx(ze.p,{id:s.descriptionId,...r,ref:e})});_M.displayName=vM;var wM="DialogClose",xM=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Kr(wM,n);return h.jsx(ze.button,{type:"button",...r,ref:e,onClick:Ee(t.onClick,()=>s.onOpenChange(!1))})});xM.displayName=wM;function jx(t){return t?"open":"closed"}var EM="DialogTitleWarning",[UX,bM]=pq(EM,{contentName:Ua,titleName:Mx,docsSlug:"dialog"}),BX=({titleId:t})=>{const e=bM(EM),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return E.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},zX="DialogDescriptionWarning",$X=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${bM(zX).contentName}}.`;return E.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},WX=cM,HX=dM,GX=fM,qX=pM,KX=mM,YX=yM,QX=_M,TM=xM,SM="AlertDialog",[XX,cZ]=qr(SM,[lM]),Ei=lM(),CM=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ei(e);return h.jsx(WX,{...r,...n,modal:!0})};CM.displayName=SM;var JX="AlertDialogTrigger",ZX=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ei(n);return h.jsx(HX,{...s,...r,ref:e})});ZX.displayName=JX;var eJ="AlertDialogPortal",IM=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ei(e);return h.jsx(GX,{...r,...n})};IM.displayName=eJ;var tJ="AlertDialogOverlay",NM=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ei(n);return h.jsx(qX,{...s,...r,ref:e})});NM.displayName=tJ;var dc="AlertDialogContent",[nJ,rJ]=XX(dc),sJ=uV("AlertDialogContent"),RM=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,o=Ei(n),a=E.useRef(null),c=it(e,a),d=E.useRef(null);return h.jsx(UX,{contentName:dc,titleName:AM,docsSlug:"alert-dialog",children:h.jsx(nJ,{scope:n,cancelRef:d,children:h.jsxs(KX,{role:"alertdialog",...o,...s,ref:c,onOpenAutoFocus:Ee(s.onOpenAutoFocus,f=>{var m;f.preventDefault(),(m=d.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[h.jsx(sJ,{children:r}),h.jsx(oJ,{contentRef:a})]})})})});RM.displayName=dc;var AM="AlertDialogTitle",PM=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ei(n);return h.jsx(YX,{...s,...r,ref:e})});PM.displayName=AM;var kM="AlertDialogDescription",DM=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ei(n);return h.jsx(QX,{...s,...r,ref:e})});DM.displayName=kM;var iJ="AlertDialogAction",MM=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ei(n);return h.jsx(TM,{...s,...r,ref:e})});MM.displayName=iJ;var jM="AlertDialogCancel",OM=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=rJ(jM,n),o=Ei(n),a=it(e,s);return h.jsx(TM,{...o,...r,ref:a})});OM.displayName=jM;var oJ=({contentRef:t})=>{const e=`\`${dc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${dc}\` by passing a \`${kM}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${dc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return E.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},aJ=CM,lJ=IM,LM=NM,VM=RM,FM=MM,UM=OM,BM=PM,zM=DM;const cJ=aJ,uJ=lJ,$M=E.forwardRef(({className:t,...e},n)=>h.jsx(LM,{className:fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));$M.displayName=LM.displayName;const WM=E.forwardRef(({className:t,...e},n)=>h.jsxs(uJ,{children:[h.jsx($M,{}),h.jsx(VM,{ref:n,className:fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));WM.displayName=VM.displayName;const HM=({className:t,...e})=>h.jsx("div",{className:fe("flex flex-col space-y-2 text-center sm:text-left",t),...e});HM.displayName="AlertDialogHeader";const GM=({className:t,...e})=>h.jsx("div",{className:fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});GM.displayName="AlertDialogFooter";const qM=E.forwardRef(({className:t,...e},n)=>h.jsx(BM,{ref:n,className:fe("text-lg font-semibold",t),...e}));qM.displayName=BM.displayName;const KM=E.forwardRef(({className:t,...e},n)=>h.jsx(zM,{ref:n,className:fe("text-sm text-muted-foreground",t),...e}));KM.displayName=zM.displayName;const dJ=E.forwardRef(({className:t,...e},n)=>h.jsx(FM,{ref:n,className:fe(a_(),t),...e}));dJ.displayName=FM.displayName;const hJ=E.forwardRef(({className:t,...e},n)=>h.jsx(UM,{ref:n,className:fe(a_({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));hJ.displayName=UM.displayName;function fJ(){const t=jn(),[e,n]=E.useState(null),[r,s]=E.useState(!0),[o,a]=E.useState(!1),[c,d]=E.useState(!1),f=E.useRef(null),[m,y]=E.useState({name:"",email:"",currentPassword:"",newPassword:"",confirmPassword:""}),[_,b]=E.useState(""),{theme:I}=yi();E.useEffect(()=>{if(!or()){t("/login");return}const j=Lm();n(j),j&&y(W=>({...W,name:j.name,email:j.email})),s(!1)},[t]);const S=()=>{var M;(M=f.current)==null||M.click()},C=M=>{var W;const j=(W=M.target.files)==null?void 0:W[0];if(j){const G=new FileReader;G.onloadend=()=>{if(e){const J={...e,avatar:G.result};localStorage.setItem("userData",JSON.stringify(J)),n(J),window.dispatchEvent(new Event("storage"))}},G.readAsDataURL(j)}},A=async M=>{if(M.preventDefault(),b(""),m.newPassword||m.confirmPassword){if(!m.currentPassword){b("Current password is required to change password");return}if(m.newPassword!==m.confirmPassword){b("New passwords do not match");return}if(m.newPassword.length<6){b("New password must be at least 6 characters");return}}if(e){const j={...e,name:m.name,email:m.email};localStorage.setItem("userData",JSON.stringify(j)),n(j),window.dispatchEvent(new Event("storage")),d(!0),y(W=>({...W,currentPassword:"",newPassword:"",confirmPassword:""}))}};return r?h.jsx("div",{className:"pt-16 min-h-screen flex items-center justify-center",children:h.jsx(O.div,{animate:{rotate:360},transition:{duration:1,repeat:Number.POSITIVE_INFINITY,ease:"linear"},className:"h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):h.jsxs("div",{className:"pt-16",children:[h.jsxs("section",{className:"py-20 bg-background relative overflow-hidden",children:[h.jsx(O.div,{className:"absolute top-0 right-0 w-96 h-96 bg-primary/5 rounded-full blur-3xl",animate:{x:[50,100,50],y:[0,50,0],scale:[1,1.1,1]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),h.jsx(O.div,{className:"absolute bottom-0 left-0 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl",animate:{x:[0,-50,0],y:[0,50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:h.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-2xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsx(O.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},className:fe("text-3xl font-bold mb-2",I==="dark"?"text-white":"text-black"),children:"Account Settings"}),h.jsx(O.p,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:fe(I==="dark"?"text-white":"text-black"),children:"Manage your profile information and security settings"})]}),h.jsxs(yo,{children:[h.jsxs(vo,{children:[h.jsx(_o,{children:"Profile Information"}),h.jsx(wo,{children:"Update your profile details and password"})]}),h.jsx(xo,{children:h.jsxs("form",{onSubmit:A,className:"space-y-6",children:[h.jsx("div",{className:"flex justify-center mb-6",children:h.jsxs("div",{className:"relative group",children:[h.jsxs(Jm,{className:"h-24 w-24 cursor-pointer transition-transform group-hover:scale-105",onClick:S,children:[h.jsx(Zm,{src:e==null?void 0:e.avatar,alt:e==null?void 0:e.name}),h.jsx(eg,{className:"text-2xl bg-primary/10 text-primary",children:e==null?void 0:e.name.substring(0,2).toUpperCase()})]}),h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",onClick:S,children:h.jsx(kI,{className:"h-6 w-6 text-white"})}),h.jsx("input",{ref:f,type:"file",accept:"image/*",className:"hidden",onChange:C,"aria-label":"Upload profile picture"})]})}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(hn,{htmlFor:"name",children:"Full Name"}),h.jsx(kn,{id:"name",value:m.name,onChange:M=>y(j=>({...j,name:M.target.value})),className:fe(I==="dark"?"text-white placeholder:text-white":"text-black placeholder:text-black"),placeholder:"Enter your full name",required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(hn,{htmlFor:"email",children:"Email Address"}),h.jsx(kn,{id:"email",type:"email",value:m.email,onChange:M=>y(j=>({...j,email:M.target.value})),className:fe(I==="dark"?"text-white placeholder:text-white":"text-black placeholder:text-black"),placeholder:"Enter your email address",required:!0})]}),h.jsxs("div",{className:"border-t pt-4",children:[h.jsx("h3",{className:"font-medium mb-4",children:"Change Password"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(hn,{htmlFor:"currentPassword",children:"Current Password"}),h.jsx(kn,{id:"currentPassword",type:"password",value:m.currentPassword,onChange:M=>y(j=>({...j,currentPassword:M.target.value})),className:fe(I==="dark"?"placeholder:text-white":"placeholder:text-black"),placeholder:"Enter your current password"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(hn,{htmlFor:"newPassword",children:"New Password"}),h.jsx(kn,{id:"newPassword",type:"password",value:m.newPassword,onChange:M=>y(j=>({...j,newPassword:M.target.value})),className:fe(I==="dark"?"placeholder:text-white":"placeholder:text-black"),placeholder:"Enter your new password"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(hn,{htmlFor:"confirmPassword",children:"Confirm New Password"}),h.jsx(kn,{id:"confirmPassword",type:"password",value:m.confirmPassword,onChange:M=>y(j=>({...j,confirmPassword:M.target.value})),className:fe(I==="dark"?"placeholder:text-white":"placeholder:text-black"),placeholder:"Confirm your new password"})]})]})]}),_&&h.jsx(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-sm text-red-500",children:_}),h.jsxs("div",{className:"flex justify-end space-x-4",children:[h.jsx(qe,{type:"button",className:"bg-[#78ede5] text-black hover:bg-[#78ede5]/90",onClick:()=>t("/profile"),children:"Cancel"}),h.jsx(qe,{type:"submit",className:"bg-[#78ede5] text-black hover:bg-[#78ede5]/90",children:"Save Changes"})]})]})})]})]})})]}),h.jsx(cJ,{open:c,onOpenChange:d,children:h.jsxs(WM,{className:"max-w-md",children:[h.jsx(HM,{children:h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx(O.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15},children:h.jsx(l_,{className:"h-16 w-16 text-[#00807f] mb-4"})}),h.jsx(qM,{className:fe("text-2xl font-semibold mb-2",I==="dark"?"text-white":"text-black"),children:"Changes Saved Successfully!"}),h.jsx(KM,{className:fe("text-center",I==="dark"?"text-white/70":"text-black"),children:"Your profile information has been updated."})]})}),h.jsx(GM,{className:"flex justify-center",children:h.jsx(qe,{className:"bg-[#00807f] text-white hover:bg-[#78ede5]/90",onClick:()=>{d(!1),t("/profile")},children:"Done"})})]})})]})}function YM(t){const e=E.useRef({value:t,previous:t});return E.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var rg="Switch",[pJ,uZ]=qr(rg),[mJ,gJ]=pJ(rg),QM=E.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:a,disabled:c,value:d="on",onCheckedChange:f,form:m,...y}=t,[_,b]=E.useState(null),I=it(e,j=>b(j)),S=E.useRef(!1),C=_?m||!!_.closest("form"):!0,[A,M]=La({prop:s,defaultProp:o??!1,onChange:f,caller:rg});return h.jsxs(mJ,{scope:n,checked:A,disabled:c,children:[h.jsx(ze.button,{type:"button",role:"switch","aria-checked":A,"aria-required":a,"data-state":ej(A),"data-disabled":c?"":void 0,disabled:c,value:d,...y,ref:I,onClick:Ee(t.onClick,j=>{M(W=>!W),C&&(S.current=j.isPropagationStopped(),S.current||j.stopPropagation())})}),C&&h.jsx(ZM,{control:_,bubbles:!S.current,name:r,value:d,checked:A,required:a,disabled:c,form:m,style:{transform:"translateX(-100%)"}})]})});QM.displayName=rg;var XM="SwitchThumb",JM=E.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=gJ(XM,n);return h.jsx(ze.span,{"data-state":ej(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});JM.displayName=XM;var yJ="SwitchBubbleInput",ZM=E.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},o)=>{const a=E.useRef(null),c=it(a,o),d=YM(n),f=d2(e);return E.useEffect(()=>{const m=a.current;if(!m)return;const y=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(y,"checked").set;if(d!==n&&b){const I=new Event("click",{bubbles:r});b.call(m,n),m.dispatchEvent(I)}},[d,n,r]),h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:c,style:{...s.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ZM.displayName=yJ;function ej(t){return t?"checked":"unchecked"}var tj=QM,vJ=JM;const K0=E.forwardRef(({className:t,...e},n)=>h.jsx(tj,{className:fe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:h.jsx(vJ,{className:fe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));K0.displayName=tj.displayName;function oI(t,[e,n]){return Math.min(n,Math.max(e,t))}var nj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_J="VisuallyHidden",wJ=E.forwardRef((t,e)=>h.jsx(ze.span,{...t,ref:e,style:{...nj,...t.style}}));wJ.displayName=_J;var xJ=[" ","Enter","ArrowUp","ArrowDown"],EJ=[" ","Enter"],Ba="Select",[sg,ig,bJ]=hx(Ba),[zc,dZ]=qr(Ba,[bJ,Wm]),og=Wm(),[TJ,Uo]=zc(Ba),[SJ,CJ]=zc(Ba),rj=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:a,defaultValue:c,onValueChange:d,dir:f,name:m,autoComplete:y,disabled:_,required:b,form:I}=t,S=og(e),[C,A]=E.useState(null),[M,j]=E.useState(null),[W,G]=E.useState(!1),J=Vm(f),[D,R]=La({prop:r,defaultProp:s??!1,onChange:o,caller:Ba}),[k,V]=La({prop:a,defaultProp:c,onChange:d,caller:Ba}),F=E.useRef(null),B=C?I||!!C.closest("form"):!0,[L,ge]=E.useState(new Set),Ce=Array.from(L).map(ve=>ve.props.value).join(";");return h.jsx(x2,{...S,children:h.jsxs(TJ,{required:b,scope:e,trigger:C,onTriggerChange:A,valueNode:M,onValueNodeChange:j,valueNodeHasChildren:W,onValueNodeHasChildrenChange:G,contentId:Cs(),value:k,onValueChange:V,open:D,onOpenChange:R,dir:J,triggerPointerDownPosRef:F,disabled:_,children:[h.jsx(sg.Provider,{scope:e,children:h.jsx(SJ,{scope:t.__scopeSelect,onNativeOptionAdd:E.useCallback(ve=>{ge(he=>new Set(he).add(ve))},[]),onNativeOptionRemove:E.useCallback(ve=>{ge(he=>{const Z=new Set(he);return Z.delete(ve),Z})},[]),children:n})}),B?h.jsxs(Ij,{"aria-hidden":!0,required:b,tabIndex:-1,name:m,autoComplete:y,value:k,onChange:ve=>V(ve.target.value),disabled:_,form:I,children:[k===void 0?h.jsx("option",{value:""}):null,Array.from(L)]},Ce):null]})})};rj.displayName=Ba;var sj="SelectTrigger",ij=E.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=og(n),a=Uo(sj,n),c=a.disabled||r,d=it(e,a.onTriggerChange),f=ig(n),m=E.useRef("touch"),[y,_,b]=Rj(S=>{const C=f().filter(j=>!j.disabled),A=C.find(j=>j.value===a.value),M=Aj(C,S,A);M!==void 0&&a.onValueChange(M.value)}),I=S=>{c||(a.onOpenChange(!0),b()),S&&(a.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)})};return h.jsx(E2,{asChild:!0,...o,children:h.jsx(ze.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":Nj(a.value)?"":void 0,...s,ref:d,onClick:Ee(s.onClick,S=>{S.currentTarget.focus(),m.current!=="mouse"&&I(S)}),onPointerDown:Ee(s.onPointerDown,S=>{m.current=S.pointerType;const C=S.target;C.hasPointerCapture(S.pointerId)&&C.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&S.pointerType==="mouse"&&(I(S),S.preventDefault())}),onKeyDown:Ee(s.onKeyDown,S=>{const C=y.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&_(S.key),!(C&&S.key===" ")&&xJ.includes(S.key)&&(I(),S.preventDefault())})})})});ij.displayName=sj;var oj="SelectValue",aj=E.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:a="",...c}=t,d=Uo(oj,n),{onValueNodeHasChildrenChange:f}=d,m=o!==void 0,y=it(e,d.onValueNodeChange);return Kt(()=>{f(m)},[f,m]),h.jsx(ze.span,{...c,ref:y,style:{pointerEvents:"none"},children:Nj(d.value)?h.jsx(h.Fragment,{children:a}):o})});aj.displayName=oj;var IJ="SelectIcon",lj=E.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return h.jsx(ze.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});lj.displayName=IJ;var NJ="SelectPortal",cj=t=>h.jsx(Hm,{asChild:!0,...t});cj.displayName=NJ;var za="SelectContent",uj=E.forwardRef((t,e)=>{const n=Uo(za,t.__scopeSelect),[r,s]=E.useState();if(Kt(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?zd.createPortal(h.jsx(dj,{scope:t.__scopeSelect,children:h.jsx(sg.Slot,{scope:t.__scopeSelect,children:h.jsx("div",{children:t.children})})}),o):null}return h.jsx(hj,{...t,ref:e})});uj.displayName=za;var Lr=10,[dj,Bo]=zc(za),RJ="SelectContentImpl",AJ=Na("SelectContent.RemoveScroll"),hj=E.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:a,side:c,sideOffset:d,align:f,alignOffset:m,arrowPadding:y,collisionBoundary:_,collisionPadding:b,sticky:I,hideWhenDetached:S,avoidCollisions:C,...A}=t,M=Uo(za,n),[j,W]=E.useState(null),[G,J]=E.useState(null),D=it(e,ue=>W(ue)),[R,k]=E.useState(null),[V,F]=E.useState(null),B=ig(n),[L,ge]=E.useState(!1),Ce=E.useRef(!1);E.useEffect(()=>{if(j)return bx(j)},[j]),fx();const ve=E.useCallback(ue=>{const[we,...Ie]=B().map(Je=>Je.ref.current),[Ve]=Ie.slice(-1),Ye=document.activeElement;for(const Je of ue)if(Je===Ye||(Je==null||Je.scrollIntoView({block:"nearest"}),Je===we&&G&&(G.scrollTop=0),Je===Ve&&G&&(G.scrollTop=G.scrollHeight),Je==null||Je.focus(),document.activeElement!==Ye))return},[B,G]),he=E.useCallback(()=>ve([R,j]),[ve,R,j]);E.useEffect(()=>{L&&he()},[L,he]);const{onOpenChange:Z,triggerPointerDownPosRef:ee}=M;E.useEffect(()=>{if(j){let ue={x:0,y:0};const we=Ve=>{var Ye,Je;ue={x:Math.abs(Math.round(Ve.pageX)-(((Ye=ee.current)==null?void 0:Ye.x)??0)),y:Math.abs(Math.round(Ve.pageY)-(((Je=ee.current)==null?void 0:Je.y)??0))}},Ie=Ve=>{ue.x<=10&&ue.y<=10?Ve.preventDefault():j.contains(Ve.target)||Z(!1),document.removeEventListener("pointermove",we),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",Ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",Ie,{capture:!0})}}},[j,Z,ee]),E.useEffect(()=>{const ue=()=>Z(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[Z]);const[re,$]=Rj(ue=>{const we=B().filter(Ye=>!Ye.disabled),Ie=we.find(Ye=>Ye.ref.current===document.activeElement),Ve=Aj(we,ue,Ie);Ve&&setTimeout(()=>Ve.ref.current.focus())}),te=E.useCallback((ue,we,Ie)=>{const Ve=!Ce.current&&!Ie;(M.value!==void 0&&M.value===we||Ve)&&(k(ue),Ve&&(Ce.current=!0))},[M.value]),Ne=E.useCallback(()=>j==null?void 0:j.focus(),[j]),Se=E.useCallback((ue,we,Ie)=>{const Ve=!Ce.current&&!Ie;(M.value!==void 0&&M.value===we||Ve)&&F(ue)},[M.value]),Le=r==="popper"?Y0:fj,ke=Le===Y0?{side:c,sideOffset:d,align:f,alignOffset:m,arrowPadding:y,collisionBoundary:_,collisionPadding:b,sticky:I,hideWhenDetached:S,avoidCollisions:C}:{};return h.jsx(dj,{scope:n,content:j,viewport:G,onViewportChange:J,itemRefCallback:te,selectedItem:R,onItemLeave:Ne,itemTextRefCallback:Se,focusSelectedItem:he,selectedItemText:V,position:r,isPositioned:L,searchRef:re,children:h.jsx(Km,{as:AJ,allowPinchZoom:!0,children:h.jsx(Um,{asChild:!0,trapped:M.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:Ee(s,ue=>{var we;(we=M.trigger)==null||we.focus({preventScroll:!0}),ue.preventDefault()}),children:h.jsx(Fm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>M.onOpenChange(!1),children:h.jsx(Le,{role:"listbox",id:M.contentId,"data-state":M.open?"open":"closed",dir:M.dir,onContextMenu:ue=>ue.preventDefault(),...A,...ke,onPlaced:()=>ge(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...A.style},onKeyDown:Ee(A.onKeyDown,ue=>{const we=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!we&&ue.key.length===1&&$(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let Ve=B().filter(Ye=>!Ye.disabled).map(Ye=>Ye.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(Ve=Ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const Ye=ue.target,Je=Ve.indexOf(Ye);Ve=Ve.slice(Je+1)}setTimeout(()=>ve(Ve)),ue.preventDefault()}})})})})})})});hj.displayName=RJ;var PJ="SelectItemAlignedPosition",fj=E.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=Uo(za,n),a=Bo(za,n),[c,d]=E.useState(null),[f,m]=E.useState(null),y=it(e,D=>m(D)),_=ig(n),b=E.useRef(!1),I=E.useRef(!0),{viewport:S,selectedItem:C,selectedItemText:A,focusSelectedItem:M}=a,j=E.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&f&&S&&C&&A){const D=o.trigger.getBoundingClientRect(),R=f.getBoundingClientRect(),k=o.valueNode.getBoundingClientRect(),V=A.getBoundingClientRect();if(o.dir!=="rtl"){const Ye=V.left-R.left,Je=k.left-Ye,Rt=D.left-Je,sn=D.width+Rt,Yr=Math.max(sn,R.width),lr=window.innerWidth-Lr,Kn=oI(Je,[Lr,Math.max(Lr,lr-Yr)]);c.style.minWidth=sn+"px",c.style.left=Kn+"px"}else{const Ye=R.right-V.right,Je=window.innerWidth-k.right-Ye,Rt=window.innerWidth-D.right-Je,sn=D.width+Rt,Yr=Math.max(sn,R.width),lr=window.innerWidth-Lr,Kn=oI(Je,[Lr,Math.max(Lr,lr-Yr)]);c.style.minWidth=sn+"px",c.style.right=Kn+"px"}const F=_(),B=window.innerHeight-Lr*2,L=S.scrollHeight,ge=window.getComputedStyle(f),Ce=parseInt(ge.borderTopWidth,10),ve=parseInt(ge.paddingTop,10),he=parseInt(ge.borderBottomWidth,10),Z=parseInt(ge.paddingBottom,10),ee=Ce+ve+L+Z+he,re=Math.min(C.offsetHeight*5,ee),$=window.getComputedStyle(S),te=parseInt($.paddingTop,10),Ne=parseInt($.paddingBottom,10),Se=D.top+D.height/2-Lr,Le=B-Se,ke=C.offsetHeight/2,ue=C.offsetTop+ke,we=Ce+ve+ue,Ie=ee-we;if(we<=Se){const Ye=F.length>0&&C===F[F.length-1].ref.current;c.style.bottom="0px";const Je=f.clientHeight-S.offsetTop-S.offsetHeight,Rt=Math.max(Le,ke+(Ye?Ne:0)+Je+he),sn=we+Rt;c.style.height=sn+"px"}else{const Ye=F.length>0&&C===F[0].ref.current;c.style.top="0px";const Rt=Math.max(Se,Ce+S.offsetTop+(Ye?te:0)+ke)+Ie;c.style.height=Rt+"px",S.scrollTop=we-Se+S.offsetTop}c.style.margin=`${Lr}px 0`,c.style.minHeight=re+"px",c.style.maxHeight=B+"px",r==null||r(),requestAnimationFrame(()=>b.current=!0)}},[_,o.trigger,o.valueNode,c,f,S,C,A,o.dir,r]);Kt(()=>j(),[j]);const[W,G]=E.useState();Kt(()=>{f&&G(window.getComputedStyle(f).zIndex)},[f]);const J=E.useCallback(D=>{D&&I.current===!0&&(j(),M==null||M(),I.current=!1)},[j,M]);return h.jsx(DJ,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:b,onScrollButtonChange:J,children:h.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:W},children:h.jsx(ze.div,{...s,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});fj.displayName=PJ;var kJ="SelectPopperPosition",Y0=E.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Lr,...o}=t,a=og(n);return h.jsx(b2,{...a,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Y0.displayName=kJ;var[DJ,Ox]=zc(za,{}),Q0="SelectViewport",pj=E.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=Bo(Q0,n),a=Ox(Q0,n),c=it(e,o.onViewportChange),d=E.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),h.jsx(sg.Slot,{scope:n,children:h.jsx(ze.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ee(s.onScroll,f=>{const m=f.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:_}=a;if(_!=null&&_.current&&y){const b=Math.abs(d.current-m.scrollTop);if(b>0){const I=window.innerHeight-Lr*2,S=parseFloat(y.style.minHeight),C=parseFloat(y.style.height),A=Math.max(S,C);if(A<I){const M=A+b,j=Math.min(I,M),W=M-j;y.style.height=j+"px",y.style.bottom==="0px"&&(m.scrollTop=W>0?W:0,y.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});pj.displayName=Q0;var mj="SelectGroup",[MJ,jJ]=zc(mj),OJ=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Cs();return h.jsx(MJ,{scope:n,id:s,children:h.jsx(ze.div,{role:"group","aria-labelledby":s,...r,ref:e})})});OJ.displayName=mj;var gj="SelectLabel",yj=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=jJ(gj,n);return h.jsx(ze.div,{id:s.id,...r,ref:e})});yj.displayName=gj;var rm="SelectItem",[LJ,vj]=zc(rm),_j=E.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...a}=t,c=Uo(rm,n),d=Bo(rm,n),f=c.value===r,[m,y]=E.useState(o??""),[_,b]=E.useState(!1),I=it(e,M=>{var j;return(j=d.itemRefCallback)==null?void 0:j.call(d,M,r,s)}),S=Cs(),C=E.useRef("touch"),A=()=>{s||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(LJ,{scope:n,value:r,disabled:s,textId:S,isSelected:f,onItemTextChange:E.useCallback(M=>{y(j=>j||((M==null?void 0:M.textContent)??"").trim())},[]),children:h.jsx(sg.ItemSlot,{scope:n,value:r,disabled:s,textValue:m,children:h.jsx(ze.div,{role:"option","aria-labelledby":S,"data-highlighted":_?"":void 0,"aria-selected":f&&_,"data-state":f?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:I,onFocus:Ee(a.onFocus,()=>b(!0)),onBlur:Ee(a.onBlur,()=>b(!1)),onClick:Ee(a.onClick,()=>{C.current!=="mouse"&&A()}),onPointerUp:Ee(a.onPointerUp,()=>{C.current==="mouse"&&A()}),onPointerDown:Ee(a.onPointerDown,M=>{C.current=M.pointerType}),onPointerMove:Ee(a.onPointerMove,M=>{var j;C.current=M.pointerType,s?(j=d.onItemLeave)==null||j.call(d):C.current==="mouse"&&M.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(a.onPointerLeave,M=>{var j;M.currentTarget===document.activeElement&&((j=d.onItemLeave)==null||j.call(d))}),onKeyDown:Ee(a.onKeyDown,M=>{var W;((W=d.searchRef)==null?void 0:W.current)!==""&&M.key===" "||(EJ.includes(M.key)&&A(),M.key===" "&&M.preventDefault())})})})})});_j.displayName=rm;var Ju="SelectItemText",wj=E.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,a=Uo(Ju,n),c=Bo(Ju,n),d=vj(Ju,n),f=CJ(Ju,n),[m,y]=E.useState(null),_=it(e,A=>y(A),d.onItemTextChange,A=>{var M;return(M=c.itemTextRefCallback)==null?void 0:M.call(c,A,d.value,d.disabled)}),b=m==null?void 0:m.textContent,I=E.useMemo(()=>h.jsx("option",{value:d.value,disabled:d.disabled,children:b},d.value),[d.disabled,d.value,b]),{onNativeOptionAdd:S,onNativeOptionRemove:C}=f;return Kt(()=>(S(I),()=>C(I)),[S,C,I]),h.jsxs(h.Fragment,{children:[h.jsx(ze.span,{id:d.textId,...o,ref:_}),d.isSelected&&a.valueNode&&!a.valueNodeHasChildren?zd.createPortal(o.children,a.valueNode):null]})});wj.displayName=Ju;var xj="SelectItemIndicator",Ej=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return vj(xj,n).isSelected?h.jsx(ze.span,{"aria-hidden":!0,...r,ref:e}):null});Ej.displayName=xj;var X0="SelectScrollUpButton",bj=E.forwardRef((t,e)=>{const n=Bo(X0,t.__scopeSelect),r=Ox(X0,t.__scopeSelect),[s,o]=E.useState(!1),a=it(e,r.onScrollButtonChange);return Kt(()=>{if(n.viewport&&n.isPositioned){let c=function(){const f=d.scrollTop>0;o(f)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?h.jsx(Sj,{...t,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});bj.displayName=X0;var J0="SelectScrollDownButton",Tj=E.forwardRef((t,e)=>{const n=Bo(J0,t.__scopeSelect),r=Ox(J0,t.__scopeSelect),[s,o]=E.useState(!1),a=it(e,r.onScrollButtonChange);return Kt(()=>{if(n.viewport&&n.isPositioned){let c=function(){const f=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<f;o(m)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?h.jsx(Sj,{...t,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});Tj.displayName=J0;var Sj=E.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=Bo("SelectScrollButton",n),a=E.useRef(null),c=ig(n),d=E.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return E.useEffect(()=>()=>d(),[d]),Kt(()=>{var m;const f=c().find(y=>y.ref.current===document.activeElement);(m=f==null?void 0:f.ref.current)==null||m.scrollIntoView({block:"nearest"})},[c]),h.jsx(ze.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ee(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Ee(s.onPointerMove,()=>{var f;(f=o.onItemLeave)==null||f.call(o),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Ee(s.onPointerLeave,()=>{d()})})}),VJ="SelectSeparator",Cj=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return h.jsx(ze.div,{"aria-hidden":!0,...r,ref:e})});Cj.displayName=VJ;var Z0="SelectArrow",FJ=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=og(n),o=Uo(Z0,n),a=Bo(Z0,n);return o.open&&a.position==="popper"?h.jsx(T2,{...s,...r,ref:e}):null});FJ.displayName=Z0;var UJ="SelectBubbleInput",Ij=E.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=E.useRef(null),o=it(r,s),a=YM(e);return E.useEffect(()=>{const c=s.current;if(!c)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(a!==e&&m){const y=new Event("change",{bubbles:!0});m.call(c,e),c.dispatchEvent(y)}},[a,e]),h.jsx(ze.select,{...n,style:{...nj,...n.style},ref:o,defaultValue:e})});Ij.displayName=UJ;function Nj(t){return t===""||t===void 0}function Rj(t){const e=Wr(t),n=E.useRef(""),r=E.useRef(0),s=E.useCallback(a=>{const c=n.current+a;e(c),function d(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(c)},[e]),o=E.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function Aj(t,e,n){const s=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let a=BJ(t,Math.max(o,0));s.length===1&&(a=a.filter(f=>f!==n));const d=a.find(f=>f.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function BJ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var zJ=rj,Pj=ij,$J=aj,WJ=lj,HJ=cj,kj=uj,GJ=pj,Dj=yj,Mj=_j,qJ=wj,KJ=Ej,jj=bj,Oj=Tj,Lj=Cj;const aI=zJ,lI=$J,e_=E.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(Pj,{ref:r,className:fe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 dark:[&>span]:text-white/70",t),...n,children:[e,h.jsx(WJ,{asChild:!0,children:h.jsx(DI,{className:"h-4 w-4 opacity-50"})})]}));e_.displayName=Pj.displayName;const Vj=E.forwardRef(({className:t,...e},n)=>h.jsx(jj,{ref:n,className:fe("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(QV,{className:"h-4 w-4"})}));Vj.displayName=jj.displayName;const Fj=E.forwardRef(({className:t,...e},n)=>h.jsx(Oj,{ref:n,className:fe("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(DI,{className:"h-4 w-4"})}));Fj.displayName=Oj.displayName;const t_=E.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>h.jsx(HJ,{children:h.jsxs(kj,{ref:s,className:fe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[h.jsx(Vj,{}),h.jsx(GJ,{className:fe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),h.jsx(Fj,{})]})}));t_.displayName=kj.displayName;const YJ=E.forwardRef(({className:t,...e},n)=>h.jsx(Dj,{ref:n,className:fe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));YJ.displayName=Dj.displayName;const _a=E.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(Mj,{ref:r,className:fe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(KJ,{children:h.jsx(pp,{className:"h-4 w-4"})})}),h.jsx(qJ,{children:e})]}));_a.displayName=Mj.displayName;const QJ=E.forwardRef(({className:t,...e},n)=>h.jsx(Lj,{ref:n,className:fe("-mx-1 my-1 h-px bg-muted",t),...e}));QJ.displayName=Lj.displayName;function XJ(){const{setTheme:t,theme:e}=yi(),n=jn(),[r,s]=E.useState(null),[o,a]=E.useState(!0),[c,d]=E.useState({name:"",email:"",avatar:""}),[f,m]=E.useState({notifications:!0,emailUpdates:!1,fontSize:"medium",language:"en"});E.useEffect(()=>{if(!or()){n("/login");return}const b=Lm();s(b),b&&d({name:b.name,email:b.email,avatar:b.avatar||""}),a(!1)},[n]),E.useEffect(()=>{const _=localStorage.getItem("sitePreferences");_&&m(JSON.parse(_))},[]);const y=(_,b)=>{const I={...f,[_]:b};m(I),localStorage.setItem("sitePreferences",JSON.stringify(I))};return o?h.jsx("div",{className:"pt-16 min-h-screen flex items-center justify-center",children:h.jsx(O.div,{animate:{rotate:360},transition:{duration:1,repeat:Number.POSITIVE_INFINITY,ease:"linear"},className:"h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):h.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"container mx-auto px-4 py-8",children:h.jsxs("section",{className:"py-20 bg-background relative overflow-hidden",children:[h.jsx(O.div,{className:"absolute top-0 right-0 w-96 h-96 bg-primary/5 rounded-full blur-3xl",animate:{x:[50,100,50],y:[0,50,0],scale:[1,1.1,1]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),h.jsx(O.div,{className:"absolute bottom-0 left-0 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl",animate:{x:[0,-50,0],y:[0,50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:h.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-2xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsx(O.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},className:fe("text-3xl font-bold mb-2",e==="dark"?"text-white":"text-black"),children:"Preferences"}),h.jsx(O.p,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:fe(e==="dark"?"text-white":"text-black"),children:"Customize your experience with appearance, language, and notification settings"})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs(yo,{children:[h.jsxs(vo,{children:[h.jsx(_o,{children:"Appearance"}),h.jsx(wo,{children:"Customize how the website looks and feels"})]}),h.jsxs(xo,{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"space-y-0.5",children:[h.jsx(hn,{children:"Theme"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Switch between light and dark mode"})]}),h.jsx(qe,{variant:"outline",size:"icon",onClick:()=>t(e==="dark"?"light":"dark"),className:fe("hover:bg-[#30D5C8] hover:text-white border-[#30D5C8]",e==="dark"?"text-white":"text-black bg-[#30D5C8]"),children:e==="dark"?h.jsx(u4,{className:"h-5 w-5"}):h.jsx(o4,{className:"h-5 w-5"})})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"space-y-0.5",children:[h.jsx(hn,{children:"Font Size"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Adjust the text size"})]}),h.jsxs(aI,{value:f.fontSize,onValueChange:_=>{y("fontSize",_);const b=document.documentElement;_==="small"?b.style.fontSize="90%":_==="large"?b.style.fontSize="110%":b.style.fontSize="100%"},children:[h.jsx(e_,{className:fe("w-[120px] border-[#30D5C8]",e==="dark"?"text-white":"text-black bg-[#30D5C8] hover:bg-[#30D5C8]/90"),children:h.jsx(lI,{})}),h.jsxs(t_,{className:fe("border-[#30D5C8]",e==="dark"?"text-white":"text-black bg-[#30D5C8]"),children:[h.jsx(_a,{value:"small",className:"hover:bg-[#30D5C8]/90",children:"Small"}),h.jsx(_a,{value:"medium",className:"hover:bg-[#30D5C8]/90",children:"Medium"}),h.jsx(_a,{value:"large",className:"hover:bg-[#30D5C8]/90",children:"Large"})]})]})]})]})]}),h.jsxs(yo,{children:[h.jsxs(vo,{children:[h.jsx(_o,{children:"Language & Region"}),h.jsx(wo,{children:"Choose your preferred language and regional settings"})]}),h.jsx(xo,{className:"space-y-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"space-y-0.5",children:[h.jsx(hn,{children:"Language"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Select your preferred language"})]}),h.jsxs(aI,{value:f.language,onValueChange:_=>y("language",_),children:[h.jsx(e_,{className:fe("w-[120px] border-[#30D5C8]",e==="dark"?"text-white":"text-black bg-[#30D5C8] hover:bg-[#30D5C8]/90"),children:h.jsx(lI,{})}),h.jsxs(t_,{className:fe("border-[#30D5C8]",e==="dark"?"text-white":"text-black bg-[#30D5C8]"),children:[h.jsx(_a,{value:"en",className:"hover:bg-[#30D5C8]/90",children:"English"}),h.jsx(_a,{value:"es",className:"hover:bg-[#30D5C8]/90",children:"Spanish"}),h.jsx(_a,{value:"fr",className:"hover:bg-[#30D5C8]/90",children:"French"})]})]})]})})]}),h.jsxs(yo,{children:[h.jsxs(vo,{children:[h.jsx(_o,{children:"Notifications"}),h.jsx(wo,{children:"Manage your notification preferences"})]}),h.jsxs(xo,{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"space-y-0.5",children:[h.jsx(hn,{children:"Push Notifications"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications about appointments and updates"})]}),h.jsx(K0,{checked:f.notifications,onCheckedChange:_=>y("notifications",_),className:fe("border-[#30D5C8] [&>span]:text-white",e==="dark"?"":"bg-[#30D5C8] data-[state=checked]:bg-[#30D5C8]")})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"space-y-0.5",children:[h.jsx(hn,{children:"Email Updates"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive email notifications about new features and updates"})]}),h.jsx(K0,{checked:f.emailUpdates,onCheckedChange:_=>y("emailUpdates",_),className:fe("border-[#30D5C8] [&>span]:text-white",e==="dark"?"":"bg-[#30D5C8] data-[state=checked]:bg-[#30D5C8]")})]})]})]})]})]})})]})})}function JJ(){return h.jsx("div",{className:"pt-16",children:h.jsxs("section",{className:"py-20 bg-background relative overflow-hidden",children:[h.jsx(O.div,{className:"absolute top-0 right-0 w-96 h-96 bg-primary/5 rounded-full blur-3xl",animate:{x:[50,100,50],y:[0,50,0],scale:[1,1.1,1]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),h.jsx(O.div,{className:"absolute bottom-0 left-0 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl",animate:{x:[0,-50,0],y:[0,50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:h.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-4xl mx-auto bg-card p-8 rounded-lg shadow-md border",children:[h.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},className:"text-center mb-8",children:[h.jsx("h1",{className:"text-4xl font-bold text-[white] mb-4",children:"Privacy Policy"}),h.jsxs("p",{className:"text-lg text-muted-foreground",children:["Last updated: ",new Date().toLocaleDateString()]})]}),h.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"space-y-6 text-muted-foreground",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"1. Introduction"}),h.jsx("p",{children:'Cemar Counseling ("we," "our," or "us") is committed to protecting the privacy, confidentiality, and security of personal information entrusted to us. This Privacy Policy explains how we collect, use, disclose, store, and protect your information when you access our website, book appointments, or receive counseling services.'}),h.jsx("p",{children:"We handle personal information in accordance with applicable privacy laws, professional ethical standards, and best practices for counseling services."})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"2. Information We Collect"}),h.jsx("p",{children:"We may collect and store the following categories of information:"}),h.jsxs("div",{className:"ml-4 space-y-3",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"a. Personal Information"}),h.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[h.jsx("li",{children:"Full name"}),h.jsx("li",{children:"Email address"}),h.jsx("li",{children:"Phone number"}),h.jsx("li",{children:"Appointment and scheduling details"})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"b. Counseling-Related Information"}),h.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[h.jsx("li",{children:"Information voluntarily provided during intake or sessions"}),h.jsx("li",{children:"Session-related notes or administrative records (where applicable)"})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"c. Payment Information"}),h.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[h.jsx("li",{children:"Payment details processed securely through third-party providers such as Stripe or PayPal"}),h.jsx("li",{children:"Billing history and transaction records"})]}),h.jsx("p",{className:"text-xs mt-2",children:"Note: We do not store full credit card numbers on our servers."})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"d. Website & Technical Information"}),h.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[h.jsx("li",{children:"IP address"}),h.jsx("li",{children:"Browser type and device information"}),h.jsx("li",{children:"Website usage data and cookies"})]})]})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"3. How We Use Your Information"}),h.jsx("p",{children:"Your information is used for the following purposes:"}),h.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[h.jsx("li",{children:"To provide and manage counseling services"}),h.jsx("li",{children:"To schedule, confirm, and administer appointments"}),h.jsx("li",{children:"To process payments and maintain financial records"}),h.jsx("li",{children:"To communicate regarding services, policies, or updates"}),h.jsx("li",{children:"To improve website functionality and service quality"}),h.jsx("li",{children:"To comply with legal, ethical, and professional obligations"})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"4. Confidentiality and Disclosure"}),h.jsx("p",{children:"We respect the confidential nature of counseling services. Personal information will not be disclosed without your consent except where disclosure is required or permitted by law, including but not limited to:"}),h.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[h.jsx("li",{children:"Risk of serious harm to yourself or others"}),h.jsx("li",{children:"Suspected abuse or neglect of a child, elderly person, or vulnerable individual"}),h.jsx("li",{children:"Court orders, subpoenas, or other legal obligations"})]}),h.jsx("p",{children:"Only the minimum necessary information will be disclosed in such cases."})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"5. Information Storage and Security"}),h.jsx("p",{children:"We implement reasonable administrative, technical, and physical safeguards to protect your information, including:"}),h.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[h.jsx("li",{children:"Secure data storage systems"}),h.jsx("li",{children:"Encryption of sensitive information where appropriate"}),h.jsx("li",{children:"Restricted access to authorized personnel only"}),h.jsx("li",{children:"Regular review of security practices"})]}),h.jsx("p",{className:"text-sm italic",children:"While we take reasonable steps to protect your information, no system can be guaranteed to be 100% secure."})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"6. Third-Party Services"}),h.jsx("p",{children:"We may use trusted third-party service providers to support our operations, including:"}),h.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[h.jsx("li",{children:"Online scheduling platforms (e.g., Calendly)"}),h.jsx("li",{children:"Payment processors (e.g., Stripe, PayPal)"}),h.jsx("li",{children:"Secure communication and form tools"})]}),h.jsx("p",{children:"These providers have their own privacy policies and are responsible for safeguarding information processed through their systems."})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"7. Your Rights"}),h.jsx("p",{children:"You have the right to:"}),h.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[h.jsx("li",{children:"Request access to your personal information"}),h.jsx("li",{children:"Request corrections to inaccurate or incomplete information"}),h.jsx("li",{children:"Request deletion of your information, subject to legal and professional obligations"}),h.jsx("li",{children:"Withdraw consent where applicable"}),h.jsx("li",{children:"File a complaint regarding privacy practices"})]}),h.jsx("p",{className:"text-sm",children:"Requests may be subject to verification and legal limitations."})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"8. Retention of Information"}),h.jsx("p",{children:"Personal information is retained only for as long as necessary to fulfill the purposes outlined in this policy or as required by law, professional regulations, or insurance requirements."})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"9. Cookies and Website Analytics"}),h.jsx("p",{children:"Our website may use cookies or similar technologies to improve functionality and user experience. You may adjust your browser settings to manage or disable cookies; however, this may affect site performance."})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"10. Changes to This Privacy Policy"}),h.jsx("p",{children:'We may update this Privacy Policy from time to time. Updates will be posted on our website with a revised "Last updated" date. Continued use of our services constitutes acceptance of the updated policy.'})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"11. Contact Information"}),h.jsx("p",{children:"If you have questions, concerns, or requests regarding this Privacy Policy or our data practices, please contact:"}),h.jsxs("div",{className:"bg-card p-4 rounded-lg border mt-4",children:[h.jsx("p",{className:"font-semibold",children:"Cemar Counseling"}),h.jsx("p",{children:" Email: info@cemarcounseling.com"}),h.jsx("p",{children:" Phone: (905) 909-2400"})]})]})]}),h.jsx(O.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"mt-8 text-center",children:h.jsx(qe,{asChild:!0,className:"bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90",children:h.jsx(dn,{to:"/",children:"Back to Home"})})})]})})]})})}function ZJ(){const t=jn(),e=()=>{window.print()},n={hidden:{opacity:0,y:20},visible:s=>({opacity:1,y:0,transition:{delay:s*.05,duration:.5}})},r=[{number:"1",title:"Purpose of Counseling",content:`Counseling at Cemar Counseling is a professional service intended to support personal growth, emotional well-being, and coping strategies for life challenges. Counseling may involve discussion of personal issues, emotions, behaviors, relationships, and past experiences.

While counseling can be highly beneficial, outcomes cannot be guaranteed. Progress depends on many factors, including client participation, honesty, and commitment to the process.`},{number:"2",title:"Nature of Counseling Services",content:`Counseling services may include, but are not limited to:

 Individual counseling sessions
 Emotional and psychological support
 Goal setting and problem-solving strategies
 Psychoeducation and coping skills

Counseling is not a substitute for medical care, psychiatric treatment, or emergency services.`},{number:"3",title:"Not a Medical or Emergency Service",content:`Cemar Counseling does not provide:

 Emergency mental health services
 Crisis intervention
 Medical diagnosis or treatment

If you are experiencing thoughts of self-harm, harm to others, or are in immediate danger, do not book an appointment. Instead, contact your local emergency number or a crisis hotline immediately.`},{number:"4",title:"Client Responsibilities",content:`As a client, you agree to:

 Provide accurate and truthful information
 Participate actively and respectfully in sessions
 Communicate openly about concerns, expectations, or discomfort
 Take responsibility for your own decisions, actions, and outcomes

You understand that counseling involves personal effort and that progress may take time.`},{number:"5",title:"Risks and Benefits of Counseling",content:`Potential Benefits:
 Increased self-awareness
 Improved coping skills
 Emotional relief
 Better communication and relationships

Potential Risks:
 Emotional discomfort
 Temporary increase in distress when discussing difficult topics
 Unresolved issues may surface during the process

You acknowledge that these risks are a normal part of counseling.`},{number:"6",title:"Confidentiality",content:`Your privacy is taken seriously. Information shared during counseling is treated as confidential and will not be disclosed without your consent, except where disclosure is required or permitted by law, including but not limited to:

 Risk of serious harm to yourself or others
 Suspected abuse or neglect of a child, elderly person, or vulnerable individual
 Court orders or legal requirements

Electronic communication and online services carry inherent risks, and absolute confidentiality cannot be guaranteed.`},{number:"7",title:"Records and Documentation",content:`Cemar Counseling may maintain limited records related to scheduling, billing, and administrative purposes. Clinical notes, if kept, are stored securely and accessed only by authorized personnel.

You have the right to request information about records in accordance with applicable laws.`},{number:"8",title:"Fees and Payment Policy",content:` Payment is required in full prior to confirming an appointment unless otherwise stated
 Accepted payment methods include Stripe and PayPal
 Fees will be clearly displayed at the time of booking
 Failure to complete payment will result in the appointment not being confirmed.`},{number:"9",title:"Cancellation, Rescheduling, and No-Show Policy",content:` Appointments must be canceled or rescheduled at least 24 hours in advance
 Late cancellations or no-shows may be charged the full session fee
 Exceptions may be made at the discretion of Cemar Counseling

This policy respects the counselor's time and availability.`},{number:"10",title:"Technology and Virtual Sessions",content:`If sessions are conducted virtually:

 You are responsible for ensuring a private, secure environment
 Technical issues may occasionally occur
 Cemar Counseling is not responsible for interruptions beyond its control`},{number:"11",title:"Professional Boundaries",content:"Counseling sessions are strictly professional. Dual relationships, inappropriate contact, or communication outside agreed professional channels are not permitted."},{number:"12",title:"Consent to Services",content:`By booking an appointment and checking the consent box, you confirm that:

 You are at least 18 years of age (or have legal guardian consent)
 You understand the nature and limits of counseling services
 You voluntarily consent to receive counseling services from Cemar Counseling`}];return h.jsxs("div",{className:"pt-16",children:[h.jsx("section",{className:"py-12 bg-gradient-to-r from-[#30D5C8]/10 to-[#008080]/10 border-b border-[#30D5C8]/20",children:h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-black dark:text-white mb-2",children:"Informed Consent & Policies"}),h.jsx("p",{className:"text-base text-black/70 dark:text-white/70",children:"Cemar Counseling  Professional Counseling Services"}),h.jsx("p",{className:"text-sm text-black/60 dark:text-white/60 mt-2",children:"Effective Date: January 2026 | Last Updated: January 2026"})]}),h.jsxs(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"flex flex-col gap-2",children:[h.jsxs(qe,{onClick:e,className:"bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90 flex items-center gap-2",children:[h.jsx(JV,{className:"h-4 w-4"}),"Print / Save as PDF"]}),h.jsxs(qe,{variant:"outline",onClick:()=>t("/"),className:"flex items-center gap-2 text-black dark:text-white",children:[h.jsx(t4,{className:"h-4 w-4"}),"Return Home"]})]})]})})}),h.jsx("section",{className:"py-8 bg-yellow-50 dark:bg-yellow-900/20 border-y border-yellow-200 dark:border-yellow-800/50",children:h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.1},className:"bg-white dark:bg-slate-900 rounded-lg p-6 border-l-4 border-yellow-500",children:[h.jsx("p",{className:"text-base font-semibold text-black dark:text-white mb-2",children:" Important Notice"}),h.jsx("p",{className:"text-sm text-black/80 dark:text-white/80 leading-relaxed",children:"By booking an appointment with Cemar Counseling, you acknowledge that you have read, understood, and agree to all terms outlined in this document. Please read this document carefully before proceeding with your appointment booking."})]})})}),h.jsx("section",{className:"py-16 bg-background",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[h.jsxs(O.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:n,custom:0,className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-6 mb-12 border border-red-200 dark:border-red-800",children:[h.jsx("h2",{className:"text-xl font-bold text-red-700 dark:text-red-400 mb-3",children:" Crisis & Emergency Disclaimer"}),h.jsx("p",{className:"text-sm text-red-900 dark:text-red-200 leading-relaxed mb-3",children:"If you are experiencing thoughts of self-harm, suicidal ideation, or harm to others, or if you are in immediate danger, please do NOT use this service. Instead:"}),h.jsxs("ul",{className:"text-sm text-red-900 dark:text-red-200 space-y-2 ml-4 list-disc",children:[h.jsx("li",{children:"Call your local emergency number (911 in the US)"}),h.jsx("li",{children:"Contact the National Suicide Prevention Lifeline: 988 (call or text)"}),h.jsx("li",{children:"Go to your nearest emergency room"}),h.jsx("li",{children:"Contact the Crisis Text Line: Text HOME to 741741"})]})]}),h.jsx("div",{className:"space-y-10",children:r.map((s,o)=>h.jsx(O.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},variants:n,custom:o+1,className:"print:page-break-inside-avoid",children:h.jsxs("div",{className:"flex gap-4",children:[h.jsx("div",{className:"flex-shrink-0",children:h.jsx("div",{className:"flex items-center justify-center h-10 w-10 rounded-full bg-[#30D5C8] text-black font-bold text-lg",children:s.number})}),h.jsxs("div",{className:"flex-grow",children:[h.jsx("h2",{className:"text-2xl font-semibold text-black dark:text-white mb-4",children:s.title}),h.jsx("p",{className:"text-base text-black/80 dark:text-white/80 leading-relaxed whitespace-pre-wrap",children:s.content})]})]})},s.number))}),h.jsxs(O.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},variants:n,custom:r.length+1,className:"mt-16 bg-[#30D5C8]/10 rounded-lg p-8 border-2 border-[#30D5C8]/30 print:page-break-inside-avoid",children:[h.jsx("h2",{className:"text-2xl font-bold text-black dark:text-white mb-6",children:"Final Acknowledgment"}),h.jsxs("div",{className:"space-y-4 text-base text-black/80 dark:text-white/80 leading-relaxed",children:[h.jsx("p",{children:"By proceeding with booking an appointment with Cemar Counseling, you acknowledge that:"}),h.jsxs("ul",{className:"space-y-3 ml-6 list-disc",children:[h.jsx("li",{children:"You have read this informed consent document in full"}),h.jsx("li",{children:"You understand its contents and implications"}),h.jsx("li",{children:"You voluntarily agree to abide by all policies described"}),h.jsx("li",{children:"You understand the risks and benefits of counseling"}),h.jsx("li",{children:"You are not in crisis or experiencing an emergency"}),h.jsx("li",{children:"You will seek appropriate emergency services if needed"})]}),h.jsx("p",{className:"mt-6 font-semibold text-black dark:text-white",children:"If you have any questions or concerns about this document or our services, please contact Cemar Counseling before booking your appointment."})]})]}),h.jsxs(O.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:n,custom:r.length+2,className:"mt-12 text-center text-sm text-black/60 dark:text-white/60 border-t border-black/10 dark:border-white/10 pt-8",children:[h.jsx("p",{className:"font-semibold text-black dark:text-white mb-2",children:"Cemar Counseling"}),h.jsx("p",{children:"Professional Counseling Services"}),h.jsxs("p",{className:"mt-3",children:["Phone: ",h.jsx("a",{href:"tel:+19059092400",className:"text-[#30D5C8] hover:underline",children:"(905) 909-2400"})]}),h.jsx("p",{className:"mt-6 text-xs text-black/50 dark:text-white/50",children:" 2026 Cemar Counseling. All rights reserved."})]})]})}),h.jsx("style",{children:`
        @media print {
          body {
            background: white;
            color: black;
          }

          .no-print {
            display: none !important;
          }

          section {
            page-break-inside: avoid;
            margin: 0;
            padding: 0.5in;
          }

          h1, h2, h3 {
            page-break-after: avoid;
            page-break-inside: avoid;
          }

          p {
            page-break-inside: avoid;
            orphans: 3;
            widows: 3;
          }

          a {
            text-decoration: none;
            color: #333;
          }

          .print\\:page-break-inside-avoid {
            page-break-inside: avoid;
          }

          /* Hide buttons and interactive elements when printing */
          button {
            display: none !important;
          }

          /* Ensure proper margins */
          @page {
            margin: 0.75in;
          }
        }
      `})]})}const Iv=({children:t})=>{const e=jn(),n=jo();return E.useEffect(()=>{or()||e(`/login?returnUrl=${encodeURIComponent(n.pathname)}`)},[e,n]),or()?h.jsx(h.Fragment,{children:t}):null};function eZ(){return h.jsx(aV,{defaultTheme:"light",enableSystem:!0,disableTransitionOnChange:!0,children:h.jsxs("div",{className:"flex min-h-screen flex-col",children:[h.jsx(fX,{}),h.jsx("main",{className:"flex-1",children:h.jsxs(qL,{children:[h.jsx($n,{path:"/",element:h.jsx(yX,{})}),h.jsx($n,{path:"/about",element:h.jsx(vX,{})}),h.jsx($n,{path:"/services",element:h.jsx(_X,{})}),h.jsx($n,{path:"/contact",element:h.jsx(wX,{})}),h.jsx($n,{path:"/booking",element:h.jsx(xX,{})}),h.jsx($n,{path:"/login",element:h.jsx(RX,{})}),h.jsx($n,{path:"/terms",element:h.jsx(AX,{})}),h.jsx($n,{path:"/privacy",element:h.jsx(JJ,{})}),h.jsx($n,{path:"/informed-consent",element:h.jsx(ZJ,{})}),h.jsx($n,{path:"/forgot-password",element:h.jsx(PX,{})}),h.jsx($n,{path:"/profile",element:h.jsx(Iv,{children:h.jsx(DX,{})})}),h.jsx($n,{path:"/account-settings",element:h.jsx(Iv,{children:h.jsx(fJ,{})})}),h.jsx($n,{path:"/preferences",element:h.jsx(Iv,{children:h.jsx(XJ,{})})})]})}),h.jsx(mX,{})]})})}tL.createRoot(document.getElementById("root")).render(h.jsx(Zs.StrictMode,{children:h.jsx(tV,{children:h.jsx(eZ,{})})}));
