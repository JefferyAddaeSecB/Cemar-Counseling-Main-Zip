function GL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Vx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mv={exports:{}},rd={},gv={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jT;function KL(){if(jT)return qe;jT=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function v(H){return H===null||typeof H!="object"?null:(H=y&&H[y]||H["@@iterator"],typeof H=="function"?H:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,S={};function T(H,te,_e){this.props=H,this.context=te,this.refs=S,this.updater=_e||E}T.prototype.isReactComponent={},T.prototype.setState=function(H,te){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,te,"setState")},T.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function N(){}N.prototype=T.prototype;function j(H,te,_e){this.props=H,this.context=te,this.refs=S,this.updater=_e||E}var k=j.prototype=new N;k.constructor=j,I(k,T.prototype),k.isPureReactComponent=!0;var $=Array.isArray,B=Object.prototype.hasOwnProperty,W={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function R(H,te,_e){var Te,Ve={},je=null,de=null;if(te!=null)for(Te in te.ref!==void 0&&(de=te.ref),te.key!==void 0&&(je=""+te.key),te)B.call(te,Te)&&!P.hasOwnProperty(Te)&&(Ve[Te]=te[Te]);var be=arguments.length-2;if(be===1)Ve.children=_e;else if(1<be){for(var Ae=Array(be),Fe=0;Fe<be;Fe++)Ae[Fe]=arguments[Fe+2];Ve.children=Ae}if(H&&H.defaultProps)for(Te in be=H.defaultProps,be)Ve[Te]===void 0&&(Ve[Te]=be[Te]);return{$$typeof:t,type:H,key:je,ref:de,props:Ve,_owner:W.current}}function D(H,te){return{$$typeof:t,type:H.type,key:te,ref:H.ref,props:H.props,_owner:H._owner}}function V(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function F(H){var te={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(_e){return te[_e]})}var z=/\/+/g;function L(H,te){return typeof H=="object"&&H!==null&&H.key!=null?F(""+H.key):te.toString(36)}function me(H,te,_e,Te,Ve){var je=typeof H;(je==="undefined"||je==="boolean")&&(H=null);var de=!1;if(H===null)de=!0;else switch(je){case"string":case"number":de=!0;break;case"object":switch(H.$$typeof){case t:case e:de=!0}}if(de)return de=H,Ve=Ve(de),H=Te===""?"."+L(de,0):Te,$(Ve)?(_e="",H!=null&&(_e=H.replace(z,"$&/")+"/"),me(Ve,te,_e,"",function(Fe){return Fe})):Ve!=null&&(V(Ve)&&(Ve=D(Ve,_e+(!Ve.key||de&&de.key===Ve.key?"":(""+Ve.key).replace(z,"$&/")+"/")+H)),te.push(Ve)),1;if(de=0,Te=Te===""?".":Te+":",$(H))for(var be=0;be<H.length;be++){je=H[be];var Ae=Te+L(je,be);de+=me(je,te,_e,Ae,Ve)}else if(Ae=v(H),typeof Ae=="function")for(H=Ae.call(H),be=0;!(je=H.next()).done;)je=je.value,Ae=Te+L(je,be++),de+=me(je,te,_e,Ae,Ve);else if(je==="object")throw te=String(H),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return de}function Ie(H,te,_e){if(H==null)return H;var Te=[],Ve=0;return me(H,Te,"","",function(je){return te.call(_e,je,Ve++)}),Te}function ye(H){if(H._status===-1){var te=H._result;te=te(),te.then(function(_e){(H._status===0||H._status===-1)&&(H._status=1,H._result=_e)},function(_e){(H._status===0||H._status===-1)&&(H._status=2,H._result=_e)}),H._status===-1&&(H._status=0,H._result=te)}if(H._status===1)return H._result.default;throw H._result}var ae={current:null},J={transition:null},K={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:J,ReactCurrentOwner:W};function ne(){throw Error("act(...) is not supported in production builds of React.")}return qe.Children={map:Ie,forEach:function(H,te,_e){Ie(H,function(){te.apply(this,arguments)},_e)},count:function(H){var te=0;return Ie(H,function(){te++}),te},toArray:function(H){return Ie(H,function(te){return te})||[]},only:function(H){if(!V(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},qe.Component=T,qe.Fragment=n,qe.Profiler=s,qe.PureComponent=j,qe.StrictMode=r,qe.Suspense=h,qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,qe.act=ne,qe.cloneElement=function(H,te,_e){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var Te=I({},H.props),Ve=H.key,je=H.ref,de=H._owner;if(te!=null){if(te.ref!==void 0&&(je=te.ref,de=W.current),te.key!==void 0&&(Ve=""+te.key),H.type&&H.type.defaultProps)var be=H.type.defaultProps;for(Ae in te)B.call(te,Ae)&&!P.hasOwnProperty(Ae)&&(Te[Ae]=te[Ae]===void 0&&be!==void 0?be[Ae]:te[Ae])}var Ae=arguments.length-2;if(Ae===1)Te.children=_e;else if(1<Ae){be=Array(Ae);for(var Fe=0;Fe<Ae;Fe++)be[Fe]=arguments[Fe+2];Te.children=be}return{$$typeof:t,type:H.type,key:Ve,ref:je,props:Te,_owner:de}},qe.createContext=function(H){return H={$$typeof:a,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:o,_context:H},H.Consumer=H},qe.createElement=R,qe.createFactory=function(H){var te=R.bind(null,H);return te.type=H,te},qe.createRef=function(){return{current:null}},qe.forwardRef=function(H){return{$$typeof:u,render:H}},qe.isValidElement=V,qe.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:ye}},qe.memo=function(H,te){return{$$typeof:f,type:H,compare:te===void 0?null:te}},qe.startTransition=function(H){var te=J.transition;J.transition={};try{H()}finally{J.transition=te}},qe.unstable_act=ne,qe.useCallback=function(H,te){return ae.current.useCallback(H,te)},qe.useContext=function(H){return ae.current.useContext(H)},qe.useDebugValue=function(){},qe.useDeferredValue=function(H){return ae.current.useDeferredValue(H)},qe.useEffect=function(H,te){return ae.current.useEffect(H,te)},qe.useId=function(){return ae.current.useId()},qe.useImperativeHandle=function(H,te,_e){return ae.current.useImperativeHandle(H,te,_e)},qe.useInsertionEffect=function(H,te){return ae.current.useInsertionEffect(H,te)},qe.useLayoutEffect=function(H,te){return ae.current.useLayoutEffect(H,te)},qe.useMemo=function(H,te){return ae.current.useMemo(H,te)},qe.useReducer=function(H,te,_e){return ae.current.useReducer(H,te,_e)},qe.useRef=function(H){return ae.current.useRef(H)},qe.useState=function(H){return ae.current.useState(H)},qe.useSyncExternalStore=function(H,te,_e){return ae.current.useSyncExternalStore(H,te,_e)},qe.useTransition=function(){return ae.current.useTransition()},qe.version="18.3.1",qe}var DT;function Om(){return DT||(DT=1,gv.exports=KL()),gv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MT;function YL(){if(MT)return rd;MT=1;var t=Om(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(u,h,f){var m,y={},v=null,E=null;f!==void 0&&(v=""+f),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(E=h.ref);for(m in h)r.call(h,m)&&!o.hasOwnProperty(m)&&(y[m]=h[m]);if(u&&u.defaultProps)for(m in h=u.defaultProps,h)y[m]===void 0&&(y[m]=h[m]);return{$$typeof:e,type:u,key:v,ref:E,props:y,_owner:s.current}}return rd.Fragment=n,rd.jsx=a,rd.jsxs=a,rd}var OT;function QL(){return OT||(OT=1,mv.exports=YL()),mv.exports}var c=QL(),w=Om();const mi=Vx(w),Fx=GL({__proto__:null,default:mi},[w]);var ep={},yv={exports:{}},Xn={},vv={exports:{}},xv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LT;function XL(){return LT||(LT=1,function(t){function e(J,K){var ne=J.length;J.push(K);e:for(;0<ne;){var H=ne-1>>>1,te=J[H];if(0<s(te,K))J[H]=K,J[ne]=te,ne=H;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var K=J[0],ne=J.pop();if(ne!==K){J[0]=ne;e:for(var H=0,te=J.length,_e=te>>>1;H<_e;){var Te=2*(H+1)-1,Ve=J[Te],je=Te+1,de=J[je];if(0>s(Ve,ne))je<te&&0>s(de,Ve)?(J[H]=de,J[je]=ne,H=je):(J[H]=Ve,J[Te]=ne,H=Te);else if(je<te&&0>s(de,ne))J[H]=de,J[je]=ne,H=je;else break e}}return K}function s(J,K){var ne=J.sortIndex-K.sortIndex;return ne!==0?ne:J.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var h=[],f=[],m=1,y=null,v=3,E=!1,I=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(J){for(var K=n(f);K!==null;){if(K.callback===null)r(f);else if(K.startTime<=J)r(f),K.sortIndex=K.expirationTime,e(h,K);else break;K=n(f)}}function $(J){if(S=!1,k(J),!I)if(n(h)!==null)I=!0,ye(B);else{var K=n(f);K!==null&&ae($,K.startTime-J)}}function B(J,K){I=!1,S&&(S=!1,N(R),R=-1),E=!0;var ne=v;try{for(k(K),y=n(h);y!==null&&(!(y.expirationTime>K)||J&&!F());){var H=y.callback;if(typeof H=="function"){y.callback=null,v=y.priorityLevel;var te=H(y.expirationTime<=K);K=t.unstable_now(),typeof te=="function"?y.callback=te:y===n(h)&&r(h),k(K)}else r(h);y=n(h)}if(y!==null)var _e=!0;else{var Te=n(f);Te!==null&&ae($,Te.startTime-K),_e=!1}return _e}finally{y=null,v=ne,E=!1}}var W=!1,P=null,R=-1,D=5,V=-1;function F(){return!(t.unstable_now()-V<D)}function z(){if(P!==null){var J=t.unstable_now();V=J;var K=!0;try{K=P(!0,J)}finally{K?L():(W=!1,P=null)}}else W=!1}var L;if(typeof j=="function")L=function(){j(z)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,Ie=me.port2;me.port1.onmessage=z,L=function(){Ie.postMessage(null)}}else L=function(){T(z,0)};function ye(J){P=J,W||(W=!0,L())}function ae(J,K){R=T(function(){J(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){I||E||(I=!0,ye(B))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(J){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var ne=v;v=K;try{return J()}finally{v=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,K){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ne=v;v=J;try{return K()}finally{v=ne}},t.unstable_scheduleCallback=function(J,K,ne){var H=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?H+ne:H):ne=H,J){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=ne+te,J={id:m++,callback:K,priorityLevel:J,startTime:ne,expirationTime:te,sortIndex:-1},ne>H?(J.sortIndex=ne,e(f,J),n(h)===null&&J===n(f)&&(S?(N(R),R=-1):S=!0,ae($,ne-H))):(J.sortIndex=te,e(h,J),I||E||(I=!0,ye(B))),J},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(J){var K=v;return function(){var ne=v;v=K;try{return J.apply(this,arguments)}finally{v=ne}}}}(xv)),xv}var VT;function JL(){return VT||(VT=1,vv.exports=XL()),vv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FT;function ZL(){if(FT)return Xn;FT=1;var t=Om(),e=JL();function n(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,l){a(i,l),a(i+"Capture",l)}function a(i,l){for(s[i]=l,i=0;i<l.length;i++)r.add(l[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function v(i){return h.call(y,i)?!0:h.call(m,i)?!1:f.test(i)?y[i]=!0:(m[i]=!0,!1)}function E(i,l,d,g){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function I(i,l,d,g){if(l===null||typeof l>"u"||E(i,l,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function S(i,l,d,g,x,_,A){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=x,this.mustUseProperty=d,this.propertyName=i,this.type=l,this.sanitizeURL=_,this.removeEmptyString=A}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){T[i]=new S(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];T[l]=new S(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){T[i]=new S(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){T[i]=new S(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){T[i]=new S(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){T[i]=new S(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){T[i]=new S(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){T[i]=new S(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){T[i]=new S(i,5,!1,i.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function j(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(N,j);T[l]=new S(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(N,j);T[l]=new S(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(N,j);T[l]=new S(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){T[i]=new S(i,1,!1,i.toLowerCase(),null,!1,!1)}),T.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){T[i]=new S(i,1,!1,i.toLowerCase(),null,!0,!0)});function k(i,l,d,g){var x=T.hasOwnProperty(l)?T[l]:null;(x!==null?x.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(I(l,d,x,g)&&(d=null),g||x===null?v(l)&&(d===null?i.removeAttribute(l):i.setAttribute(l,""+d)):x.mustUseProperty?i[x.propertyName]=d===null?x.type===3?!1:"":d:(l=x.attributeName,g=x.attributeNamespace,d===null?i.removeAttribute(l):(x=x.type,d=x===3||x===4&&d===!0?"":""+d,g?i.setAttributeNS(g,l,d):i.setAttribute(l,d))))}var $=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),W=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),F=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),Ie=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),J=Symbol.iterator;function K(i){return i===null||typeof i!="object"?null:(i=J&&i[J]||i["@@iterator"],typeof i=="function"?i:null)}var ne=Object.assign,H;function te(i){if(H===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);H=l&&l[1]||""}return`
`+H+i}var _e=!1;function Te(i,l){if(!i||_e)return"";_e=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Z){var g=Z}Reflect.construct(i,[],l)}else{try{l.call()}catch(Z){g=Z}i.call(l.prototype)}else{try{throw Error()}catch(Z){g=Z}i()}}catch(Z){if(Z&&g&&typeof Z.stack=="string"){for(var x=Z.stack.split(`
`),_=g.stack.split(`
`),A=x.length-1,U=_.length-1;1<=A&&0<=U&&x[A]!==_[U];)U--;for(;1<=A&&0<=U;A--,U--)if(x[A]!==_[U]){if(A!==1||U!==1)do if(A--,U--,0>U||x[A]!==_[U]){var q=`
`+x[A].replace(" at new "," at ");return i.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",i.displayName)),q}while(1<=A&&0<=U);break}}}finally{_e=!1,Error.prepareStackTrace=d}return(i=i?i.displayName||i.name:"")?te(i):""}function Ve(i){switch(i.tag){case 5:return te(i.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return i=Te(i.type,!1),i;case 11:return i=Te(i.type.render,!1),i;case 1:return i=Te(i.type,!0),i;default:return""}}function je(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case W:return"Portal";case D:return"Profiler";case R:return"StrictMode";case L:return"Suspense";case me:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case F:return(i.displayName||"Context")+".Consumer";case V:return(i._context.displayName||"Context")+".Provider";case z:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ie:return l=i.displayName||null,l!==null?l:je(i.type)||"Memo";case ye:l=i._payload,i=i._init;try{return je(i(l))}catch{}}return null}function de(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(l);case 8:return l===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function be(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ae(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Fe(i){var l=Ae(i)?"checked":"value",d=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),g=""+i[l];if(!i.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,_=d.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return x.call(this)},set:function(A){g=""+A,_.call(this,A)}}),Object.defineProperty(i,l,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(A){g=""+A},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Qe(i){i._valueTracker||(i._valueTracker=Fe(i))}function Ze(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return i&&(g=Ae(i)?i.checked?"true":"false":i.value),i=g,i!==d?(l.setValue(i),!0):!1}function jt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function gn(i,l){var d=l.checked;return ne({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??i._wrapperState.initialChecked})}function cs(i,l){var d=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;d=be(l.value!=null?l.value:d),i._wrapperState={initialChecked:g,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function vr(i,l){l=l.checked,l!=null&&k(i,"checked",l,!1)}function nr(i,l){vr(i,l);var d=be(l.value),g=l.type;if(d!=null)g==="number"?(d===0&&i.value===""||i.value!=d)&&(i.value=""+d):i.value!==""+d&&(i.value=""+d);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?gt(i,l.type,d):l.hasOwnProperty("defaultValue")&&gt(i,l.type,be(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function sa(i,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,d||l===i.value||(i.value=l),i.defaultValue=l}d=i.name,d!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,d!==""&&(i.name=d)}function gt(i,l,d){(l!=="number"||jt(i.ownerDocument)!==i)&&(d==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+d&&(i.defaultValue=""+d))}var Vt=Array.isArray;function Lr(i,l,d,g){if(i=i.options,l){l={};for(var x=0;x<d.length;x++)l["$"+d[x]]=!0;for(d=0;d<i.length;d++)x=l.hasOwnProperty("$"+i[d].value),i[d].selected!==x&&(i[d].selected=x),x&&g&&(i[d].defaultSelected=!0)}else{for(d=""+be(d),l=null,x=0;x<i.length;x++){if(i[x].value===d){i[x].selected=!0,g&&(i[x].defaultSelected=!0);return}l!==null||i[x].disabled||(l=i[x])}l!==null&&(l.selected=!0)}}function du(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return ne({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hu(i,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(n(92));if(Vt(d)){if(1<d.length)throw Error(n(93));d=d[0]}l=d}l==null&&(l=""),d=l}i._wrapperState={initialValue:be(d)}}function Fh(i,l){var d=be(l.value),g=be(l.defaultValue);d!=null&&(d=""+d,d!==i.value&&(i.value=d),l.defaultValue==null&&i.defaultValue!==d&&(i.defaultValue=d)),g!=null&&(i.defaultValue=""+g)}function Bi(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function fu(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yl(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?fu(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var zi,Uh=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,g,x){MSApp.execUnsafeLocalFunction(function(){return i(l,d,g,x)})}:i}(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(zi=zi||document.createElement("div"),zi.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=zi.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function ia(i,l){if(l){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=l;return}}i.textContent=l}var $i={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bh=["Webkit","ms","Moz","O"];Object.keys($i).forEach(function(i){Bh.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),$i[l]=$i[i]})});function Wi(i,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||$i.hasOwnProperty(i)&&$i[i]?(""+l).trim():l+"px"}function vl(i,l){i=i.style;for(var d in l)if(l.hasOwnProperty(d)){var g=d.indexOf("--")===0,x=Wi(d,l[d],g);d==="float"&&(d="cssFloat"),g?i.setProperty(d,x):i[d]=x}}var pu=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vr(i,l){if(l){if(pu[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function xl(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hi=null;function wl(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ks=null,Ys=null,Dt=null;function mu(i){if(i=zu(i)){if(typeof Ks!="function")throw Error(n(280));var l=i.stateNode;l&&(l=mf(l),Ks(i.stateNode,i.type,l))}}function qi(i){Ys?Dt?Dt.push(i):Dt=[i]:Ys=i}function Gi(){if(Ys){var i=Ys,l=Dt;if(Dt=Ys=null,mu(i),l)for(i=0;i<l.length;i++)mu(l[i])}}function zh(i,l){return i(l)}function $h(){}var us=!1;function Wh(i,l,d){if(us)return i(l,d);us=!0;try{return zh(i,l,d)}finally{us=!1,(Ys!==null||Dt!==null)&&($h(),Gi())}}function oa(i,l){var d=i.stateNode;if(d===null)return null;var g=mf(d);if(g===null)return null;d=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var Ki=!1;if(u)try{var Yi={};Object.defineProperty(Yi,"passive",{get:function(){Ki=!0}}),window.addEventListener("test",Yi,Yi),window.removeEventListener("test",Yi,Yi)}catch{Ki=!1}function Hh(i,l,d,g,x,_,A,U,q){var Z=Array.prototype.slice.call(arguments,3);try{l.apply(d,Z)}catch(oe){this.onError(oe)}}var Qs=!1,ds=null,_l=!1,xr=null,qh={onError:function(i){Qs=!0,ds=i}};function Gh(i,l,d,g,x,_,A,U,q){Qs=!1,ds=null,Hh.apply(qh,arguments)}function gu(i,l,d,g,x,_,A,U,q){if(Gh.apply(this,arguments),Qs){if(Qs){var Z=ds;Qs=!1,ds=null}else throw Error(n(198));_l||(_l=!0,xr=Z)}}function Fr(i){var l=i,d=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(d=l.return),i=l.return;while(i)}return l.tag===3?d:null}function yu(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function Kh(i){if(Fr(i)!==i)throw Error(n(188))}function Yh(i){var l=i.alternate;if(!l){if(l=Fr(i),l===null)throw Error(n(188));return l!==i?null:i}for(var d=i,g=l;;){var x=d.return;if(x===null)break;var _=x.alternate;if(_===null){if(g=x.return,g!==null){d=g;continue}break}if(x.child===_.child){for(_=x.child;_;){if(_===d)return Kh(x),i;if(_===g)return Kh(x),l;_=_.sibling}throw Error(n(188))}if(d.return!==g.return)d=x,g=_;else{for(var A=!1,U=x.child;U;){if(U===d){A=!0,d=x,g=_;break}if(U===g){A=!0,g=x,d=_;break}U=U.sibling}if(!A){for(U=_.child;U;){if(U===d){A=!0,d=_,g=x;break}if(U===g){A=!0,g=_,d=x;break}U=U.sibling}if(!A)throw Error(n(189))}}if(d.alternate!==g)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?i:l}function Qh(i){return i=Yh(i),i!==null?aa(i):null}function aa(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=aa(i);if(l!==null)return l;i=i.sibling}return null}var vu=e.unstable_scheduleCallback,bl=e.unstable_cancelCallback,la=e.unstable_shouldYield,Xs=e.unstable_requestPaint,yt=e.unstable_now,qg=e.unstable_getCurrentPriorityLevel,El=e.unstable_ImmediatePriority,xu=e.unstable_UserBlockingPriority,ca=e.unstable_NormalPriority,wu=e.unstable_LowPriority,Tl=e.unstable_IdlePriority,ua=null,rr=null;function Xh(i){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(ua,i,void 0,(i.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:da,hs=Math.log,wr=Math.LN2;function da(i){return i>>>=0,i===0?32:31-(hs(i)/wr|0)|0}var fs=64,Qi=4194304;function ot(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Js(i,l){var d=i.pendingLanes;if(d===0)return 0;var g=0,x=i.suspendedLanes,_=i.pingedLanes,A=d&268435455;if(A!==0){var U=A&~x;U!==0?g=ot(U):(_&=A,_!==0&&(g=ot(_)))}else A=d&~x,A!==0?g=ot(A):_!==0&&(g=ot(_));if(g===0)return 0;if(l!==0&&l!==g&&(l&x)===0&&(x=g&-g,_=l&-l,x>=_||x===16&&(_&4194240)!==0))return l;if((g&4)!==0&&(g|=d&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=g;0<l;)d=31-sr(l),x=1<<d,g|=i[d],l&=~x;return g}function ha(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fa(i,l){for(var d=i.suspendedLanes,g=i.pingedLanes,x=i.expirationTimes,_=i.pendingLanes;0<_;){var A=31-sr(_),U=1<<A,q=x[A];q===-1?((U&d)===0||(U&g)!==0)&&(x[A]=ha(U,l)):q<=l&&(i.expiredLanes|=U),_&=~U}}function _u(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function bu(){var i=fs;return fs<<=1,(fs&4194240)===0&&(fs=64),i}function Eu(i){for(var l=[],d=0;31>d;d++)l.push(i);return l}function pa(i,l,d){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-sr(l),i[l]=d}function Gg(i,l){var d=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<d;){var x=31-sr(d),_=1<<x;l[x]=0,g[x]=-1,i[x]=-1,d&=~_}}function Tu(i,l){var d=i.entangledLanes|=l;for(i=i.entanglements;d;){var g=31-sr(d),x=1<<g;x&l|i[g]&l&&(i[g]|=l),d&=~x}}var Xe=0;function ps(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Su,Sl,Cu,Iu,Nu,ms=!1,Cl=[],gs=null,ys=null,yn=null,ma=new Map,Zs=new Map,ir=[],Jh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xi(i,l){switch(i){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":yn=null;break;case"pointerover":case"pointerout":ma.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zs.delete(l.pointerId)}}function Ur(i,l,d,g,x,_){return i===null||i.nativeEvent!==_?(i={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:_,targetContainers:[x]},l!==null&&(l=zu(l),l!==null&&Sl(l)),i):(i.eventSystemFlags|=g,l=i.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),i)}function Zh(i,l,d,g,x){switch(l){case"focusin":return gs=Ur(gs,i,l,d,g,x),!0;case"dragenter":return ys=Ur(ys,i,l,d,g,x),!0;case"mouseover":return yn=Ur(yn,i,l,d,g,x),!0;case"pointerover":var _=x.pointerId;return ma.set(_,Ur(ma.get(_)||null,i,l,d,g,x)),!0;case"gotpointercapture":return _=x.pointerId,Zs.set(_,Ur(Zs.get(_)||null,i,l,d,g,x)),!0}return!1}function Il(i){var l=xa(i.target);if(l!==null){var d=Fr(l);if(d!==null){if(l=d.tag,l===13){if(l=yu(d),l!==null){i.blockedOn=l,Nu(i.priority,function(){Cu(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ft(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var d=Nl(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(d===null){d=i.nativeEvent;var g=new d.constructor(d.type,d);Hi=g,d.target.dispatchEvent(g),Hi=null}else return l=zu(d),l!==null&&Sl(l),i.blockedOn=d,!1;l.shift()}return!0}function ef(i,l,d){ft(i)&&d.delete(l)}function Kg(){ms=!1,gs!==null&&ft(gs)&&(gs=null),ys!==null&&ft(ys)&&(ys=null),yn!==null&&ft(yn)&&(yn=null),ma.forEach(ef),Zs.forEach(ef)}function Ji(i,l){i.blockedOn===l&&(i.blockedOn=null,ms||(ms=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Kg)))}function Zi(i){function l(x){return Ji(x,i)}if(0<Cl.length){Ji(Cl[0],i);for(var d=1;d<Cl.length;d++){var g=Cl[d];g.blockedOn===i&&(g.blockedOn=null)}}for(gs!==null&&Ji(gs,i),ys!==null&&Ji(ys,i),yn!==null&&Ji(yn,i),ma.forEach(l),Zs.forEach(l),d=0;d<ir.length;d++)g=ir[d],g.blockedOn===i&&(g.blockedOn=null);for(;0<ir.length&&(d=ir[0],d.blockedOn===null);)Il(d),d.blockedOn===null&&ir.shift()}var ei=$.ReactCurrentBatchConfig,ti=!0;function vs(i,l,d,g){var x=Xe,_=ei.transition;ei.transition=null;try{Xe=1,Au(i,l,d,g)}finally{Xe=x,ei.transition=_}}function tf(i,l,d,g){var x=Xe,_=ei.transition;ei.transition=null;try{Xe=4,Au(i,l,d,g)}finally{Xe=x,ei.transition=_}}function Au(i,l,d,g){if(ti){var x=Nl(i,l,d,g);if(x===null)iy(i,l,g,xs,d),Xi(i,g);else if(Zh(x,i,l,d,g))g.stopPropagation();else if(Xi(i,g),l&4&&-1<Jh.indexOf(i)){for(;x!==null;){var _=zu(x);if(_!==null&&Su(_),_=Nl(i,l,d,g),_===null&&iy(i,l,g,xs,d),_===x)break;x=_}x!==null&&g.stopPropagation()}else iy(i,l,g,null,d)}}var xs=null;function Nl(i,l,d,g){if(xs=null,i=wl(g),i=xa(i),i!==null)if(l=Fr(i),l===null)i=null;else if(d=l.tag,d===13){if(i=yu(l),i!==null)return i;i=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return xs=i,null}function Al(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qg()){case El:return 1;case xu:return 4;case ca:case wu:return 16;case Tl:return 536870912;default:return 16}default:return 16}}var or=null,Rl=null,ni=null;function nf(){if(ni)return ni;var i,l=Rl,d=l.length,g,x="value"in or?or.value:or.textContent,_=x.length;for(i=0;i<d&&l[i]===x[i];i++);var A=d-i;for(g=1;g<=A&&l[d-g]===x[_-g];g++);return ni=x.slice(i,1<g?1-g:void 0)}function ga(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function ws(){return!0}function Ru(){return!1}function Sn(i){function l(d,g,x,_,A){this._reactName=d,this._targetInst=x,this.type=g,this.nativeEvent=_,this.target=A,this.currentTarget=null;for(var U in i)i.hasOwnProperty(U)&&(d=i[U],this[U]=d?d(_):_[U]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ws:Ru,this.isPropagationStopped=Ru,this}return ne(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ws)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ws)},persist:function(){},isPersistent:ws}),l}var _s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ya=Sn(_s),eo=ne({},_s,{view:0,detail:0}),Pl=Sn(eo),kl,jl,ar,va=ne({},eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Be,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ar&&(ar&&i.type==="mousemove"?(kl=i.screenX-ar.screenX,jl=i.screenY-ar.screenY):jl=kl=0,ar=i),kl)},movementY:function(i){return"movementY"in i?i.movementY:jl}}),Pu=Sn(va),rf=ne({},va,{dataTransfer:0}),sf=Sn(rf),Dl=ne({},eo,{relatedTarget:0}),vn=Sn(Dl),of=ne({},_s,{animationName:0,elapsedTime:0,pseudoElement:0}),af=Sn(of),to=ne({},_s,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),p=Sn(to),b=ne({},_s,{data:0}),C=Sn(b),O={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Q={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ue(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=ee[i])?!!l[i]:!1}function Be(){return ue}var Ft=ne({},eo,{key:function(i){if(i.key){var l=O[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=ga(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Q[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Be,charCode:function(i){return i.type==="keypress"?ga(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ga(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ut=Sn(Ft),qt=ne({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lr=Sn(qt),ri=ne({},eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Be}),bs=Sn(ri),Es=ne({},_s,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ml=Sn(Es),ku=ne({},va,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),BO=Sn(ku),zO=[9,13,27,32],Yg=u&&"CompositionEvent"in window,ju=null;u&&"documentMode"in document&&(ju=document.documentMode);var $O=u&&"TextEvent"in window&&!ju,Sb=u&&(!Yg||ju&&8<ju&&11>=ju),Cb=" ",Ib=!1;function Nb(i,l){switch(i){case"keyup":return zO.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ab(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ol=!1;function WO(i,l){switch(i){case"compositionend":return Ab(l);case"keypress":return l.which!==32?null:(Ib=!0,Cb);case"textInput":return i=l.data,i===Cb&&Ib?null:i;default:return null}}function HO(i,l){if(Ol)return i==="compositionend"||!Yg&&Nb(i,l)?(i=nf(),ni=Rl=or=null,Ol=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Sb&&l.locale!=="ko"?null:l.data;default:return null}}var qO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rb(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!qO[i.type]:l==="textarea"}function Pb(i,l,d,g){qi(g),l=hf(l,"onChange"),0<l.length&&(d=new ya("onChange","change",null,d,g),i.push({event:d,listeners:l}))}var Du=null,Mu=null;function GO(i){Yb(i,0)}function lf(i){var l=Bl(i);if(Ze(l))return i}function KO(i,l){if(i==="change")return l}var kb=!1;if(u){var Qg;if(u){var Xg="oninput"in document;if(!Xg){var jb=document.createElement("div");jb.setAttribute("oninput","return;"),Xg=typeof jb.oninput=="function"}Qg=Xg}else Qg=!1;kb=Qg&&(!document.documentMode||9<document.documentMode)}function Db(){Du&&(Du.detachEvent("onpropertychange",Mb),Mu=Du=null)}function Mb(i){if(i.propertyName==="value"&&lf(Mu)){var l=[];Pb(l,Mu,i,wl(i)),Wh(GO,l)}}function YO(i,l,d){i==="focusin"?(Db(),Du=l,Mu=d,Du.attachEvent("onpropertychange",Mb)):i==="focusout"&&Db()}function QO(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return lf(Mu)}function XO(i,l){if(i==="click")return lf(l)}function JO(i,l){if(i==="input"||i==="change")return lf(l)}function ZO(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var Br=typeof Object.is=="function"?Object.is:ZO;function Ou(i,l){if(Br(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var d=Object.keys(i),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var x=d[g];if(!h.call(l,x)||!Br(i[x],l[x]))return!1}return!0}function Ob(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Lb(i,l){var d=Ob(i);i=0;for(var g;d;){if(d.nodeType===3){if(g=i+d.textContent.length,i<=l&&g>=l)return{node:d,offset:l-i};i=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Ob(d)}}function Vb(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?Vb(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function Fb(){for(var i=window,l=jt();l instanceof i.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)i=l.contentWindow;else break;l=jt(i.document)}return l}function Jg(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function eL(i){var l=Fb(),d=i.focusedElem,g=i.selectionRange;if(l!==d&&d&&d.ownerDocument&&Vb(d.ownerDocument.documentElement,d)){if(g!==null&&Jg(d)){if(l=g.start,i=g.end,i===void 0&&(i=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(i,d.value.length);else if(i=(l=d.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var x=d.textContent.length,_=Math.min(g.start,x);g=g.end===void 0?_:Math.min(g.end,x),!i.extend&&_>g&&(x=g,g=_,_=x),x=Lb(d,_);var A=Lb(d,g);x&&A&&(i.rangeCount!==1||i.anchorNode!==x.node||i.anchorOffset!==x.offset||i.focusNode!==A.node||i.focusOffset!==A.offset)&&(l=l.createRange(),l.setStart(x.node,x.offset),i.removeAllRanges(),_>g?(i.addRange(l),i.extend(A.node,A.offset)):(l.setEnd(A.node,A.offset),i.addRange(l)))}}for(l=[],i=d;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)i=l[d],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var tL=u&&"documentMode"in document&&11>=document.documentMode,Ll=null,Zg=null,Lu=null,ey=!1;function Ub(i,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;ey||Ll==null||Ll!==jt(g)||(g=Ll,"selectionStart"in g&&Jg(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Lu&&Ou(Lu,g)||(Lu=g,g=hf(Zg,"onSelect"),0<g.length&&(l=new ya("onSelect","select",null,l,d),i.push({event:l,listeners:g}),l.target=Ll)))}function cf(i,l){var d={};return d[i.toLowerCase()]=l.toLowerCase(),d["Webkit"+i]="webkit"+l,d["Moz"+i]="moz"+l,d}var Vl={animationend:cf("Animation","AnimationEnd"),animationiteration:cf("Animation","AnimationIteration"),animationstart:cf("Animation","AnimationStart"),transitionend:cf("Transition","TransitionEnd")},ty={},Bb={};u&&(Bb=document.createElement("div").style,"AnimationEvent"in window||(delete Vl.animationend.animation,delete Vl.animationiteration.animation,delete Vl.animationstart.animation),"TransitionEvent"in window||delete Vl.transitionend.transition);function uf(i){if(ty[i])return ty[i];if(!Vl[i])return i;var l=Vl[i],d;for(d in l)if(l.hasOwnProperty(d)&&d in Bb)return ty[i]=l[d];return i}var zb=uf("animationend"),$b=uf("animationiteration"),Wb=uf("animationstart"),Hb=uf("transitionend"),qb=new Map,Gb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function no(i,l){qb.set(i,l),o(l,[i])}for(var ny=0;ny<Gb.length;ny++){var ry=Gb[ny],nL=ry.toLowerCase(),rL=ry[0].toUpperCase()+ry.slice(1);no(nL,"on"+rL)}no(zb,"onAnimationEnd"),no($b,"onAnimationIteration"),no(Wb,"onAnimationStart"),no("dblclick","onDoubleClick"),no("focusin","onFocus"),no("focusout","onBlur"),no(Hb,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vu));function Kb(i,l,d){var g=i.type||"unknown-event";i.currentTarget=d,gu(g,l,void 0,i),i.currentTarget=null}function Yb(i,l){l=(l&4)!==0;for(var d=0;d<i.length;d++){var g=i[d],x=g.event;g=g.listeners;e:{var _=void 0;if(l)for(var A=g.length-1;0<=A;A--){var U=g[A],q=U.instance,Z=U.currentTarget;if(U=U.listener,q!==_&&x.isPropagationStopped())break e;Kb(x,U,Z),_=q}else for(A=0;A<g.length;A++){if(U=g[A],q=U.instance,Z=U.currentTarget,U=U.listener,q!==_&&x.isPropagationStopped())break e;Kb(x,U,Z),_=q}}}if(_l)throw i=xr,_l=!1,xr=null,i}function vt(i,l){var d=l[dy];d===void 0&&(d=l[dy]=new Set);var g=i+"__bubble";d.has(g)||(Qb(l,i,2,!1),d.add(g))}function sy(i,l,d){var g=0;l&&(g|=4),Qb(d,i,g,l)}var df="_reactListening"+Math.random().toString(36).slice(2);function Fu(i){if(!i[df]){i[df]=!0,r.forEach(function(d){d!=="selectionchange"&&(sL.has(d)||sy(d,!1,i),sy(d,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[df]||(l[df]=!0,sy("selectionchange",!1,l))}}function Qb(i,l,d,g){switch(Al(l)){case 1:var x=vs;break;case 4:x=tf;break;default:x=Au}d=x.bind(null,l,d,i),x=void 0,!Ki||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),g?x!==void 0?i.addEventListener(l,d,{capture:!0,passive:x}):i.addEventListener(l,d,!0):x!==void 0?i.addEventListener(l,d,{passive:x}):i.addEventListener(l,d,!1)}function iy(i,l,d,g,x){var _=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var A=g.tag;if(A===3||A===4){var U=g.stateNode.containerInfo;if(U===x||U.nodeType===8&&U.parentNode===x)break;if(A===4)for(A=g.return;A!==null;){var q=A.tag;if((q===3||q===4)&&(q=A.stateNode.containerInfo,q===x||q.nodeType===8&&q.parentNode===x))return;A=A.return}for(;U!==null;){if(A=xa(U),A===null)return;if(q=A.tag,q===5||q===6){g=_=A;continue e}U=U.parentNode}}g=g.return}Wh(function(){var Z=_,oe=wl(d),le=[];e:{var ie=qb.get(i);if(ie!==void 0){var ge=ya,we=i;switch(i){case"keypress":if(ga(d)===0)break e;case"keydown":case"keyup":ge=ut;break;case"focusin":we="focus",ge=vn;break;case"focusout":we="blur",ge=vn;break;case"beforeblur":case"afterblur":ge=vn;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=sf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=bs;break;case zb:case $b:case Wb:ge=af;break;case Hb:ge=Ml;break;case"scroll":ge=Pl;break;case"wheel":ge=BO;break;case"copy":case"cut":case"paste":ge=p;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=lr}var Ee=(l&4)!==0,Ut=!Ee&&i==="scroll",Y=Ee?ie!==null?ie+"Capture":null:ie;Ee=[];for(var G=Z,X;G!==null;){X=G;var ce=X.stateNode;if(X.tag===5&&ce!==null&&(X=ce,Y!==null&&(ce=oa(G,Y),ce!=null&&Ee.push(Uu(G,ce,X)))),Ut)break;G=G.return}0<Ee.length&&(ie=new ge(ie,we,null,d,oe),le.push({event:ie,listeners:Ee}))}}if((l&7)===0){e:{if(ie=i==="mouseover"||i==="pointerover",ge=i==="mouseout"||i==="pointerout",ie&&d!==Hi&&(we=d.relatedTarget||d.fromElement)&&(xa(we)||we[si]))break e;if((ge||ie)&&(ie=oe.window===oe?oe:(ie=oe.ownerDocument)?ie.defaultView||ie.parentWindow:window,ge?(we=d.relatedTarget||d.toElement,ge=Z,we=we?xa(we):null,we!==null&&(Ut=Fr(we),we!==Ut||we.tag!==5&&we.tag!==6)&&(we=null)):(ge=null,we=Z),ge!==we)){if(Ee=Pu,ce="onMouseLeave",Y="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(Ee=lr,ce="onPointerLeave",Y="onPointerEnter",G="pointer"),Ut=ge==null?ie:Bl(ge),X=we==null?ie:Bl(we),ie=new Ee(ce,G+"leave",ge,d,oe),ie.target=Ut,ie.relatedTarget=X,ce=null,xa(oe)===Z&&(Ee=new Ee(Y,G+"enter",we,d,oe),Ee.target=X,Ee.relatedTarget=Ut,ce=Ee),Ut=ce,ge&&we)t:{for(Ee=ge,Y=we,G=0,X=Ee;X;X=Fl(X))G++;for(X=0,ce=Y;ce;ce=Fl(ce))X++;for(;0<G-X;)Ee=Fl(Ee),G--;for(;0<X-G;)Y=Fl(Y),X--;for(;G--;){if(Ee===Y||Y!==null&&Ee===Y.alternate)break t;Ee=Fl(Ee),Y=Fl(Y)}Ee=null}else Ee=null;ge!==null&&Xb(le,ie,ge,Ee,!1),we!==null&&Ut!==null&&Xb(le,Ut,we,Ee,!0)}}e:{if(ie=Z?Bl(Z):window,ge=ie.nodeName&&ie.nodeName.toLowerCase(),ge==="select"||ge==="input"&&ie.type==="file")var Ce=KO;else if(Rb(ie))if(kb)Ce=JO;else{Ce=QO;var Re=YO}else(ge=ie.nodeName)&&ge.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(Ce=XO);if(Ce&&(Ce=Ce(i,Z))){Pb(le,Ce,d,oe);break e}Re&&Re(i,ie,Z),i==="focusout"&&(Re=ie._wrapperState)&&Re.controlled&&ie.type==="number"&&gt(ie,"number",ie.value)}switch(Re=Z?Bl(Z):window,i){case"focusin":(Rb(Re)||Re.contentEditable==="true")&&(Ll=Re,Zg=Z,Lu=null);break;case"focusout":Lu=Zg=Ll=null;break;case"mousedown":ey=!0;break;case"contextmenu":case"mouseup":case"dragend":ey=!1,Ub(le,d,oe);break;case"selectionchange":if(tL)break;case"keydown":case"keyup":Ub(le,d,oe)}var Pe;if(Yg)e:{switch(i){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Ol?Nb(i,d)&&(Le="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(Le="onCompositionStart");Le&&(Sb&&d.locale!=="ko"&&(Ol||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Ol&&(Pe=nf()):(or=oe,Rl="value"in or?or.value:or.textContent,Ol=!0)),Re=hf(Z,Le),0<Re.length&&(Le=new C(Le,i,null,d,oe),le.push({event:Le,listeners:Re}),Pe?Le.data=Pe:(Pe=Ab(d),Pe!==null&&(Le.data=Pe)))),(Pe=$O?WO(i,d):HO(i,d))&&(Z=hf(Z,"onBeforeInput"),0<Z.length&&(oe=new C("onBeforeInput","beforeinput",null,d,oe),le.push({event:oe,listeners:Z}),oe.data=Pe))}Yb(le,l)})}function Uu(i,l,d){return{instance:i,listener:l,currentTarget:d}}function hf(i,l){for(var d=l+"Capture",g=[];i!==null;){var x=i,_=x.stateNode;x.tag===5&&_!==null&&(x=_,_=oa(i,d),_!=null&&g.unshift(Uu(i,_,x)),_=oa(i,l),_!=null&&g.push(Uu(i,_,x))),i=i.return}return g}function Fl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Xb(i,l,d,g,x){for(var _=l._reactName,A=[];d!==null&&d!==g;){var U=d,q=U.alternate,Z=U.stateNode;if(q!==null&&q===g)break;U.tag===5&&Z!==null&&(U=Z,x?(q=oa(d,_),q!=null&&A.unshift(Uu(d,q,U))):x||(q=oa(d,_),q!=null&&A.push(Uu(d,q,U)))),d=d.return}A.length!==0&&i.push({event:l,listeners:A})}var iL=/\r\n?/g,oL=/\u0000|\uFFFD/g;function Jb(i){return(typeof i=="string"?i:""+i).replace(iL,`
`).replace(oL,"")}function ff(i,l,d){if(l=Jb(l),Jb(i)!==l&&d)throw Error(n(425))}function pf(){}var oy=null,ay=null;function ly(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var cy=typeof setTimeout=="function"?setTimeout:void 0,aL=typeof clearTimeout=="function"?clearTimeout:void 0,Zb=typeof Promise=="function"?Promise:void 0,lL=typeof queueMicrotask=="function"?queueMicrotask:typeof Zb<"u"?function(i){return Zb.resolve(null).then(i).catch(cL)}:cy;function cL(i){setTimeout(function(){throw i})}function uy(i,l){var d=l,g=0;do{var x=d.nextSibling;if(i.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(g===0){i.removeChild(x),Zi(l);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=x}while(d);Zi(l)}function ro(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function eE(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return i;l--}else d==="/$"&&l++}i=i.previousSibling}return null}var Ul=Math.random().toString(36).slice(2),Ts="__reactFiber$"+Ul,Bu="__reactProps$"+Ul,si="__reactContainer$"+Ul,dy="__reactEvents$"+Ul,uL="__reactListeners$"+Ul,dL="__reactHandles$"+Ul;function xa(i){var l=i[Ts];if(l)return l;for(var d=i.parentNode;d;){if(l=d[si]||d[Ts]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(i=eE(i);i!==null;){if(d=i[Ts])return d;i=eE(i)}return l}i=d,d=i.parentNode}return null}function zu(i){return i=i[Ts]||i[si],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Bl(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function mf(i){return i[Bu]||null}var hy=[],zl=-1;function so(i){return{current:i}}function xt(i){0>zl||(i.current=hy[zl],hy[zl]=null,zl--)}function pt(i,l){zl++,hy[zl]=i.current,i.current=l}var io={},Cn=so(io),qn=so(!1),wa=io;function $l(i,l){var d=i.type.contextTypes;if(!d)return io;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var x={},_;for(_ in d)x[_]=l[_];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=x),x}function Gn(i){return i=i.childContextTypes,i!=null}function gf(){xt(qn),xt(Cn)}function tE(i,l,d){if(Cn.current!==io)throw Error(n(168));pt(Cn,l),pt(qn,d)}function nE(i,l,d){var g=i.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var x in g)if(!(x in l))throw Error(n(108,de(i)||"Unknown",x));return ne({},d,g)}function yf(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||io,wa=Cn.current,pt(Cn,i),pt(qn,qn.current),!0}function rE(i,l,d){var g=i.stateNode;if(!g)throw Error(n(169));d?(i=nE(i,l,wa),g.__reactInternalMemoizedMergedChildContext=i,xt(qn),xt(Cn),pt(Cn,i)):xt(qn),pt(qn,d)}var ii=null,vf=!1,fy=!1;function sE(i){ii===null?ii=[i]:ii.push(i)}function hL(i){vf=!0,sE(i)}function oo(){if(!fy&&ii!==null){fy=!0;var i=0,l=Xe;try{var d=ii;for(Xe=1;i<d.length;i++){var g=d[i];do g=g(!0);while(g!==null)}ii=null,vf=!1}catch(x){throw ii!==null&&(ii=ii.slice(i+1)),vu(El,oo),x}finally{Xe=l,fy=!1}}return null}var Wl=[],Hl=0,xf=null,wf=0,_r=[],br=0,_a=null,oi=1,ai="";function ba(i,l){Wl[Hl++]=wf,Wl[Hl++]=xf,xf=i,wf=l}function iE(i,l,d){_r[br++]=oi,_r[br++]=ai,_r[br++]=_a,_a=i;var g=oi;i=ai;var x=32-sr(g)-1;g&=~(1<<x),d+=1;var _=32-sr(l)+x;if(30<_){var A=x-x%5;_=(g&(1<<A)-1).toString(32),g>>=A,x-=A,oi=1<<32-sr(l)+x|d<<x|g,ai=_+i}else oi=1<<_|d<<x|g,ai=i}function py(i){i.return!==null&&(ba(i,1),iE(i,1,0))}function my(i){for(;i===xf;)xf=Wl[--Hl],Wl[Hl]=null,wf=Wl[--Hl],Wl[Hl]=null;for(;i===_a;)_a=_r[--br],_r[br]=null,ai=_r[--br],_r[br]=null,oi=_r[--br],_r[br]=null}var cr=null,ur=null,St=!1,zr=null;function oE(i,l){var d=Cr(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=i,l=i.deletions,l===null?(i.deletions=[d],i.flags|=16):l.push(d)}function aE(i,l){switch(i.tag){case 5:var d=i.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,cr=i,ur=ro(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,cr=i,ur=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=_a!==null?{id:oi,overflow:ai}:null,i.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=Cr(18,null,null,0),d.stateNode=l,d.return=i,i.child=d,cr=i,ur=null,!0):!1;default:return!1}}function gy(i){return(i.mode&1)!==0&&(i.flags&128)===0}function yy(i){if(St){var l=ur;if(l){var d=l;if(!aE(i,l)){if(gy(i))throw Error(n(418));l=ro(d.nextSibling);var g=cr;l&&aE(i,l)?oE(g,d):(i.flags=i.flags&-4097|2,St=!1,cr=i)}}else{if(gy(i))throw Error(n(418));i.flags=i.flags&-4097|2,St=!1,cr=i}}}function lE(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;cr=i}function _f(i){if(i!==cr)return!1;if(!St)return lE(i),St=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!ly(i.type,i.memoizedProps)),l&&(l=ur)){if(gy(i))throw cE(),Error(n(418));for(;l;)oE(i,l),l=ro(l.nextSibling)}if(lE(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"){if(l===0){ur=ro(i.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}i=i.nextSibling}ur=null}}else ur=cr?ro(i.stateNode.nextSibling):null;return!0}function cE(){for(var i=ur;i;)i=ro(i.nextSibling)}function ql(){ur=cr=null,St=!1}function vy(i){zr===null?zr=[i]:zr.push(i)}var fL=$.ReactCurrentBatchConfig;function $u(i,l,d){if(i=d.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var g=d.stateNode}if(!g)throw Error(n(147,i));var x=g,_=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===_?l.ref:(l=function(A){var U=x.refs;A===null?delete U[_]:U[_]=A},l._stringRef=_,l)}if(typeof i!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,i))}return i}function bf(i,l){throw i=Object.prototype.toString.call(l),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function uE(i){var l=i._init;return l(i._payload)}function dE(i){function l(Y,G){if(i){var X=Y.deletions;X===null?(Y.deletions=[G],Y.flags|=16):X.push(G)}}function d(Y,G){if(!i)return null;for(;G!==null;)l(Y,G),G=G.sibling;return null}function g(Y,G){for(Y=new Map;G!==null;)G.key!==null?Y.set(G.key,G):Y.set(G.index,G),G=G.sibling;return Y}function x(Y,G){return Y=mo(Y,G),Y.index=0,Y.sibling=null,Y}function _(Y,G,X){return Y.index=X,i?(X=Y.alternate,X!==null?(X=X.index,X<G?(Y.flags|=2,G):X):(Y.flags|=2,G)):(Y.flags|=1048576,G)}function A(Y){return i&&Y.alternate===null&&(Y.flags|=2),Y}function U(Y,G,X,ce){return G===null||G.tag!==6?(G=cv(X,Y.mode,ce),G.return=Y,G):(G=x(G,X),G.return=Y,G)}function q(Y,G,X,ce){var Ce=X.type;return Ce===P?oe(Y,G,X.props.children,ce,X.key):G!==null&&(G.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===ye&&uE(Ce)===G.type)?(ce=x(G,X.props),ce.ref=$u(Y,G,X),ce.return=Y,ce):(ce=qf(X.type,X.key,X.props,null,Y.mode,ce),ce.ref=$u(Y,G,X),ce.return=Y,ce)}function Z(Y,G,X,ce){return G===null||G.tag!==4||G.stateNode.containerInfo!==X.containerInfo||G.stateNode.implementation!==X.implementation?(G=uv(X,Y.mode,ce),G.return=Y,G):(G=x(G,X.children||[]),G.return=Y,G)}function oe(Y,G,X,ce,Ce){return G===null||G.tag!==7?(G=Ra(X,Y.mode,ce,Ce),G.return=Y,G):(G=x(G,X),G.return=Y,G)}function le(Y,G,X){if(typeof G=="string"&&G!==""||typeof G=="number")return G=cv(""+G,Y.mode,X),G.return=Y,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case B:return X=qf(G.type,G.key,G.props,null,Y.mode,X),X.ref=$u(Y,null,G),X.return=Y,X;case W:return G=uv(G,Y.mode,X),G.return=Y,G;case ye:var ce=G._init;return le(Y,ce(G._payload),X)}if(Vt(G)||K(G))return G=Ra(G,Y.mode,X,null),G.return=Y,G;bf(Y,G)}return null}function ie(Y,G,X,ce){var Ce=G!==null?G.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return Ce!==null?null:U(Y,G,""+X,ce);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case B:return X.key===Ce?q(Y,G,X,ce):null;case W:return X.key===Ce?Z(Y,G,X,ce):null;case ye:return Ce=X._init,ie(Y,G,Ce(X._payload),ce)}if(Vt(X)||K(X))return Ce!==null?null:oe(Y,G,X,ce,null);bf(Y,X)}return null}function ge(Y,G,X,ce,Ce){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return Y=Y.get(X)||null,U(G,Y,""+ce,Ce);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case B:return Y=Y.get(ce.key===null?X:ce.key)||null,q(G,Y,ce,Ce);case W:return Y=Y.get(ce.key===null?X:ce.key)||null,Z(G,Y,ce,Ce);case ye:var Re=ce._init;return ge(Y,G,X,Re(ce._payload),Ce)}if(Vt(ce)||K(ce))return Y=Y.get(X)||null,oe(G,Y,ce,Ce,null);bf(G,ce)}return null}function we(Y,G,X,ce){for(var Ce=null,Re=null,Pe=G,Le=G=0,un=null;Pe!==null&&Le<X.length;Le++){Pe.index>Le?(un=Pe,Pe=null):un=Pe.sibling;var it=ie(Y,Pe,X[Le],ce);if(it===null){Pe===null&&(Pe=un);break}i&&Pe&&it.alternate===null&&l(Y,Pe),G=_(it,G,Le),Re===null?Ce=it:Re.sibling=it,Re=it,Pe=un}if(Le===X.length)return d(Y,Pe),St&&ba(Y,Le),Ce;if(Pe===null){for(;Le<X.length;Le++)Pe=le(Y,X[Le],ce),Pe!==null&&(G=_(Pe,G,Le),Re===null?Ce=Pe:Re.sibling=Pe,Re=Pe);return St&&ba(Y,Le),Ce}for(Pe=g(Y,Pe);Le<X.length;Le++)un=ge(Pe,Y,Le,X[Le],ce),un!==null&&(i&&un.alternate!==null&&Pe.delete(un.key===null?Le:un.key),G=_(un,G,Le),Re===null?Ce=un:Re.sibling=un,Re=un);return i&&Pe.forEach(function(go){return l(Y,go)}),St&&ba(Y,Le),Ce}function Ee(Y,G,X,ce){var Ce=K(X);if(typeof Ce!="function")throw Error(n(150));if(X=Ce.call(X),X==null)throw Error(n(151));for(var Re=Ce=null,Pe=G,Le=G=0,un=null,it=X.next();Pe!==null&&!it.done;Le++,it=X.next()){Pe.index>Le?(un=Pe,Pe=null):un=Pe.sibling;var go=ie(Y,Pe,it.value,ce);if(go===null){Pe===null&&(Pe=un);break}i&&Pe&&go.alternate===null&&l(Y,Pe),G=_(go,G,Le),Re===null?Ce=go:Re.sibling=go,Re=go,Pe=un}if(it.done)return d(Y,Pe),St&&ba(Y,Le),Ce;if(Pe===null){for(;!it.done;Le++,it=X.next())it=le(Y,it.value,ce),it!==null&&(G=_(it,G,Le),Re===null?Ce=it:Re.sibling=it,Re=it);return St&&ba(Y,Le),Ce}for(Pe=g(Y,Pe);!it.done;Le++,it=X.next())it=ge(Pe,Y,Le,it.value,ce),it!==null&&(i&&it.alternate!==null&&Pe.delete(it.key===null?Le:it.key),G=_(it,G,Le),Re===null?Ce=it:Re.sibling=it,Re=it);return i&&Pe.forEach(function(qL){return l(Y,qL)}),St&&ba(Y,Le),Ce}function Ut(Y,G,X,ce){if(typeof X=="object"&&X!==null&&X.type===P&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case B:e:{for(var Ce=X.key,Re=G;Re!==null;){if(Re.key===Ce){if(Ce=X.type,Ce===P){if(Re.tag===7){d(Y,Re.sibling),G=x(Re,X.props.children),G.return=Y,Y=G;break e}}else if(Re.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===ye&&uE(Ce)===Re.type){d(Y,Re.sibling),G=x(Re,X.props),G.ref=$u(Y,Re,X),G.return=Y,Y=G;break e}d(Y,Re);break}else l(Y,Re);Re=Re.sibling}X.type===P?(G=Ra(X.props.children,Y.mode,ce,X.key),G.return=Y,Y=G):(ce=qf(X.type,X.key,X.props,null,Y.mode,ce),ce.ref=$u(Y,G,X),ce.return=Y,Y=ce)}return A(Y);case W:e:{for(Re=X.key;G!==null;){if(G.key===Re)if(G.tag===4&&G.stateNode.containerInfo===X.containerInfo&&G.stateNode.implementation===X.implementation){d(Y,G.sibling),G=x(G,X.children||[]),G.return=Y,Y=G;break e}else{d(Y,G);break}else l(Y,G);G=G.sibling}G=uv(X,Y.mode,ce),G.return=Y,Y=G}return A(Y);case ye:return Re=X._init,Ut(Y,G,Re(X._payload),ce)}if(Vt(X))return we(Y,G,X,ce);if(K(X))return Ee(Y,G,X,ce);bf(Y,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,G!==null&&G.tag===6?(d(Y,G.sibling),G=x(G,X),G.return=Y,Y=G):(d(Y,G),G=cv(X,Y.mode,ce),G.return=Y,Y=G),A(Y)):d(Y,G)}return Ut}var Gl=dE(!0),hE=dE(!1),Ef=so(null),Tf=null,Kl=null,xy=null;function wy(){xy=Kl=Tf=null}function _y(i){var l=Ef.current;xt(Ef),i._currentValue=l}function by(i,l,d){for(;i!==null;){var g=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),i===d)break;i=i.return}}function Yl(i,l){Tf=i,xy=Kl=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(Kn=!0),i.firstContext=null)}function Er(i){var l=i._currentValue;if(xy!==i)if(i={context:i,memoizedValue:l,next:null},Kl===null){if(Tf===null)throw Error(n(308));Kl=i,Tf.dependencies={lanes:0,firstContext:i}}else Kl=Kl.next=i;return l}var Ea=null;function Ey(i){Ea===null?Ea=[i]:Ea.push(i)}function fE(i,l,d,g){var x=l.interleaved;return x===null?(d.next=d,Ey(l)):(d.next=x.next,x.next=d),l.interleaved=d,li(i,g)}function li(i,l){i.lanes|=l;var d=i.alternate;for(d!==null&&(d.lanes|=l),d=i,i=i.return;i!==null;)i.childLanes|=l,d=i.alternate,d!==null&&(d.childLanes|=l),d=i,i=i.return;return d.tag===3?d.stateNode:null}var ao=!1;function Ty(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pE(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ci(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function lo(i,l,d){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(rt&2)!==0){var x=g.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),g.pending=l,li(i,d)}return x=g.interleaved,x===null?(l.next=l,Ey(g)):(l.next=x.next,x.next=l),g.interleaved=l,li(i,d)}function Sf(i,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var g=l.lanes;g&=i.pendingLanes,d|=g,l.lanes=d,Tu(i,d)}}function mE(i,l){var d=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var x=null,_=null;if(d=d.firstBaseUpdate,d!==null){do{var A={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};_===null?x=_=A:_=_.next=A,d=d.next}while(d!==null);_===null?x=_=l:_=_.next=l}else x=_=l;d={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:_,shared:g.shared,effects:g.effects},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=l:i.next=l,d.lastBaseUpdate=l}function Cf(i,l,d,g){var x=i.updateQueue;ao=!1;var _=x.firstBaseUpdate,A=x.lastBaseUpdate,U=x.shared.pending;if(U!==null){x.shared.pending=null;var q=U,Z=q.next;q.next=null,A===null?_=Z:A.next=Z,A=q;var oe=i.alternate;oe!==null&&(oe=oe.updateQueue,U=oe.lastBaseUpdate,U!==A&&(U===null?oe.firstBaseUpdate=Z:U.next=Z,oe.lastBaseUpdate=q))}if(_!==null){var le=x.baseState;A=0,oe=Z=q=null,U=_;do{var ie=U.lane,ge=U.eventTime;if((g&ie)===ie){oe!==null&&(oe=oe.next={eventTime:ge,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var we=i,Ee=U;switch(ie=l,ge=d,Ee.tag){case 1:if(we=Ee.payload,typeof we=="function"){le=we.call(ge,le,ie);break e}le=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Ee.payload,ie=typeof we=="function"?we.call(ge,le,ie):we,ie==null)break e;le=ne({},le,ie);break e;case 2:ao=!0}}U.callback!==null&&U.lane!==0&&(i.flags|=64,ie=x.effects,ie===null?x.effects=[U]:ie.push(U))}else ge={eventTime:ge,lane:ie,tag:U.tag,payload:U.payload,callback:U.callback,next:null},oe===null?(Z=oe=ge,q=le):oe=oe.next=ge,A|=ie;if(U=U.next,U===null){if(U=x.shared.pending,U===null)break;ie=U,U=ie.next,ie.next=null,x.lastBaseUpdate=ie,x.shared.pending=null}}while(!0);if(oe===null&&(q=le),x.baseState=q,x.firstBaseUpdate=Z,x.lastBaseUpdate=oe,l=x.shared.interleaved,l!==null){x=l;do A|=x.lane,x=x.next;while(x!==l)}else _===null&&(x.shared.lanes=0);Ca|=A,i.lanes=A,i.memoizedState=le}}function gE(i,l,d){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var g=i[l],x=g.callback;if(x!==null){if(g.callback=null,g=d,typeof x!="function")throw Error(n(191,x));x.call(g)}}}var Wu={},Ss=so(Wu),Hu=so(Wu),qu=so(Wu);function Ta(i){if(i===Wu)throw Error(n(174));return i}function Sy(i,l){switch(pt(qu,l),pt(Hu,i),pt(Ss,Wu),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:yl(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=yl(l,i)}xt(Ss),pt(Ss,l)}function Ql(){xt(Ss),xt(Hu),xt(qu)}function yE(i){Ta(qu.current);var l=Ta(Ss.current),d=yl(l,i.type);l!==d&&(pt(Hu,i),pt(Ss,d))}function Cy(i){Hu.current===i&&(xt(Ss),xt(Hu))}var Nt=so(0);function If(i){for(var l=i;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Iy=[];function Ny(){for(var i=0;i<Iy.length;i++)Iy[i]._workInProgressVersionPrimary=null;Iy.length=0}var Nf=$.ReactCurrentDispatcher,Ay=$.ReactCurrentBatchConfig,Sa=0,At=null,en=null,ln=null,Af=!1,Gu=!1,Ku=0,pL=0;function In(){throw Error(n(321))}function Ry(i,l){if(l===null)return!1;for(var d=0;d<l.length&&d<i.length;d++)if(!Br(i[d],l[d]))return!1;return!0}function Py(i,l,d,g,x,_){if(Sa=_,At=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Nf.current=i===null||i.memoizedState===null?vL:xL,i=d(g,x),Gu){_=0;do{if(Gu=!1,Ku=0,25<=_)throw Error(n(301));_+=1,ln=en=null,l.updateQueue=null,Nf.current=wL,i=d(g,x)}while(Gu)}if(Nf.current=kf,l=en!==null&&en.next!==null,Sa=0,ln=en=At=null,Af=!1,l)throw Error(n(300));return i}function ky(){var i=Ku!==0;return Ku=0,i}function Cs(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?At.memoizedState=ln=i:ln=ln.next=i,ln}function Tr(){if(en===null){var i=At.alternate;i=i!==null?i.memoizedState:null}else i=en.next;var l=ln===null?At.memoizedState:ln.next;if(l!==null)ln=l,en=i;else{if(i===null)throw Error(n(310));en=i,i={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},ln===null?At.memoizedState=ln=i:ln=ln.next=i}return ln}function Yu(i,l){return typeof l=="function"?l(i):l}function jy(i){var l=Tr(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var g=en,x=g.baseQueue,_=d.pending;if(_!==null){if(x!==null){var A=x.next;x.next=_.next,_.next=A}g.baseQueue=x=_,d.pending=null}if(x!==null){_=x.next,g=g.baseState;var U=A=null,q=null,Z=_;do{var oe=Z.lane;if((Sa&oe)===oe)q!==null&&(q=q.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),g=Z.hasEagerState?Z.eagerState:i(g,Z.action);else{var le={lane:oe,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};q===null?(U=q=le,A=g):q=q.next=le,At.lanes|=oe,Ca|=oe}Z=Z.next}while(Z!==null&&Z!==_);q===null?A=g:q.next=U,Br(g,l.memoizedState)||(Kn=!0),l.memoizedState=g,l.baseState=A,l.baseQueue=q,d.lastRenderedState=g}if(i=d.interleaved,i!==null){x=i;do _=x.lane,At.lanes|=_,Ca|=_,x=x.next;while(x!==i)}else x===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function Dy(i){var l=Tr(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var g=d.dispatch,x=d.pending,_=l.memoizedState;if(x!==null){d.pending=null;var A=x=x.next;do _=i(_,A.action),A=A.next;while(A!==x);Br(_,l.memoizedState)||(Kn=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),d.lastRenderedState=_}return[_,g]}function vE(){}function xE(i,l){var d=At,g=Tr(),x=l(),_=!Br(g.memoizedState,x);if(_&&(g.memoizedState=x,Kn=!0),g=g.queue,My(bE.bind(null,d,g,i),[i]),g.getSnapshot!==l||_||ln!==null&&ln.memoizedState.tag&1){if(d.flags|=2048,Qu(9,_E.bind(null,d,g,x,l),void 0,null),cn===null)throw Error(n(349));(Sa&30)!==0||wE(d,l,x)}return x}function wE(i,l,d){i.flags|=16384,i={getSnapshot:l,value:d},l=At.updateQueue,l===null?(l={lastEffect:null,stores:null},At.updateQueue=l,l.stores=[i]):(d=l.stores,d===null?l.stores=[i]:d.push(i))}function _E(i,l,d,g){l.value=d,l.getSnapshot=g,EE(l)&&TE(i)}function bE(i,l,d){return d(function(){EE(l)&&TE(i)})}function EE(i){var l=i.getSnapshot;i=i.value;try{var d=l();return!Br(i,d)}catch{return!0}}function TE(i){var l=li(i,1);l!==null&&qr(l,i,1,-1)}function SE(i){var l=Cs();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yu,lastRenderedState:i},l.queue=i,i=i.dispatch=yL.bind(null,At,i),[l.memoizedState,i]}function Qu(i,l,d,g){return i={tag:i,create:l,destroy:d,deps:g,next:null},l=At.updateQueue,l===null?(l={lastEffect:null,stores:null},At.updateQueue=l,l.lastEffect=i.next=i):(d=l.lastEffect,d===null?l.lastEffect=i.next=i:(g=d.next,d.next=i,i.next=g,l.lastEffect=i)),i}function CE(){return Tr().memoizedState}function Rf(i,l,d,g){var x=Cs();At.flags|=i,x.memoizedState=Qu(1|l,d,void 0,g===void 0?null:g)}function Pf(i,l,d,g){var x=Tr();g=g===void 0?null:g;var _=void 0;if(en!==null){var A=en.memoizedState;if(_=A.destroy,g!==null&&Ry(g,A.deps)){x.memoizedState=Qu(l,d,_,g);return}}At.flags|=i,x.memoizedState=Qu(1|l,d,_,g)}function IE(i,l){return Rf(8390656,8,i,l)}function My(i,l){return Pf(2048,8,i,l)}function NE(i,l){return Pf(4,2,i,l)}function AE(i,l){return Pf(4,4,i,l)}function RE(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function PE(i,l,d){return d=d!=null?d.concat([i]):null,Pf(4,4,RE.bind(null,l,i),d)}function Oy(){}function kE(i,l){var d=Tr();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&Ry(l,g[1])?g[0]:(d.memoizedState=[i,l],i)}function jE(i,l){var d=Tr();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&Ry(l,g[1])?g[0]:(i=i(),d.memoizedState=[i,l],i)}function DE(i,l,d){return(Sa&21)===0?(i.baseState&&(i.baseState=!1,Kn=!0),i.memoizedState=d):(Br(d,l)||(d=bu(),At.lanes|=d,Ca|=d,i.baseState=!0),l)}function mL(i,l){var d=Xe;Xe=d!==0&&4>d?d:4,i(!0);var g=Ay.transition;Ay.transition={};try{i(!1),l()}finally{Xe=d,Ay.transition=g}}function ME(){return Tr().memoizedState}function gL(i,l,d){var g=fo(i);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},OE(i))LE(l,d);else if(d=fE(i,l,d,g),d!==null){var x=zn();qr(d,i,g,x),VE(d,l,g)}}function yL(i,l,d){var g=fo(i),x={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(OE(i))LE(l,x);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var A=l.lastRenderedState,U=_(A,d);if(x.hasEagerState=!0,x.eagerState=U,Br(U,A)){var q=l.interleaved;q===null?(x.next=x,Ey(l)):(x.next=q.next,q.next=x),l.interleaved=x;return}}catch{}finally{}d=fE(i,l,x,g),d!==null&&(x=zn(),qr(d,i,g,x),VE(d,l,g))}}function OE(i){var l=i.alternate;return i===At||l!==null&&l===At}function LE(i,l){Gu=Af=!0;var d=i.pending;d===null?l.next=l:(l.next=d.next,d.next=l),i.pending=l}function VE(i,l,d){if((d&4194240)!==0){var g=l.lanes;g&=i.pendingLanes,d|=g,l.lanes=d,Tu(i,d)}}var kf={readContext:Er,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useInsertionEffect:In,useLayoutEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useMutableSource:In,useSyncExternalStore:In,useId:In,unstable_isNewReconciler:!1},vL={readContext:Er,useCallback:function(i,l){return Cs().memoizedState=[i,l===void 0?null:l],i},useContext:Er,useEffect:IE,useImperativeHandle:function(i,l,d){return d=d!=null?d.concat([i]):null,Rf(4194308,4,RE.bind(null,l,i),d)},useLayoutEffect:function(i,l){return Rf(4194308,4,i,l)},useInsertionEffect:function(i,l){return Rf(4,2,i,l)},useMemo:function(i,l){var d=Cs();return l=l===void 0?null:l,i=i(),d.memoizedState=[i,l],i},useReducer:function(i,l,d){var g=Cs();return l=d!==void 0?d(l):l,g.memoizedState=g.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},g.queue=i,i=i.dispatch=gL.bind(null,At,i),[g.memoizedState,i]},useRef:function(i){var l=Cs();return i={current:i},l.memoizedState=i},useState:SE,useDebugValue:Oy,useDeferredValue:function(i){return Cs().memoizedState=i},useTransition:function(){var i=SE(!1),l=i[0];return i=mL.bind(null,i[1]),Cs().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,d){var g=At,x=Cs();if(St){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),cn===null)throw Error(n(349));(Sa&30)!==0||wE(g,l,d)}x.memoizedState=d;var _={value:d,getSnapshot:l};return x.queue=_,IE(bE.bind(null,g,_,i),[i]),g.flags|=2048,Qu(9,_E.bind(null,g,_,d,l),void 0,null),d},useId:function(){var i=Cs(),l=cn.identifierPrefix;if(St){var d=ai,g=oi;d=(g&~(1<<32-sr(g)-1)).toString(32)+d,l=":"+l+"R"+d,d=Ku++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=pL++,l=":"+l+"r"+d.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},xL={readContext:Er,useCallback:kE,useContext:Er,useEffect:My,useImperativeHandle:PE,useInsertionEffect:NE,useLayoutEffect:AE,useMemo:jE,useReducer:jy,useRef:CE,useState:function(){return jy(Yu)},useDebugValue:Oy,useDeferredValue:function(i){var l=Tr();return DE(l,en.memoizedState,i)},useTransition:function(){var i=jy(Yu)[0],l=Tr().memoizedState;return[i,l]},useMutableSource:vE,useSyncExternalStore:xE,useId:ME,unstable_isNewReconciler:!1},wL={readContext:Er,useCallback:kE,useContext:Er,useEffect:My,useImperativeHandle:PE,useInsertionEffect:NE,useLayoutEffect:AE,useMemo:jE,useReducer:Dy,useRef:CE,useState:function(){return Dy(Yu)},useDebugValue:Oy,useDeferredValue:function(i){var l=Tr();return en===null?l.memoizedState=i:DE(l,en.memoizedState,i)},useTransition:function(){var i=Dy(Yu)[0],l=Tr().memoizedState;return[i,l]},useMutableSource:vE,useSyncExternalStore:xE,useId:ME,unstable_isNewReconciler:!1};function $r(i,l){if(i&&i.defaultProps){l=ne({},l),i=i.defaultProps;for(var d in i)l[d]===void 0&&(l[d]=i[d]);return l}return l}function Ly(i,l,d,g){l=i.memoizedState,d=d(g,l),d=d==null?l:ne({},l,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var jf={isMounted:function(i){return(i=i._reactInternals)?Fr(i)===i:!1},enqueueSetState:function(i,l,d){i=i._reactInternals;var g=zn(),x=fo(i),_=ci(g,x);_.payload=l,d!=null&&(_.callback=d),l=lo(i,_,x),l!==null&&(qr(l,i,x,g),Sf(l,i,x))},enqueueReplaceState:function(i,l,d){i=i._reactInternals;var g=zn(),x=fo(i),_=ci(g,x);_.tag=1,_.payload=l,d!=null&&(_.callback=d),l=lo(i,_,x),l!==null&&(qr(l,i,x,g),Sf(l,i,x))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var d=zn(),g=fo(i),x=ci(d,g);x.tag=2,l!=null&&(x.callback=l),l=lo(i,x,g),l!==null&&(qr(l,i,g,d),Sf(l,i,g))}};function FE(i,l,d,g,x,_,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,_,A):l.prototype&&l.prototype.isPureReactComponent?!Ou(d,g)||!Ou(x,_):!0}function UE(i,l,d){var g=!1,x=io,_=l.contextType;return typeof _=="object"&&_!==null?_=Er(_):(x=Gn(l)?wa:Cn.current,g=l.contextTypes,_=(g=g!=null)?$l(i,x):io),l=new l(d,_),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=jf,i.stateNode=l,l._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=x,i.__reactInternalMemoizedMaskedChildContext=_),l}function BE(i,l,d,g){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==i&&jf.enqueueReplaceState(l,l.state,null)}function Vy(i,l,d,g){var x=i.stateNode;x.props=d,x.state=i.memoizedState,x.refs={},Ty(i);var _=l.contextType;typeof _=="object"&&_!==null?x.context=Er(_):(_=Gn(l)?wa:Cn.current,x.context=$l(i,_)),x.state=i.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(Ly(i,l,_,d),x.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(l=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),l!==x.state&&jf.enqueueReplaceState(x,x.state,null),Cf(i,d,x,g),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308)}function Xl(i,l){try{var d="",g=l;do d+=Ve(g),g=g.return;while(g);var x=d}catch(_){x=`
Error generating stack: `+_.message+`
`+_.stack}return{value:i,source:l,stack:x,digest:null}}function Fy(i,l,d){return{value:i,source:null,stack:d??null,digest:l??null}}function Uy(i,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var _L=typeof WeakMap=="function"?WeakMap:Map;function zE(i,l,d){d=ci(-1,d),d.tag=3,d.payload={element:null};var g=l.value;return d.callback=function(){Uf||(Uf=!0,tv=g),Uy(i,l)},d}function $E(i,l,d){d=ci(-1,d),d.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var x=l.value;d.payload=function(){return g(x)},d.callback=function(){Uy(i,l)}}var _=i.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(d.callback=function(){Uy(i,l),typeof g!="function"&&(uo===null?uo=new Set([this]):uo.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})}),d}function WE(i,l,d){var g=i.pingCache;if(g===null){g=i.pingCache=new _L;var x=new Set;g.set(l,x)}else x=g.get(l),x===void 0&&(x=new Set,g.set(l,x));x.has(d)||(x.add(d),i=ML.bind(null,i,l,d),l.then(i,i))}function HE(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function qE(i,l,d,g,x){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=ci(-1,1),l.tag=2,lo(d,l,1))),d.lanes|=1),i):(i.flags|=65536,i.lanes=x,i)}var bL=$.ReactCurrentOwner,Kn=!1;function Bn(i,l,d,g){l.child=i===null?hE(l,null,d,g):Gl(l,i.child,d,g)}function GE(i,l,d,g,x){d=d.render;var _=l.ref;return Yl(l,x),g=Py(i,l,d,g,_,x),d=ky(),i!==null&&!Kn?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~x,ui(i,l,x)):(St&&d&&py(l),l.flags|=1,Bn(i,l,g,x),l.child)}function KE(i,l,d,g,x){if(i===null){var _=d.type;return typeof _=="function"&&!lv(_)&&_.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=_,YE(i,l,_,g,x)):(i=qf(d.type,null,g,l,l.mode,x),i.ref=l.ref,i.return=l,l.child=i)}if(_=i.child,(i.lanes&x)===0){var A=_.memoizedProps;if(d=d.compare,d=d!==null?d:Ou,d(A,g)&&i.ref===l.ref)return ui(i,l,x)}return l.flags|=1,i=mo(_,g),i.ref=l.ref,i.return=l,l.child=i}function YE(i,l,d,g,x){if(i!==null){var _=i.memoizedProps;if(Ou(_,g)&&i.ref===l.ref)if(Kn=!1,l.pendingProps=g=_,(i.lanes&x)!==0)(i.flags&131072)!==0&&(Kn=!0);else return l.lanes=i.lanes,ui(i,l,x)}return By(i,l,d,g,x)}function QE(i,l,d){var g=l.pendingProps,x=g.children,_=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(Zl,dr),dr|=d;else{if((d&1073741824)===0)return i=_!==null?_.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,pt(Zl,dr),dr|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=_!==null?_.baseLanes:d,pt(Zl,dr),dr|=g}else _!==null?(g=_.baseLanes|d,l.memoizedState=null):g=d,pt(Zl,dr),dr|=g;return Bn(i,l,x,d),l.child}function XE(i,l){var d=l.ref;(i===null&&d!==null||i!==null&&i.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function By(i,l,d,g,x){var _=Gn(d)?wa:Cn.current;return _=$l(l,_),Yl(l,x),d=Py(i,l,d,g,_,x),g=ky(),i!==null&&!Kn?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~x,ui(i,l,x)):(St&&g&&py(l),l.flags|=1,Bn(i,l,d,x),l.child)}function JE(i,l,d,g,x){if(Gn(d)){var _=!0;yf(l)}else _=!1;if(Yl(l,x),l.stateNode===null)Mf(i,l),UE(l,d,g),Vy(l,d,g,x),g=!0;else if(i===null){var A=l.stateNode,U=l.memoizedProps;A.props=U;var q=A.context,Z=d.contextType;typeof Z=="object"&&Z!==null?Z=Er(Z):(Z=Gn(d)?wa:Cn.current,Z=$l(l,Z));var oe=d.getDerivedStateFromProps,le=typeof oe=="function"||typeof A.getSnapshotBeforeUpdate=="function";le||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(U!==g||q!==Z)&&BE(l,A,g,Z),ao=!1;var ie=l.memoizedState;A.state=ie,Cf(l,g,A,x),q=l.memoizedState,U!==g||ie!==q||qn.current||ao?(typeof oe=="function"&&(Ly(l,d,oe,g),q=l.memoizedState),(U=ao||FE(l,d,U,g,ie,q,Z))?(le||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(l.flags|=4194308)):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=q),A.props=g,A.state=q,A.context=Z,g=U):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{A=l.stateNode,pE(i,l),U=l.memoizedProps,Z=l.type===l.elementType?U:$r(l.type,U),A.props=Z,le=l.pendingProps,ie=A.context,q=d.contextType,typeof q=="object"&&q!==null?q=Er(q):(q=Gn(d)?wa:Cn.current,q=$l(l,q));var ge=d.getDerivedStateFromProps;(oe=typeof ge=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(U!==le||ie!==q)&&BE(l,A,g,q),ao=!1,ie=l.memoizedState,A.state=ie,Cf(l,g,A,x);var we=l.memoizedState;U!==le||ie!==we||qn.current||ao?(typeof ge=="function"&&(Ly(l,d,ge,g),we=l.memoizedState),(Z=ao||FE(l,d,Z,g,ie,we,q)||!1)?(oe||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(g,we,q),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(g,we,q)),typeof A.componentDidUpdate=="function"&&(l.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof A.componentDidUpdate!="function"||U===i.memoizedProps&&ie===i.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||U===i.memoizedProps&&ie===i.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=we),A.props=g,A.state=we,A.context=q,g=Z):(typeof A.componentDidUpdate!="function"||U===i.memoizedProps&&ie===i.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||U===i.memoizedProps&&ie===i.memoizedState||(l.flags|=1024),g=!1)}return zy(i,l,d,g,_,x)}function zy(i,l,d,g,x,_){XE(i,l);var A=(l.flags&128)!==0;if(!g&&!A)return x&&rE(l,d,!1),ui(i,l,_);g=l.stateNode,bL.current=l;var U=A&&typeof d.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,i!==null&&A?(l.child=Gl(l,i.child,null,_),l.child=Gl(l,null,U,_)):Bn(i,l,U,_),l.memoizedState=g.state,x&&rE(l,d,!0),l.child}function ZE(i){var l=i.stateNode;l.pendingContext?tE(i,l.pendingContext,l.pendingContext!==l.context):l.context&&tE(i,l.context,!1),Sy(i,l.containerInfo)}function eT(i,l,d,g,x){return ql(),vy(x),l.flags|=256,Bn(i,l,d,g),l.child}var $y={dehydrated:null,treeContext:null,retryLane:0};function Wy(i){return{baseLanes:i,cachePool:null,transitions:null}}function tT(i,l,d){var g=l.pendingProps,x=Nt.current,_=!1,A=(l.flags&128)!==0,U;if((U=A)||(U=i!==null&&i.memoizedState===null?!1:(x&2)!==0),U?(_=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(x|=1),pt(Nt,x&1),i===null)return yy(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(A=g.children,i=g.fallback,_?(g=l.mode,_=l.child,A={mode:"hidden",children:A},(g&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=A):_=Gf(A,g,0,null),i=Ra(i,g,d,null),_.return=l,i.return=l,_.sibling=i,l.child=_,l.child.memoizedState=Wy(d),l.memoizedState=$y,i):Hy(l,A));if(x=i.memoizedState,x!==null&&(U=x.dehydrated,U!==null))return EL(i,l,A,g,U,x,d);if(_){_=g.fallback,A=l.mode,x=i.child,U=x.sibling;var q={mode:"hidden",children:g.children};return(A&1)===0&&l.child!==x?(g=l.child,g.childLanes=0,g.pendingProps=q,l.deletions=null):(g=mo(x,q),g.subtreeFlags=x.subtreeFlags&14680064),U!==null?_=mo(U,_):(_=Ra(_,A,d,null),_.flags|=2),_.return=l,g.return=l,g.sibling=_,l.child=g,g=_,_=l.child,A=i.child.memoizedState,A=A===null?Wy(d):{baseLanes:A.baseLanes|d,cachePool:null,transitions:A.transitions},_.memoizedState=A,_.childLanes=i.childLanes&~d,l.memoizedState=$y,g}return _=i.child,i=_.sibling,g=mo(_,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=d),g.return=l,g.sibling=null,i!==null&&(d=l.deletions,d===null?(l.deletions=[i],l.flags|=16):d.push(i)),l.child=g,l.memoizedState=null,g}function Hy(i,l){return l=Gf({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function Df(i,l,d,g){return g!==null&&vy(g),Gl(l,i.child,null,d),i=Hy(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function EL(i,l,d,g,x,_,A){if(d)return l.flags&256?(l.flags&=-257,g=Fy(Error(n(422))),Df(i,l,A,g)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(_=g.fallback,x=l.mode,g=Gf({mode:"visible",children:g.children},x,0,null),_=Ra(_,x,A,null),_.flags|=2,g.return=l,_.return=l,g.sibling=_,l.child=g,(l.mode&1)!==0&&Gl(l,i.child,null,A),l.child.memoizedState=Wy(A),l.memoizedState=$y,_);if((l.mode&1)===0)return Df(i,l,A,null);if(x.data==="$!"){if(g=x.nextSibling&&x.nextSibling.dataset,g)var U=g.dgst;return g=U,_=Error(n(419)),g=Fy(_,g,void 0),Df(i,l,A,g)}if(U=(A&i.childLanes)!==0,Kn||U){if(g=cn,g!==null){switch(A&-A){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(g.suspendedLanes|A))!==0?0:x,x!==0&&x!==_.retryLane&&(_.retryLane=x,li(i,x),qr(g,i,x,-1))}return av(),g=Fy(Error(n(421))),Df(i,l,A,g)}return x.data==="$?"?(l.flags|=128,l.child=i.child,l=OL.bind(null,i),x._reactRetry=l,null):(i=_.treeContext,ur=ro(x.nextSibling),cr=l,St=!0,zr=null,i!==null&&(_r[br++]=oi,_r[br++]=ai,_r[br++]=_a,oi=i.id,ai=i.overflow,_a=l),l=Hy(l,g.children),l.flags|=4096,l)}function nT(i,l,d){i.lanes|=l;var g=i.alternate;g!==null&&(g.lanes|=l),by(i.return,l,d)}function qy(i,l,d,g,x){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:x}:(_.isBackwards=l,_.rendering=null,_.renderingStartTime=0,_.last=g,_.tail=d,_.tailMode=x)}function rT(i,l,d){var g=l.pendingProps,x=g.revealOrder,_=g.tail;if(Bn(i,l,g.children,d),g=Nt.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&nT(i,d,l);else if(i.tag===19)nT(i,d,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(pt(Nt,g),(l.mode&1)===0)l.memoizedState=null;else switch(x){case"forwards":for(d=l.child,x=null;d!==null;)i=d.alternate,i!==null&&If(i)===null&&(x=d),d=d.sibling;d=x,d===null?(x=l.child,l.child=null):(x=d.sibling,d.sibling=null),qy(l,!1,x,d,_);break;case"backwards":for(d=null,x=l.child,l.child=null;x!==null;){if(i=x.alternate,i!==null&&If(i)===null){l.child=x;break}i=x.sibling,x.sibling=d,d=x,x=i}qy(l,!0,d,null,_);break;case"together":qy(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Mf(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function ui(i,l,d){if(i!==null&&(l.dependencies=i.dependencies),Ca|=l.lanes,(d&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(n(153));if(l.child!==null){for(i=l.child,d=mo(i,i.pendingProps),l.child=d,d.return=l;i.sibling!==null;)i=i.sibling,d=d.sibling=mo(i,i.pendingProps),d.return=l;d.sibling=null}return l.child}function TL(i,l,d){switch(l.tag){case 3:ZE(l),ql();break;case 5:yE(l);break;case 1:Gn(l.type)&&yf(l);break;case 4:Sy(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,x=l.memoizedProps.value;pt(Ef,g._currentValue),g._currentValue=x;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(pt(Nt,Nt.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?tT(i,l,d):(pt(Nt,Nt.current&1),i=ui(i,l,d),i!==null?i.sibling:null);pt(Nt,Nt.current&1);break;case 19:if(g=(d&l.childLanes)!==0,(i.flags&128)!==0){if(g)return rT(i,l,d);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),pt(Nt,Nt.current),g)break;return null;case 22:case 23:return l.lanes=0,QE(i,l,d)}return ui(i,l,d)}var sT,Gy,iT,oT;sT=function(i,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Gy=function(){},iT=function(i,l,d,g){var x=i.memoizedProps;if(x!==g){i=l.stateNode,Ta(Ss.current);var _=null;switch(d){case"input":x=gn(i,x),g=gn(i,g),_=[];break;case"select":x=ne({},x,{value:void 0}),g=ne({},g,{value:void 0}),_=[];break;case"textarea":x=du(i,x),g=du(i,g),_=[];break;default:typeof x.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=pf)}Vr(d,g);var A;d=null;for(Z in x)if(!g.hasOwnProperty(Z)&&x.hasOwnProperty(Z)&&x[Z]!=null)if(Z==="style"){var U=x[Z];for(A in U)U.hasOwnProperty(A)&&(d||(d={}),d[A]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(s.hasOwnProperty(Z)?_||(_=[]):(_=_||[]).push(Z,null));for(Z in g){var q=g[Z];if(U=x!=null?x[Z]:void 0,g.hasOwnProperty(Z)&&q!==U&&(q!=null||U!=null))if(Z==="style")if(U){for(A in U)!U.hasOwnProperty(A)||q&&q.hasOwnProperty(A)||(d||(d={}),d[A]="");for(A in q)q.hasOwnProperty(A)&&U[A]!==q[A]&&(d||(d={}),d[A]=q[A])}else d||(_||(_=[]),_.push(Z,d)),d=q;else Z==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,U=U?U.__html:void 0,q!=null&&U!==q&&(_=_||[]).push(Z,q)):Z==="children"?typeof q!="string"&&typeof q!="number"||(_=_||[]).push(Z,""+q):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(s.hasOwnProperty(Z)?(q!=null&&Z==="onScroll"&&vt("scroll",i),_||U===q||(_=[])):(_=_||[]).push(Z,q))}d&&(_=_||[]).push("style",d);var Z=_;(l.updateQueue=Z)&&(l.flags|=4)}},oT=function(i,l,d,g){d!==g&&(l.flags|=4)};function Xu(i,l){if(!St)switch(i.tailMode){case"hidden":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function Nn(i){var l=i.alternate!==null&&i.alternate.child===i.child,d=0,g=0;if(l)for(var x=i.child;x!==null;)d|=x.lanes|x.childLanes,g|=x.subtreeFlags&14680064,g|=x.flags&14680064,x.return=i,x=x.sibling;else for(x=i.child;x!==null;)d|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=i,x=x.sibling;return i.subtreeFlags|=g,i.childLanes=d,l}function SL(i,l,d){var g=l.pendingProps;switch(my(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(l),null;case 1:return Gn(l.type)&&gf(),Nn(l),null;case 3:return g=l.stateNode,Ql(),xt(qn),xt(Cn),Ny(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(_f(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,zr!==null&&(sv(zr),zr=null))),Gy(i,l),Nn(l),null;case 5:Cy(l);var x=Ta(qu.current);if(d=l.type,i!==null&&l.stateNode!=null)iT(i,l,d,g,x),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(n(166));return Nn(l),null}if(i=Ta(Ss.current),_f(l)){g=l.stateNode,d=l.type;var _=l.memoizedProps;switch(g[Ts]=l,g[Bu]=_,i=(l.mode&1)!==0,d){case"dialog":vt("cancel",g),vt("close",g);break;case"iframe":case"object":case"embed":vt("load",g);break;case"video":case"audio":for(x=0;x<Vu.length;x++)vt(Vu[x],g);break;case"source":vt("error",g);break;case"img":case"image":case"link":vt("error",g),vt("load",g);break;case"details":vt("toggle",g);break;case"input":cs(g,_),vt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!_.multiple},vt("invalid",g);break;case"textarea":hu(g,_),vt("invalid",g)}Vr(d,_),x=null;for(var A in _)if(_.hasOwnProperty(A)){var U=_[A];A==="children"?typeof U=="string"?g.textContent!==U&&(_.suppressHydrationWarning!==!0&&ff(g.textContent,U,i),x=["children",U]):typeof U=="number"&&g.textContent!==""+U&&(_.suppressHydrationWarning!==!0&&ff(g.textContent,U,i),x=["children",""+U]):s.hasOwnProperty(A)&&U!=null&&A==="onScroll"&&vt("scroll",g)}switch(d){case"input":Qe(g),sa(g,_,!0);break;case"textarea":Qe(g),Bi(g);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(g.onclick=pf)}g=x,l.updateQueue=g,g!==null&&(l.flags|=4)}else{A=x.nodeType===9?x:x.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=fu(d)),i==="http://www.w3.org/1999/xhtml"?d==="script"?(i=A.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=A.createElement(d,{is:g.is}):(i=A.createElement(d),d==="select"&&(A=i,g.multiple?A.multiple=!0:g.size&&(A.size=g.size))):i=A.createElementNS(i,d),i[Ts]=l,i[Bu]=g,sT(i,l,!1,!1),l.stateNode=i;e:{switch(A=xl(d,g),d){case"dialog":vt("cancel",i),vt("close",i),x=g;break;case"iframe":case"object":case"embed":vt("load",i),x=g;break;case"video":case"audio":for(x=0;x<Vu.length;x++)vt(Vu[x],i);x=g;break;case"source":vt("error",i),x=g;break;case"img":case"image":case"link":vt("error",i),vt("load",i),x=g;break;case"details":vt("toggle",i),x=g;break;case"input":cs(i,g),x=gn(i,g),vt("invalid",i);break;case"option":x=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},x=ne({},g,{value:void 0}),vt("invalid",i);break;case"textarea":hu(i,g),x=du(i,g),vt("invalid",i);break;default:x=g}Vr(d,x),U=x;for(_ in U)if(U.hasOwnProperty(_)){var q=U[_];_==="style"?vl(i,q):_==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,q!=null&&Uh(i,q)):_==="children"?typeof q=="string"?(d!=="textarea"||q!=="")&&ia(i,q):typeof q=="number"&&ia(i,""+q):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(s.hasOwnProperty(_)?q!=null&&_==="onScroll"&&vt("scroll",i):q!=null&&k(i,_,q,A))}switch(d){case"input":Qe(i),sa(i,g,!1);break;case"textarea":Qe(i),Bi(i);break;case"option":g.value!=null&&i.setAttribute("value",""+be(g.value));break;case"select":i.multiple=!!g.multiple,_=g.value,_!=null?Lr(i,!!g.multiple,_,!1):g.defaultValue!=null&&Lr(i,!!g.multiple,g.defaultValue,!0);break;default:typeof x.onClick=="function"&&(i.onclick=pf)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Nn(l),null;case 6:if(i&&l.stateNode!=null)oT(i,l,i.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(n(166));if(d=Ta(qu.current),Ta(Ss.current),_f(l)){if(g=l.stateNode,d=l.memoizedProps,g[Ts]=l,(_=g.nodeValue!==d)&&(i=cr,i!==null))switch(i.tag){case 3:ff(g.nodeValue,d,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&ff(g.nodeValue,d,(i.mode&1)!==0)}_&&(l.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[Ts]=l,l.stateNode=g}return Nn(l),null;case 13:if(xt(Nt),g=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(St&&ur!==null&&(l.mode&1)!==0&&(l.flags&128)===0)cE(),ql(),l.flags|=98560,_=!1;else if(_=_f(l),g!==null&&g.dehydrated!==null){if(i===null){if(!_)throw Error(n(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[Ts]=l}else ql(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Nn(l),_=!1}else zr!==null&&(sv(zr),zr=null),_=!0;if(!_)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||(Nt.current&1)!==0?tn===0&&(tn=3):av())),l.updateQueue!==null&&(l.flags|=4),Nn(l),null);case 4:return Ql(),Gy(i,l),i===null&&Fu(l.stateNode.containerInfo),Nn(l),null;case 10:return _y(l.type._context),Nn(l),null;case 17:return Gn(l.type)&&gf(),Nn(l),null;case 19:if(xt(Nt),_=l.memoizedState,_===null)return Nn(l),null;if(g=(l.flags&128)!==0,A=_.rendering,A===null)if(g)Xu(_,!1);else{if(tn!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(A=If(i),A!==null){for(l.flags|=128,Xu(_,!1),g=A.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=d,d=l.child;d!==null;)_=d,i=g,_.flags&=14680066,A=_.alternate,A===null?(_.childLanes=0,_.lanes=i,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=A.childLanes,_.lanes=A.lanes,_.child=A.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=A.memoizedProps,_.memoizedState=A.memoizedState,_.updateQueue=A.updateQueue,_.type=A.type,i=A.dependencies,_.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),d=d.sibling;return pt(Nt,Nt.current&1|2),l.child}i=i.sibling}_.tail!==null&&yt()>ec&&(l.flags|=128,g=!0,Xu(_,!1),l.lanes=4194304)}else{if(!g)if(i=If(A),i!==null){if(l.flags|=128,g=!0,d=i.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),Xu(_,!0),_.tail===null&&_.tailMode==="hidden"&&!A.alternate&&!St)return Nn(l),null}else 2*yt()-_.renderingStartTime>ec&&d!==1073741824&&(l.flags|=128,g=!0,Xu(_,!1),l.lanes=4194304);_.isBackwards?(A.sibling=l.child,l.child=A):(d=_.last,d!==null?d.sibling=A:l.child=A,_.last=A)}return _.tail!==null?(l=_.tail,_.rendering=l,_.tail=l.sibling,_.renderingStartTime=yt(),l.sibling=null,d=Nt.current,pt(Nt,g?d&1|2:d&1),l):(Nn(l),null);case 22:case 23:return ov(),g=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(dr&1073741824)!==0&&(Nn(l),l.subtreeFlags&6&&(l.flags|=8192)):Nn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function CL(i,l){switch(my(l),l.tag){case 1:return Gn(l.type)&&gf(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Ql(),xt(qn),xt(Cn),Ny(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return Cy(l),null;case 13:if(xt(Nt),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(n(340));ql()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return xt(Nt),null;case 4:return Ql(),null;case 10:return _y(l.type._context),null;case 22:case 23:return ov(),null;case 24:return null;default:return null}}var Of=!1,An=!1,IL=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Jl(i,l){var d=i.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){Mt(i,l,g)}else d.current=null}function Ky(i,l,d){try{d()}catch(g){Mt(i,l,g)}}var aT=!1;function NL(i,l){if(oy=ti,i=Fb(),Jg(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var x=g.anchorOffset,_=g.focusNode;g=g.focusOffset;try{d.nodeType,_.nodeType}catch{d=null;break e}var A=0,U=-1,q=-1,Z=0,oe=0,le=i,ie=null;t:for(;;){for(var ge;le!==d||x!==0&&le.nodeType!==3||(U=A+x),le!==_||g!==0&&le.nodeType!==3||(q=A+g),le.nodeType===3&&(A+=le.nodeValue.length),(ge=le.firstChild)!==null;)ie=le,le=ge;for(;;){if(le===i)break t;if(ie===d&&++Z===x&&(U=A),ie===_&&++oe===g&&(q=A),(ge=le.nextSibling)!==null)break;le=ie,ie=le.parentNode}le=ge}d=U===-1||q===-1?null:{start:U,end:q}}else d=null}d=d||{start:0,end:0}}else d=null;for(ay={focusedElem:i,selectionRange:d},ti=!1,xe=l;xe!==null;)if(l=xe,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,xe=i;else for(;xe!==null;){l=xe;try{var we=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Ee=we.memoizedProps,Ut=we.memoizedState,Y=l.stateNode,G=Y.getSnapshotBeforeUpdate(l.elementType===l.type?Ee:$r(l.type,Ee),Ut);Y.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var X=l.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ce){Mt(l,l.return,ce)}if(i=l.sibling,i!==null){i.return=l.return,xe=i;break}xe=l.return}return we=aT,aT=!1,we}function Ju(i,l,d){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var x=g=g.next;do{if((x.tag&i)===i){var _=x.destroy;x.destroy=void 0,_!==void 0&&Ky(l,d,_)}x=x.next}while(x!==g)}}function Lf(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&i)===i){var g=d.create;d.destroy=g()}d=d.next}while(d!==l)}}function Yy(i){var l=i.ref;if(l!==null){var d=i.stateNode;switch(i.tag){case 5:i=d;break;default:i=d}typeof l=="function"?l(i):l.current=i}}function lT(i){var l=i.alternate;l!==null&&(i.alternate=null,lT(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[Ts],delete l[Bu],delete l[dy],delete l[uL],delete l[dL])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function cT(i){return i.tag===5||i.tag===3||i.tag===4}function uT(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||cT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Qy(i,l,d){var g=i.tag;if(g===5||g===6)i=i.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(i,l):d.insertBefore(i,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(i,d)):(l=d,l.appendChild(i)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=pf));else if(g!==4&&(i=i.child,i!==null))for(Qy(i,l,d),i=i.sibling;i!==null;)Qy(i,l,d),i=i.sibling}function Xy(i,l,d){var g=i.tag;if(g===5||g===6)i=i.stateNode,l?d.insertBefore(i,l):d.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(Xy(i,l,d),i=i.sibling;i!==null;)Xy(i,l,d),i=i.sibling}var xn=null,Wr=!1;function co(i,l,d){for(d=d.child;d!==null;)dT(i,l,d),d=d.sibling}function dT(i,l,d){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(ua,d)}catch{}switch(d.tag){case 5:An||Jl(d,l);case 6:var g=xn,x=Wr;xn=null,co(i,l,d),xn=g,Wr=x,xn!==null&&(Wr?(i=xn,d=d.stateNode,i.nodeType===8?i.parentNode.removeChild(d):i.removeChild(d)):xn.removeChild(d.stateNode));break;case 18:xn!==null&&(Wr?(i=xn,d=d.stateNode,i.nodeType===8?uy(i.parentNode,d):i.nodeType===1&&uy(i,d),Zi(i)):uy(xn,d.stateNode));break;case 4:g=xn,x=Wr,xn=d.stateNode.containerInfo,Wr=!0,co(i,l,d),xn=g,Wr=x;break;case 0:case 11:case 14:case 15:if(!An&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){x=g=g.next;do{var _=x,A=_.destroy;_=_.tag,A!==void 0&&((_&2)!==0||(_&4)!==0)&&Ky(d,l,A),x=x.next}while(x!==g)}co(i,l,d);break;case 1:if(!An&&(Jl(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(U){Mt(d,l,U)}co(i,l,d);break;case 21:co(i,l,d);break;case 22:d.mode&1?(An=(g=An)||d.memoizedState!==null,co(i,l,d),An=g):co(i,l,d);break;default:co(i,l,d)}}function hT(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var d=i.stateNode;d===null&&(d=i.stateNode=new IL),l.forEach(function(g){var x=LL.bind(null,i,g);d.has(g)||(d.add(g),g.then(x,x))})}}function Hr(i,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var x=d[g];try{var _=i,A=l,U=A;e:for(;U!==null;){switch(U.tag){case 5:xn=U.stateNode,Wr=!1;break e;case 3:xn=U.stateNode.containerInfo,Wr=!0;break e;case 4:xn=U.stateNode.containerInfo,Wr=!0;break e}U=U.return}if(xn===null)throw Error(n(160));dT(_,A,x),xn=null,Wr=!1;var q=x.alternate;q!==null&&(q.return=null),x.return=null}catch(Z){Mt(x,l,Z)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)fT(l,i),l=l.sibling}function fT(i,l){var d=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Hr(l,i),Is(i),g&4){try{Ju(3,i,i.return),Lf(3,i)}catch(Ee){Mt(i,i.return,Ee)}try{Ju(5,i,i.return)}catch(Ee){Mt(i,i.return,Ee)}}break;case 1:Hr(l,i),Is(i),g&512&&d!==null&&Jl(d,d.return);break;case 5:if(Hr(l,i),Is(i),g&512&&d!==null&&Jl(d,d.return),i.flags&32){var x=i.stateNode;try{ia(x,"")}catch(Ee){Mt(i,i.return,Ee)}}if(g&4&&(x=i.stateNode,x!=null)){var _=i.memoizedProps,A=d!==null?d.memoizedProps:_,U=i.type,q=i.updateQueue;if(i.updateQueue=null,q!==null)try{U==="input"&&_.type==="radio"&&_.name!=null&&vr(x,_),xl(U,A);var Z=xl(U,_);for(A=0;A<q.length;A+=2){var oe=q[A],le=q[A+1];oe==="style"?vl(x,le):oe==="dangerouslySetInnerHTML"?Uh(x,le):oe==="children"?ia(x,le):k(x,oe,le,Z)}switch(U){case"input":nr(x,_);break;case"textarea":Fh(x,_);break;case"select":var ie=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!_.multiple;var ge=_.value;ge!=null?Lr(x,!!_.multiple,ge,!1):ie!==!!_.multiple&&(_.defaultValue!=null?Lr(x,!!_.multiple,_.defaultValue,!0):Lr(x,!!_.multiple,_.multiple?[]:"",!1))}x[Bu]=_}catch(Ee){Mt(i,i.return,Ee)}}break;case 6:if(Hr(l,i),Is(i),g&4){if(i.stateNode===null)throw Error(n(162));x=i.stateNode,_=i.memoizedProps;try{x.nodeValue=_}catch(Ee){Mt(i,i.return,Ee)}}break;case 3:if(Hr(l,i),Is(i),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Zi(l.containerInfo)}catch(Ee){Mt(i,i.return,Ee)}break;case 4:Hr(l,i),Is(i);break;case 13:Hr(l,i),Is(i),x=i.child,x.flags&8192&&(_=x.memoizedState!==null,x.stateNode.isHidden=_,!_||x.alternate!==null&&x.alternate.memoizedState!==null||(ev=yt())),g&4&&hT(i);break;case 22:if(oe=d!==null&&d.memoizedState!==null,i.mode&1?(An=(Z=An)||oe,Hr(l,i),An=Z):Hr(l,i),Is(i),g&8192){if(Z=i.memoizedState!==null,(i.stateNode.isHidden=Z)&&!oe&&(i.mode&1)!==0)for(xe=i,oe=i.child;oe!==null;){for(le=xe=oe;xe!==null;){switch(ie=xe,ge=ie.child,ie.tag){case 0:case 11:case 14:case 15:Ju(4,ie,ie.return);break;case 1:Jl(ie,ie.return);var we=ie.stateNode;if(typeof we.componentWillUnmount=="function"){g=ie,d=ie.return;try{l=g,we.props=l.memoizedProps,we.state=l.memoizedState,we.componentWillUnmount()}catch(Ee){Mt(g,d,Ee)}}break;case 5:Jl(ie,ie.return);break;case 22:if(ie.memoizedState!==null){gT(le);continue}}ge!==null?(ge.return=ie,xe=ge):gT(le)}oe=oe.sibling}e:for(oe=null,le=i;;){if(le.tag===5){if(oe===null){oe=le;try{x=le.stateNode,Z?(_=x.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(U=le.stateNode,q=le.memoizedProps.style,A=q!=null&&q.hasOwnProperty("display")?q.display:null,U.style.display=Wi("display",A))}catch(Ee){Mt(i,i.return,Ee)}}}else if(le.tag===6){if(oe===null)try{le.stateNode.nodeValue=Z?"":le.memoizedProps}catch(Ee){Mt(i,i.return,Ee)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===i)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===i)break e;for(;le.sibling===null;){if(le.return===null||le.return===i)break e;oe===le&&(oe=null),le=le.return}oe===le&&(oe=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:Hr(l,i),Is(i),g&4&&hT(i);break;case 21:break;default:Hr(l,i),Is(i)}}function Is(i){var l=i.flags;if(l&2){try{e:{for(var d=i.return;d!==null;){if(cT(d)){var g=d;break e}d=d.return}throw Error(n(160))}switch(g.tag){case 5:var x=g.stateNode;g.flags&32&&(ia(x,""),g.flags&=-33);var _=uT(i);Xy(i,_,x);break;case 3:case 4:var A=g.stateNode.containerInfo,U=uT(i);Qy(i,U,A);break;default:throw Error(n(161))}}catch(q){Mt(i,i.return,q)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function AL(i,l,d){xe=i,pT(i)}function pT(i,l,d){for(var g=(i.mode&1)!==0;xe!==null;){var x=xe,_=x.child;if(x.tag===22&&g){var A=x.memoizedState!==null||Of;if(!A){var U=x.alternate,q=U!==null&&U.memoizedState!==null||An;U=Of;var Z=An;if(Of=A,(An=q)&&!Z)for(xe=x;xe!==null;)A=xe,q=A.child,A.tag===22&&A.memoizedState!==null?yT(x):q!==null?(q.return=A,xe=q):yT(x);for(;_!==null;)xe=_,pT(_),_=_.sibling;xe=x,Of=U,An=Z}mT(i)}else(x.subtreeFlags&8772)!==0&&_!==null?(_.return=x,xe=_):mT(i)}}function mT(i){for(;xe!==null;){var l=xe;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:An||Lf(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!An)if(d===null)g.componentDidMount();else{var x=l.elementType===l.type?d.memoizedProps:$r(l.type,d.memoizedProps);g.componentDidUpdate(x,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var _=l.updateQueue;_!==null&&gE(l,_,g);break;case 3:var A=l.updateQueue;if(A!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}gE(l,A,d)}break;case 5:var U=l.stateNode;if(d===null&&l.flags&4){d=U;var q=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":q.autoFocus&&d.focus();break;case"img":q.src&&(d.src=q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Z=l.alternate;if(Z!==null){var oe=Z.memoizedState;if(oe!==null){var le=oe.dehydrated;le!==null&&Zi(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}An||l.flags&512&&Yy(l)}catch(ie){Mt(l,l.return,ie)}}if(l===i){xe=null;break}if(d=l.sibling,d!==null){d.return=l.return,xe=d;break}xe=l.return}}function gT(i){for(;xe!==null;){var l=xe;if(l===i){xe=null;break}var d=l.sibling;if(d!==null){d.return=l.return,xe=d;break}xe=l.return}}function yT(i){for(;xe!==null;){var l=xe;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{Lf(4,l)}catch(q){Mt(l,d,q)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var x=l.return;try{g.componentDidMount()}catch(q){Mt(l,x,q)}}var _=l.return;try{Yy(l)}catch(q){Mt(l,_,q)}break;case 5:var A=l.return;try{Yy(l)}catch(q){Mt(l,A,q)}}}catch(q){Mt(l,l.return,q)}if(l===i){xe=null;break}var U=l.sibling;if(U!==null){U.return=l.return,xe=U;break}xe=l.return}}var RL=Math.ceil,Vf=$.ReactCurrentDispatcher,Jy=$.ReactCurrentOwner,Sr=$.ReactCurrentBatchConfig,rt=0,cn=null,Gt=null,wn=0,dr=0,Zl=so(0),tn=0,Zu=null,Ca=0,Ff=0,Zy=0,ed=null,Yn=null,ev=0,ec=1/0,di=null,Uf=!1,tv=null,uo=null,Bf=!1,ho=null,zf=0,td=0,nv=null,$f=-1,Wf=0;function zn(){return(rt&6)!==0?yt():$f!==-1?$f:$f=yt()}function fo(i){return(i.mode&1)===0?1:(rt&2)!==0&&wn!==0?wn&-wn:fL.transition!==null?(Wf===0&&(Wf=bu()),Wf):(i=Xe,i!==0||(i=window.event,i=i===void 0?16:Al(i.type)),i)}function qr(i,l,d,g){if(50<td)throw td=0,nv=null,Error(n(185));pa(i,d,g),((rt&2)===0||i!==cn)&&(i===cn&&((rt&2)===0&&(Ff|=d),tn===4&&po(i,wn)),Qn(i,g),d===1&&rt===0&&(l.mode&1)===0&&(ec=yt()+500,vf&&oo()))}function Qn(i,l){var d=i.callbackNode;fa(i,l);var g=Js(i,i===cn?wn:0);if(g===0)d!==null&&bl(d),i.callbackNode=null,i.callbackPriority=0;else if(l=g&-g,i.callbackPriority!==l){if(d!=null&&bl(d),l===1)i.tag===0?hL(xT.bind(null,i)):sE(xT.bind(null,i)),lL(function(){(rt&6)===0&&oo()}),d=null;else{switch(ps(g)){case 1:d=El;break;case 4:d=xu;break;case 16:d=ca;break;case 536870912:d=Tl;break;default:d=ca}d=IT(d,vT.bind(null,i))}i.callbackPriority=l,i.callbackNode=d}}function vT(i,l){if($f=-1,Wf=0,(rt&6)!==0)throw Error(n(327));var d=i.callbackNode;if(tc()&&i.callbackNode!==d)return null;var g=Js(i,i===cn?wn:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||l)l=Hf(i,g);else{l=g;var x=rt;rt|=2;var _=_T();(cn!==i||wn!==l)&&(di=null,ec=yt()+500,Na(i,l));do try{jL();break}catch(U){wT(i,U)}while(!0);wy(),Vf.current=_,rt=x,Gt!==null?l=0:(cn=null,wn=0,l=tn)}if(l!==0){if(l===2&&(x=_u(i),x!==0&&(g=x,l=rv(i,x))),l===1)throw d=Zu,Na(i,0),po(i,g),Qn(i,yt()),d;if(l===6)po(i,g);else{if(x=i.current.alternate,(g&30)===0&&!PL(x)&&(l=Hf(i,g),l===2&&(_=_u(i),_!==0&&(g=_,l=rv(i,_))),l===1))throw d=Zu,Na(i,0),po(i,g),Qn(i,yt()),d;switch(i.finishedWork=x,i.finishedLanes=g,l){case 0:case 1:throw Error(n(345));case 2:Aa(i,Yn,di);break;case 3:if(po(i,g),(g&130023424)===g&&(l=ev+500-yt(),10<l)){if(Js(i,0)!==0)break;if(x=i.suspendedLanes,(x&g)!==g){zn(),i.pingedLanes|=i.suspendedLanes&x;break}i.timeoutHandle=cy(Aa.bind(null,i,Yn,di),l);break}Aa(i,Yn,di);break;case 4:if(po(i,g),(g&4194240)===g)break;for(l=i.eventTimes,x=-1;0<g;){var A=31-sr(g);_=1<<A,A=l[A],A>x&&(x=A),g&=~_}if(g=x,g=yt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*RL(g/1960))-g,10<g){i.timeoutHandle=cy(Aa.bind(null,i,Yn,di),g);break}Aa(i,Yn,di);break;case 5:Aa(i,Yn,di);break;default:throw Error(n(329))}}}return Qn(i,yt()),i.callbackNode===d?vT.bind(null,i):null}function rv(i,l){var d=ed;return i.current.memoizedState.isDehydrated&&(Na(i,l).flags|=256),i=Hf(i,l),i!==2&&(l=Yn,Yn=d,l!==null&&sv(l)),i}function sv(i){Yn===null?Yn=i:Yn.push.apply(Yn,i)}function PL(i){for(var l=i;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var x=d[g],_=x.getSnapshot;x=x.value;try{if(!Br(_(),x))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function po(i,l){for(l&=~Zy,l&=~Ff,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var d=31-sr(l),g=1<<d;i[d]=-1,l&=~g}}function xT(i){if((rt&6)!==0)throw Error(n(327));tc();var l=Js(i,0);if((l&1)===0)return Qn(i,yt()),null;var d=Hf(i,l);if(i.tag!==0&&d===2){var g=_u(i);g!==0&&(l=g,d=rv(i,g))}if(d===1)throw d=Zu,Na(i,0),po(i,l),Qn(i,yt()),d;if(d===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,Aa(i,Yn,di),Qn(i,yt()),null}function iv(i,l){var d=rt;rt|=1;try{return i(l)}finally{rt=d,rt===0&&(ec=yt()+500,vf&&oo())}}function Ia(i){ho!==null&&ho.tag===0&&(rt&6)===0&&tc();var l=rt;rt|=1;var d=Sr.transition,g=Xe;try{if(Sr.transition=null,Xe=1,i)return i()}finally{Xe=g,Sr.transition=d,rt=l,(rt&6)===0&&oo()}}function ov(){dr=Zl.current,xt(Zl)}function Na(i,l){i.finishedWork=null,i.finishedLanes=0;var d=i.timeoutHandle;if(d!==-1&&(i.timeoutHandle=-1,aL(d)),Gt!==null)for(d=Gt.return;d!==null;){var g=d;switch(my(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&gf();break;case 3:Ql(),xt(qn),xt(Cn),Ny();break;case 5:Cy(g);break;case 4:Ql();break;case 13:xt(Nt);break;case 19:xt(Nt);break;case 10:_y(g.type._context);break;case 22:case 23:ov()}d=d.return}if(cn=i,Gt=i=mo(i.current,null),wn=dr=l,tn=0,Zu=null,Zy=Ff=Ca=0,Yn=ed=null,Ea!==null){for(l=0;l<Ea.length;l++)if(d=Ea[l],g=d.interleaved,g!==null){d.interleaved=null;var x=g.next,_=d.pending;if(_!==null){var A=_.next;_.next=x,g.next=A}d.pending=g}Ea=null}return i}function wT(i,l){do{var d=Gt;try{if(wy(),Nf.current=kf,Af){for(var g=At.memoizedState;g!==null;){var x=g.queue;x!==null&&(x.pending=null),g=g.next}Af=!1}if(Sa=0,ln=en=At=null,Gu=!1,Ku=0,Jy.current=null,d===null||d.return===null){tn=1,Zu=l,Gt=null;break}e:{var _=i,A=d.return,U=d,q=l;if(l=wn,U.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var Z=q,oe=U,le=oe.tag;if((oe.mode&1)===0&&(le===0||le===11||le===15)){var ie=oe.alternate;ie?(oe.updateQueue=ie.updateQueue,oe.memoizedState=ie.memoizedState,oe.lanes=ie.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var ge=HE(A);if(ge!==null){ge.flags&=-257,qE(ge,A,U,_,l),ge.mode&1&&WE(_,Z,l),l=ge,q=Z;var we=l.updateQueue;if(we===null){var Ee=new Set;Ee.add(q),l.updateQueue=Ee}else we.add(q);break e}else{if((l&1)===0){WE(_,Z,l),av();break e}q=Error(n(426))}}else if(St&&U.mode&1){var Ut=HE(A);if(Ut!==null){(Ut.flags&65536)===0&&(Ut.flags|=256),qE(Ut,A,U,_,l),vy(Xl(q,U));break e}}_=q=Xl(q,U),tn!==4&&(tn=2),ed===null?ed=[_]:ed.push(_),_=A;do{switch(_.tag){case 3:_.flags|=65536,l&=-l,_.lanes|=l;var Y=zE(_,q,l);mE(_,Y);break e;case 1:U=q;var G=_.type,X=_.stateNode;if((_.flags&128)===0&&(typeof G.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(uo===null||!uo.has(X)))){_.flags|=65536,l&=-l,_.lanes|=l;var ce=$E(_,U,l);mE(_,ce);break e}}_=_.return}while(_!==null)}ET(d)}catch(Ce){l=Ce,Gt===d&&d!==null&&(Gt=d=d.return);continue}break}while(!0)}function _T(){var i=Vf.current;return Vf.current=kf,i===null?kf:i}function av(){(tn===0||tn===3||tn===2)&&(tn=4),cn===null||(Ca&268435455)===0&&(Ff&268435455)===0||po(cn,wn)}function Hf(i,l){var d=rt;rt|=2;var g=_T();(cn!==i||wn!==l)&&(di=null,Na(i,l));do try{kL();break}catch(x){wT(i,x)}while(!0);if(wy(),rt=d,Vf.current=g,Gt!==null)throw Error(n(261));return cn=null,wn=0,tn}function kL(){for(;Gt!==null;)bT(Gt)}function jL(){for(;Gt!==null&&!la();)bT(Gt)}function bT(i){var l=CT(i.alternate,i,dr);i.memoizedProps=i.pendingProps,l===null?ET(i):Gt=l,Jy.current=null}function ET(i){var l=i;do{var d=l.alternate;if(i=l.return,(l.flags&32768)===0){if(d=SL(d,l,dr),d!==null){Gt=d;return}}else{if(d=CL(d,l),d!==null){d.flags&=32767,Gt=d;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{tn=6,Gt=null;return}}if(l=l.sibling,l!==null){Gt=l;return}Gt=l=i}while(l!==null);tn===0&&(tn=5)}function Aa(i,l,d){var g=Xe,x=Sr.transition;try{Sr.transition=null,Xe=1,DL(i,l,d,g)}finally{Sr.transition=x,Xe=g}return null}function DL(i,l,d,g){do tc();while(ho!==null);if((rt&6)!==0)throw Error(n(327));d=i.finishedWork;var x=i.finishedLanes;if(d===null)return null;if(i.finishedWork=null,i.finishedLanes=0,d===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var _=d.lanes|d.childLanes;if(Gg(i,_),i===cn&&(Gt=cn=null,wn=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Bf||(Bf=!0,IT(ca,function(){return tc(),null})),_=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||_){_=Sr.transition,Sr.transition=null;var A=Xe;Xe=1;var U=rt;rt|=4,Jy.current=null,NL(i,d),fT(d,i),eL(ay),ti=!!oy,ay=oy=null,i.current=d,AL(d),Xs(),rt=U,Xe=A,Sr.transition=_}else i.current=d;if(Bf&&(Bf=!1,ho=i,zf=x),_=i.pendingLanes,_===0&&(uo=null),Xh(d.stateNode),Qn(i,yt()),l!==null)for(g=i.onRecoverableError,d=0;d<l.length;d++)x=l[d],g(x.value,{componentStack:x.stack,digest:x.digest});if(Uf)throw Uf=!1,i=tv,tv=null,i;return(zf&1)!==0&&i.tag!==0&&tc(),_=i.pendingLanes,(_&1)!==0?i===nv?td++:(td=0,nv=i):td=0,oo(),null}function tc(){if(ho!==null){var i=ps(zf),l=Sr.transition,d=Xe;try{if(Sr.transition=null,Xe=16>i?16:i,ho===null)var g=!1;else{if(i=ho,ho=null,zf=0,(rt&6)!==0)throw Error(n(331));var x=rt;for(rt|=4,xe=i.current;xe!==null;){var _=xe,A=_.child;if((xe.flags&16)!==0){var U=_.deletions;if(U!==null){for(var q=0;q<U.length;q++){var Z=U[q];for(xe=Z;xe!==null;){var oe=xe;switch(oe.tag){case 0:case 11:case 15:Ju(8,oe,_)}var le=oe.child;if(le!==null)le.return=oe,xe=le;else for(;xe!==null;){oe=xe;var ie=oe.sibling,ge=oe.return;if(lT(oe),oe===Z){xe=null;break}if(ie!==null){ie.return=ge,xe=ie;break}xe=ge}}}var we=_.alternate;if(we!==null){var Ee=we.child;if(Ee!==null){we.child=null;do{var Ut=Ee.sibling;Ee.sibling=null,Ee=Ut}while(Ee!==null)}}xe=_}}if((_.subtreeFlags&2064)!==0&&A!==null)A.return=_,xe=A;else e:for(;xe!==null;){if(_=xe,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Ju(9,_,_.return)}var Y=_.sibling;if(Y!==null){Y.return=_.return,xe=Y;break e}xe=_.return}}var G=i.current;for(xe=G;xe!==null;){A=xe;var X=A.child;if((A.subtreeFlags&2064)!==0&&X!==null)X.return=A,xe=X;else e:for(A=G;xe!==null;){if(U=xe,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:Lf(9,U)}}catch(Ce){Mt(U,U.return,Ce)}if(U===A){xe=null;break e}var ce=U.sibling;if(ce!==null){ce.return=U.return,xe=ce;break e}xe=U.return}}if(rt=x,oo(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(ua,i)}catch{}g=!0}return g}finally{Xe=d,Sr.transition=l}}return!1}function TT(i,l,d){l=Xl(d,l),l=zE(i,l,1),i=lo(i,l,1),l=zn(),i!==null&&(pa(i,1,l),Qn(i,l))}function Mt(i,l,d){if(i.tag===3)TT(i,i,d);else for(;l!==null;){if(l.tag===3){TT(l,i,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(uo===null||!uo.has(g))){i=Xl(d,i),i=$E(l,i,1),l=lo(l,i,1),i=zn(),l!==null&&(pa(l,1,i),Qn(l,i));break}}l=l.return}}function ML(i,l,d){var g=i.pingCache;g!==null&&g.delete(l),l=zn(),i.pingedLanes|=i.suspendedLanes&d,cn===i&&(wn&d)===d&&(tn===4||tn===3&&(wn&130023424)===wn&&500>yt()-ev?Na(i,0):Zy|=d),Qn(i,l)}function ST(i,l){l===0&&((i.mode&1)===0?l=1:(l=Qi,Qi<<=1,(Qi&130023424)===0&&(Qi=4194304)));var d=zn();i=li(i,l),i!==null&&(pa(i,l,d),Qn(i,d))}function OL(i){var l=i.memoizedState,d=0;l!==null&&(d=l.retryLane),ST(i,d)}function LL(i,l){var d=0;switch(i.tag){case 13:var g=i.stateNode,x=i.memoizedState;x!==null&&(d=x.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(l),ST(i,d)}var CT;CT=function(i,l,d){if(i!==null)if(i.memoizedProps!==l.pendingProps||qn.current)Kn=!0;else{if((i.lanes&d)===0&&(l.flags&128)===0)return Kn=!1,TL(i,l,d);Kn=(i.flags&131072)!==0}else Kn=!1,St&&(l.flags&1048576)!==0&&iE(l,wf,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;Mf(i,l),i=l.pendingProps;var x=$l(l,Cn.current);Yl(l,d),x=Py(null,l,g,i,x,d);var _=ky();return l.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Gn(g)?(_=!0,yf(l)):_=!1,l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Ty(l),x.updater=jf,l.stateNode=x,x._reactInternals=l,Vy(l,g,i,d),l=zy(null,l,g,!0,_,d)):(l.tag=0,St&&_&&py(l),Bn(null,l,x,d),l=l.child),l;case 16:g=l.elementType;e:{switch(Mf(i,l),i=l.pendingProps,x=g._init,g=x(g._payload),l.type=g,x=l.tag=FL(g),i=$r(g,i),x){case 0:l=By(null,l,g,i,d);break e;case 1:l=JE(null,l,g,i,d);break e;case 11:l=GE(null,l,g,i,d);break e;case 14:l=KE(null,l,g,$r(g.type,i),d);break e}throw Error(n(306,g,""))}return l;case 0:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:$r(g,x),By(i,l,g,x,d);case 1:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:$r(g,x),JE(i,l,g,x,d);case 3:e:{if(ZE(l),i===null)throw Error(n(387));g=l.pendingProps,_=l.memoizedState,x=_.element,pE(i,l),Cf(l,g,null,d);var A=l.memoizedState;if(g=A.element,_.isDehydrated)if(_={element:g,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){x=Xl(Error(n(423)),l),l=eT(i,l,g,d,x);break e}else if(g!==x){x=Xl(Error(n(424)),l),l=eT(i,l,g,d,x);break e}else for(ur=ro(l.stateNode.containerInfo.firstChild),cr=l,St=!0,zr=null,d=hE(l,null,g,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(ql(),g===x){l=ui(i,l,d);break e}Bn(i,l,g,d)}l=l.child}return l;case 5:return yE(l),i===null&&yy(l),g=l.type,x=l.pendingProps,_=i!==null?i.memoizedProps:null,A=x.children,ly(g,x)?A=null:_!==null&&ly(g,_)&&(l.flags|=32),XE(i,l),Bn(i,l,A,d),l.child;case 6:return i===null&&yy(l),null;case 13:return tT(i,l,d);case 4:return Sy(l,l.stateNode.containerInfo),g=l.pendingProps,i===null?l.child=Gl(l,null,g,d):Bn(i,l,g,d),l.child;case 11:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:$r(g,x),GE(i,l,g,x,d);case 7:return Bn(i,l,l.pendingProps,d),l.child;case 8:return Bn(i,l,l.pendingProps.children,d),l.child;case 12:return Bn(i,l,l.pendingProps.children,d),l.child;case 10:e:{if(g=l.type._context,x=l.pendingProps,_=l.memoizedProps,A=x.value,pt(Ef,g._currentValue),g._currentValue=A,_!==null)if(Br(_.value,A)){if(_.children===x.children&&!qn.current){l=ui(i,l,d);break e}}else for(_=l.child,_!==null&&(_.return=l);_!==null;){var U=_.dependencies;if(U!==null){A=_.child;for(var q=U.firstContext;q!==null;){if(q.context===g){if(_.tag===1){q=ci(-1,d&-d),q.tag=2;var Z=_.updateQueue;if(Z!==null){Z=Z.shared;var oe=Z.pending;oe===null?q.next=q:(q.next=oe.next,oe.next=q),Z.pending=q}}_.lanes|=d,q=_.alternate,q!==null&&(q.lanes|=d),by(_.return,d,l),U.lanes|=d;break}q=q.next}}else if(_.tag===10)A=_.type===l.type?null:_.child;else if(_.tag===18){if(A=_.return,A===null)throw Error(n(341));A.lanes|=d,U=A.alternate,U!==null&&(U.lanes|=d),by(A,d,l),A=_.sibling}else A=_.child;if(A!==null)A.return=_;else for(A=_;A!==null;){if(A===l){A=null;break}if(_=A.sibling,_!==null){_.return=A.return,A=_;break}A=A.return}_=A}Bn(i,l,x.children,d),l=l.child}return l;case 9:return x=l.type,g=l.pendingProps.children,Yl(l,d),x=Er(x),g=g(x),l.flags|=1,Bn(i,l,g,d),l.child;case 14:return g=l.type,x=$r(g,l.pendingProps),x=$r(g.type,x),KE(i,l,g,x,d);case 15:return YE(i,l,l.type,l.pendingProps,d);case 17:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:$r(g,x),Mf(i,l),l.tag=1,Gn(g)?(i=!0,yf(l)):i=!1,Yl(l,d),UE(l,g,x),Vy(l,g,x,d),zy(null,l,g,!0,i,d);case 19:return rT(i,l,d);case 22:return QE(i,l,d)}throw Error(n(156,l.tag))};function IT(i,l){return vu(i,l)}function VL(i,l,d,g){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(i,l,d,g){return new VL(i,l,d,g)}function lv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function FL(i){if(typeof i=="function")return lv(i)?1:0;if(i!=null){if(i=i.$$typeof,i===z)return 11;if(i===Ie)return 14}return 2}function mo(i,l){var d=i.alternate;return d===null?(d=Cr(i.tag,l,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=l,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&14680064,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,l=i.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d}function qf(i,l,d,g,x,_){var A=2;if(g=i,typeof i=="function")lv(i)&&(A=1);else if(typeof i=="string")A=5;else e:switch(i){case P:return Ra(d.children,x,_,l);case R:A=8,x|=8;break;case D:return i=Cr(12,d,l,x|2),i.elementType=D,i.lanes=_,i;case L:return i=Cr(13,d,l,x),i.elementType=L,i.lanes=_,i;case me:return i=Cr(19,d,l,x),i.elementType=me,i.lanes=_,i;case ae:return Gf(d,x,_,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:A=10;break e;case F:A=9;break e;case z:A=11;break e;case Ie:A=14;break e;case ye:A=16,g=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return l=Cr(A,d,l,x),l.elementType=i,l.type=g,l.lanes=_,l}function Ra(i,l,d,g){return i=Cr(7,i,g,l),i.lanes=d,i}function Gf(i,l,d,g){return i=Cr(22,i,g,l),i.elementType=ae,i.lanes=d,i.stateNode={isHidden:!1},i}function cv(i,l,d){return i=Cr(6,i,null,l),i.lanes=d,i}function uv(i,l,d){return l=Cr(4,i.children!==null?i.children:[],i.key,l),l.lanes=d,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function UL(i,l,d,g,x){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eu(0),this.expirationTimes=Eu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eu(0),this.identifierPrefix=g,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function dv(i,l,d,g,x,_,A,U,q){return i=new UL(i,l,d,U,q),l===1?(l=1,_===!0&&(l|=8)):l=0,_=Cr(3,null,null,l),i.current=_,_.stateNode=i,_.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ty(_),i}function BL(i,l,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:g==null?null:""+g,children:i,containerInfo:l,implementation:d}}function NT(i){if(!i)return io;i=i._reactInternals;e:{if(Fr(i)!==i||i.tag!==1)throw Error(n(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Gn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(i.tag===1){var d=i.type;if(Gn(d))return nE(i,d,l)}return l}function AT(i,l,d,g,x,_,A,U,q){return i=dv(d,g,!0,i,x,_,A,U,q),i.context=NT(null),d=i.current,g=zn(),x=fo(d),_=ci(g,x),_.callback=l??null,lo(d,_,x),i.current.lanes=x,pa(i,x,g),Qn(i,g),i}function Kf(i,l,d,g){var x=l.current,_=zn(),A=fo(x);return d=NT(d),l.context===null?l.context=d:l.pendingContext=d,l=ci(_,A),l.payload={element:i},g=g===void 0?null:g,g!==null&&(l.callback=g),i=lo(x,l,A),i!==null&&(qr(i,x,A,_),Sf(i,x,A)),A}function Yf(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function RT(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<l?d:l}}function hv(i,l){RT(i,l),(i=i.alternate)&&RT(i,l)}function zL(){return null}var PT=typeof reportError=="function"?reportError:function(i){console.error(i)};function fv(i){this._internalRoot=i}Qf.prototype.render=fv.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(n(409));Kf(i,l,null,null)},Qf.prototype.unmount=fv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;Ia(function(){Kf(null,i,null,null)}),l[si]=null}};function Qf(i){this._internalRoot=i}Qf.prototype.unstable_scheduleHydration=function(i){if(i){var l=Iu();i={blockedOn:null,target:i,priority:l};for(var d=0;d<ir.length&&l!==0&&l<ir[d].priority;d++);ir.splice(d,0,i),d===0&&Il(i)}};function pv(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Xf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function kT(){}function $L(i,l,d,g,x){if(x){if(typeof g=="function"){var _=g;g=function(){var Z=Yf(A);_.call(Z)}}var A=AT(l,g,i,0,null,!1,!1,"",kT);return i._reactRootContainer=A,i[si]=A.current,Fu(i.nodeType===8?i.parentNode:i),Ia(),A}for(;x=i.lastChild;)i.removeChild(x);if(typeof g=="function"){var U=g;g=function(){var Z=Yf(q);U.call(Z)}}var q=dv(i,0,!1,null,null,!1,!1,"",kT);return i._reactRootContainer=q,i[si]=q.current,Fu(i.nodeType===8?i.parentNode:i),Ia(function(){Kf(l,q,d,g)}),q}function Jf(i,l,d,g,x){var _=d._reactRootContainer;if(_){var A=_;if(typeof x=="function"){var U=x;x=function(){var q=Yf(A);U.call(q)}}Kf(l,A,i,x)}else A=$L(d,l,i,x,g);return Yf(A)}Su=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var d=ot(l.pendingLanes);d!==0&&(Tu(l,d|1),Qn(l,yt()),(rt&6)===0&&(ec=yt()+500,oo()))}break;case 13:Ia(function(){var g=li(i,1);if(g!==null){var x=zn();qr(g,i,1,x)}}),hv(i,1)}},Sl=function(i){if(i.tag===13){var l=li(i,134217728);if(l!==null){var d=zn();qr(l,i,134217728,d)}hv(i,134217728)}},Cu=function(i){if(i.tag===13){var l=fo(i),d=li(i,l);if(d!==null){var g=zn();qr(d,i,l,g)}hv(i,l)}},Iu=function(){return Xe},Nu=function(i,l){var d=Xe;try{return Xe=i,l()}finally{Xe=d}},Ks=function(i,l,d){switch(l){case"input":if(nr(i,d),l=d.name,d.type==="radio"&&l!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==i&&g.form===i.form){var x=mf(g);if(!x)throw Error(n(90));Ze(g),nr(g,x)}}}break;case"textarea":Fh(i,d);break;case"select":l=d.value,l!=null&&Lr(i,!!d.multiple,l,!1)}},zh=iv,$h=Ia;var WL={usingClientEntryPoint:!1,Events:[zu,Bl,mf,qi,Gi,iv]},nd={findFiberByHostInstance:xa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HL={bundleType:nd.bundleType,version:nd.version,rendererPackageName:nd.rendererPackageName,rendererConfig:nd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Qh(i),i===null?null:i.stateNode},findFiberByHostInstance:nd.findFiberByHostInstance||zL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zf.isDisabled&&Zf.supportsFiber)try{ua=Zf.inject(HL),rr=Zf}catch{}}return Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WL,Xn.createPortal=function(i,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pv(l))throw Error(n(200));return BL(i,l,null,d)},Xn.createRoot=function(i,l){if(!pv(i))throw Error(n(299));var d=!1,g="",x=PT;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),l=dv(i,1,!1,null,null,d,!1,g,x),i[si]=l.current,Fu(i.nodeType===8?i.parentNode:i),new fv(l)},Xn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Qh(l),i=i===null?null:i.stateNode,i},Xn.flushSync=function(i){return Ia(i)},Xn.hydrate=function(i,l,d){if(!Xf(l))throw Error(n(200));return Jf(null,i,l,!0,d)},Xn.hydrateRoot=function(i,l,d){if(!pv(i))throw Error(n(405));var g=d!=null&&d.hydratedSources||null,x=!1,_="",A=PT;if(d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(_=d.identifierPrefix),d.onRecoverableError!==void 0&&(A=d.onRecoverableError)),l=AT(l,null,i,1,d??null,x,!1,_,A),i[si]=l.current,Fu(i),g)for(i=0;i<g.length;i++)d=g[i],x=d._getVersion,x=x(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,x]:l.mutableSourceEagerHydrationData.push(d,x);return new Qf(l)},Xn.render=function(i,l,d){if(!Xf(l))throw Error(n(200));return Jf(null,i,l,!1,d)},Xn.unmountComponentAtNode=function(i){if(!Xf(i))throw Error(n(40));return i._reactRootContainer?(Ia(function(){Jf(null,null,i,!1,function(){i._reactRootContainer=null,i[si]=null})}),!0):!1},Xn.unstable_batchedUpdates=iv,Xn.unstable_renderSubtreeIntoContainer=function(i,l,d,g){if(!Xf(d))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Jf(i,l,d,!1,g)},Xn.version="18.3.1-next-f1338f8080-20240426",Xn}var UT;function eN(){if(UT)return yv.exports;UT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),yv.exports=ZL(),yv.exports}var BT;function eV(){if(BT)return ep;BT=1;var t=eN();return ep.createRoot=t.createRoot,ep.hydrateRoot=t.hydrateRoot,ep}var tV=eV();const nV=Vx(tV);var hh=eN();const rV=Vx(hh);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ld(){return Ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ld.apply(this,arguments)}var Co;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Co||(Co={}));const zT="popstate";function sV(t){t===void 0&&(t={});function e(r,s){let{pathname:o,search:a,hash:u}=r.location;return f0("",{pathname:o,search:a,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Fp(s)}return oV(e,n,null,t)}function Jt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iV(){return Math.random().toString(36).substr(2,8)}function $T(t,e){return{usr:t.state,key:t.key,idx:e}}function f0(t,e,n,r){return n===void 0&&(n=null),Ld({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$c(e):e,{state:n,key:e&&e.key||r||iV()})}function Fp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function $c(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function oV(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,a=s.history,u=Co.Pop,h=null,f=m();f==null&&(f=0,a.replaceState(Ld({},a.state,{idx:f}),""));function m(){return(a.state||{idx:null}).idx}function y(){u=Co.Pop;let T=m(),N=T==null?null:T-f;f=T,h&&h({action:u,location:S.location,delta:N})}function v(T,N){u=Co.Push;let j=f0(S.location,T,N);f=m()+1;let k=$T(j,f),$=S.createHref(j);try{a.pushState(k,"",$)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;s.location.assign($)}o&&h&&h({action:u,location:S.location,delta:1})}function E(T,N){u=Co.Replace;let j=f0(S.location,T,N);f=m();let k=$T(j,f),$=S.createHref(j);a.replaceState(k,"",$),o&&h&&h({action:u,location:S.location,delta:0})}function I(T){let N=s.location.origin!=="null"?s.location.origin:s.location.href,j=typeof T=="string"?T:Fp(T);return j=j.replace(/ $/,"%20"),Jt(N,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,N)}let S={get action(){return u},get location(){return t(s,a)},listen(T){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(zT,y),h=T,()=>{s.removeEventListener(zT,y),h=null}},createHref(T){return e(s,T)},createURL:I,encodeLocation(T){let N=I(T);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:v,replace:E,go(T){return a.go(T)}};return S}var WT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(WT||(WT={}));function aV(t,e,n){return n===void 0&&(n="/"),lV(t,e,n)}function lV(t,e,n,r){let s=typeof e=="string"?$c(e):e,o=Ux(s.pathname||"/",n);if(o==null)return null;let a=nN(t);cV(a);let u=null;for(let h=0;u==null&&h<a.length;++h){let f=_V(o);u=vV(a[h],f)}return u}function nN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,a,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};h.relativePath.startsWith("/")&&(Jt(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let f=Ao([r,h.relativePath]),m=n.concat(h);o.children&&o.children.length>0&&(Jt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),nN(o.children,e,m,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:gV(f,o.index),routesMeta:m})};return t.forEach((o,a)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,a);else for(let h of rN(o.path))s(o,a,h)}),e}function rN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let a=rN(r.join("/")),u=[];return u.push(...a.map(h=>h===""?o:[o,h].join("/"))),s&&u.push(...a),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function cV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const uV=/^:[\w-]+$/,dV=3,hV=2,fV=1,pV=10,mV=-2,HT=t=>t==="*";function gV(t,e){let n=t.split("/"),r=n.length;return n.some(HT)&&(r+=mV),e&&(r+=hV),n.filter(s=>!HT(s)).reduce((s,o)=>s+(uV.test(o)?dV:o===""?fV:pV),r)}function yV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function vV(t,e,n){let{routesMeta:r}=t,s={},o="/",a=[];for(let u=0;u<r.length;++u){let h=r[u],f=u===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=xV({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},m),v=h.route;if(!y)return null;Object.assign(s,y.params),a.push({params:s,pathname:Ao([o,y.pathname]),pathnameBase:SV(Ao([o,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(o=Ao([o,y.pathnameBase]))}return a}function xV(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wV(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((f,m,y)=>{let{paramName:v,isOptional:E}=m;if(v==="*"){let S=u[y]||"";a=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const I=u[y];return E&&!I?f[v]=void 0:f[v]=(I||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:a,pattern:t}}function wV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),tN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function _V(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ux(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function bV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?$c(t):t;return{pathname:n?n.startsWith("/")?n:EV(n,e):e,search:CV(r),hash:IV(s)}}function EV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function wv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function TV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sN(t,e){let n=TV(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function iN(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=$c(t):(s=Ld({},t),Jt(!s.pathname||!s.pathname.includes("?"),wv("?","pathname","search",s)),Jt(!s.pathname||!s.pathname.includes("#"),wv("#","pathname","hash",s)),Jt(!s.search||!s.search.includes("#"),wv("#","search","hash",s)));let o=t===""||s.pathname==="",a=o?"/":s.pathname,u;if(a==null)u=n;else{let y=e.length-1;if(!r&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),y-=1;s.pathname=v.join("/")}u=y>=0?e[y]:"/"}let h=bV(s,u),f=a&&a!=="/"&&a.endsWith("/"),m=(o||a===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}const Ao=t=>t.join("/").replace(/\/\/+/g,"/"),SV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,IV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function NV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const oN=["post","put","patch","delete"];new Set(oN);const AV=["get",...oN];new Set(AV);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vd(){return Vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vd.apply(this,arguments)}const Bx=w.createContext(null),RV=w.createContext(null),ll=w.createContext(null),Lm=w.createContext(null),Qo=w.createContext({outlet:null,matches:[],isDataRoute:!1}),aN=w.createContext(null);function PV(t,e){let{relative:n}=e===void 0?{}:e;fh()||Jt(!1);let{basename:r,navigator:s}=w.useContext(ll),{hash:o,pathname:a,search:u}=cN(t,{relative:n}),h=a;return r!=="/"&&(h=a==="/"?r:Ao([r,a])),s.createHref({pathname:h,search:u,hash:o})}function fh(){return w.useContext(Lm)!=null}function Xo(){return fh()||Jt(!1),w.useContext(Lm).location}function lN(t){w.useContext(ll).static||w.useLayoutEffect(t)}function Ht(){let{isDataRoute:t}=w.useContext(Qo);return t?HV():kV()}function kV(){fh()||Jt(!1);let t=w.useContext(Bx),{basename:e,future:n,navigator:r}=w.useContext(ll),{matches:s}=w.useContext(Qo),{pathname:o}=Xo(),a=JSON.stringify(sN(s,n.v7_relativeSplatPath)),u=w.useRef(!1);return lN(()=>{u.current=!0}),w.useCallback(function(f,m){if(m===void 0&&(m={}),!u.current)return;if(typeof f=="number"){r.go(f);return}let y=iN(f,JSON.parse(a),o,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ao([e,y.pathname])),(m.replace?r.replace:r.push)(y,m.state,m)},[e,r,a,o,t])}function jV(){let{matches:t}=w.useContext(Qo),e=t[t.length-1];return e?e.params:{}}function cN(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=w.useContext(ll),{matches:s}=w.useContext(Qo),{pathname:o}=Xo(),a=JSON.stringify(sN(s,r.v7_relativeSplatPath));return w.useMemo(()=>iN(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function DV(t,e){return MV(t,e)}function MV(t,e,n,r){fh()||Jt(!1);let{navigator:s}=w.useContext(ll),{matches:o}=w.useContext(Qo),a=o[o.length-1],u=a?a.params:{};a&&a.pathname;let h=a?a.pathnameBase:"/";a&&a.route;let f=Xo(),m;if(e){var y;let T=typeof e=="string"?$c(e):e;h==="/"||(y=T.pathname)!=null&&y.startsWith(h)||Jt(!1),m=T}else m=f;let v=m.pathname||"/",E=v;if(h!=="/"){let T=h.replace(/^\//,"").split("/");E="/"+v.replace(/^\//,"").split("/").slice(T.length).join("/")}let I=aV(t,{pathname:E}),S=UV(I&&I.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:Ao([h,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?h:Ao([h,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,n,r);return e&&S?w.createElement(Lm.Provider,{value:{location:Vd({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Co.Pop}},S):S}function OV(){let t=WV(),e=NV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:s},n):null,null)}const LV=w.createElement(OV,null);class VV extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(Qo.Provider,{value:this.props.routeContext},w.createElement(aN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function FV(t){let{routeContext:e,match:n,children:r}=t,s=w.useContext(Bx);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Qo.Provider,{value:e},r)}function UV(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,u=(s=n)==null?void 0:s.errors;if(u!=null){let m=a.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);m>=0||Jt(!1),a=a.slice(0,Math.min(a.length,m+1))}let h=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<a.length;m++){let y=a[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=m),y.route.id){let{loaderData:v,errors:E}=n,I=y.route.loader&&v[y.route.id]===void 0&&(!E||E[y.route.id]===void 0);if(y.route.lazy||I){h=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,y,v)=>{let E,I=!1,S=null,T=null;n&&(E=u&&y.route.id?u[y.route.id]:void 0,S=y.route.errorElement||LV,h&&(f<0&&v===0?(qV("route-fallback"),I=!0,T=null):f===v&&(I=!0,T=y.route.hydrateFallbackElement||null)));let N=e.concat(a.slice(0,v+1)),j=()=>{let k;return E?k=S:I?k=T:y.route.Component?k=w.createElement(y.route.Component,null):y.route.element?k=y.route.element:k=m,w.createElement(FV,{match:y,routeContext:{outlet:m,matches:N,isDataRoute:n!=null},children:k})};return n&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?w.createElement(VV,{location:n.location,revalidation:n.revalidation,component:S,error:E,children:j(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):j()},null)}var uN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(uN||{}),dN=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(dN||{});function BV(t){let e=w.useContext(Bx);return e||Jt(!1),e}function zV(t){let e=w.useContext(RV);return e||Jt(!1),e}function $V(t){let e=w.useContext(Qo);return e||Jt(!1),e}function hN(t){let e=$V(),n=e.matches[e.matches.length-1];return n.route.id||Jt(!1),n.route.id}function WV(){var t;let e=w.useContext(aN),n=zV(),r=hN();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function HV(){let{router:t}=BV(uN.UseNavigateStable),e=hN(dN.UseNavigateStable),n=w.useRef(!1);return lN(()=>{n.current=!0}),w.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Vd({fromRouteId:e},o)))},[t,e])}const qT={};function qV(t,e,n){qT[t]||(qT[t]=!0)}function GV(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Kt(t){Jt(!1)}function KV(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Co.Pop,navigator:o,static:a=!1,future:u}=t;fh()&&Jt(!1);let h=e.replace(/^\/*/,"/"),f=w.useMemo(()=>({basename:h,navigator:o,static:a,future:Vd({v7_relativeSplatPath:!1},u)}),[h,u,o,a]);typeof r=="string"&&(r=$c(r));let{pathname:m="/",search:y="",hash:v="",state:E=null,key:I="default"}=r,S=w.useMemo(()=>{let T=Ux(m,h);return T==null?null:{location:{pathname:T,search:y,hash:v,state:E,key:I},navigationType:s}},[h,m,y,v,E,I,s]);return S==null?null:w.createElement(ll.Provider,{value:f},w.createElement(Lm.Provider,{children:n,value:S}))}function YV(t){let{children:e,location:n}=t;return DV(p0(e),n)}new Promise(()=>{});function p0(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,s)=>{if(!w.isValidElement(r))return;let o=[...e,s];if(r.type===w.Fragment){n.push.apply(n,p0(r.props.children,o));return}r.type!==Kt&&Jt(!1),!r.props.index||!r.props.children||Jt(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=p0(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function m0(){return m0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m0.apply(this,arguments)}function QV(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function XV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function JV(t,e){return t.button===0&&(!e||e==="_self")&&!XV(t)}function g0(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function ZV(t,e){let n=g0(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(o=>{n.append(s,o)})}),n}const e4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],t4="6";try{window.__reactRouterVersion=t4}catch{}const n4="startTransition",GT=Fx[n4];function r4(t){let{basename:e,children:n,future:r,window:s}=t,o=w.useRef();o.current==null&&(o.current=sV({window:s,v5Compat:!0}));let a=o.current,[u,h]=w.useState({action:a.action,location:a.location}),{v7_startTransition:f}=r||{},m=w.useCallback(y=>{f&&GT?GT(()=>h(y)):h(y)},[h,f]);return w.useLayoutEffect(()=>a.listen(m),[a,m]),w.useEffect(()=>GV(r),[r]),w.createElement(KV,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:a,future:r})}const s4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",i4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jn=w.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:o,replace:a,state:u,target:h,to:f,preventScrollReset:m,viewTransition:y}=e,v=QV(e,e4),{basename:E}=w.useContext(ll),I,S=!1;if(typeof f=="string"&&i4.test(f)&&(I=f,s4))try{let k=new URL(window.location.href),$=f.startsWith("//")?new URL(k.protocol+f):new URL(f),B=Ux($.pathname,E);$.origin===k.origin&&B!=null?f=B+$.search+$.hash:S=!0}catch{}let T=PV(f,{relative:s}),N=o4(f,{replace:a,state:u,target:h,preventScrollReset:m,relative:s,viewTransition:y});function j(k){r&&r(k),k.defaultPrevented||N(k)}return w.createElement("a",m0({},v,{href:I||T,onClick:S||o?r:j,ref:n,target:h}))});var KT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(KT||(KT={}));var YT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(YT||(YT={}));function o4(t,e){let{target:n,replace:r,state:s,preventScrollReset:o,relative:a,viewTransition:u}=e===void 0?{}:e,h=Ht(),f=Xo(),m=cN(t,{relative:a});return w.useCallback(y=>{if(JV(y,n)){y.preventDefault();let v=r!==void 0?r:Fp(f)===Fp(m);h(t,{replace:v,state:s,preventScrollReset:o,relative:a,viewTransition:u})}},[f,h,m,r,s,n,t,o,a,u])}function a4(t){let e=w.useRef(g0(t)),n=w.useRef(!1),r=Xo(),s=w.useMemo(()=>ZV(r.search,n.current?null:e.current),[r.search]),o=Ht(),a=w.useCallback((u,h)=>{const f=g0(typeof u=="function"?u(s):u);n.current=!0,o("?"+f,h)},[o,s]);return[s,a]}const l4={theme:"system",setTheme:()=>null},fN=w.createContext(l4);function c4({children:t,defaultTheme:e="system",enableSystem:n=!0,disableTransitionOnChange:r=!1}){const[s,o]=w.useState(e);w.useEffect(()=>{const u=window.document.documentElement;if(u.classList.remove("light","dark"),s==="system"&&n){const h=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";u.classList.add(h);return}u.classList.add(s)},[s,n]);const a={theme:s,setTheme:u=>{r&&(document.documentElement.style.transition="none",setTimeout(()=>{document.documentElement.style.transition=""},0)),o(u)}};return c.jsx(fN.Provider,{value:a,children:t})}const is=()=>{const t=w.useContext(fN);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function QT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Vm(...t){return e=>{let n=!1;const r=t.map(s=>{const o=QT(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():QT(t[s],null)}}}}function at(...t){return w.useCallback(Vm(...t),t)}function Wa(t){const e=d4(t),n=w.forwardRef((r,s)=>{const{children:o,...a}=r,u=w.Children.toArray(o),h=u.find(f4);if(h){const f=h.props.children,m=u.map(y=>y===h?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:y);return c.jsx(e,{...a,ref:s,children:w.isValidElement(f)?w.cloneElement(f,void 0,m):null})}return c.jsx(e,{...a,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}var u4=Wa("Slot");function d4(t){const e=w.forwardRef((n,r)=>{const{children:s,...o}=n;if(w.isValidElement(s)){const a=m4(s),u=p4(o,s.props);return s.type!==w.Fragment&&(u.ref=r?Vm(r,a):a),w.cloneElement(s,u)}return w.Children.count(s)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var pN=Symbol("radix.slottable");function h4(t){const e=({children:n})=>c.jsx(c.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=pN,e}function f4(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===pN}function p4(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...u)=>{const h=o(...u);return s(...u),h}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function m4(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function mN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=mN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function gN(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=mN(t))&&(r&&(r+=" "),r+=e);return r}const XT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,JT=gN,yN=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return JT(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,a=Object.keys(s).map(f=>{const m=n==null?void 0:n[f],y=o==null?void 0:o[f];if(m===null)return null;const v=XT(m)||XT(y);return s[f][v]}),u=n&&Object.entries(n).reduce((f,m)=>{let[y,v]=m;return v===void 0||(f[y]=v),f},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((f,m)=>{let{class:y,className:v,...E}=m;return Object.entries(E).every(I=>{let[S,T]=I;return Array.isArray(T)?T.includes({...o,...u}[S]):{...o,...u}[S]===T})?[...f,y,v]:f},[]);return JT(t,a,h,n==null?void 0:n.class,n==null?void 0:n.className)},zx="-",g4=t=>{const e=v4(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const u=a.split(zx);return u[0]===""&&u.length!==1&&u.shift(),vN(u,e)||y4(a)},getConflictingClassGroupIds:(a,u)=>{const h=n[a]||[];return u&&r[a]?[...h,...r[a]]:h}}},vN=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?vN(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(zx);return(a=e.validators.find(({validator:u})=>u(o)))==null?void 0:a.classGroupId},ZT=/^\[(.+)\]$/,y4=t=>{if(ZT.test(t)){const e=ZT.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},v4=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return w4(Object.entries(t.classGroups),n).forEach(([o,a])=>{y0(a,r,o,e)}),r},y0=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:eS(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(x4(s)){y0(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,a])=>{y0(a,eS(e,o),n,r)})})},eS=(t,e)=>{let n=t;return e.split(zx).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},x4=t=>t.isThemeGetter,w4=(t,e)=>e?t.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,u])=>[e+a,u])):o);return[n,s]}):t,_4=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(o,a)=>{n.set(o,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return s(o,a),a},set(o,a){n.has(o)?n.set(o,a):s(o,a)}}},xN="!",b4=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],o=e.length,a=u=>{const h=[];let f=0,m=0,y;for(let T=0;T<u.length;T++){let N=u[T];if(f===0){if(N===s&&(r||u.slice(T,T+o)===e)){h.push(u.slice(m,T)),m=T+o;continue}if(N==="/"){y=T;continue}}N==="["?f++:N==="]"&&f--}const v=h.length===0?u:u.substring(m),E=v.startsWith(xN),I=E?v.substring(1):v,S=y&&y>m?y-m:void 0;return{modifiers:h,hasImportantModifier:E,baseClassName:I,maybePostfixModifierPosition:S}};return n?u=>n({className:u,parseClassName:a}):a},E4=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},T4=t=>({cache:_4(t.cacheSize),parseClassName:b4(t),...g4(t)}),S4=/\s+/,C4=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,o=[],a=t.trim().split(S4);let u="";for(let h=a.length-1;h>=0;h-=1){const f=a[h],{modifiers:m,hasImportantModifier:y,baseClassName:v,maybePostfixModifierPosition:E}=n(f);let I=!!E,S=r(I?v.substring(0,E):v);if(!S){if(!I){u=f+(u.length>0?" "+u:u);continue}if(S=r(v),!S){u=f+(u.length>0?" "+u:u);continue}I=!1}const T=E4(m).join(":"),N=y?T+xN:T,j=N+S;if(o.includes(j))continue;o.push(j);const k=s(S,I);for(let $=0;$<k.length;++$){const B=k[$];o.push(N+B)}u=f+(u.length>0?" "+u:u)}return u};function I4(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=wN(e))&&(r&&(r+=" "),r+=n);return r}const wN=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=wN(t[r]))&&(n&&(n+=" "),n+=e);return n};function N4(t,...e){let n,r,s,o=a;function a(h){const f=e.reduce((m,y)=>y(m),t());return n=T4(f),r=n.cache.get,s=n.cache.set,o=u,u(h)}function u(h){const f=r(h);if(f)return f;const m=C4(h,n);return s(h,m),m}return function(){return o(I4.apply(null,arguments))}}const wt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},_N=/^\[(?:([a-z-]+):)?(.+)\]$/i,A4=/^\d+\/\d+$/,R4=new Set(["px","full","screen"]),P4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,k4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,j4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,D4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,M4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hi=t=>xc(t)||R4.has(t)||A4.test(t),yo=t=>Wc(t,"length",$4),xc=t=>!!t&&!Number.isNaN(Number(t)),_v=t=>Wc(t,"number",xc),sd=t=>!!t&&Number.isInteger(Number(t)),O4=t=>t.endsWith("%")&&xc(t.slice(0,-1)),We=t=>_N.test(t),vo=t=>P4.test(t),L4=new Set(["length","size","percentage"]),V4=t=>Wc(t,L4,bN),F4=t=>Wc(t,"position",bN),U4=new Set(["image","url"]),B4=t=>Wc(t,U4,H4),z4=t=>Wc(t,"",W4),id=()=>!0,Wc=(t,e,n)=>{const r=_N.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},$4=t=>k4.test(t)&&!j4.test(t),bN=()=>!1,W4=t=>D4.test(t),H4=t=>M4.test(t),q4=()=>{const t=wt("colors"),e=wt("spacing"),n=wt("blur"),r=wt("brightness"),s=wt("borderColor"),o=wt("borderRadius"),a=wt("borderSpacing"),u=wt("borderWidth"),h=wt("contrast"),f=wt("grayscale"),m=wt("hueRotate"),y=wt("invert"),v=wt("gap"),E=wt("gradientColorStops"),I=wt("gradientColorStopPositions"),S=wt("inset"),T=wt("margin"),N=wt("opacity"),j=wt("padding"),k=wt("saturate"),$=wt("scale"),B=wt("sepia"),W=wt("skew"),P=wt("space"),R=wt("translate"),D=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",We,e],z=()=>[We,e],L=()=>["",hi,yo],me=()=>["auto",xc,We],Ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ye=()=>["solid","dashed","dotted","double","none"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",We],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[xc,We];return{cacheSize:500,separator:":",theme:{colors:[id],spacing:[hi,yo],blur:["none","",vo,We],brightness:H(),borderColor:[t],borderRadius:["none","","full",vo,We],borderSpacing:z(),borderWidth:L(),contrast:H(),grayscale:K(),hueRotate:H(),invert:K(),gap:z(),gradientColorStops:[t],gradientColorStopPositions:[O4,yo],inset:F(),margin:F(),opacity:H(),padding:z(),saturate:H(),scale:H(),sepia:K(),skew:H(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",We]}],container:["container"],columns:[{columns:[vo]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ie(),We]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",sd,We]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",We]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",sd,We]}],"grid-cols":[{"grid-cols":[id]}],"col-start-end":[{col:["auto",{span:["full",sd,We]},We]}],"col-start":[{"col-start":me()}],"col-end":[{"col-end":me()}],"grid-rows":[{"grid-rows":[id]}],"row-start-end":[{row:["auto",{span:[sd,We]},We]}],"row-start":[{"row-start":me()}],"row-end":[{"row-end":me()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",We]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",We]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...J()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...J(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...J(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",We,e]}],"min-w":[{"min-w":[We,e,"min","max","fit"]}],"max-w":[{"max-w":[We,e,"none","full","min","max","fit","prose",{screen:[vo]},vo]}],h:[{h:[We,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[We,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[We,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[We,e,"auto","min","max","fit"]}],"font-size":[{text:["base",vo,yo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",_v]}],"font-family":[{font:[id]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",We]}],"line-clamp":[{"line-clamp":["none",xc,_v]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",hi,We]}],"list-image":[{"list-image":["none",We]}],"list-style-type":[{list:["none","disc","decimal",We]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ye(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",hi,yo]}],"underline-offset":[{"underline-offset":["auto",hi,We]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",We]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",We]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ie(),F4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",V4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},B4]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[I]}],"gradient-via-pos":[{via:[I]}],"gradient-to-pos":[{to:[I]}],"gradient-from":[{from:[E]}],"gradient-via":[{via:[E]}],"gradient-to":[{to:[E]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...ye(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:ye()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ye()]}],"outline-offset":[{"outline-offset":[hi,We]}],"outline-w":[{outline:[hi,yo]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[hi,yo]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",vo,z4]}],"shadow-color":[{shadow:[id]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...ae(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ae()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",vo,We]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[y]}],saturate:[{saturate:[k]}],sepia:[{sepia:[B]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[B]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",We]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",We]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",We]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[$]}],"scale-x":[{"scale-x":[$]}],"scale-y":[{"scale-y":[$]}],rotate:[{rotate:[sd,We]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[W]}],"skew-y":[{"skew-y":[W]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",We]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",We]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",We]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[hi,yo,_v]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},G4=N4(q4);function pe(...t){return G4(gN(t))}const $x=yN("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ke=w.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},o)=>{const a=r?u4:"button";return c.jsx(a,{className:pe($x({variant:e,size:n,className:t})),ref:o,...s})});ke.displayName="Button";/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var K4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),He=(t,e)=>{const n=w.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:u="",children:h,...f},m)=>w.createElement("svg",{ref:m,...K4,width:s,height:s,stroke:r,strokeWidth:a?Number(o)*24/Number(s):o,className:["lucide",`lucide-${Y4(t)}`,u].join(" "),...f},[...e.map(([y,v])=>w.createElement(y,v)),...Array.isArray(h)?h:[h]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=He("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=He("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=He("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=He("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=He("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=He("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=He("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=He("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=He("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=He("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=He("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=He("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=He("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=He("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=He("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=He("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=He("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=He("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=He("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=He("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=He("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=He("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=He("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=He("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=He("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=He("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=He("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=He("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=He("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=He("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=He("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=He("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=He("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=He("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=He("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=He("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=He("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=He("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=He("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),qx=w.createContext({});function Gx(t){const e=w.useRef(null);return e.current===null&&(e.current=t()),e.current}const Kx=typeof window<"u",MN=Kx?w.useLayoutEffect:w.useEffect,Fm=w.createContext(null);function Yx(t,e){t.indexOf(e)===-1&&t.push(e)}function Qx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ti=(t,e,n)=>n>e?e:n<t?t:n;let Xx=()=>{};const Si={},ON=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function LN(t){return typeof t=="object"&&t!==null}const VN=t=>/^0[^.\s]+$/u.test(t);function Jx(t){let e;return()=>(e===void 0&&(e=t()),e)}const Pr=t=>t,y5=(t,e)=>n=>e(t(n)),ph=(...t)=>t.reduce(y5),Fd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Zx{constructor(){this.subscriptions=[]}add(e){return Yx(this.subscriptions,e),()=>Qx(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const a=this.subscriptions[o];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ps=t=>t*1e3,ks=t=>t/1e3;function FN(t,e){return e?t*(1e3/e):0}const UN=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,v5=1e-7,x5=12;function w5(t,e,n,r,s){let o,a,u=0;do a=e+(n-e)/2,o=UN(a,r,s)-t,o>0?n=a:e=a;while(Math.abs(o)>v5&&++u<x5);return a}function mh(t,e,n,r){if(t===e&&n===r)return Pr;const s=o=>w5(o,0,1,t,n);return o=>o===0||o===1?o:UN(s(o),e,r)}const BN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,zN=t=>e=>1-t(1-e),$N=mh(.33,1.53,.69,.99),ew=zN($N),WN=BN(ew),HN=t=>(t*=2)<1?.5*ew(t):.5*(2-Math.pow(2,-10*(t-1))),tw=t=>1-Math.sin(Math.acos(t)),qN=zN(tw),GN=BN(tw),_5=mh(.42,0,1,1),b5=mh(0,0,.58,1),KN=mh(.42,0,.58,1),E5=t=>Array.isArray(t)&&typeof t[0]!="number",YN=t=>Array.isArray(t)&&typeof t[0]=="number",T5={linear:Pr,easeIn:_5,easeInOut:KN,easeOut:b5,circIn:tw,circInOut:GN,circOut:qN,backIn:ew,backInOut:WN,backOut:$N,anticipate:HN},S5=t=>typeof t=="string",tS=t=>{if(YN(t)){Xx(t.length===4);const[e,n,r,s]=t;return mh(e,n,r,s)}else if(S5(t))return T5[t];return t},tp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],nS={value:null};function C5(t,e){let n=new Set,r=new Set,s=!1,o=!1;const a=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},h=0;function f(y){a.has(y)&&(m.schedule(y),t()),h++,y(u)}const m={schedule:(y,v=!1,E=!1)=>{const S=E&&s?n:r;return v&&a.add(y),S.has(y)||S.add(y),y},cancel:y=>{r.delete(y),a.delete(y)},process:y=>{if(u=y,s){o=!0;return}s=!0,[n,r]=[r,n],n.forEach(f),e&&nS.value&&nS.value.frameloop[e].push(h),h=0,n.clear(),s=!1,o&&(o=!1,m.process(y))}};return m}const I5=40;function QN(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=tp.reduce((k,$)=>(k[$]=C5(o,e?$:void 0),k),{}),{setup:u,read:h,resolveKeyframes:f,preUpdate:m,update:y,preRender:v,render:E,postRender:I}=a,S=()=>{const k=Si.useManualTiming?s.timestamp:performance.now();n=!1,Si.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(k-s.timestamp,I5),1)),s.timestamp=k,s.isProcessing=!0,u.process(s),h.process(s),f.process(s),m.process(s),y.process(s),v.process(s),E.process(s),I.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(S))},T=()=>{n=!0,r=!0,s.isProcessing||t(S)};return{schedule:tp.reduce((k,$)=>{const B=a[$];return k[$]=(W,P=!1,R=!1)=>(n||T(),B.schedule(W,P,R)),k},{}),cancel:k=>{for(let $=0;$<tp.length;$++)a[tp[$]].cancel(k)},state:s,steps:a}}const{schedule:kt,cancel:Oo,state:_n,steps:bv}=QN(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pr,!0);let _p;function N5(){_p=void 0}const er={now:()=>(_p===void 0&&er.set(_n.isProcessing||Si.useManualTiming?_n.timestamp:performance.now()),_p),set:t=>{_p=t,queueMicrotask(N5)}},XN=t=>e=>typeof e=="string"&&e.startsWith(t),nw=XN("--"),A5=XN("var(--"),rw=t=>A5(t)?R5.test(t.split("/*")[0].trim()):!1,R5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,qc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ud={...qc,transform:t=>Ti(0,1,t)},np={...qc,default:1},bd=t=>Math.round(t*1e5)/1e5,sw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function P5(t){return t==null}const k5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,iw=(t,e)=>n=>!!(typeof n=="string"&&k5.test(n)&&n.startsWith(t)||e&&!P5(n)&&Object.prototype.hasOwnProperty.call(n,e)),JN=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,o,a,u]=r.match(sw);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(a),alpha:u!==void 0?parseFloat(u):1}},j5=t=>Ti(0,255,t),Ev={...qc,transform:t=>Math.round(j5(t))},Ma={test:iw("rgb","red"),parse:JN("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Ev.transform(t)+", "+Ev.transform(e)+", "+Ev.transform(n)+", "+bd(Ud.transform(r))+")"};function D5(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const v0={test:iw("#"),parse:D5,transform:Ma.transform},gh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),_o=gh("deg"),js=gh("%"),Oe=gh("px"),M5=gh("vh"),O5=gh("vw"),rS={...js,parse:t=>js.parse(t)/100,transform:t=>js.transform(t*100)},hc={test:iw("hsl","hue"),parse:JN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+js.transform(bd(e))+", "+js.transform(bd(n))+", "+bd(Ud.transform(r))+")"},Pn={test:t=>Ma.test(t)||v0.test(t)||hc.test(t),parse:t=>Ma.test(t)?Ma.parse(t):hc.test(t)?hc.parse(t):v0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ma.transform(t):hc.transform(t)},L5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function V5(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(sw))==null?void 0:e.length)||0)+(((n=t.match(L5))==null?void 0:n.length)||0)>0}const ZN="number",eA="color",F5="var",U5="var(",sS="${}",B5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Bd(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const u=e.replace(B5,h=>(Pn.test(h)?(r.color.push(o),s.push(eA),n.push(Pn.parse(h))):h.startsWith(U5)?(r.var.push(o),s.push(F5),n.push(h)):(r.number.push(o),s.push(ZN),n.push(parseFloat(h))),++o,sS)).split(sS);return{values:n,split:u,indexes:r,types:s}}function tA(t){return Bd(t).values}function nA(t){const{split:e,types:n}=Bd(t),r=e.length;return s=>{let o="";for(let a=0;a<r;a++)if(o+=e[a],s[a]!==void 0){const u=n[a];u===ZN?o+=bd(s[a]):u===eA?o+=Pn.transform(s[a]):o+=s[a]}return o}}const z5=t=>typeof t=="number"?0:t;function $5(t){const e=tA(t);return nA(t)(e.map(z5))}const Lo={test:V5,parse:tA,createTransformer:nA,getAnimatableNone:$5};function Tv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function W5({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,a=0;if(!e)s=o=a=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;s=Tv(h,u,t+1/3),o=Tv(h,u,t),a=Tv(h,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}function Bp(t,e){return n=>n>0?e:t}const Pt=(t,e,n)=>t+(e-t)*n,Sv=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},H5=[v0,Ma,hc],q5=t=>H5.find(e=>e.test(t));function iS(t){const e=q5(t);if(!e)return!1;let n=e.parse(t);return e===hc&&(n=W5(n)),n}const oS=(t,e)=>{const n=iS(t),r=iS(e);if(!n||!r)return Bp(t,e);const s={...n};return o=>(s.red=Sv(n.red,r.red,o),s.green=Sv(n.green,r.green,o),s.blue=Sv(n.blue,r.blue,o),s.alpha=Pt(n.alpha,r.alpha,o),Ma.transform(s))},x0=new Set(["none","hidden"]);function G5(t,e){return x0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function K5(t,e){return n=>Pt(t,e,n)}function ow(t){return typeof t=="number"?K5:typeof t=="string"?rw(t)?Bp:Pn.test(t)?oS:X5:Array.isArray(t)?rA:typeof t=="object"?Pn.test(t)?oS:Y5:Bp}function rA(t,e){const n=[...t],r=n.length,s=t.map((o,a)=>ow(o)(o,e[a]));return o=>{for(let a=0;a<r;a++)n[a]=s[a](o);return n}}function Y5(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=ow(t[s])(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function Q5(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][r[o]],u=t.values[a]??0;n[s]=u,r[o]++}return n}const X5=(t,e)=>{const n=Lo.createTransformer(e),r=Bd(t),s=Bd(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?x0.has(t)&&!s.values.length||x0.has(e)&&!r.values.length?G5(t,e):ph(rA(Q5(r,s),s.values),n):Bp(t,e)};function sA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Pt(t,e,n):ow(t)(t,e)}const J5=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>kt.update(e,n),stop:()=>Oo(e),now:()=>_n.isProcessing?_n.timestamp:er.now()}},iA=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)r+=t(o/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},zp=2e4;function aw(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<zp;)e+=n,r=t.next(e);return e>=zp?1/0:e}function Z5(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(aw(r),zp);return{type:"keyframes",ease:o=>r.next(s*o).value/e,duration:ks(s)}}const e3=5;function oA(t,e,n){const r=Math.max(e-e3,0);return FN(n-t(r),e-r)}const Ot={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},aS=.001;function t3({duration:t=Ot.duration,bounce:e=Ot.bounce,velocity:n=Ot.velocity,mass:r=Ot.mass}){let s,o,a=1-e;a=Ti(Ot.minDamping,Ot.maxDamping,a),t=Ti(Ot.minDuration,Ot.maxDuration,ks(t)),a<1?(s=f=>{const m=f*a,y=m*t,v=m-n,E=w0(f,a),I=Math.exp(-y);return aS-v/E*I},o=f=>{const y=f*a*t,v=y*n+n,E=Math.pow(a,2)*Math.pow(f,2)*t,I=Math.exp(-y),S=w0(Math.pow(f,2),a);return(-s(f)+aS>0?-1:1)*((v-E)*I)/S}):(s=f=>{const m=Math.exp(-f*t),y=(f-n)*t+1;return-.001+m*y},o=f=>{const m=Math.exp(-f*t),y=(n-f)*(t*t);return m*y});const u=5/t,h=r3(s,o,u);if(t=Ps(t),isNaN(h))return{stiffness:Ot.stiffness,damping:Ot.damping,duration:t};{const f=Math.pow(h,2)*r;return{stiffness:f,damping:a*2*Math.sqrt(r*f),duration:t}}}const n3=12;function r3(t,e,n){let r=n;for(let s=1;s<n3;s++)r=r-t(r)/e(r);return r}function w0(t,e){return t*Math.sqrt(1-e*e)}const s3=["duration","bounce"],i3=["stiffness","damping","mass"];function lS(t,e){return e.some(n=>t[n]!==void 0)}function o3(t){let e={velocity:Ot.velocity,stiffness:Ot.stiffness,damping:Ot.damping,mass:Ot.mass,isResolvedFromDuration:!1,...t};if(!lS(t,i3)&&lS(t,s3))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,o=2*Ti(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Ot.mass,stiffness:s,damping:o}}else{const n=t3(t);e={...e,...n,mass:Ot.mass},e.isResolvedFromDuration=!0}return e}function $p(t=Ot.visualDuration,e=Ot.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:h,damping:f,mass:m,duration:y,velocity:v,isResolvedFromDuration:E}=o3({...n,velocity:-ks(n.velocity||0)}),I=v||0,S=f/(2*Math.sqrt(h*m)),T=a-o,N=ks(Math.sqrt(h/m)),j=Math.abs(T)<5;r||(r=j?Ot.restSpeed.granular:Ot.restSpeed.default),s||(s=j?Ot.restDelta.granular:Ot.restDelta.default);let k;if(S<1){const B=w0(N,S);k=W=>{const P=Math.exp(-S*N*W);return a-P*((I+S*N*T)/B*Math.sin(B*W)+T*Math.cos(B*W))}}else if(S===1)k=B=>a-Math.exp(-N*B)*(T+(I+N*T)*B);else{const B=N*Math.sqrt(S*S-1);k=W=>{const P=Math.exp(-S*N*W),R=Math.min(B*W,300);return a-P*((I+S*N*T)*Math.sinh(R)+B*T*Math.cosh(R))/B}}const $={calculatedDuration:E&&y||null,next:B=>{const W=k(B);if(E)u.done=B>=y;else{let P=B===0?I:0;S<1&&(P=B===0?Ps(I):oA(k,B,W));const R=Math.abs(P)<=r,D=Math.abs(a-W)<=s;u.done=R&&D}return u.value=u.done?a:W,u},toString:()=>{const B=Math.min(aw($),zp),W=iA(P=>$.next(B*P).value,B,30);return B+"ms "+W},toTransition:()=>{}};return $}$p.applyToOptions=t=>{const e=Z5(t,100,$p);return t.ease=e.ease,t.duration=Ps(e.duration),t.type="keyframes",t};function _0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:u,max:h,restDelta:f=.5,restSpeed:m}){const y=t[0],v={done:!1,value:y},E=R=>u!==void 0&&R<u||h!==void 0&&R>h,I=R=>u===void 0?h:h===void 0||Math.abs(u-R)<Math.abs(h-R)?u:h;let S=n*e;const T=y+S,N=a===void 0?T:a(T);N!==T&&(S=N-y);const j=R=>-S*Math.exp(-R/r),k=R=>N+j(R),$=R=>{const D=j(R),V=k(R);v.done=Math.abs(D)<=f,v.value=v.done?N:V};let B,W;const P=R=>{E(v.value)&&(B=R,W=$p({keyframes:[v.value,I(v.value)],velocity:oA(k,R,v.value),damping:s,stiffness:o,restDelta:f,restSpeed:m}))};return P(0),{calculatedDuration:null,next:R=>{let D=!1;return!W&&B===void 0&&(D=!0,$(R),P(R)),B!==void 0&&R>=B?W.next(R-B):(!D&&$(R),v)}}}function a3(t,e,n){const r=[],s=n||Si.mix||sA,o=t.length-1;for(let a=0;a<o;a++){let u=s(t[a],t[a+1]);if(e){const h=Array.isArray(e)?e[a]||Pr:e;u=ph(h,u)}r.push(u)}return r}function l3(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(Xx(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=a3(e,r,s),h=u.length,f=m=>{if(a&&m<t[0])return e[0];let y=0;if(h>1)for(;y<t.length-2&&!(m<t[y+1]);y++);const v=Fd(t[y],t[y+1],m);return u[y](v)};return n?m=>f(Ti(t[0],t[o-1],m)):f}function c3(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Fd(0,e,r);t.push(Pt(n,1,s))}}function u3(t){const e=[0];return c3(e,t.length-1),e}function d3(t,e){return t.map(n=>n*e)}function h3(t,e){return t.map(()=>e||KN).splice(0,t.length-1)}function Ed({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=E5(r)?r.map(tS):tS(r),o={done:!1,value:e[0]},a=d3(n&&n.length===e.length?n:u3(e),t),u=l3(a,e,{ease:Array.isArray(s)?s:h3(e,s)});return{calculatedDuration:t,next:h=>(o.value=u(h),o.done=h>=t,o)}}const f3=t=>t!==null;function lw(t,{repeat:e,repeatType:n="loop"},r,s=1){const o=t.filter(f3),u=s<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!u||r===void 0?o[u]:r}const p3={decay:_0,inertia:_0,tween:Ed,keyframes:Ed,spring:$p};function aA(t){typeof t.type=="string"&&(t.type=p3[t.type])}class cw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const m3=t=>t/100;class uw extends cw{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==er.now()&&this.tick(er.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;aA(e);const{type:n=Ed,repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:a=0}=e;let{keyframes:u}=e;const h=n||Ed;h!==Ed&&typeof u[0]!="number"&&(this.mixKeyframes=ph(m3,sA(u[0],u[1])),u=[0,100]);const f=h({...e,keyframes:u});o==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...u].reverse(),velocity:-a})),f.calculatedDuration===null&&(f.calculatedDuration=aw(f));const{calculatedDuration:m}=f;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:o,mirroredGenerator:a,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:m,repeat:y,repeatType:v,repeatDelay:E,type:I,onUpdate:S,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const N=this.currentTime-f*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?N<0:N>s;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let k=this.currentTime,$=r;if(y){const R=Math.min(this.currentTime,s)/u;let D=Math.floor(R),V=R%1;!V&&R>=1&&(V=1),V===1&&D--,D=Math.min(D,y+1),!!(D%2)&&(v==="reverse"?(V=1-V,E&&(V-=E/u)):v==="mirror"&&($=a)),k=Ti(0,1,V)*u}const B=j?{done:!1,value:m[0]}:$.next(k);o&&(B.value=o(B.value));let{done:W}=B;!j&&h!==null&&(W=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&W);return P&&I!==_0&&(B.value=lw(m,this.options,T,this.speed)),S&&S(B.value),P&&this.finish(),B}then(e,n){return this.finished.then(e,n)}get duration(){return ks(this.calculatedDuration)}get time(){return ks(this.currentTime)}set time(e){var n;e=Ps(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(er.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ks(this.currentTime))}play(){var s,o;if(this.isStopped)return;const{driver:e=J5,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(o=(s=this.options).onPlay)==null||o.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(er.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function g3(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Oa=t=>t*180/Math.PI,b0=t=>{const e=Oa(Math.atan2(t[1],t[0]));return E0(e)},y3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:b0,rotateZ:b0,skewX:t=>Oa(Math.atan(t[1])),skewY:t=>Oa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},E0=t=>(t=t%360,t<0&&(t+=360),t),cS=b0,uS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),dS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),v3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:uS,scaleY:dS,scale:t=>(uS(t)+dS(t))/2,rotateX:t=>E0(Oa(Math.atan2(t[6],t[5]))),rotateY:t=>E0(Oa(Math.atan2(-t[2],t[0]))),rotateZ:cS,rotate:cS,skewX:t=>Oa(Math.atan(t[4])),skewY:t=>Oa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function T0(t){return t.includes("scale")?1:0}function S0(t,e){if(!t||t==="none")return T0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=v3,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=y3,s=u}if(!s)return T0(e);const o=r[e],a=s[1].split(",").map(w3);return typeof o=="function"?o(a):a[o]}const x3=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return S0(n,e)};function w3(t){return parseFloat(t.trim())}const Gc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Kc=new Set(Gc),hS=t=>t===qc||t===Oe,_3=new Set(["x","y","z"]),b3=Gc.filter(t=>!_3.has(t));function E3(t){const e=[];return b3.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ua={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>S0(e,"x"),y:(t,{transform:e})=>S0(e,"y")};Ua.translateX=Ua.x;Ua.translateY=Ua.y;const Ba=new Set;let C0=!1,I0=!1,N0=!1;function lA(){if(I0){const t=Array.from(Ba).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=E3(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,a])=>{var u;(u=r.getValue(o))==null||u.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}I0=!1,C0=!1,Ba.forEach(t=>t.complete(N0)),Ba.clear()}function cA(){Ba.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(I0=!0)})}function T3(){N0=!0,cA(),lA(),N0=!1}class dw{constructor(e,n,r,s,o,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Ba.add(this),C0||(C0=!0,kt.read(cA),kt.resolveKeyframes(lA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const u=r.readValue(n,a);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}g3(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ba.delete(this)}cancel(){this.state==="scheduled"&&(Ba.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const S3=t=>t.startsWith("--");function C3(t,e,n){S3(e)?t.style.setProperty(e,n):t.style[e]=n}const I3=Jx(()=>window.ScrollTimeline!==void 0),N3={};function A3(t,e){const n=Jx(t);return()=>N3[e]??n()}const uA=A3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),fd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,fS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fd([0,.65,.55,1]),circOut:fd([.55,0,1,.45]),backIn:fd([.31,.01,.66,-.59]),backOut:fd([.33,1.53,.69,.99])};function dA(t,e){if(t)return typeof t=="function"?uA()?iA(t,e):"ease-out":YN(t)?fd(t):Array.isArray(t)?t.map(n=>dA(n,e)||fS.easeOut):fS[t]}function R3(t,e,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:a="loop",ease:u="easeOut",times:h}={},f=void 0){const m={[e]:n};h&&(m.offset=h);const y=dA(u,s);Array.isArray(y)&&(m.easing=y);const v={delay:r,duration:s,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"};return f&&(v.pseudoElement=f),t.animate(m,v)}function hA(t){return typeof t=="function"&&"applyToOptions"in t}function P3({type:t,...e}){return hA(t)&&uA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class k3 extends cw{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:o,allowFlatten:a=!1,finalKeyframe:u,onComplete:h}=e;this.isPseudoElement=!!o,this.allowFlatten=a,this.options=e,Xx(typeof e.type!="string");const f=P3(e);this.animation=R3(n,r,s,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const m=lw(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):C3(n,r,m),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return ks(Number(e))}get time(){return ks(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ps(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&I3()?(this.animation.timeline=e,Pr):n(this)}}const fA={anticipate:HN,backInOut:WN,circInOut:GN};function j3(t){return t in fA}function D3(t){typeof t.ease=="string"&&j3(t.ease)&&(t.ease=fA[t.ease])}const pS=10;class M3 extends k3{constructor(e){D3(e),aA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:o,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new uw({...a,autoplay:!1}),h=Ps(this.finishedTime??this.time);n.setWithVelocity(u.sample(h-pS).value,u.sample(h).value,pS),u.stop()}}const mS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Lo.test(t)||t==="0")&&!t.startsWith("url("));function O3(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function L3(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],a=mS(s,e),u=mS(o,e);return!a||!u?!1:O3(t)||(n==="spring"||hA(n))&&r}function hw(t){return LN(t)&&"offsetHeight"in t}const V3=new Set(["opacity","clipPath","filter","transform"]),F3=Jx(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function U3(t){var f;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:o,type:a}=t;if(!hw((f=e==null?void 0:e.owner)==null?void 0:f.current))return!1;const{onUpdate:u,transformTemplate:h}=e.owner.getProps();return F3()&&n&&V3.has(n)&&(n!=="transform"||!h)&&!u&&!r&&s!=="mirror"&&o!==0&&a!=="inertia"}const B3=40;class z3 extends cw{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",keyframes:u,name:h,motionValue:f,element:m,...y}){var I;super(),this.stop=()=>{var S,T;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=er.now();const v={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:a,name:h,motionValue:f,element:m,...y},E=(m==null?void 0:m.KeyframeResolver)||dw;this.keyframeResolver=new E(u,(S,T,N)=>this.onKeyframesResolved(S,T,v,!N),h,f,m),(I=this.keyframeResolver)==null||I.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:o,type:a,velocity:u,delay:h,isHandoff:f,onUpdate:m}=r;this.resolvedAt=er.now(),L3(e,o,a,u)||((Si.instantAnimations||!h)&&(m==null||m(lw(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const v={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>B3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},E=!f&&U3(v)?new M3({...v,element:v.motionValue.owner.current}):new uw(v);E.finished.then(()=>this.notifyFinished()).catch(Pr),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),T3()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const $3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function W3(t){const e=$3.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function pA(t,e,n=1){const[r,s]=W3(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const a=o.trim();return ON(a)?parseFloat(a):a}return rw(s)?pA(s,e,n+1):s}function fw(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const mA=new Set(["width","height","top","left","right","bottom",...Gc]),H3={test:t=>t==="auto",parse:t=>t},gA=t=>e=>e.test(t),yA=[qc,Oe,js,_o,O5,M5,H3],gS=t=>yA.find(gA(t));function q3(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||VN(t):!0}const G3=new Set(["brightness","contrast","saturate","opacity"]);function K3(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(sw)||[];if(!r)return t;const s=n.replace(r,"");let o=G3.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const Y3=/\b([a-z-]*)\(.*?\)/gu,A0={...Lo,getAnimatableNone:t=>{const e=t.match(Y3);return e?e.map(K3).join(" "):t}},yS={...qc,transform:Math.round},Q3={rotate:_o,rotateX:_o,rotateY:_o,rotateZ:_o,scale:np,scaleX:np,scaleY:np,scaleZ:np,skew:_o,skewX:_o,skewY:_o,distance:Oe,translateX:Oe,translateY:Oe,translateZ:Oe,x:Oe,y:Oe,z:Oe,perspective:Oe,transformPerspective:Oe,opacity:Ud,originX:rS,originY:rS,originZ:Oe},pw={borderWidth:Oe,borderTopWidth:Oe,borderRightWidth:Oe,borderBottomWidth:Oe,borderLeftWidth:Oe,borderRadius:Oe,radius:Oe,borderTopLeftRadius:Oe,borderTopRightRadius:Oe,borderBottomRightRadius:Oe,borderBottomLeftRadius:Oe,width:Oe,maxWidth:Oe,height:Oe,maxHeight:Oe,top:Oe,right:Oe,bottom:Oe,left:Oe,padding:Oe,paddingTop:Oe,paddingRight:Oe,paddingBottom:Oe,paddingLeft:Oe,margin:Oe,marginTop:Oe,marginRight:Oe,marginBottom:Oe,marginLeft:Oe,backgroundPositionX:Oe,backgroundPositionY:Oe,...Q3,zIndex:yS,fillOpacity:Ud,strokeOpacity:Ud,numOctaves:yS},X3={...pw,color:Pn,backgroundColor:Pn,outlineColor:Pn,fill:Pn,stroke:Pn,borderColor:Pn,borderTopColor:Pn,borderRightColor:Pn,borderBottomColor:Pn,borderLeftColor:Pn,filter:A0,WebkitFilter:A0},vA=t=>X3[t];function xA(t,e){let n=vA(t);return n!==A0&&(n=Lo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const J3=new Set(["auto","none","0"]);function Z3(t,e,n){let r=0,s;for(;r<t.length&&!s;){const o=t[r];typeof o=="string"&&!J3.has(o)&&Bd(o).values.length&&(s=t[r]),r++}if(s&&n)for(const o of e)t[o]=xA(n,s)}class eF extends dw{constructor(e,n,r,s,o){super(e,n,r,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),rw(f))){const m=pA(f,n.current);m!==void 0&&(e[h]=m),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!mA.has(r)||e.length!==2)return;const[s,o]=e,a=gS(s),u=gS(o);if(a!==u)if(hS(a)&&hS(u))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else Ua[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||q3(e[s]))&&r.push(s);r.length&&Z3(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ua[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var u;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=Ua[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function tF(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const wA=(t,e)=>e&&typeof t=="number"?e.transform(t):t,vS=30,nF=t=>!isNaN(parseFloat(t));class rF{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var a,u;const o=er.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty();s&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=er.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=nF(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Zx);const r=this.events[e].add(n);return e==="change"?()=>{r(),kt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=er.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>vS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,vS);return FN(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ac(t,e){return new rF(t,e)}const{schedule:mw}=QN(queueMicrotask,!1),Gr={x:!1,y:!1};function _A(){return Gr.x||Gr.y}function sF(t){return t==="x"||t==="y"?Gr[t]?null:(Gr[t]=!0,()=>{Gr[t]=!1}):Gr.x||Gr.y?null:(Gr.x=Gr.y=!0,()=>{Gr.x=Gr.y=!1})}function bA(t,e){const n=tF(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function xS(t){return!(t.pointerType==="touch"||_A())}function iF(t,e,n={}){const[r,s,o]=bA(t,n),a=u=>{if(!xS(u))return;const{target:h}=u,f=e(h,u);if(typeof f!="function"||!h)return;const m=y=>{xS(y)&&(f(y),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,s)};return r.forEach(u=>{u.addEventListener("pointerenter",a,s)}),o}const EA=(t,e)=>e?t===e?!0:EA(t,e.parentElement):!1,gw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,oF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function aF(t){return oF.has(t.tagName)||t.tabIndex!==-1}const bp=new WeakSet;function wS(t){return e=>{e.key==="Enter"&&t(e)}}function Cv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const lF=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=wS(()=>{if(bp.has(n))return;Cv(n,"down");const s=wS(()=>{Cv(n,"up")}),o=()=>Cv(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function _S(t){return gw(t)&&!_A()}function cF(t,e,n={}){const[r,s,o]=bA(t,n),a=u=>{const h=u.currentTarget;if(!_S(u))return;bp.add(h);const f=e(h,u),m=(E,I)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),bp.has(h)&&bp.delete(h),_S(E)&&typeof f=="function"&&f(E,{success:I})},y=E=>{m(E,h===window||h===document||n.useGlobalTarget||EA(h,E.target))},v=E=>{m(E,!1)};window.addEventListener("pointerup",y,s),window.addEventListener("pointercancel",v,s)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",a,s),hw(u)&&(u.addEventListener("focus",f=>lF(f,s)),!aF(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function TA(t){return LN(t)&&"ownerSVGElement"in t}function uF(t){return TA(t)&&t.tagName==="svg"}const Ln=t=>!!(t&&t.getVelocity),dF=[...yA,Pn,Lo],hF=t=>dF.find(gA(t)),yw=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class fF extends w.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=hw(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function pF({children:t,isPresent:e,anchorX:n}){const r=w.useId(),s=w.useRef(null),o=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=w.useContext(yw);return w.useInsertionEffect(()=>{const{width:u,height:h,top:f,left:m,right:y}=o.current;if(e||!s.current||!u||!h)return;const v=n==="left"?`left: ${m}`:`right: ${y}`;s.current.dataset.motionPopId=r;const E=document.createElement("style");return a&&(E.nonce=a),document.head.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${h}px !important;
            ${v}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.contains(E)&&document.head.removeChild(E)}},[e]),c.jsx(fF,{isPresent:e,childRef:s,sizeRef:o,children:w.cloneElement(t,{ref:s})})}const mF=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:a,anchorX:u})=>{const h=Gx(gF),f=w.useId();let m=!0,y=w.useMemo(()=>(m=!1,{id:f,initial:e,isPresent:n,custom:s,onExitComplete:v=>{h.set(v,!0);for(const E of h.values())if(!E)return;r&&r()},register:v=>(h.set(v,!1),()=>h.delete(v))}),[n,h,r]);return o&&m&&(y={...y}),w.useMemo(()=>{h.forEach((v,E)=>h.set(E,!1))},[n]),w.useEffect(()=>{!n&&!h.size&&r&&r()},[n]),a==="popLayout"&&(t=c.jsx(pF,{isPresent:n,anchorX:u,children:t})),c.jsx(Fm.Provider,{value:y,children:t})};function gF(){return new Map}function SA(t=!0){const e=w.useContext(Fm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,o=w.useId();w.useEffect(()=>{if(t)return s(o)},[t]);const a=w.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,a]:[!0]}const rp=t=>t.key||"";function bS(t){const e=[];return w.Children.forEach(t,n=>{w.isValidElement(n)&&e.push(n)}),e}const Wp=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:o="sync",propagate:a=!1,anchorX:u="left"})=>{const[h,f]=SA(a),m=w.useMemo(()=>bS(t),[t]),y=a&&!h?[]:m.map(rp),v=w.useRef(!0),E=w.useRef(m),I=Gx(()=>new Map),[S,T]=w.useState(m),[N,j]=w.useState(m);MN(()=>{v.current=!1,E.current=m;for(let B=0;B<N.length;B++){const W=rp(N[B]);y.includes(W)?I.delete(W):I.get(W)!==!0&&I.set(W,!1)}},[N,y.length,y.join("-")]);const k=[];if(m!==S){let B=[...m];for(let W=0;W<N.length;W++){const P=N[W],R=rp(P);y.includes(R)||(B.splice(W,0,P),k.push(P))}return o==="wait"&&k.length&&(B=k),j(bS(B)),T(m),null}const{forceRender:$}=w.useContext(qx);return c.jsx(c.Fragment,{children:N.map(B=>{const W=rp(B),P=a&&!h?!1:m===N||y.includes(W),R=()=>{if(I.has(W))I.set(W,!0);else return;let D=!0;I.forEach(V=>{V||(D=!1)}),D&&($==null||$(),j(E.current),a&&(f==null||f()),r&&r())};return c.jsx(mF,{isPresent:P,initial:!v.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:o,onExitComplete:P?void 0:R,anchorX:u,children:B},W)})})},CA=w.createContext({strict:!1}),ES={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Rc={};for(const t in ES)Rc[t]={isEnabled:e=>ES[t].some(n=>!!e[n])};function yF(t){for(const e in t)Rc[e]={...Rc[e],...t[e]}}const vF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||vF.has(t)}let IA=t=>!Hp(t);function xF(t){t&&(IA=e=>e.startsWith("on")?!Hp(e):t(e))}try{xF(require("@emotion/is-prop-valid").default)}catch{}function wF(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(IA(s)||n===!0&&Hp(s)||!e&&!Hp(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function _F(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Um=w.createContext({});function Bm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function zd(t){return typeof t=="string"||Array.isArray(t)}const vw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xw=["initial",...vw];function zm(t){return Bm(t.animate)||xw.some(e=>zd(t[e]))}function NA(t){return!!(zm(t)||t.variants)}function bF(t,e){if(zm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||zd(n)?n:void 0,animate:zd(r)?r:void 0}}return t.inherit!==!1?e:{}}function EF(t){const{initial:e,animate:n}=bF(t,w.useContext(Um));return w.useMemo(()=>({initial:e,animate:n}),[TS(e),TS(n)])}function TS(t){return Array.isArray(t)?t.join(" "):t}const TF=Symbol.for("motionComponentSymbol");function fc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function SF(t,e,n){return w.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):fc(n)&&(n.current=r))},[e])}const ww=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),CF="framerAppearId",AA="data-"+ww(CF),RA=w.createContext({});function IF(t,e,n,r,s){var S,T;const{visualElement:o}=w.useContext(Um),a=w.useContext(CA),u=w.useContext(Fm),h=w.useContext(yw).reducedMotion,f=w.useRef(null);r=r||a.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const m=f.current,y=w.useContext(RA);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&NF(f.current,n,s,y);const v=w.useRef(!1);w.useInsertionEffect(()=>{m&&v.current&&m.update(n,u)});const E=n[AA],I=w.useRef(!!E&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,E))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,E)));return MN(()=>{m&&(v.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),mw.render(m.render),I.current&&m.animationState&&m.animationState.animateChanges())}),w.useEffect(()=>{m&&(!I.current&&m.animationState&&m.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,E)}),I.current=!1))}),m}function NF(t,e,n,r){const{layoutId:s,layout:o,drag:a,dragConstraints:u,layoutScroll:h,layoutRoot:f,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:PA(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!a||u&&fc(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:h,layoutRoot:f})}function PA(t){if(t)return t.options.allowProjection!==!1?t.projection:PA(t.parent)}function AF({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&yF(t);function o(u,h){let f;const m={...w.useContext(yw),...u,layoutId:RF(u)},{isStatic:y}=m,v=EF(u),E=r(u,y);if(!y&&Kx){PF();const I=kF(m);f=I.MeasureLayout,v.visualElement=IF(s,E,m,e,I.ProjectionNode)}return c.jsxs(Um.Provider,{value:v,children:[f&&v.visualElement?c.jsx(f,{visualElement:v.visualElement,...m}):null,n(s,u,SF(E,v.visualElement,h),E,y,v.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const a=w.forwardRef(o);return a[TF]=s,a}function RF({layoutId:t}){const e=w.useContext(qx).id;return e&&t!==void 0?e+"-"+t:t}function PF(t,e){w.useContext(CA).strict}function kF(t){const{drag:e,layout:n}=Rc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const $d={};function jF(t){for(const e in t)$d[e]=t[e],nw(e)&&($d[e].isCSSVariable=!0)}function kA(t,{layout:e,layoutId:n}){return Kc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!$d[t]||t==="opacity")}const DF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},MF=Gc.length;function OF(t,e,n){let r="",s=!0;for(let o=0;o<MF;o++){const a=Gc[o],u=t[a];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(a.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||n){const f=wA(u,pw[a]);if(!h){s=!1;const m=DF[a]||a;r+=`${m}(${f}) `}n&&(e[a]=f)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function _w(t,e,n){const{style:r,vars:s,transformOrigin:o}=t;let a=!1,u=!1;for(const h in e){const f=e[h];if(Kc.has(h)){a=!0;continue}else if(nw(h)){s[h]=f;continue}else{const m=wA(f,pw[h]);h.startsWith("origin")?(u=!0,o[h]=m):r[h]=m}}if(e.transform||(a||n?r.transform=OF(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:m=0}=o;r.transformOrigin=`${h} ${f} ${m}`}}const bw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function jA(t,e,n){for(const r in e)!Ln(e[r])&&!kA(r,n)&&(t[r]=e[r])}function LF({transformTemplate:t},e){return w.useMemo(()=>{const n=bw();return _w(n,e,t),Object.assign({},n.vars,n.style)},[e])}function VF(t,e){const n=t.style||{},r={};return jA(r,n,t),Object.assign(r,LF(t,e)),r}function FF(t,e){const n={},r=VF(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const UF={offset:"stroke-dashoffset",array:"stroke-dasharray"},BF={offset:"strokeDashoffset",array:"strokeDasharray"};function zF(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?UF:BF;t[o.offset]=Oe.transform(-r);const a=Oe.transform(e),u=Oe.transform(n);t[o.array]=`${a} ${u}`}function DA(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...u},h,f,m){if(_w(t,u,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:v}=t;y.transform&&(v.transform=y.transform,delete y.transform),(v.transform||y.transformOrigin)&&(v.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),v.transform&&(v.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),s!==void 0&&zF(y,s,o,a,!1)}const MA=()=>({...bw(),attrs:{}}),OA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function $F(t,e,n,r){const s=w.useMemo(()=>{const o=MA();return DA(o,e,OA(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};jA(o,t.style,t),s.style={...o,...s.style}}return s}const WF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ew(t){return typeof t!="string"||t.includes("-")?!1:!!(WF.indexOf(t)>-1||/[A-Z]/u.test(t))}function HF(t=!1){return(n,r,s,{latestValues:o},a)=>{const h=(Ew(n)?$F:FF)(r,o,a,n),f=wF(r,typeof n=="string",t),m=n!==w.Fragment?{...f,...h,ref:s}:{},{children:y}=r,v=w.useMemo(()=>Ln(y)?y.get():y,[y]);return w.createElement(n,{...m,children:v})}}function SS(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Tw(t,e,n,r){if(typeof e=="function"){const[s,o]=SS(r);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=SS(r);e=e(n!==void 0?n:t.custom,s,o)}return e}function Ep(t){return Ln(t)?t.get():t}function qF({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:GF(n,r,s,t),renderState:e()}}const LA=t=>(e,n)=>{const r=w.useContext(Um),s=w.useContext(Fm),o=()=>qF(t,e,r,s);return n?o():Gx(o)};function GF(t,e,n,r){const s={},o=r(t,{});for(const v in o)s[v]=Ep(o[v]);let{initial:a,animate:u}=t;const h=zm(t),f=NA(t);e&&f&&!h&&t.inherit!==!1&&(a===void 0&&(a=e.initial),u===void 0&&(u=e.animate));let m=n?n.initial===!1:!1;m=m||a===!1;const y=m?u:a;if(y&&typeof y!="boolean"&&!Bm(y)){const v=Array.isArray(y)?y:[y];for(let E=0;E<v.length;E++){const I=Tw(t,v[E]);if(I){const{transitionEnd:S,transition:T,...N}=I;for(const j in N){let k=N[j];if(Array.isArray(k)){const $=m?k.length-1:0;k=k[$]}k!==null&&(s[j]=k)}for(const j in S)s[j]=S[j]}}}return s}function Sw(t,e,n){var o;const{style:r}=t,s={};for(const a in r)(Ln(r[a])||e.style&&Ln(e.style[a])||kA(a,t)||((o=n==null?void 0:n.getValue(a))==null?void 0:o.liveStyle)!==void 0)&&(s[a]=r[a]);return s}const KF={useVisualState:LA({scrapeMotionValuesFromProps:Sw,createRenderState:bw})};function VA(t,e,n){const r=Sw(t,e,n);for(const s in t)if(Ln(t[s])||Ln(e[s])){const o=Gc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=t[s]}return r}const YF={useVisualState:LA({scrapeMotionValuesFromProps:VA,createRenderState:MA})};function QF(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...Ew(r)?YF:KF,preloadedFeatures:t,useRender:HF(s),createVisualElement:e,Component:r};return AF(a)}}function Wd(t,e,n){const r=t.getProps();return Tw(r,e,n!==void 0?n:r.custom,t)}const R0=t=>Array.isArray(t);function XF(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ac(n))}function JF(t){return R0(t)?t[t.length-1]||0:t}function ZF(t,e){const n=Wd(t,e);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const a in o){const u=JF(o[a]);XF(t,a,u)}}function e6(t){return!!(Ln(t)&&t.add)}function P0(t,e){const n=t.getValue("willChange");if(e6(n))return n.add(e);if(!n&&Si.WillChange){const r=new Si.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function FA(t){return t.props[AA]}const t6=t=>t!==null;function n6(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(t6),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[o]}const r6={type:"spring",stiffness:500,damping:25,restSpeed:10},s6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),i6={type:"keyframes",duration:.8},o6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},a6=(t,{keyframes:e})=>e.length>2?i6:Kc.has(t)?t.startsWith("scale")?s6(e[1]):r6:o6;function l6({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:a,repeatDelay:u,from:h,elapsed:f,...m}){return!!Object.keys(m).length}const Cw=(t,e,n,r={},s,o)=>a=>{const u=fw(r,t)||{},h=u.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Ps(h);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-f,onUpdate:v=>{e.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{a(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:s};l6(u)||Object.assign(m,a6(t,m)),m.duration&&(m.duration=Ps(m.duration)),m.repeatDelay&&(m.repeatDelay=Ps(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(y=!0)),(Si.instantAnimations||Si.skipAnimations)&&(y=!0,m.duration=0,m.delay=0),m.allowFlatten=!u.type&&!u.ease,y&&!o&&e.get()!==void 0){const v=n6(m.keyframes,u);if(v!==void 0){kt.update(()=>{m.onUpdate(v),m.onComplete()});return}}return u.isSync?new uw(m):new z3(m)};function c6({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function UA(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:a,...u}=e;r&&(o=r);const h=[],f=s&&t.animationState&&t.animationState.getState()[s];for(const m in u){const y=t.getValue(m,t.latestValues[m]??null),v=u[m];if(v===void 0||f&&c6(f,m))continue;const E={delay:n,...fw(o||{},m)},I=y.get();if(I!==void 0&&!y.isAnimating&&!Array.isArray(v)&&v===I&&!E.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const N=FA(t);if(N){const j=window.MotionHandoffAnimation(N,m,kt);j!==null&&(E.startTime=j,S=!0)}}P0(t,m),y.start(Cw(m,y,v,t.shouldReduceMotion&&mA.has(m)?{type:!1}:E,t,S));const T=y.animation;T&&h.push(T)}return a&&Promise.all(h).then(()=>{kt.update(()=>{a&&ZF(t,a)})}),h}function k0(t,e,n={}){var h;const r=Wd(t,e,n.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(UA(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:v}=s;return u6(t,e,m+f,y,v,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[f,m]=u==="beforeChildren"?[o,a]:[a,o];return f().then(()=>m())}else return Promise.all([o(),a(n.delay)])}function u6(t,e,n=0,r=0,s=1,o){const a=[],u=(t.variantChildren.size-1)*r,h=s===1?(f=0)=>f*r:(f=0)=>u-f*r;return Array.from(t.variantChildren).sort(d6).forEach((f,m)=>{f.notify("AnimationStart",e),a.push(k0(f,e,{...o,delay:n+h(m)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(a)}function d6(t,e){return t.sortNodePosition(e)}function h6(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>k0(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=k0(t,e,n);else{const s=typeof e=="function"?Wd(t,e,n.custom):e;r=Promise.all(UA(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function BA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const f6=xw.length;function zA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?zA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<f6;n++){const r=xw[n],s=t.props[r];(zd(s)||s===!1)&&(e[r]=s)}return e}const p6=[...vw].reverse(),m6=vw.length;function g6(t){return e=>Promise.all(e.map(({animation:n,options:r})=>h6(t,n,r)))}function y6(t){let e=g6(t),n=CS(),r=!0;const s=h=>(f,m)=>{var v;const y=Wd(t,m,h==="exit"?(v=t.presenceContext)==null?void 0:v.custom:void 0);if(y){const{transition:E,transitionEnd:I,...S}=y;f={...f,...S,...I}}return f};function o(h){e=h(t)}function a(h){const{props:f}=t,m=zA(t.parent)||{},y=[],v=new Set;let E={},I=1/0;for(let T=0;T<m6;T++){const N=p6[T],j=n[N],k=f[N]!==void 0?f[N]:m[N],$=zd(k),B=N===h?j.isActive:null;B===!1&&(I=T);let W=k===m[N]&&k!==f[N]&&$;if(W&&r&&t.manuallyAnimateOnMount&&(W=!1),j.protectedKeys={...E},!j.isActive&&B===null||!k&&!j.prevProp||Bm(k)||typeof k=="boolean")continue;const P=v6(j.prevProp,k);let R=P||N===h&&j.isActive&&!W&&$||T>I&&$,D=!1;const V=Array.isArray(k)?k:[k];let F=V.reduce(s(N),{});B===!1&&(F={});const{prevResolvedValues:z={}}=j,L={...z,...F},me=ae=>{R=!0,v.has(ae)&&(D=!0,v.delete(ae)),j.needsAnimating[ae]=!0;const J=t.getValue(ae);J&&(J.liveStyle=!1)};for(const ae in L){const J=F[ae],K=z[ae];if(E.hasOwnProperty(ae))continue;let ne=!1;R0(J)&&R0(K)?ne=!BA(J,K):ne=J!==K,ne?J!=null?me(ae):v.add(ae):J!==void 0&&v.has(ae)?me(ae):j.protectedKeys[ae]=!0}j.prevProp=k,j.prevResolvedValues=F,j.isActive&&(E={...E,...F}),r&&t.blockInitialAnimation&&(R=!1),R&&(!(W&&P)||D)&&y.push(...V.map(ae=>({animation:ae,options:{type:N}})))}if(v.size){const T={};if(typeof f.initial!="boolean"){const N=Wd(t,Array.isArray(f.initial)?f.initial[0]:f.initial);N&&N.transition&&(T.transition=N.transition)}v.forEach(N=>{const j=t.getBaseTarget(N),k=t.getValue(N);k&&(k.liveStyle=!0),T[N]=j??null}),y.push({animation:T})}let S=!!y.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(y):Promise.resolve()}function u(h,f){var y;if(n[h].isActive===f)return Promise.resolve();(y=t.variantChildren)==null||y.forEach(v=>{var E;return(E=v.animationState)==null?void 0:E.setActive(h,f)}),n[h].isActive=f;const m=a(h);for(const v in n)n[v].protectedKeys={};return m}return{animateChanges:a,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=CS(),r=!0}}}function v6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!BA(e,t):!1}function Pa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function CS(){return{animate:Pa(!0),whileInView:Pa(),whileHover:Pa(),whileTap:Pa(),whileDrag:Pa(),whileFocus:Pa(),exit:Pa()}}class Jo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class x6 extends Jo{constructor(e){super(e),e.animationState||(e.animationState=y6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Bm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let w6=0;class _6 extends Jo{constructor(){super(...arguments),this.id=w6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const b6={animation:{Feature:x6},exit:{Feature:_6}};function Hd(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function yh(t){return{point:{x:t.pageX,y:t.pageY}}}const E6=t=>e=>gw(e)&&t(e,yh(e));function Td(t,e,n,r){return Hd(t,e,E6(n),r)}function $A({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function T6({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function S6(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const WA=1e-4,C6=1-WA,I6=1+WA,HA=.01,N6=0-HA,A6=0+HA;function Wn(t){return t.max-t.min}function R6(t,e,n){return Math.abs(t-e)<=n}function IS(t,e,n,r=.5){t.origin=r,t.originPoint=Pt(e.min,e.max,t.origin),t.scale=Wn(n)/Wn(e),t.translate=Pt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=C6&&t.scale<=I6||isNaN(t.scale))&&(t.scale=1),(t.translate>=N6&&t.translate<=A6||isNaN(t.translate))&&(t.translate=0)}function Sd(t,e,n,r){IS(t.x,e.x,n.x,r?r.originX:void 0),IS(t.y,e.y,n.y,r?r.originY:void 0)}function NS(t,e,n){t.min=n.min+e.min,t.max=t.min+Wn(e)}function P6(t,e,n){NS(t.x,e.x,n.x),NS(t.y,e.y,n.y)}function AS(t,e,n){t.min=e.min-n.min,t.max=t.min+Wn(e)}function Cd(t,e,n){AS(t.x,e.x,n.x),AS(t.y,e.y,n.y)}const RS=()=>({translate:0,scale:1,origin:0,originPoint:0}),pc=()=>({x:RS(),y:RS()}),PS=()=>({min:0,max:0}),Bt=()=>({x:PS(),y:PS()});function Nr(t){return[t("x"),t("y")]}function Iv(t){return t===void 0||t===1}function j0({scale:t,scaleX:e,scaleY:n}){return!Iv(t)||!Iv(e)||!Iv(n)}function ka(t){return j0(t)||qA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function qA(t){return kS(t.x)||kS(t.y)}function kS(t){return t&&t!=="0%"}function qp(t,e,n){const r=t-n,s=e*r;return n+s}function jS(t,e,n,r,s){return s!==void 0&&(t=qp(t,s,r)),qp(t,n,r)+e}function D0(t,e=0,n=1,r,s){t.min=jS(t.min,e,n,r,s),t.max=jS(t.max,e,n,r,s)}function GA(t,{x:e,y:n}){D0(t.x,e.translate,e.scale,e.originPoint),D0(t.y,n.translate,n.scale,n.originPoint)}const DS=.999999999999,MS=1.0000000000001;function k6(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,a;for(let u=0;u<s;u++){o=n[u],a=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&gc(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,GA(t,a)),r&&ka(o.latestValues)&&gc(t,o.latestValues))}e.x<MS&&e.x>DS&&(e.x=1),e.y<MS&&e.y>DS&&(e.y=1)}function mc(t,e){t.min=t.min+e,t.max=t.max+e}function OS(t,e,n,r,s=.5){const o=Pt(t.min,t.max,s);D0(t,e,n,o,r)}function gc(t,e){OS(t.x,e.x,e.scaleX,e.scale,e.originX),OS(t.y,e.y,e.scaleY,e.scale,e.originY)}function KA(t,e){return $A(S6(t.getBoundingClientRect(),e))}function j6(t,e,n){const r=KA(t,n),{scroll:s}=e;return s&&(mc(r.x,s.offset.x),mc(r.y,s.offset.y)),r}const YA=({current:t})=>t?t.ownerDocument.defaultView:null,LS=(t,e)=>Math.abs(t-e);function D6(t,e){const n=LS(t.x,e.x),r=LS(t.y,e.y);return Math.sqrt(n**2+r**2)}class QA{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Av(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,E=D6(y.offset,{x:0,y:0})>=3;if(!v&&!E)return;const{point:I}=y,{timestamp:S}=_n;this.history.push({...I,timestamp:S});const{onStart:T,onMove:N}=this.handlers;v||(T&&T(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Nv(v,this.transformPagePoint),kt.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:E,onSessionEnd:I,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Av(y.type==="pointercancel"?this.lastMoveEventInfo:Nv(v,this.transformPagePoint),this.history);this.startEvent&&E&&E(y,T),I&&I(y,T)},!gw(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=yh(e),u=Nv(a,this.transformPagePoint),{point:h}=u,{timestamp:f}=_n;this.history=[{...h,timestamp:f}];const{onSessionStart:m}=n;m&&m(e,Av(u,this.history)),this.removeListeners=ph(Td(this.contextWindow,"pointermove",this.handlePointerMove),Td(this.contextWindow,"pointerup",this.handlePointerUp),Td(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Oo(this.updatePoint)}}function Nv(t,e){return e?{point:e(t.point)}:t}function VS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Av({point:t},e){return{point:t,delta:VS(t,XA(e)),offset:VS(t,M6(e)),velocity:O6(e,.1)}}function M6(t){return t[0]}function XA(t){return t[t.length-1]}function O6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=XA(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ps(e)));)n--;if(!r)return{x:0,y:0};const o=ks(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const a={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function L6(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Pt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Pt(n,t,r.max):Math.min(t,n)),t}function FS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function V6(t,{top:e,left:n,bottom:r,right:s}){return{x:FS(t.x,n,s),y:FS(t.y,e,r)}}function US(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function F6(t,e){return{x:US(t.x,e.x),y:US(t.y,e.y)}}function U6(t,e){let n=.5;const r=Wn(t),s=Wn(e);return s>r?n=Fd(e.min,e.max-r,t.min):r>s&&(n=Fd(t.min,t.max-s,e.min)),Ti(0,1,n)}function B6(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const M0=.35;function z6(t=M0){return t===!1?t=0:t===!0&&(t=M0),{x:BS(t,"left","right"),y:BS(t,"top","bottom")}}function BS(t,e,n){return{min:zS(t,e),max:zS(t,n)}}function zS(t,e){return typeof t=="number"?t:t[e]||0}const $6=new WeakMap;class W6{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Bt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(yh(m).point)},o=(m,y)=>{const{drag:v,dragPropagation:E,onDragStart:I}=this.getProps();if(v&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=sF(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Nr(T=>{let N=this.getAxisMotionValue(T).get()||0;if(js.test(N)){const{projection:j}=this.visualElement;if(j&&j.layout){const k=j.layout.layoutBox[T];k&&(N=Wn(k)*(parseFloat(N)/100))}}this.originPoint[T]=N}),I&&kt.postRender(()=>I(m,y)),P0(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},a=(m,y)=>{const{dragPropagation:v,dragDirectionLock:E,onDirectionLock:I,onDrag:S}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:T}=y;if(E&&this.currentDirection===null){this.currentDirection=H6(T),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",y.point,T),this.updateAxis("y",y.point,T),this.visualElement.render(),S&&S(m,y)},u=(m,y)=>this.stop(m,y),h=()=>Nr(m=>{var y;return this.getAnimationState(m)==="paused"&&((y=this.getAxisMotionValue(m).animation)==null?void 0:y.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new QA(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:YA(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&kt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!sp(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=L6(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,s=this.constraints;e&&fc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=V6(r.layoutBox,e):this.constraints=!1,this.elastic=z6(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Nr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=B6(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!fc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=j6(r,s.root,this.visualElement.getTransformPagePoint());let a=F6(s.layout.layoutBox,o);if(n){const u=n(T6(a));this.hasMutatedConstraints=!!u,u&&(a=$A(u))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},f=Nr(m=>{if(!sp(m,n,this.currentDirection))return;let y=h&&h[m]||{};a&&(y={min:0,max:0});const v=s?200:1e6,E=s?40:1e7,I={type:"inertia",velocity:r?e[m]:0,bounceStiffness:v,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...o,...y};return this.startAxisValueAnimation(m,I)});return Promise.all(f).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return P0(this.visualElement,e),r.start(Cw(e,r,0,n,this.visualElement,!1))}stopAnimation(){Nr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Nr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Nr(n=>{const{drag:r}=this.getProps();if(!sp(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:u}=s.layout.layoutBox[n];o.set(e[n]-Pt(a,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!fc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Nr(a=>{const u=this.getAxisMotionValue(a);if(u&&this.constraints!==!1){const h=u.get();s[a]=U6({min:h,max:h},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Nr(a=>{if(!sp(a,e,null))return;const u=this.getAxisMotionValue(a),{min:h,max:f}=this.constraints[a];u.set(Pt(h,f,s[a]))})}addListeners(){if(!this.visualElement.current)return;$6.set(this.visualElement,this);const e=this.visualElement.current,n=Td(e,"pointerdown",h=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();fc(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),kt.read(r);const a=Hd(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(Nr(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=h[m].translate,y.set(y.get()+h[m].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:a=M0,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:a,dragMomentum:u}}}function sp(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function H6(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class q6 extends Jo{constructor(e){super(e),this.removeGroupControls=Pr,this.removeListeners=Pr,this.controls=new W6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pr}unmount(){this.removeGroupControls(),this.removeListeners()}}const $S=t=>(e,n)=>{t&&kt.postRender(()=>t(e,n))};class G6 extends Jo{constructor(){super(...arguments),this.removePointerDownListener=Pr}onPointerDown(e){this.session=new QA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:YA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:$S(e),onStart:$S(n),onMove:r,onEnd:(o,a)=>{delete this.session,s&&kt.postRender(()=>s(o,a))}}}mount(){this.removePointerDownListener=Td(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Tp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function WS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const od={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Oe.test(t))t=parseFloat(t);else return t;const n=WS(t,e.target.x),r=WS(t,e.target.y);return`${n}% ${r}%`}},K6={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Lo.parse(t);if(s.length>5)return r;const o=Lo.createTransformer(t),a=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;s[0+a]/=u,s[1+a]/=h;const f=Pt(u,h,.5);return typeof s[2+a]=="number"&&(s[2+a]/=f),typeof s[3+a]=="number"&&(s[3+a]/=f),o(s)}};class Y6 extends w.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;jF(Q6),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Tp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,{projection:a}=r;return a&&(a.isPresent=o,s||e.layoutDependency!==n||n===void 0||e.isPresent!==o?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||kt.postRender(()=>{const u=a.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),mw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function JA(t){const[e,n]=SA(),r=w.useContext(qx);return c.jsx(Y6,{...t,layoutGroup:r,switchLayoutGroup:w.useContext(RA),isPresent:e,safeToRemove:n})}const Q6={borderRadius:{...od,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:od,borderTopRightRadius:od,borderBottomLeftRadius:od,borderBottomRightRadius:od,boxShadow:K6};function X6(t,e,n){const r=Ln(t)?t:Ac(t);return r.start(Cw("",r,e,n)),r.animation}const J6=(t,e)=>t.depth-e.depth;class Z6{constructor(){this.children=[],this.isDirty=!1}add(e){Yx(this.children,e),this.isDirty=!0}remove(e){Qx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(J6),this.isDirty=!1,this.children.forEach(e)}}function eU(t,e){const n=er.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(Oo(r),t(o-e))};return kt.setup(r,!0),()=>Oo(r)}const ZA=["TopLeft","TopRight","BottomLeft","BottomRight"],tU=ZA.length,HS=t=>typeof t=="string"?parseFloat(t):t,qS=t=>typeof t=="number"||Oe.test(t);function nU(t,e,n,r,s,o){s?(t.opacity=Pt(0,n.opacity??1,rU(r)),t.opacityExit=Pt(e.opacity??1,0,sU(r))):o&&(t.opacity=Pt(e.opacity??1,n.opacity??1,r));for(let a=0;a<tU;a++){const u=`border${ZA[a]}Radius`;let h=GS(e,u),f=GS(n,u);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||qS(h)===qS(f)?(t[u]=Math.max(Pt(HS(h),HS(f),r),0),(js.test(f)||js.test(h))&&(t[u]+="%")):t[u]=f}(e.rotate||n.rotate)&&(t.rotate=Pt(e.rotate||0,n.rotate||0,r))}function GS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const rU=eR(0,.5,qN),sU=eR(.5,.95,Pr);function eR(t,e,n){return r=>r<t?0:r>e?1:n(Fd(t,e,r))}function KS(t,e){t.min=e.min,t.max=e.max}function Ir(t,e){KS(t.x,e.x),KS(t.y,e.y)}function YS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function QS(t,e,n,r,s){return t-=e,t=qp(t,1/n,r),s!==void 0&&(t=qp(t,1/s,r)),t}function iU(t,e=0,n=1,r=.5,s,o=t,a=t){if(js.test(e)&&(e=parseFloat(e),e=Pt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let u=Pt(o.min,o.max,r);t===o&&(u-=e),t.min=QS(t.min,e,n,u,s),t.max=QS(t.max,e,n,u,s)}function XS(t,e,[n,r,s],o,a){iU(t,e[n],e[r],e[s],e.scale,o,a)}const oU=["x","scaleX","originX"],aU=["y","scaleY","originY"];function JS(t,e,n,r){XS(t.x,e,oU,n?n.x:void 0,r?r.x:void 0),XS(t.y,e,aU,n?n.y:void 0,r?r.y:void 0)}function ZS(t){return t.translate===0&&t.scale===1}function tR(t){return ZS(t.x)&&ZS(t.y)}function eC(t,e){return t.min===e.min&&t.max===e.max}function lU(t,e){return eC(t.x,e.x)&&eC(t.y,e.y)}function tC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function nR(t,e){return tC(t.x,e.x)&&tC(t.y,e.y)}function nC(t){return Wn(t.x)/Wn(t.y)}function rC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class cU{constructor(){this.members=[]}add(e){Yx(this.members,e),e.scheduleRender()}remove(e){if(Qx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function uU(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((s||o||a)&&(r=`translate3d(${s}px, ${o}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:m,rotateX:y,rotateY:v,skewX:E,skewY:I}=n;f&&(r=`perspective(${f}px) ${r}`),m&&(r+=`rotate(${m}deg) `),y&&(r+=`rotateX(${y}deg) `),v&&(r+=`rotateY(${v}deg) `),E&&(r+=`skewX(${E}deg) `),I&&(r+=`skewY(${I}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(r+=`scale(${u}, ${h})`),r||"none"}const Rv=["","X","Y","Z"],dU={visibility:"hidden"},hU=1e3;let fU=0;function Pv(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function rR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=FA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",kt,!(s||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&rR(r)}function sR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},u=e==null?void 0:e()){this.id=fU++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(gU),this.nodes.forEach(_U),this.nodes.forEach(bU),this.nodes.forEach(yU)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new Z6)}addEventListener(a,u){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Zx),this.eventHandlers.get(a).add(u)}notifyListeners(a,...u){const h=this.eventHandlers.get(a);h&&h.notify(...u)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=TA(a)&&!uF(a),this.instance=a;const{layoutId:u,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),t){let m;const y=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=eU(y,250),Tp.hasAnimatedSinceResize&&(Tp.hasAnimatedSinceResize=!1,this.nodes.forEach(iC))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||h)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:y,hasRelativeLayoutChanged:v,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||f.getDefaultTransition()||IU,{onLayoutAnimationStart:S,onLayoutAnimationComplete:T}=f.getProps(),N=!this.targetLayout||!nR(this.targetLayout,E),j=!y&&v;if(this.options.layoutRoot||this.resumeFrom||j||y&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...fw(I,"layout"),onPlay:S,onComplete:T};(f.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(m,j)}else y||iC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Oo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(EU),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&rR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sC);return}this.isUpdating||this.nodes.forEach(xU),this.isUpdating=!1,this.nodes.forEach(wU),this.nodes.forEach(pU),this.nodes.forEach(mU),this.clearAllSnapshots();const u=er.now();_n.delta=Ti(0,1e3/60,u-_n.timestamp),_n.timestamp=u,_n.isProcessing=!0,bv.update.process(_n),bv.preRender.process(_n),bv.render.process(_n),_n.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(vU),this.sharedNodes.forEach(TU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,kt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){kt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Wn(this.snapshot.measuredBox.x)&&!Wn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(u=!1),u&&this.instance){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!tR(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;a&&this.instance&&(u||ka(this.latestValues)||m)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return a&&(h=this.removeTransform(h)),NU(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:a}=this.options;if(!a)return Bt();const u=a.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(AU))){const{scroll:m}=this.root;m&&(mc(u.x,m.offset.x),mc(u.y,m.offset.y))}return u}removeElementScroll(a){var h;const u=Bt();if(Ir(u,a),(h=this.scroll)!=null&&h.wasRoot)return u;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:y,options:v}=m;m!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Ir(u,a),mc(u.x,y.offset.x),mc(u.y,y.offset.y))}return u}applyTransform(a,u=!1){const h=Bt();Ir(h,a);for(let f=0;f<this.path.length;f++){const m=this.path[f];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&gc(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),ka(m.latestValues)&&gc(h,m.latestValues)}return ka(this.latestValues)&&gc(h,this.latestValues),h}removeTransform(a){const u=Bt();Ir(u,a);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!ka(f.latestValues))continue;j0(f.latestValues)&&f.updateSnapshot();const m=Bt(),y=f.measurePageBox();Ir(m,y),JS(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return ka(this.latestValues)&&JS(u,this.latestValues),u}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_n.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var v;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(a||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:y}=this.options;if(!(!this.layout||!(m||y))){if(this.resolvedRelativeTargetAt=_n.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bt(),this.relativeTargetOrigin=Bt(),Cd(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Ir(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Bt(),this.targetWithTransforms=Bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),P6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ir(this.target,this.layout.layoutBox),GA(this.target,this.targetDelta)):Ir(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bt(),this.relativeTargetOrigin=Bt(),Cd(this.relativeTargetOrigin,this.target,E.target),Ir(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||j0(this.parent.latestValues)||qA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var I;const a=this.getLead(),u=!!this.resumingFrom||this!==a;let h=!0;if((this.isProjectionDirty||(I=this.parent)!=null&&I.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===_n.timestamp&&(h=!1),h)return;const{layout:f,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||m))return;Ir(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;k6(this.layoutCorrected,this.treeScale,this.path,u),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Bt());const{target:E}=a;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(YS(this.prevProjectionDelta.x,this.projectionDelta.x),YS(this.prevProjectionDelta.y,this.projectionDelta.y)),Sd(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!rC(this.projectionDelta.x,this.prevProjectionDelta.x)||!rC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),a){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=pc(),this.projectionDelta=pc(),this.projectionDeltaWithTransform=pc()}setAnimationOrigin(a,u=!1){const h=this.snapshot,f=h?h.latestValues:{},m={...this.latestValues},y=pc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=Bt(),E=h?h.source:void 0,I=this.layout?this.layout.source:void 0,S=E!==I,T=this.getStack(),N=!T||T.members.length<=1,j=!!(S&&!N&&this.options.crossfade===!0&&!this.path.some(CU));this.animationProgress=0;let k;this.mixTargetDelta=$=>{const B=$/1e3;oC(y.x,a.x,B),oC(y.y,a.y,B),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Cd(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),SU(this.relativeTarget,this.relativeTargetOrigin,v,B),k&&lU(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Bt()),Ir(k,this.relativeTarget)),S&&(this.animationValues=m,nU(m,f,this.latestValues,B,j,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var u,h,f;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(f=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||f.stop(),this.pendingAnimation&&(Oo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=kt.update(()=>{Tp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ac(0)),this.currentAnimation=X6(this.motionValue,[0,1e3],{...a,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),a.onUpdate&&a.onUpdate(m)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:u,target:h,layout:f,latestValues:m}=a;if(!(!u||!h||!f)){if(this!==a&&this.layout&&f&&iR(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||Bt();const y=Wn(this.layout.layoutBox.x);h.x.min=a.target.x.min,h.x.max=h.x.min+y;const v=Wn(this.layout.layoutBox.y);h.y.min=a.target.y.min,h.y.max=h.y.min+v}Ir(u,h),gc(u,m),Sd(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(a,u){this.sharedNodes.has(a)||this.sharedNodes.set(a,new cU),this.sharedNodes.get(a).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var u;const{layoutId:a}=this.options;return a?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:a}=this.options;return a?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:u,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),a&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let u=!1;const{latestValues:h}=a;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const f={};h.z&&Pv("z",a,f,this.animationValues);for(let m=0;m<Rv.length;m++)Pv(`rotate${Rv[m]}`,a,f,this.animationValues),Pv(`skew${Rv[m]}`,a,f,this.animationValues);a.render();for(const m in f)a.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return dU;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ep(a==null?void 0:a.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=Ep(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!ka(this.latestValues)&&(E.transform=h?h({},""):"none",this.hasProjected=!1),E}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=uU(this.projectionDeltaWithTransform,this.treeScale,m),h&&(u.transform=h(m,u.transform));const{x:y,y:v}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${v.origin*100}% 0`,f.animationValues?u.opacity=f===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const E in $d){if(m[E]===void 0)continue;const{correct:I,applyTo:S,isCSSVariable:T}=$d[E],N=u.transform==="none"?m[E]:I(m[E],f);if(S){const j=S.length;for(let k=0;k<j;k++)u[S[k]]=N}else T?this.options.visualElement.renderState.vars[E]=N:u[E]=N}return this.options.layoutId&&(u.pointerEvents=f===this?Ep(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var u;return(u=a.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(sC),this.root.sharedNodes.clear()}}}function pU(t){t.updateLayout()}function mU(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,a=e.source!==t.layout.source;o==="size"?Nr(y=>{const v=a?e.measuredBox[y]:e.layoutBox[y],E=Wn(v);v.min=r[y].min,v.max=v.min+E}):iR(o,e.layoutBox,r)&&Nr(y=>{const v=a?e.measuredBox[y]:e.layoutBox[y],E=Wn(r[y]);v.max=v.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+E)});const u=pc();Sd(u,r,e.layoutBox);const h=pc();a?Sd(h,t.applyTransform(s,!0),e.measuredBox):Sd(h,r,e.layoutBox);const f=!tR(u);let m=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:E}=y;if(v&&E){const I=Bt();Cd(I,e.layoutBox,v.layoutBox);const S=Bt();Cd(S,r,E.layoutBox),nR(I,S)||(m=!0),y.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=I,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function gU(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function yU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function vU(t){t.clearSnapshot()}function sC(t){t.clearMeasurements()}function xU(t){t.isLayoutDirty=!1}function wU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function iC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function _U(t){t.resolveTargetDelta()}function bU(t){t.calcProjection()}function EU(t){t.resetSkewAndRotation()}function TU(t){t.removeLeadSnapshot()}function oC(t,e,n){t.translate=Pt(e.translate,0,n),t.scale=Pt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function aC(t,e,n,r){t.min=Pt(e.min,n.min,r),t.max=Pt(e.max,n.max,r)}function SU(t,e,n,r){aC(t.x,e.x,n.x,r),aC(t.y,e.y,n.y,r)}function CU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const IU={duration:.45,ease:[.4,0,.1,1]},lC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),cC=lC("applewebkit/")&&!lC("chrome/")?Math.round:Pr;function uC(t){t.min=cC(t.min),t.max=cC(t.max)}function NU(t){uC(t.x),uC(t.y)}function iR(t,e,n){return t==="position"||t==="preserve-aspect"&&!R6(nC(e),nC(n),.2)}function AU(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const RU=sR({attachResizeListener:(t,e)=>Hd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kv={current:void 0},oR=sR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!kv.current){const t=new RU({});t.mount(window),t.setOptions({layoutScroll:!0}),kv.current=t}return kv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),PU={pan:{Feature:G6},drag:{Feature:q6,ProjectionNode:oR,MeasureLayout:JA}};function dC(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=r[s];o&&kt.postRender(()=>o(e,yh(e)))}class kU extends Jo{mount(){const{current:e}=this.node;e&&(this.unmount=iF(e,(n,r)=>(dC(this.node,r,"Start"),s=>dC(this.node,s,"End"))))}unmount(){}}class jU extends Jo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ph(Hd(this.node.current,"focus",()=>this.onFocus()),Hd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hC(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=r[s];o&&kt.postRender(()=>o(e,yh(e)))}class DU extends Jo{mount(){const{current:e}=this.node;e&&(this.unmount=cF(e,(n,r)=>(hC(this.node,r,"Start"),(s,{success:o})=>hC(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const O0=new WeakMap,jv=new WeakMap,MU=t=>{const e=O0.get(t.target);e&&e(t)},OU=t=>{t.forEach(MU)};function LU({root:t,...e}){const n=t||document;jv.has(n)||jv.set(n,{});const r=jv.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(OU,{root:t,...e})),r[s]}function VU(t,e,n){const r=LU(e);return O0.set(t,n),r.observe(t),()=>{O0.delete(t),r.unobserve(t)}}const FU={some:0,all:1};class UU extends Jo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:FU[s]},u=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),v=f?m:y;v&&v(h)};return VU(this.node.current,a,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(BU(e,n))&&this.startObserver()}unmount(){}}function BU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const zU={inView:{Feature:UU},tap:{Feature:DU},focus:{Feature:jU},hover:{Feature:kU}},$U={layout:{ProjectionNode:oR,MeasureLayout:JA}},L0={current:null},aR={current:!1};function WU(){if(aR.current=!0,!!Kx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>L0.current=t.matches;t.addListener(e),e()}else L0.current=!1}const HU=new WeakMap;function qU(t,e,n){for(const r in e){const s=e[r],o=n[r];if(Ln(s))t.addValue(r,s);else if(Ln(o))t.addValue(r,Ac(s,{owner:t}));else if(o!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,Ac(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const fC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class GU{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:a},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=dw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=er.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,kt.render(this.render,!1,!0))};const{latestValues:h,renderState:f}=a;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=zm(n),this.isVariantNode=NA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in y){const E=y[v];h[v]!==void 0&&Ln(E)&&E.set(h[v],!1)}}mount(e){this.current=e,HU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),aR.current||WU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:L0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Oo(this.notifyUpdate),Oo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Kc.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&kt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Rc){const n=Rc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Bt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<fC.length;r++){const s=fC[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,a=e[o];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=qU(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ac(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(ON(r)||VN(r))?r=parseFloat(r):!hF(r)&&Lo.test(n)&&(r=xA(e,n)),this.setBaseTarget(e,Ln(r)?r.get():r)),Ln(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=Tw(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ln(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Zx),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class lR extends GU{constructor(){super(...arguments),this.KeyframeResolver=eF}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ln(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function cR(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}function KU(t){return window.getComputedStyle(t)}class YU extends lR{constructor(){super(...arguments),this.type="html",this.renderInstance=cR}readValueFromInstance(e,n){var r;if(Kc.has(n))return(r=this.projection)!=null&&r.isProjecting?T0(n):x3(e,n);{const s=KU(e),o=(nw(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return KA(e,n)}build(e,n,r){_w(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Sw(e,n,r)}}const uR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function QU(t,e,n,r){cR(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(uR.has(s)?s:ww(s),e.attrs[s])}class XU extends lR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Bt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Kc.has(n)){const r=vA(n);return r&&r.default||0}return n=uR.has(n)?n:ww(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return VA(e,n,r)}build(e,n,r){DA(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){QU(e,n,r,s)}mount(e){this.isSVGTag=OA(e.tagName),super.mount(e)}}const JU=(t,e)=>Ew(t)?new XU(e):new YU(e,{allowProjection:t!==w.Fragment}),ZU=QF({...b6,...zU,...PU,...$U},JU),M=_F(ZU),e8=()=>{};var pC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he=function(t,e){if(!t)throw Yc(e)},Yc=function(t){return new Error("Firebase Database ("+dR.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},t8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],a=t[n++],u=t[n++],h=((s&7)<<18|(o&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|a&63)}}return e.join("")},Iw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],a=s+1<t.length,u=a?t[s+1]:0,h=s+2<t.length,f=h?t[s+2]:0,m=o>>2,y=(o&3)<<4|u>>4;let v=(u&15)<<2|f>>6,E=f&63;h||(E=64,a||(v=64)),r.push(n[m],n[y],n[v],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):t8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],u=s<t.length?n[t.charAt(s)]:0;++s;const f=s<t.length?n[t.charAt(s)]:64;++s;const y=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||u==null||f==null||y==null)throw new n8;const v=o<<2|u>>4;if(r.push(v),f!==64){const E=u<<4&240|f>>2;if(r.push(E),y!==64){const I=f<<6&192|y;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class n8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fR=function(t){const e=hR(t);return Iw.encodeByteArray(e,!0)},Gp=function(t){return fR(t).replace(/\./g,"")},Kp=function(t){try{return Iw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(t){return pR(void 0,t)}function pR(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!s8(n)||(t[n]=pR(t[n],e[n]));return t}function s8(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8=()=>i8().__FIREBASE_DEFAULTS__,a8=()=>{if(typeof process>"u"||typeof pC>"u")return;const t=pC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},l8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Kp(t[1]);return e&&JSON.parse(e)},$m=()=>{try{return e8()||o8()||a8()||l8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mR=t=>{var e,n;return(n=(e=$m())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},gR=t=>{const e=mR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yR=()=>{var t;return(t=$m())==null?void 0:t.config},vR=t=>{var e;return(e=$m())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Aw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Gp(JSON.stringify(n)),Gp(JSON.stringify(a)),""].join(".")}const Id={};function c8(){const t={prod:[],emulator:[]};for(const e of Object.keys(Id))Id[e]?t.emulator.push(e):t.prod.push(e);return t}function u8(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let mC=!1;function Rw(t,e){if(typeof window>"u"||typeof document>"u"||!Zo(window.location.host)||Id[t]===e||Id[t]||mC)return;Id[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",o=c8().prod.length>0;function a(){const v=document.getElementById(r);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,E){v.setAttribute("width","24"),v.setAttribute("id",E),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{mC=!0,a()},v}function m(v,E){v.setAttribute("id",E),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=u8(r),E=n("text"),I=document.getElementById(E)||document.createElement("span"),S=n("learnmore"),T=document.getElementById(S)||document.createElement("a"),N=n("preprendIcon"),j=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const k=v.element;u(k),m(T,S);const $=f();h(j,N),k.append(j,I,T,$),document.body.appendChild(k)}o?(I.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Pw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fn())}function d8(){var e;const t=(e=$m())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function f8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function p8(){const t=Fn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m8(){return dR.NODE_ADMIN===!0}function g8(){return!d8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function y8(){try{return typeof indexedDB=="object"}catch{return!1}}function v8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8="FirebaseError";class Di extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=x8,Object.setPrototypeOf(this,Di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vh.prototype.create)}}class vh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],a=o?w8(o,r):"Error",u=`${this.serviceName}: ${a} (${s}).`;return new Di(s,u,r)}}function w8(t,e){return t.replace(_8,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const _8=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(t){return JSON.parse(t)}function bn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=function(t){let e={},n={},r={},s="";try{const o=t.split(".");e=qd(Kp(o[0])||""),n=qd(Kp(o[1])||""),s=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},b8=function(t){const e=_R(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},E8=function(t){const e=_R(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Pc(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function V0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yp(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Vo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],a=e[s];if(gC(o)&&gC(a)){if(!Vo(o,a))return!1}else if(o!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function gC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function md(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)r[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)r[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const v=r[y-3]^r[y-8]^r[y-14]^r[y-16];r[y]=(v<<1|v>>>31)&4294967295}let s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],u=this.chain_[3],h=this.chain_[4],f,m;for(let y=0;y<80;y++){y<40?y<20?(f=u^o&(a^u),m=1518500249):(f=o^a^u,m=1859775393):y<60?(f=o&a|u&(o|a),m=2400959708):(f=o^a^u,m=3395469782);const v=(s<<5|s>>>27)+f+h+m+r[y]&4294967295;h=u,u=a,a=(o<<30|o>>>2)&4294967295,o=s,s=v}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const o=this.buf_;let a=this.inbuf_;for(;s<n;){if(a===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(o[a]=e.charCodeAt(s),++a,++s,a===this.blockSize){this.compress_(o),a=0;break}}else for(;s<n;)if(o[a]=e[s],++a,++s,a===this.blockSize){this.compress_(o),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[s]>>o&255,++r;return e}}function S8(t,e){const n=new C8(t,e);return n.subscribe.bind(n)}class C8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");I8(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Dv),s.error===void 0&&(s.error=Dv),s.complete===void 0&&(s.complete=Dv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function I8(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dv(){}function N8(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const o=s-55296;r++,he(r<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(r)-56320;s=65536+(o<<10)+a}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Wm=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t){return t&&t._delegate?t._delegate:t}class Fo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Nw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(k8(e))try{this.getOrInitializeService({instanceIdentifier:ja})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ja){return this.instances.has(e)}getOptions(e=ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&a.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:P8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ja){return this.component?this.component.multipleInstances?e:ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function P8(t){return t===ja?void 0:t}function k8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new R8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const D8={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},M8=Ge.INFO,O8={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},L8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=O8[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hm{constructor(e){this.name=e,this._logLevel=M8,this._logHandler=L8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?D8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const V8=(t,e)=>e.some(n=>t instanceof n);let yC,vC;function F8(){return yC||(yC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U8(){return vC||(vC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bR=new WeakMap,F0=new WeakMap,ER=new WeakMap,Mv=new WeakMap,kw=new WeakMap;function B8(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Ro(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&bR.set(n,t)}).catch(()=>{}),kw.set(e,t),e}function z8(t){if(F0.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});F0.set(t,e)}let U0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return F0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ER.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ro(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $8(t){U0=t(U0)}function W8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ov(this),e,...n);return ER.set(r,e.sort?e.sort():[e]),Ro(r)}:U8().includes(t)?function(...e){return t.apply(Ov(this),e),Ro(bR.get(this))}:function(...e){return Ro(t.apply(Ov(this),e))}}function H8(t){return typeof t=="function"?W8(t):(t instanceof IDBTransaction&&z8(t),V8(t,F8())?new Proxy(t,U0):t)}function Ro(t){if(t instanceof IDBRequest)return B8(t);if(Mv.has(t))return Mv.get(t);const e=H8(t);return e!==t&&(Mv.set(t,e),kw.set(e,t)),e}const Ov=t=>kw.get(t);function q8(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const a=indexedDB.open(t,e),u=Ro(a);return r&&a.addEventListener("upgradeneeded",h=>{r(Ro(a.result),h.oldVersion,h.newVersion,Ro(a.transaction),h)}),n&&a.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),s&&h.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const G8=["get","getKey","getAll","getAllKeys","count"],K8=["put","add","delete","clear"],Lv=new Map;function xC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lv.get(e))return Lv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=K8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||G8.includes(n)))return;const o=async function(a,...u){const h=this.transaction(a,s?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),s&&h.done]))[0]};return Lv.set(e,o),o}$8(t=>({...t,get:(e,n,r)=>xC(e,n)||t.get(e,n,r),has:(e,n)=>!!xC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Q8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Q8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const B0="@firebase/app",wC="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new Hm("@firebase/app"),X8="@firebase/app-compat",J8="@firebase/analytics-compat",Z8="@firebase/analytics",e9="@firebase/app-check-compat",t9="@firebase/app-check",n9="@firebase/auth",r9="@firebase/auth-compat",s9="@firebase/database",i9="@firebase/data-connect",o9="@firebase/database-compat",a9="@firebase/functions",l9="@firebase/functions-compat",c9="@firebase/installations",u9="@firebase/installations-compat",d9="@firebase/messaging",h9="@firebase/messaging-compat",f9="@firebase/performance",p9="@firebase/performance-compat",m9="@firebase/remote-config",g9="@firebase/remote-config-compat",y9="@firebase/storage",v9="@firebase/storage-compat",x9="@firebase/firestore",w9="@firebase/ai",_9="@firebase/firestore-compat",b9="firebase",E9="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="[DEFAULT]",T9={[B0]:"fire-core",[X8]:"fire-core-compat",[Z8]:"fire-analytics",[J8]:"fire-analytics-compat",[t9]:"fire-app-check",[e9]:"fire-app-check-compat",[n9]:"fire-auth",[r9]:"fire-auth-compat",[s9]:"fire-rtdb",[i9]:"fire-data-connect",[o9]:"fire-rtdb-compat",[a9]:"fire-fn",[l9]:"fire-fn-compat",[c9]:"fire-iid",[u9]:"fire-iid-compat",[d9]:"fire-fcm",[h9]:"fire-fcm-compat",[f9]:"fire-perf",[p9]:"fire-perf-compat",[m9]:"fire-rc",[g9]:"fire-rc-compat",[y9]:"fire-gcs",[v9]:"fire-gcs-compat",[x9]:"fire-fst",[_9]:"fire-fst-compat",[w9]:"fire-vertex","fire-js":"fire-js",[b9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp=new Map,S9=new Map,$0=new Map;function _C(t,e){try{t.container.addComponent(e)}catch(n){Ci.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ga(t){const e=t.name;if($0.has(e))return Ci.debug(`There were multiple attempts to register component ${e}.`),!1;$0.set(e,t);for(const n of Qp.values())_C(n,t);for(const n of S9.values())_C(n,t);return!0}function qm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $n(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Po=new vh("app","Firebase",C9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Po.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=E9;function TR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:z0,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Po.create("bad-app-name",{appName:String(s)});if(n||(n=yR()),!n)throw Po.create("no-options");const o=Qp.get(s);if(o){if(Vo(n,o.options)&&Vo(r,o.config))return o;throw Po.create("duplicate-app",{appName:s})}const a=new j8(s);for(const h of $0.values())a.addComponent(h);const u=new I9(n,r,a);return Qp.set(s,u),u}function jw(t=z0){const e=Qp.get(t);if(!e&&t===z0&&yR())return TR();if(!e)throw Po.create("no-app",{appName:t});return e}function Ds(t,e,n){let r=T9[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ci.warn(a.join(" "));return}Ga(new Fo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9="firebase-heartbeat-database",A9=1,Gd="firebase-heartbeat-store";let Vv=null;function SR(){return Vv||(Vv=q8(N9,A9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Po.create("idb-open",{originalErrorMessage:t.message})})),Vv}async function R9(t){try{const n=(await SR()).transaction(Gd),r=await n.objectStore(Gd).get(CR(t));return await n.done,r}catch(e){if(e instanceof Di)Ci.warn(e.message);else{const n=Po.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ci.warn(n.message)}}}async function bC(t,e){try{const r=(await SR()).transaction(Gd,"readwrite");await r.objectStore(Gd).put(e,CR(t)),await r.done}catch(n){if(n instanceof Di)Ci.warn(n.message);else{const r=Po.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ci.warn(r.message)}}}function CR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9=1024,k9=30;class j9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new M9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=EC();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>k9){const a=O9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ci.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=EC(),{heartbeatsToSend:r,unsentEntries:s}=D9(this._heartbeatsCache.heartbeats),o=Gp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ci.warn(n),""}}}function EC(){return new Date().toISOString().substring(0,10)}function D9(t,e=P9){const n=[];let r=t.slice();for(const s of t){const o=n.find(a=>a.agent===s.agent);if(o){if(o.dates.push(s.date),TC(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),TC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class M9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return y8()?v8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await R9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return bC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return bC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function TC(t){return Gp(JSON.stringify({version:2,heartbeats:t})).length}function O9(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L9(t){Ga(new Fo("platform-logger",e=>new Y8(e),"PRIVATE")),Ga(new Fo("heartbeat",e=>new j9(e),"PRIVATE")),Ds(B0,wC,t),Ds(B0,wC,"esm2020"),Ds("fire-js","")}L9("");function IR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V9=IR,NR=new vh("auth","Firebase",IR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=new Hm("@firebase/auth");function F9(t,...e){Xp.logLevel<=Ge.WARN&&Xp.warn(`Auth (${cl}): ${t}`,...e)}function Sp(t,...e){Xp.logLevel<=Ge.ERROR&&Xp.error(`Auth (${cl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t,...e){throw Mw(t,...e)}function Jr(t,...e){return Mw(t,...e)}function Dw(t,e,n){const r={...V9(),[e]:n};return new vh("auth","Firebase",r).create(e,{appName:t.name})}function Ms(t){return Dw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function U9(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Dr(t,"argument-error"),Dw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return NR.create(t,...e)}function De(t,e,...n){if(!t)throw Mw(e,...n)}function yi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sp(e),new Error(e)}function Ii(t,e){t||yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function B9(){return SC()==="http:"||SC()==="https:"}function SC(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(B9()||f8()||"connection"in navigator)?navigator.onLine:!0}function $9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ii(n>e,"Short delay should be less than long delay!"),this.isMobile=Pw()||wR()}get(){return z9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(t,e){Ii(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],q9=new xh(3e4,6e4);function Oi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function os(t,e,n,r,s={}){return RR(t,s,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const u=Qc({key:t.config.apiKey,...a}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:h,...o};return h8()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Zo(t.emulatorConfig.host)&&(f.credentials="include"),AR.fetch()(await PR(t,t.config.apiHost,n,u),f)})}async function RR(t,e,n){t._canInitEmulator=!1;const r={...W9,...e};try{const s=new K9(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw ip(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const u=o.ok?a.errorMessage:a.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw ip(t,"credential-already-in-use",a);if(h==="EMAIL_EXISTS")throw ip(t,"email-already-in-use",a);if(h==="USER_DISABLED")throw ip(t,"user-disabled",a);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Dw(t,m,f);Dr(t,m)}}catch(s){if(s instanceof Di)throw s;Dr(t,"network-request-failed",{message:String(s)})}}async function wh(t,e,n,r,s={}){const o=await os(t,e,n,r,s);return"mfaPendingCredential"in o&&Dr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function PR(t,e,n,r){const s=`${e}${n}?${r}`,o=t,a=o.config.emulator?Ow(t.config,s):`${t.config.apiScheme}://${s}`;return H9.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}function G9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class K9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jr(this.auth,"network-request-failed")),q9.get())})}}function ip(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Jr(t,e,r);return s.customData._tokenResponse=n,s}function CC(t){return t!==void 0&&t.enterprise!==void 0}class Y9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return G9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Q9(t,e){return os(t,"GET","/v2/recaptchaConfig",Oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X9(t,e){return os(t,"POST","/v1/accounts:delete",e)}async function Jp(t,e){return os(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function J9(t,e=!1){const n=It(t),r=await n.getIdToken(e),s=Lw(r);De(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Nd(Fv(s.auth_time)),issuedAtTime:Nd(Fv(s.iat)),expirationTime:Nd(Fv(s.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Fv(t){return Number(t)*1e3}function Lw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Sp("JWT malformed, contained fewer than 3 sections"),null;try{const s=Kp(n);return s?JSON.parse(s):(Sp("Failed to decode base64 JWT payload"),null)}catch(s){return Sp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function IC(t){const e=Lw(t);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Di&&Z9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Z9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nd(this.lastLoginAt),this.creationTime=Nd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zp(t){var y;const e=t.auth,n=await t.getIdToken(),r=await Ka(t,Jp(e,{idToken:n}));De(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=(y=s.providerUserInfo)!=null&&y.length?kR(s.providerUserInfo):[],a=nB(t.providerData,o),u=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=u?h:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new H0(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function tB(t){const e=It(t);await Zp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nB(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function kR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rB(t,e){const n=await RR(t,{},async()=>{const r=Qc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,a=await PR(t,s,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return t.emulatorConfig&&Zo(t.emulatorConfig.host)&&(h.credentials="include"),AR.fetch()(a,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sB(t,e){return os(t,"POST","/v2/accounts:revokeToken",Oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):IC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){De(e.length!==0,"internal-error");const n=IC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await rB(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,a=new wc;return r&&(De(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(De(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),o&&(De(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wc,this.toJSON())}_performRefresh(){return yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(t,e){De(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Qr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new eB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new H0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ka(this,this.stsTokenManager.getToken(this.auth,e));return De(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return J9(this,e)}reload(){return tB(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Zp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(Ms(this.auth));const e=await this.getIdToken();return await Ka(this,X9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,o=n.phoneNumber??void 0,a=n.photoURL??void 0,u=n.tenantId??void 0,h=n._redirectEventId??void 0,f=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:y,emailVerified:v,isAnonymous:E,providerData:I,stsTokenManager:S}=n;De(y&&S,e,"internal-error");const T=wc.fromJSON(this.name,S);De(typeof y=="string",e,"internal-error"),xo(r,e.name),xo(s,e.name),De(typeof v=="boolean",e,"internal-error"),De(typeof E=="boolean",e,"internal-error"),xo(o,e.name),xo(a,e.name),xo(u,e.name),xo(h,e.name),xo(f,e.name),xo(m,e.name);const N=new Qr({uid:y,auth:e,email:s,emailVerified:v,displayName:r,isAnonymous:E,photoURL:a,phoneNumber:o,tenantId:u,stsTokenManager:T,createdAt:f,lastLoginAt:m});return I&&Array.isArray(I)&&(N.providerData=I.map(j=>({...j}))),h&&(N._redirectEventId=h),N}static async _fromIdTokenResponse(e,n,r=!1){const s=new wc;s.updateFromServerResponse(n);const o=new Qr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Zp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];De(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?kR(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),u=new wc;u.updateFromIdToken(r);const h=new Qr({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:a}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new H0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=new Map;function vi(t){Ii(t instanceof Function,"Expected a class definition");let e=NC.get(t);return e?(Ii(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,NC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jR.type="NONE";const AC=jR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(t,e,n){return`firebase:${t}:${e}:${n}`}class _c{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Cp(this.userKey,s.apiKey,o),this.fullPersistenceKey=Cp("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Jp(this.auth,{idToken:e}).catch(()=>{});return n?Qr._fromGetAccountInfoResponse(this.auth,n,e):null}return Qr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new _c(vi(AC),e,r);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=s[0]||vi(AC);const a=Cp(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const m=await f._get(a);if(m){let y;if(typeof m=="string"){const v=await Jp(e,{idToken:m}).catch(()=>{});if(!v)break;y=await Qr._fromGetAccountInfoResponse(e,v,m)}else y=Qr._fromJSON(e,m);f!==o&&(u=y),o=f;break}}catch{}const h=s.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new _c(o,e,r):(o=h[0],u&&await o._set(a,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(a)}catch{}})),new _c(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FR(e))return"Blackberry";if(UR(e))return"Webos";if(MR(e))return"Safari";if((e.includes("chrome/")||OR(e))&&!e.includes("edge/"))return"Chrome";if(VR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function DR(t=Fn()){return/firefox\//i.test(t)}function MR(t=Fn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OR(t=Fn()){return/crios\//i.test(t)}function LR(t=Fn()){return/iemobile/i.test(t)}function VR(t=Fn()){return/android/i.test(t)}function FR(t=Fn()){return/blackberry/i.test(t)}function UR(t=Fn()){return/webos/i.test(t)}function Vw(t=Fn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function iB(t=Fn()){var e;return Vw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function oB(){return p8()&&document.documentMode===10}function BR(t=Fn()){return Vw(t)||VR(t)||UR(t)||FR(t)||/windows phone/i.test(t)||LR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(t,e=[]){let n;switch(t){case"Browser":n=RC(Fn());break;case"Worker":n=`${RC(Fn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${cl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,u)=>{try{const h=e(o);a(h)}catch(h){u(h)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lB(t,e={}){return os(t,"GET","/v2/passwordPolicy",Oi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB=6;class uB{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??cB,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new PC(this),this.idTokenSubscription=new PC(this),this.beforeStateQueue=new aB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vi(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await _c.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Jp(this,{idToken:e}),r=await Qr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if($n(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(o=this.redirectUser)==null?void 0:o._redirectEventId,u=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===u)&&(h!=null&&h.user)&&(r=h.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($n(this.app))return Promise.reject(Ms(this));const n=e?It(e):null;return n&&De(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(Ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $n(this.app)?Promise.reject(Ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lB(this),n=new uB(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await sB(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vi(e)||this._popupRedirectResolver;De(n,this,"argument-error"),this.redirectPersistenceManager=await _c.create(this,[vi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(u,this,"internal-error"),u.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,s);return()=>{a=!0,h()}}else{const h=e.addObserver(n);return()=>{a=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&F9(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Li(t){return It(t)}class PC{constructor(e){this.auth=e,this.observer=null,this.addObserver=S8(n=>this.observer=n)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hB(t){Gm=t}function $R(t){return Gm.loadJS(t)}function fB(){return Gm.recaptchaEnterpriseScript}function pB(){return Gm.gapiScript}function mB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class gB{constructor(){this.enterprise=new yB}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class yB{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const vB="recaptcha-enterprise",WR="NO_RECAPTCHA";class xB{constructor(e){this.type=vB,this.auth=Li(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,u)=>{Q9(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new Y9(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,a(f.siteKey)}}).catch(h=>{u(h)})})}function s(o,a,u){const h=window.grecaptcha;CC(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{a(f)}).catch(()=>{a(WR)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new gB().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{r(this.auth).then(u=>{if(!n&&CC(window.grecaptcha))s(u,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let h=fB();h.length!==0&&(h+=u),$R(h).then(()=>{s(u,o,a)}).catch(f=>{a(f)})}}).catch(u=>{a(u)})})}}async function kC(t,e,n,r=!1,s=!1){const o=new xB(t);let a;if(s)a=WR;else try{a=await o.verify(n)}catch{a=await o.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:a}):Object.assign(u,{captchaResponse:a}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function em(t,e,n,r,s){var o;if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await kC(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await kC(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(t,e){const n=qm(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Vo(o,e??{}))return s;Dr(s,"already-initialized")}return n.initialize({options:e})}function _B(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function bB(t,e,n){const r=Li(t);De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=HR(e),{host:a,port:u}=EB(e),h=u===null?"":`:${u}`,f={url:`${o}//${a}${h}/`},m=Object.freeze({host:a,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){De(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),De(Vo(f,r.config.emulator)&&Vo(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Zo(a)?(Aw(`${o}//${a}${h}`),Rw("Auth",!0)):TB()}function HR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function EB(t){const e=HR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:jC(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:jC(a)}}}function jC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function TB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yi("not implemented")}_getIdTokenResponse(e){return yi("not implemented")}_linkToIdToken(e,n){return yi("not implemented")}_getReauthenticationResolver(e){return yi("not implemented")}}async function SB(t,e){return os(t,"POST","/v1/accounts:update",e)}async function CB(t,e){return os(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IB(t,e){return wh(t,"POST","/v1/accounts:signInWithPassword",Oi(t,e))}async function NB(t,e){return os(t,"POST","/v1/accounts:sendOobCode",Oi(t,e))}async function AB(t,e){return NB(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RB(t,e){return wh(t,"POST","/v1/accounts:signInWithEmailLink",Oi(t,e))}async function PB(t,e){return wh(t,"POST","/v1/accounts:signInWithEmailLink",Oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd extends Fw{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Kd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Kd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return em(e,n,"signInWithPassword",IB);case"emailLink":return RB(e,{email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return em(e,r,"signUpPassword",CB);case"emailLink":return PB(e,{idToken:n,email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bc(t,e){return wh(t,"POST","/v1/accounts:signInWithIdp",Oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB="http://localhost";class Ya extends Fw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=n;if(!r||!s)return null;const a=new Ya(r,s);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return bc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,bc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bc(e,n)}buildRequest(){const e={requestUri:kB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DB(t){const e=pd(md(t)).link,n=e?pd(md(e)).deep_link_id:null,r=pd(md(t)).deep_link_id;return(r?pd(md(r)).link:null)||r||n||e||t}class Uw{constructor(e){const n=pd(md(e)),r=n.apiKey??null,s=n.oobCode??null,o=jB(n.mode??null);De(r&&s&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=DB(e);try{return new Uw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.providerId=ul.PROVIDER_ID}static credential(e,n){return Kd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Uw.parseLink(n);return De(r,"argument-error"),Kd._fromEmailAndCode(e,r.code,r.tenantId)}}ul.PROVIDER_ID="password";ul.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ul.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends Bw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends _h{constructor(){super("facebook.com")}static credential(e){return Ya._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Eo.credential(e.oauthAccessToken)}catch{return null}}}Eo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Eo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends _h{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ya._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return gi.credential(n,r)}catch{return null}}}gi.GOOGLE_SIGN_IN_METHOD="google.com";gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends _h{constructor(){super("github.com")}static credential(e){return Ya._fromParams({providerId:To.PROVIDER_ID,signInMethod:To.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return To.credentialFromTaggedObject(e)}static credentialFromError(e){return To.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return To.credential(e.oauthAccessToken)}catch{return null}}}To.GITHUB_SIGN_IN_METHOD="github.com";To.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends _h{constructor(){super("twitter.com")}static credential(e,n){return Ya._fromParams({providerId:So.PROVIDER_ID,signInMethod:So.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return So.credentialFromTaggedObject(e)}static credentialFromError(e){return So.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return So.credential(n,r)}catch{return null}}}So.TWITTER_SIGN_IN_METHOD="twitter.com";So.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MB(t,e){return wh(t,"POST","/v1/accounts:signUp",Oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await Qr._fromIdTokenResponse(e,r,s),a=DC(r);return new Qa({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=DC(r);return new Qa({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function DC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm extends Di{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,tm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new tm(e,n,r,s)}}function qR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?tm._fromErrorAndOperation(t,o,e,r):o})}async function OB(t,e,n=!1){const r=await Ka(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(t,e,n=!1){const{auth:r}=t;if($n(r.app))return Promise.reject(Ms(r));const s="reauthenticate";try{const o=await Ka(t,qR(r,s,e,t),n);De(o.idToken,r,"internal-error");const a=Lw(o.idToken);De(a,r,"internal-error");const{sub:u}=a;return De(t.uid===u,r,"user-mismatch"),Qa._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Dr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR(t,e,n=!1){if($n(t.app))return Promise.reject(Ms(t));const r="signIn",s=await qR(t,r,e),o=await Qa._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function LB(t,e){return KR(Li(t),e)}async function VB(t,e){return GR(It(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(t){const e=Li(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function FB(t,e,n){const r=Li(t);await em(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",AB)}async function UB(t,e,n){if($n(t.app))return Promise.reject(Ms(t));const r=Li(t),a=await em(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",MB).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&YR(t),h}),u=await Qa._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(u.user),u}function BB(t,e,n){return $n(t.app)?Promise.reject(Ms(t)):LB(It(t),ul.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&YR(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zB(t,e){return os(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=It(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await Ka(r,zB(r.auth,o));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const u=r.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function $B(t,e){const n=It(t);return $n(n.auth.app)?Promise.reject(Ms(n.auth)):XR(n,e,null)}function WB(t,e){return XR(It(t),null,e)}async function XR(t,e,n){const{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);const a=await Ka(t,SB(r,o));await t._updateTokensIfNecessary(a,!0)}function HB(t,e,n,r){return It(t).onIdTokenChanged(e,n,r)}function qB(t,e,n){return It(t).beforeAuthStateChanged(e,n)}function GB(t){return It(t).signOut()}const nm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nm,"1"),this.storage.removeItem(nm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB=1e3,YB=10;class ZR extends JR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,u,h)=>{this.notifyListeners(a,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);oB()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,YB):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},KB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZR.type="LOCAL";const QB=ZR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP extends JR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eP.type="SESSION";const tP=eP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Km(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(a).map(async f=>f(n.origin,o)),h=await XB(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Km.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,h)=>{const f=zw("",20);s.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(y){const v=y;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(v.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(){return window}function ZB(t){Os().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(){return typeof Os().WorkerGlobalScope<"u"&&typeof Os().importScripts=="function"}async function ez(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function nz(){return nP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="firebaseLocalStorageDb",rz=1,rm="firebaseLocalStorage",sP="fbase_key";class bh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ym(t,e){return t.transaction([rm],e?"readwrite":"readonly").objectStore(rm)}function sz(){const t=indexedDB.deleteDatabase(rP);return new bh(t).toPromise()}function q0(){const t=indexedDB.open(rP,rz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(rm,{keyPath:sP})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(rm)?e(r):(r.close(),await sz(),e(await q0()))})})}async function MC(t,e,n){const r=Ym(t,!0).put({[sP]:e,value:n});return new bh(r).toPromise()}async function iz(t,e){const n=Ym(t,!1).get(e),r=await new bh(n).toPromise();return r===void 0?null:r.value}function OC(t,e){const n=Ym(t,!0).delete(e);return new bh(n).toPromise()}const oz=800,az=3;class iP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await q0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>az)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Km._getInstance(nz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await ez(),!this.activeServiceWorker)return;this.sender=new JB(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await q0();return await MC(e,nm,"1"),await OC(e,nm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>MC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>iz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>OC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Ym(s,!1).getAll();return new bh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iP.type="LOCAL";const lz=iP;new xh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(t,e){return e?vi(e):(De(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w extends Fw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cz(t){return KR(t.auth,new $w(t),t.bypassAuthState)}function uz(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),GR(n,new $w(t),t.bypassAuthState)}async function dz(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),OB(n,new $w(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:a,type:u}=e;if(a){this.reject(a);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cz;case"linkViaPopup":case"linkViaRedirect":return dz;case"reauthViaPopup":case"reauthViaRedirect":return uz;default:Dr(this.auth,"internal-error")}}resolve(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz=new xh(2e3,1e4);async function fz(t,e,n){if($n(t.app))return Promise.reject(Jr(t,"operation-not-supported-in-this-environment"));const r=Li(t);U9(t,e,Bw);const s=oP(r,n);return new La(r,"signInViaPopup",e,s).executeNotNull()}class La extends aP{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,La.currentPopupAction&&La.currentPopupAction.cancel(),La.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){Ii(this.filter.length===1,"Popup operations only handle one event");const e=zw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,La.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hz.get())};e()}}La.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pz="pendingRedirect",Ip=new Map;class mz extends aP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ip.get(this.auth._key());if(!e){try{const r=await gz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ip.set(this.auth._key(),e)}return this.bypassAuthState||Ip.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gz(t,e){const n=xz(e),r=vz(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function yz(t,e){Ip.set(t._key(),e)}function vz(t){return vi(t._redirectPersistence)}function xz(t){return Cp(pz,t.config.apiKey,t.name)}async function wz(t,e,n=!1){if($n(t.app))return Promise.reject(Ms(t));const r=Li(t),s=oP(r,e),a=await new mz(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _z=10*60*1e3;class bz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ez(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lP(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Jr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_z&&this.cachedEventUids.clear(),this.cachedEventUids.has(LC(e))}saveEventToCache(e){this.cachedEventUids.add(LC(e)),this.lastProcessedEventTime=Date.now()}}function LC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Ez(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tz(t,e={}){return os(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cz=/^https?/;async function Iz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Tz(t);for(const n of e)try{if(Nz(n))return}catch{}Dr(t,"unauthorized-domain")}function Nz(t){const e=W0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Cz.test(n))return!1;if(Sz.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Az=new xh(3e4,6e4);function VC(){const t=Os().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Rz(t){return new Promise((e,n)=>{var s,o,a;function r(){VC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VC(),n(Jr(t,"network-request-failed"))},timeout:Az.get()})}if((o=(s=Os().gapi)==null?void 0:s.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((a=Os().gapi)!=null&&a.load)r();else{const u=mB("iframefcb");return Os()[u]=()=>{gapi.load?r():n(Jr(t,"network-request-failed"))},$R(`${pB()}?onload=${u}`).catch(h=>n(h))}}).catch(e=>{throw Np=null,e})}let Np=null;function Pz(t){return Np=Np||Rz(t),Np}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kz=new xh(5e3,15e3),jz="__/auth/iframe",Dz="emulator/auth/iframe",Mz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Oz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Lz(t){const e=t.config;De(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ow(e,Dz):`https://${t.config.authDomain}/${jz}`,r={apiKey:e.apiKey,appName:t.name,v:cl},s=Oz.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Qc(r).slice(1)}`}async function Vz(t){const e=await Pz(t),n=Os().gapi;return De(n,t,"internal-error"),e.open({where:document.body,url:Lz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mz,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const a=Jr(t,"network-request-failed"),u=Os().setTimeout(()=>{o(a)},kz.get());function h(){Os().clearTimeout(u),s(r)}r.ping(h).then(h,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Uz=500,Bz=600,zz="_blank",$z="http://localhost";class FC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Wz(t,e,n,r=Uz,s=Bz){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h={...Fz,width:r.toString(),height:s.toString(),top:o,left:a},f=Fn().toLowerCase();n&&(u=OR(f)?zz:n),DR(f)&&(e=e||$z,h.scrollbars="yes");const m=Object.entries(h).reduce((v,[E,I])=>`${v}${E}=${I},`,"");if(iB(f)&&u!=="_self")return Hz(e||"",u),new FC(null);const y=window.open(e||"",u,m);De(y,t,"popup-blocked");try{y.focus()}catch{}return new FC(y)}function Hz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qz="__/auth/handler",Gz="emulator/auth/handler",Kz=encodeURIComponent("fac");async function UC(t,e,n,r,s,o){De(t.config.authDomain,t,"auth-domain-config-required"),De(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:cl,eventId:s};if(e instanceof Bw){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",V0(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))a[m]=y}if(e instanceof _h){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(a.scopes=m.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await t._getAppCheckToken(),f=h?`#${Kz}=${encodeURIComponent(h)}`:"";return`${Yz(t)}?${Qc(u).slice(1)}${f}`}function Yz({config:t}){return t.emulator?Ow(t,Gz):`https://${t.authDomain}/${qz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="webStorageSupport";class Qz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tP,this._completeRedirectFn=wz,this._overrideRedirectResult=yz}async _openPopup(e,n,r,s){var a;Ii((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await UC(e,n,r,W0(),s);return Wz(e,o,zw())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await UC(e,n,r,W0(),s);return ZB(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Ii(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Vz(e),r=new bz(e);return n.register("authEvent",s=>(De(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Uv,{type:Uv},s=>{var a;const o=(a=s==null?void 0:s[0])==null?void 0:a[Uv];o!==void 0&&n(!!o),Dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Iz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return BR()||MR()||Vw()}}const Xz=Qz;var BC="@firebase/auth",zC="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function e$(t){Ga(new Fo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=r.options;De(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zR(t)},f=new dB(r,s,o,h);return _B(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ga(new Fo("auth-internal",e=>{const n=Li(e.getProvider("auth").getImmediate());return(r=>new Jz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ds(BC,zC,Zz(t)),Ds(BC,zC,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$=5*60,n$=vR("authIdTokenMaxAge")||t$;let $C=null;const r$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>n$)return;const s=n==null?void 0:n.token;$C!==s&&($C=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function s$(t=jw()){const e=qm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=wB(t,{popupRedirectResolver:Xz,persistence:[lz,QB,tP]}),r=vR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=r$(o.toString());qB(n,a,()=>a(n.currentUser)),HB(n,u=>a(u))}}const s=mR("auth");return s&&bB(n,`http://${s}`),n}function i$(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}hB({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=Jr("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",i$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});e$("Browser");var WC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ko,cP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,R){function D(){}D.prototype=R.prototype,P.F=R.prototype,P.prototype=new D,P.prototype.constructor=P,P.D=function(V,F,z){for(var L=Array(arguments.length-2),me=2;me<arguments.length;me++)L[me-2]=arguments[me];return R.prototype[F].apply(V,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,R,D){D||(D=0);const V=Array(16);if(typeof R=="string")for(var F=0;F<16;++F)V[F]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(F=0;F<16;++F)V[F]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=P.g[0],D=P.g[1],F=P.g[2];let z=P.g[3],L;L=R+(z^D&(F^z))+V[0]+3614090360&4294967295,R=D+(L<<7&4294967295|L>>>25),L=z+(F^R&(D^F))+V[1]+3905402710&4294967295,z=R+(L<<12&4294967295|L>>>20),L=F+(D^z&(R^D))+V[2]+606105819&4294967295,F=z+(L<<17&4294967295|L>>>15),L=D+(R^F&(z^R))+V[3]+3250441966&4294967295,D=F+(L<<22&4294967295|L>>>10),L=R+(z^D&(F^z))+V[4]+4118548399&4294967295,R=D+(L<<7&4294967295|L>>>25),L=z+(F^R&(D^F))+V[5]+1200080426&4294967295,z=R+(L<<12&4294967295|L>>>20),L=F+(D^z&(R^D))+V[6]+2821735955&4294967295,F=z+(L<<17&4294967295|L>>>15),L=D+(R^F&(z^R))+V[7]+4249261313&4294967295,D=F+(L<<22&4294967295|L>>>10),L=R+(z^D&(F^z))+V[8]+1770035416&4294967295,R=D+(L<<7&4294967295|L>>>25),L=z+(F^R&(D^F))+V[9]+2336552879&4294967295,z=R+(L<<12&4294967295|L>>>20),L=F+(D^z&(R^D))+V[10]+4294925233&4294967295,F=z+(L<<17&4294967295|L>>>15),L=D+(R^F&(z^R))+V[11]+2304563134&4294967295,D=F+(L<<22&4294967295|L>>>10),L=R+(z^D&(F^z))+V[12]+1804603682&4294967295,R=D+(L<<7&4294967295|L>>>25),L=z+(F^R&(D^F))+V[13]+4254626195&4294967295,z=R+(L<<12&4294967295|L>>>20),L=F+(D^z&(R^D))+V[14]+2792965006&4294967295,F=z+(L<<17&4294967295|L>>>15),L=D+(R^F&(z^R))+V[15]+1236535329&4294967295,D=F+(L<<22&4294967295|L>>>10),L=R+(F^z&(D^F))+V[1]+4129170786&4294967295,R=D+(L<<5&4294967295|L>>>27),L=z+(D^F&(R^D))+V[6]+3225465664&4294967295,z=R+(L<<9&4294967295|L>>>23),L=F+(R^D&(z^R))+V[11]+643717713&4294967295,F=z+(L<<14&4294967295|L>>>18),L=D+(z^R&(F^z))+V[0]+3921069994&4294967295,D=F+(L<<20&4294967295|L>>>12),L=R+(F^z&(D^F))+V[5]+3593408605&4294967295,R=D+(L<<5&4294967295|L>>>27),L=z+(D^F&(R^D))+V[10]+38016083&4294967295,z=R+(L<<9&4294967295|L>>>23),L=F+(R^D&(z^R))+V[15]+3634488961&4294967295,F=z+(L<<14&4294967295|L>>>18),L=D+(z^R&(F^z))+V[4]+3889429448&4294967295,D=F+(L<<20&4294967295|L>>>12),L=R+(F^z&(D^F))+V[9]+568446438&4294967295,R=D+(L<<5&4294967295|L>>>27),L=z+(D^F&(R^D))+V[14]+3275163606&4294967295,z=R+(L<<9&4294967295|L>>>23),L=F+(R^D&(z^R))+V[3]+4107603335&4294967295,F=z+(L<<14&4294967295|L>>>18),L=D+(z^R&(F^z))+V[8]+1163531501&4294967295,D=F+(L<<20&4294967295|L>>>12),L=R+(F^z&(D^F))+V[13]+2850285829&4294967295,R=D+(L<<5&4294967295|L>>>27),L=z+(D^F&(R^D))+V[2]+4243563512&4294967295,z=R+(L<<9&4294967295|L>>>23),L=F+(R^D&(z^R))+V[7]+1735328473&4294967295,F=z+(L<<14&4294967295|L>>>18),L=D+(z^R&(F^z))+V[12]+2368359562&4294967295,D=F+(L<<20&4294967295|L>>>12),L=R+(D^F^z)+V[5]+4294588738&4294967295,R=D+(L<<4&4294967295|L>>>28),L=z+(R^D^F)+V[8]+2272392833&4294967295,z=R+(L<<11&4294967295|L>>>21),L=F+(z^R^D)+V[11]+1839030562&4294967295,F=z+(L<<16&4294967295|L>>>16),L=D+(F^z^R)+V[14]+4259657740&4294967295,D=F+(L<<23&4294967295|L>>>9),L=R+(D^F^z)+V[1]+2763975236&4294967295,R=D+(L<<4&4294967295|L>>>28),L=z+(R^D^F)+V[4]+1272893353&4294967295,z=R+(L<<11&4294967295|L>>>21),L=F+(z^R^D)+V[7]+4139469664&4294967295,F=z+(L<<16&4294967295|L>>>16),L=D+(F^z^R)+V[10]+3200236656&4294967295,D=F+(L<<23&4294967295|L>>>9),L=R+(D^F^z)+V[13]+681279174&4294967295,R=D+(L<<4&4294967295|L>>>28),L=z+(R^D^F)+V[0]+3936430074&4294967295,z=R+(L<<11&4294967295|L>>>21),L=F+(z^R^D)+V[3]+3572445317&4294967295,F=z+(L<<16&4294967295|L>>>16),L=D+(F^z^R)+V[6]+76029189&4294967295,D=F+(L<<23&4294967295|L>>>9),L=R+(D^F^z)+V[9]+3654602809&4294967295,R=D+(L<<4&4294967295|L>>>28),L=z+(R^D^F)+V[12]+3873151461&4294967295,z=R+(L<<11&4294967295|L>>>21),L=F+(z^R^D)+V[15]+530742520&4294967295,F=z+(L<<16&4294967295|L>>>16),L=D+(F^z^R)+V[2]+3299628645&4294967295,D=F+(L<<23&4294967295|L>>>9),L=R+(F^(D|~z))+V[0]+4096336452&4294967295,R=D+(L<<6&4294967295|L>>>26),L=z+(D^(R|~F))+V[7]+1126891415&4294967295,z=R+(L<<10&4294967295|L>>>22),L=F+(R^(z|~D))+V[14]+2878612391&4294967295,F=z+(L<<15&4294967295|L>>>17),L=D+(z^(F|~R))+V[5]+4237533241&4294967295,D=F+(L<<21&4294967295|L>>>11),L=R+(F^(D|~z))+V[12]+1700485571&4294967295,R=D+(L<<6&4294967295|L>>>26),L=z+(D^(R|~F))+V[3]+2399980690&4294967295,z=R+(L<<10&4294967295|L>>>22),L=F+(R^(z|~D))+V[10]+4293915773&4294967295,F=z+(L<<15&4294967295|L>>>17),L=D+(z^(F|~R))+V[1]+2240044497&4294967295,D=F+(L<<21&4294967295|L>>>11),L=R+(F^(D|~z))+V[8]+1873313359&4294967295,R=D+(L<<6&4294967295|L>>>26),L=z+(D^(R|~F))+V[15]+4264355552&4294967295,z=R+(L<<10&4294967295|L>>>22),L=F+(R^(z|~D))+V[6]+2734768916&4294967295,F=z+(L<<15&4294967295|L>>>17),L=D+(z^(F|~R))+V[13]+1309151649&4294967295,D=F+(L<<21&4294967295|L>>>11),L=R+(F^(D|~z))+V[4]+4149444226&4294967295,R=D+(L<<6&4294967295|L>>>26),L=z+(D^(R|~F))+V[11]+3174756917&4294967295,z=R+(L<<10&4294967295|L>>>22),L=F+(R^(z|~D))+V[2]+718787259&4294967295,F=z+(L<<15&4294967295|L>>>17),L=D+(z^(F|~R))+V[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(F+(L<<21&4294967295|L>>>11))&4294967295,P.g[2]=P.g[2]+F&4294967295,P.g[3]=P.g[3]+z&4294967295}r.prototype.v=function(P,R){R===void 0&&(R=P.length);const D=R-this.blockSize,V=this.C;let F=this.h,z=0;for(;z<R;){if(F==0)for(;z<=D;)s(this,P,z),z+=this.blockSize;if(typeof P=="string"){for(;z<R;)if(V[F++]=P.charCodeAt(z++),F==this.blockSize){s(this,V),F=0;break}}else for(;z<R;)if(V[F++]=P[z++],F==this.blockSize){s(this,V),F=0;break}}this.h=F,this.o+=R},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;R=this.o*8;for(var D=P.length-8;D<P.length;++D)P[D]=R&255,R/=256;for(this.v(P),P=Array(16),R=0,D=0;D<4;++D)for(let V=0;V<32;V+=8)P[R++]=this.g[D]>>>V&255;return P};function o(P,R){var D=u;return Object.prototype.hasOwnProperty.call(D,P)?D[P]:D[P]=R(P)}function a(P,R){this.h=R;const D=[];let V=!0;for(let F=P.length-1;F>=0;F--){const z=P[F]|0;V&&z==R||(D[F]=z,V=!1)}this.g=D}var u={};function h(P){return-128<=P&&P<128?o(P,function(R){return new a([R|0],R<0?-1:0)}):new a([P|0],P<0?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return y;if(P<0)return T(f(-P));const R=[];let D=1;for(let V=0;P>=D;V++)R[V]=P/D|0,D*=4294967296;return new a(R,0)}function m(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return T(m(P.substring(1),R));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=f(Math.pow(R,8));let V=y;for(let z=0;z<P.length;z+=8){var F=Math.min(8,P.length-z);const L=parseInt(P.substring(z,z+F),R);F<8?(F=f(Math.pow(R,F)),V=V.j(F).add(f(L))):(V=V.j(D),V=V.add(f(L)))}return V}var y=h(0),v=h(1),E=h(16777216);t=a.prototype,t.m=function(){if(S(this))return-T(this).m();let P=0,R=1;for(let D=0;D<this.g.length;D++){const V=this.i(D);P+=(V>=0?V:4294967296+V)*R,R*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(I(this))return"0";if(S(this))return"-"+T(this).toString(P);const R=f(Math.pow(P,6));var D=this;let V="";for(;;){const F=$(D,R).g;D=N(D,F.j(R));let z=((D.g.length>0?D.g[0]:D.h)>>>0).toString(P);if(D=F,I(D))return z+V;for(;z.length<6;)z="0"+z;V=z+V}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function I(P){if(P.h!=0)return!1;for(let R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function S(P){return P.h==-1}t.l=function(P){return P=N(this,P),S(P)?-1:I(P)?0:1};function T(P){const R=P.g.length,D=[];for(let V=0;V<R;V++)D[V]=~P.g[V];return new a(D,~P.h).add(v)}t.abs=function(){return S(this)?T(this):this},t.add=function(P){const R=Math.max(this.g.length,P.g.length),D=[];let V=0;for(let F=0;F<=R;F++){let z=V+(this.i(F)&65535)+(P.i(F)&65535),L=(z>>>16)+(this.i(F)>>>16)+(P.i(F)>>>16);V=L>>>16,z&=65535,L&=65535,D[F]=L<<16|z}return new a(D,D[D.length-1]&-2147483648?-1:0)};function N(P,R){return P.add(T(R))}t.j=function(P){if(I(this)||I(P))return y;if(S(this))return S(P)?T(this).j(T(P)):T(T(this).j(P));if(S(P))return T(this.j(T(P)));if(this.l(E)<0&&P.l(E)<0)return f(this.m()*P.m());const R=this.g.length+P.g.length,D=[];for(var V=0;V<2*R;V++)D[V]=0;for(V=0;V<this.g.length;V++)for(let F=0;F<P.g.length;F++){const z=this.i(V)>>>16,L=this.i(V)&65535,me=P.i(F)>>>16,Ie=P.i(F)&65535;D[2*V+2*F]+=L*Ie,j(D,2*V+2*F),D[2*V+2*F+1]+=z*Ie,j(D,2*V+2*F+1),D[2*V+2*F+1]+=L*me,j(D,2*V+2*F+1),D[2*V+2*F+2]+=z*me,j(D,2*V+2*F+2)}for(P=0;P<R;P++)D[P]=D[2*P+1]<<16|D[2*P];for(P=R;P<2*R;P++)D[P]=0;return new a(D,0)};function j(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function k(P,R){this.g=P,this.h=R}function $(P,R){if(I(R))throw Error("division by zero");if(I(P))return new k(y,y);if(S(P))return R=$(T(P),R),new k(T(R.g),T(R.h));if(S(R))return R=$(P,T(R)),new k(T(R.g),R.h);if(P.g.length>30){if(S(P)||S(R))throw Error("slowDivide_ only works with positive integers.");for(var D=v,V=R;V.l(P)<=0;)D=B(D),V=B(V);var F=W(D,1),z=W(V,1);for(V=W(V,2),D=W(D,2);!I(V);){var L=z.add(V);L.l(P)<=0&&(F=F.add(D),z=L),V=W(V,1),D=W(D,1)}return R=N(P,F.j(R)),new k(F,R)}for(F=y;P.l(R)>=0;){for(D=Math.max(1,Math.floor(P.m()/R.m())),V=Math.ceil(Math.log(D)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),z=f(D),L=z.j(R);S(L)||L.l(P)>0;)D-=V,z=f(D),L=z.j(R);I(z)&&(z=v),F=F.add(z),P=N(P,L)}return new k(F,P)}t.B=function(P){return $(this,P).h},t.and=function(P){const R=Math.max(this.g.length,P.g.length),D=[];for(let V=0;V<R;V++)D[V]=this.i(V)&P.i(V);return new a(D,this.h&P.h)},t.or=function(P){const R=Math.max(this.g.length,P.g.length),D=[];for(let V=0;V<R;V++)D[V]=this.i(V)|P.i(V);return new a(D,this.h|P.h)},t.xor=function(P){const R=Math.max(this.g.length,P.g.length),D=[];for(let V=0;V<R;V++)D[V]=this.i(V)^P.i(V);return new a(D,this.h^P.h)};function B(P){const R=P.g.length+1,D=[];for(let V=0;V<R;V++)D[V]=P.i(V)<<1|P.i(V-1)>>>31;return new a(D,P.h)}function W(P,R){const D=R>>5;R%=32;const V=P.g.length-D,F=[];for(let z=0;z<V;z++)F[z]=R>0?P.i(z+D)>>>R|P.i(z+D+1)<<32-R:P.i(z+D);return new a(F,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,cP=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=m,ko=a}).apply(typeof WC<"u"?WC:typeof self<"u"?self:typeof window<"u"?window:{});var op=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uP,gd,dP,Ap,G0,hP,fP,pP;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof op=="object"&&op];for(var b=0;b<p.length;++b){var C=p[b];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function s(p,b){if(b)e:{var C=r;p=p.split(".");for(var O=0;O<p.length-1;O++){var Q=p[O];if(!(Q in C))break e;C=C[Q]}p=p[p.length-1],O=C[p],b=b(O),b!=O&&b!=null&&e(C,p,{configurable:!0,writable:!0,value:b})}}s("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(p){return p||function(b){var C=[],O;for(O in b)Object.prototype.hasOwnProperty.call(b,O)&&C.push([O,b[O]]);return C}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(p){var b=typeof p;return b=="object"&&p!=null||b=="function"}function h(p,b,C){return p.call.apply(p.bind,arguments)}function f(p,b,C){return f=h,f.apply(null,arguments)}function m(p,b){var C=Array.prototype.slice.call(arguments,1);return function(){var O=C.slice();return O.push.apply(O,arguments),p.apply(this,O)}}function y(p,b){function C(){}C.prototype=b.prototype,p.Z=b.prototype,p.prototype=new C,p.prototype.constructor=p,p.Ob=function(O,Q,ee){for(var ue=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ue[Be-2]=arguments[Be];return b.prototype[Q].apply(O,ue)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function E(p){const b=p.length;if(b>0){const C=Array(b);for(let O=0;O<b;O++)C[O]=p[O];return C}return[]}function I(p,b){for(let O=1;O<arguments.length;O++){const Q=arguments[O];var C=typeof Q;if(C=C!="object"?C:Q?Array.isArray(Q)?"array":C:"null",C=="array"||C=="object"&&typeof Q.length=="number"){C=p.length||0;const ee=Q.length||0;p.length=C+ee;for(let ue=0;ue<ee;ue++)p[C+ue]=Q[ue]}else p.push(Q)}}class S{constructor(b,C){this.i=b,this.j=C,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function T(p){a.setTimeout(()=>{throw p},0)}function N(){var p=P;let b=null;return p.g&&(b=p.g,p.g=p.g.next,p.g||(p.h=null),b.next=null),b}class j{constructor(){this.h=this.g=null}add(b,C){const O=k.get();O.set(b,C),this.h?this.h.next=O:this.g=O,this.h=O}}var k=new S(()=>new $,p=>p.reset());class ${constructor(){this.next=this.g=this.h=null}set(b,C){this.h=b,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let B,W=!1,P=new j,R=()=>{const p=Promise.resolve(void 0);B=()=>{p.then(D)}};function D(){for(var p;p=N();){try{p.h.call(p.g)}catch(C){T(C)}var b=k;b.j(p),b.h<100&&(b.h++,p.next=b.g,b.g=p)}W=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(p,b){this.type=p,this.g=this.target=b,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var z=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var p=!1,b=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const C=()=>{};a.addEventListener("test",C,b),a.removeEventListener("test",C,b)}catch{}return p}();function L(p){return/^[\s\xa0]*$/.test(p)}function me(p,b){F.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,b)}y(me,F),me.prototype.init=function(p,b){const C=this.type=p.type,O=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=b,b=p.relatedTarget,b||(C=="mouseover"?b=p.fromElement:C=="mouseout"&&(b=p.toElement)),this.relatedTarget=b,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&me.Z.h.call(this)},me.prototype.h=function(){me.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),ye=0;function ae(p,b,C,O,Q){this.listener=p,this.proxy=null,this.src=b,this.type=C,this.capture=!!O,this.ha=Q,this.key=++ye,this.da=this.fa=!1}function J(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function K(p,b,C){for(const O in p)b.call(C,p[O],O,p)}function ne(p,b){for(const C in p)b.call(void 0,p[C],C,p)}function H(p){const b={};for(const C in p)b[C]=p[C];return b}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _e(p,b){let C,O;for(let Q=1;Q<arguments.length;Q++){O=arguments[Q];for(C in O)p[C]=O[C];for(let ee=0;ee<te.length;ee++)C=te[ee],Object.prototype.hasOwnProperty.call(O,C)&&(p[C]=O[C])}}function Te(p){this.src=p,this.g={},this.h=0}Te.prototype.add=function(p,b,C,O,Q){const ee=p.toString();p=this.g[ee],p||(p=this.g[ee]=[],this.h++);const ue=je(p,b,O,Q);return ue>-1?(b=p[ue],C||(b.fa=!1)):(b=new ae(b,this.src,ee,!!O,Q),b.fa=C,p.push(b)),b};function Ve(p,b){const C=b.type;if(C in p.g){var O=p.g[C],Q=Array.prototype.indexOf.call(O,b,void 0),ee;(ee=Q>=0)&&Array.prototype.splice.call(O,Q,1),ee&&(J(b),p.g[C].length==0&&(delete p.g[C],p.h--))}}function je(p,b,C,O){for(let Q=0;Q<p.length;++Q){const ee=p[Q];if(!ee.da&&ee.listener==b&&ee.capture==!!C&&ee.ha==O)return Q}return-1}var de="closure_lm_"+(Math.random()*1e6|0),be={};function Ae(p,b,C,O,Q){if(Array.isArray(b)){for(let ee=0;ee<b.length;ee++)Ae(p,b[ee],C,O,Q);return null}return C=sa(C),p&&p[Ie]?p.J(b,C,u(O)?!!O.capture:!1,Q):Fe(p,b,C,!1,O,Q)}function Fe(p,b,C,O,Q,ee){if(!b)throw Error("Invalid event type");const ue=u(Q)?!!Q.capture:!!Q;let Be=vr(p);if(Be||(p[de]=Be=new Te(p)),C=Be.add(b,C,O,ue,ee),C.proxy)return C;if(O=Qe(),C.proxy=O,O.src=p,O.listener=C,p.addEventListener)z||(Q=ue),Q===void 0&&(Q=!1),p.addEventListener(b.toString(),O,Q);else if(p.attachEvent)p.attachEvent(gn(b.toString()),O);else if(p.addListener&&p.removeListener)p.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Qe(){function p(C){return b.call(p.src,p.listener,C)}const b=cs;return p}function Ze(p,b,C,O,Q){if(Array.isArray(b))for(var ee=0;ee<b.length;ee++)Ze(p,b[ee],C,O,Q);else O=u(O)?!!O.capture:!!O,C=sa(C),p&&p[Ie]?(p=p.i,ee=String(b).toString(),ee in p.g&&(b=p.g[ee],C=je(b,C,O,Q),C>-1&&(J(b[C]),Array.prototype.splice.call(b,C,1),b.length==0&&(delete p.g[ee],p.h--)))):p&&(p=vr(p))&&(b=p.g[b.toString()],p=-1,b&&(p=je(b,C,O,Q)),(C=p>-1?b[p]:null)&&jt(C))}function jt(p){if(typeof p!="number"&&p&&!p.da){var b=p.src;if(b&&b[Ie])Ve(b.i,p);else{var C=p.type,O=p.proxy;b.removeEventListener?b.removeEventListener(C,O,p.capture):b.detachEvent?b.detachEvent(gn(C),O):b.addListener&&b.removeListener&&b.removeListener(O),(C=vr(b))?(Ve(C,p),C.h==0&&(C.src=null,b[de]=null)):J(p)}}}function gn(p){return p in be?be[p]:be[p]="on"+p}function cs(p,b){if(p.da)p=!0;else{b=new me(b,this);const C=p.listener,O=p.ha||p.src;p.fa&&jt(p),p=C.call(O,b)}return p}function vr(p){return p=p[de],p instanceof Te?p:null}var nr="__closure_events_fn_"+(Math.random()*1e9>>>0);function sa(p){return typeof p=="function"?p:(p[nr]||(p[nr]=function(b){return p.handleEvent(b)}),p[nr])}function gt(){V.call(this),this.i=new Te(this),this.M=this,this.G=null}y(gt,V),gt.prototype[Ie]=!0,gt.prototype.removeEventListener=function(p,b,C,O){Ze(this,p,b,C,O)};function Vt(p,b){var C,O=p.G;if(O)for(C=[];O;O=O.G)C.push(O);if(p=p.M,O=b.type||b,typeof b=="string")b=new F(b,p);else if(b instanceof F)b.target=b.target||p;else{var Q=b;b=new F(O,p),_e(b,Q)}Q=!0;let ee,ue;if(C)for(ue=C.length-1;ue>=0;ue--)ee=b.g=C[ue],Q=Lr(ee,O,!0,b)&&Q;if(ee=b.g=p,Q=Lr(ee,O,!0,b)&&Q,Q=Lr(ee,O,!1,b)&&Q,C)for(ue=0;ue<C.length;ue++)ee=b.g=C[ue],Q=Lr(ee,O,!1,b)&&Q}gt.prototype.N=function(){if(gt.Z.N.call(this),this.i){var p=this.i;for(const b in p.g){const C=p.g[b];for(let O=0;O<C.length;O++)J(C[O]);delete p.g[b],p.h--}}this.G=null},gt.prototype.J=function(p,b,C,O){return this.i.add(String(p),b,!1,C,O)},gt.prototype.K=function(p,b,C,O){return this.i.add(String(p),b,!0,C,O)};function Lr(p,b,C,O){if(b=p.i.g[String(b)],!b)return!0;b=b.concat();let Q=!0;for(let ee=0;ee<b.length;++ee){const ue=b[ee];if(ue&&!ue.da&&ue.capture==C){const Be=ue.listener,Ft=ue.ha||ue.src;ue.fa&&Ve(p.i,ue),Q=Be.call(Ft,O)!==!1&&Q}}return Q&&!O.defaultPrevented}function du(p,b){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=f(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:a.setTimeout(p,b||0)}function hu(p){p.g=du(()=>{p.g=null,p.i&&(p.i=!1,hu(p))},p.l);const b=p.h;p.h=null,p.m.apply(null,b)}class Fh extends V{constructor(b,C){super(),this.m=b,this.l=C,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:hu(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bi(p){V.call(this),this.h=p,this.g={}}y(Bi,V);var fu=[];function yl(p){K(p.g,function(b,C){this.g.hasOwnProperty(C)&&jt(b)},p),p.g={}}Bi.prototype.N=function(){Bi.Z.N.call(this),yl(this)},Bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zi=a.JSON.stringify,Uh=a.JSON.parse,ia=class{stringify(p){return a.JSON.stringify(p,void 0)}parse(p){return a.JSON.parse(p,void 0)}};function $i(){}function Bh(){}var Wi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function vl(){F.call(this,"d")}y(vl,F);function pu(){F.call(this,"c")}y(pu,F);var Vr={},xl=null;function Hi(){return xl=xl||new gt}Vr.Ia="serverreachability";function wl(p){F.call(this,Vr.Ia,p)}y(wl,F);function Ks(p){const b=Hi();Vt(b,new wl(b))}Vr.STAT_EVENT="statevent";function Ys(p,b){F.call(this,Vr.STAT_EVENT,p),this.stat=b}y(Ys,F);function Dt(p){const b=Hi();Vt(b,new Ys(b,p))}Vr.Ja="timingevent";function mu(p,b){F.call(this,Vr.Ja,p),this.size=b}y(mu,F);function qi(p,b){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){p()},b)}function Gi(){this.g=!0}Gi.prototype.ua=function(){this.g=!1};function zh(p,b,C,O,Q,ee){p.info(function(){if(p.g)if(ee){var ue="",Be=ee.split("&");for(let ut=0;ut<Be.length;ut++){var Ft=Be[ut].split("=");if(Ft.length>1){const qt=Ft[0];Ft=Ft[1];const lr=qt.split("_");ue=lr.length>=2&&lr[1]=="type"?ue+(qt+"="+Ft+"&"):ue+(qt+"=redacted&")}}}else ue=null;else ue=ee;return"XMLHTTP REQ ("+O+") [attempt "+Q+"]: "+b+`
`+C+`
`+ue})}function $h(p,b,C,O,Q,ee,ue){p.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+Q+"]: "+b+`
`+C+`
`+ee+" "+ue})}function us(p,b,C,O){p.info(function(){return"XMLHTTP TEXT ("+b+"): "+oa(p,C)+(O?" "+O:"")})}function Wh(p,b){p.info(function(){return"TIMEOUT: "+b})}Gi.prototype.info=function(){};function oa(p,b){if(!p.g)return b;if(!b)return null;try{const ee=JSON.parse(b);if(ee){for(p=0;p<ee.length;p++)if(Array.isArray(ee[p])){var C=ee[p];if(!(C.length<2)){var O=C[1];if(Array.isArray(O)&&!(O.length<1)){var Q=O[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ue=1;ue<O.length;ue++)O[ue]=""}}}}return zi(ee)}catch{return b}}var Ki={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Yi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Hh;function Qs(){}y(Qs,$i),Qs.prototype.g=function(){return new XMLHttpRequest},Hh=new Qs;function ds(p){return encodeURIComponent(String(p))}function _l(p){var b=1;p=p.split(":");const C=[];for(;b>0&&p.length;)C.push(p.shift()),b--;return p.length&&C.push(p.join(":")),C}function xr(p,b,C,O){this.j=p,this.i=b,this.l=C,this.S=O||1,this.V=new Bi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qh}function qh(){this.i=null,this.g="",this.h=!1}var Gh={},gu={};function Fr(p,b,C){p.M=1,p.A=Js(wr(b)),p.u=C,p.R=!0,yu(p,null)}function yu(p,b){p.F=Date.now(),aa(p),p.B=wr(p.A);var C=p.B,O=p.S;Array.isArray(O)||(O=[String(O)]),Iu(C.i,"t",O),p.C=0,C=p.j.L,p.h=new qh,p.g=rf(p.j,C?b:null,!p.u),p.P>0&&(p.O=new Fh(f(p.Y,p,p.g),p.P)),b=p.V,C=p.g,O=p.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(fu[0]=Q.toString()),Q=fu);for(let ee=0;ee<Q.length;ee++){const ue=Ae(C,Q[ee],O||b.handleEvent,!1,b.h||b);if(!ue)break;b.g[ue.key]=ue}b=p.J?H(p.J):{},p.u?(p.v||(p.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,b)):(p.v="GET",p.g.ea(p.B,p.v,null,b)),Ks(),zh(p.i,p.v,p.B,p.l,p.S,p.u)}xr.prototype.ba=function(p){p=p.target;const b=this.O;b&&vs(p)==3?b.j():this.Y(p)},xr.prototype.Y=function(p){try{if(p==this.g)e:{const Be=vs(this.g),Ft=this.g.ya(),ut=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||tf(this.g)))){this.K||Be!=4||Ft==7||(Ft==8||ut<=0?Ks(3):Ks(2)),bl(this);var b=this.g.ca();this.X=b;var C=Kh(this);if(this.o=b==200,$h(this.i,this.v,this.B,this.l,this.S,Be,b),this.o){if(this.U&&!this.L){t:{if(this.g){var O,Q=this.g;if((O=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(O)){var ee=O;break t}}ee=null}if(p=ee)us(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yt(this,p);else{this.o=!1,this.m=3,Dt(12),Xs(this),la(this);break e}}if(this.R){p=!0;let qt;for(;!this.K&&this.C<C.length;)if(qt=Qh(this,C),qt==gu){Be==4&&(this.m=4,Dt(14),p=!1),us(this.i,this.l,null,"[Incomplete Response]");break}else if(qt==Gh){this.m=4,Dt(15),us(this.i,this.l,C,"[Invalid Chunk]"),p=!1;break}else us(this.i,this.l,qt,null),yt(this,qt);if(Yh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||C.length!=0||this.h.h||(this.m=1,Dt(16),p=!1),this.o=this.o&&p,!p)us(this.i,this.l,C,"[Invalid Chunked Response]"),Xs(this),la(this);else if(C.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),ya(ue),ue.P=!0,Dt(11))}}else us(this.i,this.l,C,null),yt(this,C);Be==4&&Xs(this),this.o&&!this.K&&(Be==4?kl(this.j,this):(this.o=!1,aa(this)))}else Au(this.g),b==400&&C.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),Xs(this),la(this)}}}catch{}finally{}};function Kh(p){if(!Yh(p))return p.g.la();const b=tf(p.g);if(b==="")return"";let C="";const O=b.length,Q=vs(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return Xs(p),la(p),"";p.h.i=new a.TextDecoder}for(let ee=0;ee<O;ee++)p.h.h=!0,C+=p.h.i.decode(b[ee],{stream:!(Q&&ee==O-1)});return b.length=0,p.h.g+=C,p.C=0,p.h.g}function Yh(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function Qh(p,b){var C=p.C,O=b.indexOf(`
`,C);return O==-1?gu:(C=Number(b.substring(C,O)),isNaN(C)?Gh:(O+=1,O+C>b.length?gu:(b=b.slice(O,O+C),p.C=O+C,b)))}xr.prototype.cancel=function(){this.K=!0,Xs(this)};function aa(p){p.T=Date.now()+p.H,vu(p,p.H)}function vu(p,b){if(p.D!=null)throw Error("WatchDog timer not null");p.D=qi(f(p.aa,p),b)}function bl(p){p.D&&(a.clearTimeout(p.D),p.D=null)}xr.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(Wh(this.i,this.B),this.M!=2&&(Ks(),Dt(17)),Xs(this),this.m=2,la(this)):vu(this,this.T-p)};function la(p){p.j.I==0||p.K||kl(p.j,p)}function Xs(p){bl(p);var b=p.O;b&&typeof b.dispose=="function"&&b.dispose(),p.O=null,yl(p.V),p.g&&(b=p.g,p.g=null,b.abort(),b.dispose())}function yt(p,b){try{var C=p.j;if(C.I!=0&&(C.g==p||wu(C.h,p))){if(!p.L&&wu(C.h,p)&&C.I==3){try{var O=C.Ba.g.parse(b)}catch{O=null}if(Array.isArray(O)&&O.length==3){var Q=O;if(Q[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<p.F)Pl(C),or(C);else break e;_s(C),Dt(18)}}else C.xa=Q[1],0<C.xa-C.K&&Q[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=qi(f(C.Va,C),6e3));ca(C.h)<=1&&C.ta&&(C.ta=void 0)}else ar(C,11)}else if((p.L||C.g==p)&&Pl(C),!L(b))for(Q=C.Ba.g.parse(b),b=0;b<Q.length;b++){let ut=Q[b];const qt=ut[0];if(!(qt<=C.K))if(C.K=qt,ut=ut[1],C.I==2)if(ut[0]=="c"){C.M=ut[1],C.ba=ut[2];const lr=ut[3];lr!=null&&(C.ka=lr,C.j.info("VER="+C.ka));const ri=ut[4];ri!=null&&(C.za=ri,C.j.info("SVER="+C.za));const bs=ut[5];bs!=null&&typeof bs=="number"&&bs>0&&(O=1.5*bs,C.O=O,C.j.info("backChannelRequestTimeoutMs_="+O)),O=C;const Es=p.g;if(Es){const Ml=Es.g?Es.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ml){var ee=O.h;ee.g||Ml.indexOf("spdy")==-1&&Ml.indexOf("quic")==-1&&Ml.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Tl(ee,ee.h),ee.h=null))}if(O.G){const ku=Es.g?Es.g.getResponseHeader("X-HTTP-Session-Id"):null;ku&&(O.wa=ku,ot(O.J,O.G,ku))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-p.F,C.j.info("Handshake RTT: "+C.T+"ms")),O=C;var ue=p;if(O.na=Pu(O,O.L?O.ba:null,O.W),ue.L){ua(O.h,ue);var Be=ue,Ft=O.O;Ft&&(Be.H=Ft),Be.D&&(bl(Be),aa(Be)),O.g=ue}else Sn(O);C.i.length>0&&ni(C)}else ut[0]!="stop"&&ut[0]!="close"||ar(C,7);else C.I==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?ar(C,7):Al(C):ut[0]!="noop"&&C.l&&C.l.qa(ut),C.A=0)}}Ks(4)}catch{}}var qg=class{constructor(p,b){this.g=p,this.map=b}};function El(p){this.l=p||10,a.PerformanceNavigationTiming?(p=a.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xu(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function ca(p){return p.h?1:p.g?p.g.size:0}function wu(p,b){return p.h?p.h==b:p.g?p.g.has(b):!1}function Tl(p,b){p.g?p.g.add(b):p.h=b}function ua(p,b){p.h&&p.h==b?p.h=null:p.g&&p.g.has(b)&&p.g.delete(b)}El.prototype.cancel=function(){if(this.i=rr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function rr(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let b=p.i;for(const C of p.g.values())b=b.concat(C.G);return b}return E(p.i)}var Xh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sr(p,b){if(p){p=p.split("&");for(let C=0;C<p.length;C++){const O=p[C].indexOf("=");let Q,ee=null;O>=0?(Q=p[C].substring(0,O),ee=p[C].substring(O+1)):Q=p[C],b(Q,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function hs(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;p instanceof hs?(this.l=p.l,da(this,p.j),this.o=p.o,this.g=p.g,fs(this,p.u),this.h=p.h,Qi(this,Nu(p.i)),this.m=p.m):p&&(b=String(p).match(Xh))?(this.l=!1,da(this,b[1]||"",!0),this.o=ha(b[2]||""),this.g=ha(b[3]||"",!0),fs(this,b[4]),this.h=ha(b[5]||"",!0),Qi(this,b[6]||"",!0),this.m=ha(b[7]||"")):(this.l=!1,this.i=new Xe(null,this.l))}hs.prototype.toString=function(){const p=[];var b=this.j;b&&p.push(fa(b,bu,!0),":");var C=this.g;return(C||b=="file")&&(p.push("//"),(b=this.o)&&p.push(fa(b,bu,!0),"@"),p.push(ds(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&p.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&p.push("/"),p.push(fa(C,C.charAt(0)=="/"?pa:Eu,!0))),(C=this.i.toString())&&p.push("?",C),(C=this.m)&&p.push("#",fa(C,Tu)),p.join("")},hs.prototype.resolve=function(p){const b=wr(this);let C=!!p.j;C?da(b,p.j):C=!!p.o,C?b.o=p.o:C=!!p.g,C?b.g=p.g:C=p.u!=null;var O=p.h;if(C)fs(b,p.u);else if(C=!!p.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var Q=b.h.lastIndexOf("/");Q!=-1&&(O=b.h.slice(0,Q+1)+O)}if(Q=O,Q==".."||Q==".")O="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){O=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const ee=[];for(let ue=0;ue<Q.length;){const Be=Q[ue++];Be=="."?O&&ue==Q.length&&ee.push(""):Be==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),O&&ue==Q.length&&ee.push("")):(ee.push(Be),O=!0)}O=ee.join("/")}else O=Q}return C?b.h=O:C=p.i.toString()!=="",C?Qi(b,Nu(p.i)):C=!!p.m,C&&(b.m=p.m),b};function wr(p){return new hs(p)}function da(p,b,C){p.j=C?ha(b,!0):b,p.j&&(p.j=p.j.replace(/:$/,""))}function fs(p,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);p.u=b}else p.u=null}function Qi(p,b,C){b instanceof Xe?(p.i=b,Cl(p.i,p.l)):(C||(b=fa(b,Gg)),p.i=new Xe(b,p.l))}function ot(p,b,C){p.i.set(b,C)}function Js(p){return ot(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function ha(p,b){return p?b?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function fa(p,b,C){return typeof p=="string"?(p=encodeURI(p).replace(b,_u),C&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function _u(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var bu=/[#\/\?@]/g,Eu=/[#\?:]/g,pa=/[#\?]/g,Gg=/[#\?@]/g,Tu=/#/g;function Xe(p,b){this.h=this.g=null,this.i=p||null,this.j=!!b}function ps(p){p.g||(p.g=new Map,p.h=0,p.i&&sr(p.i,function(b,C){p.add(decodeURIComponent(b.replace(/\+/g," ")),C)}))}t=Xe.prototype,t.add=function(p,b){ps(this),this.i=null,p=ms(this,p);let C=this.g.get(p);return C||this.g.set(p,C=[]),C.push(b),this.h+=1,this};function Su(p,b){ps(p),b=ms(p,b),p.g.has(b)&&(p.i=null,p.h-=p.g.get(b).length,p.g.delete(b))}function Sl(p,b){return ps(p),b=ms(p,b),p.g.has(b)}t.forEach=function(p,b){ps(this),this.g.forEach(function(C,O){C.forEach(function(Q){p.call(b,Q,O,this)},this)},this)};function Cu(p,b){ps(p);let C=[];if(typeof b=="string")Sl(p,b)&&(C=C.concat(p.g.get(ms(p,b))));else for(p=Array.from(p.g.values()),b=0;b<p.length;b++)C=C.concat(p[b]);return C}t.set=function(p,b){return ps(this),this.i=null,p=ms(this,p),Sl(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[b]),this.h+=1,this},t.get=function(p,b){return p?(p=Cu(this,p),p.length>0?String(p[0]):b):b};function Iu(p,b,C){Su(p,b),C.length>0&&(p.i=null,p.g.set(ms(p,b),E(C)),p.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],b=Array.from(this.g.keys());for(let O=0;O<b.length;O++){var C=b[O];const Q=ds(C);C=Cu(this,C);for(let ee=0;ee<C.length;ee++){let ue=Q;C[ee]!==""&&(ue+="="+ds(C[ee])),p.push(ue)}}return this.i=p.join("&")};function Nu(p){const b=new Xe;return b.i=p.i,p.g&&(b.g=new Map(p.g),b.h=p.h),b}function ms(p,b){return b=String(b),p.j&&(b=b.toLowerCase()),b}function Cl(p,b){b&&!p.j&&(ps(p),p.i=null,p.g.forEach(function(C,O){const Q=O.toLowerCase();O!=Q&&(Su(this,O),Iu(this,Q,C))},p)),p.j=b}function gs(p,b){const C=new Gi;if(a.Image){const O=new Image;O.onload=m(yn,C,"TestLoadImage: loaded",!0,b,O),O.onerror=m(yn,C,"TestLoadImage: error",!1,b,O),O.onabort=m(yn,C,"TestLoadImage: abort",!1,b,O),O.ontimeout=m(yn,C,"TestLoadImage: timeout",!1,b,O),a.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=p}else b(!1)}function ys(p,b){const C=new Gi,O=new AbortController,Q=setTimeout(()=>{O.abort(),yn(C,"TestPingServer: timeout",!1,b)},1e4);fetch(p,{signal:O.signal}).then(ee=>{clearTimeout(Q),ee.ok?yn(C,"TestPingServer: ok",!0,b):yn(C,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Q),yn(C,"TestPingServer: error",!1,b)})}function yn(p,b,C,O,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),O(C)}catch{}}function ma(){this.g=new ia}function Zs(p){this.i=p.Sb||null,this.h=p.ab||!1}y(Zs,$i),Zs.prototype.g=function(){return new ir(this.i,this.h)};function ir(p,b){gt.call(this),this.H=p,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(ir,gt),t=ir.prototype,t.open=function(p,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=b,this.readyState=1,Ur(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(b.body=p),(this.H||a).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xi(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Ur(this)),this.g&&(this.readyState=3,Ur(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Jh(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function Jh(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var b=p.value?p.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!p.done}))&&(this.response=this.responseText+=b)}p.done?Xi(this):Ur(this),this.readyState==3&&Jh(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,Xi(this))},t.Na=function(p){this.g&&(this.response=p,Xi(this))},t.ga=function(){this.g&&Xi(this)};function Xi(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Ur(p)}t.setRequestHeader=function(p,b){this.A.append(p,b)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],b=this.h.entries();for(var C=b.next();!C.done;)C=C.value,p.push(C[0]+": "+C[1]),C=b.next();return p.join(`\r
`)};function Ur(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(ir.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Zh(p){let b="";return K(p,function(C,O){b+=O,b+=":",b+=C,b+=`\r
`}),b}function Il(p,b,C){e:{for(O in C){var O=!1;break e}O=!0}O||(C=Zh(C),typeof p=="string"?C!=null&&ds(C):ot(p,b,C))}function ft(p){gt.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(ft,gt);var ef=/^https?$/i,Kg=["POST","PUT"];t=ft.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,b,C,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);b=b?b.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Hh.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(b,String(p),!0),this.B=!1}catch(ee){Ji(this,ee);return}if(p=C||"",C=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var Q in O)C.set(Q,O[Q]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const ee of O.keys())C.set(ee,O.get(ee));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(C.keys()).find(ee=>ee.toLowerCase()=="content-type"),Q=a.FormData&&p instanceof a.FormData,!(Array.prototype.indexOf.call(Kg,b,void 0)>=0)||O||Q||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,ue]of C)this.g.setRequestHeader(ee,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(ee){Ji(this,ee)}};function Ji(p,b){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=b,p.o=5,Zi(p),ti(p)}function Zi(p){p.A||(p.A=!0,Vt(p,"complete"),Vt(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,Vt(this,"complete"),Vt(this,"abort"),ti(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ti(this,!0)),ft.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ei(this):this.Xa())},t.Xa=function(){ei(this)};function ei(p){if(p.h&&typeof o<"u"){if(p.v&&vs(p)==4)setTimeout(p.Ca.bind(p),0);else if(Vt(p,"readystatechange"),vs(p)==4){p.h=!1;try{const ee=p.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var C;if(!(C=b)){var O;if(O=ee===0){let ue=String(p.D).match(Xh)[1]||null;!ue&&a.self&&a.self.location&&(ue=a.self.location.protocol.slice(0,-1)),O=!ef.test(ue?ue.toLowerCase():"")}C=O}if(C)Vt(p,"complete"),Vt(p,"success");else{p.o=6;try{var Q=vs(p)>2?p.g.statusText:""}catch{Q=""}p.l=Q+" ["+p.ca()+"]",Zi(p)}}finally{ti(p)}}}}function ti(p,b){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const C=p.g;p.g=null,b||Vt(p,"ready");try{C.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function vs(p){return p.g?p.g.readyState:0}t.ca=function(){try{return vs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var b=this.g.responseText;return p&&b.indexOf(p)==0&&(b=b.substring(p.length)),Uh(b)}};function tf(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Au(p){const b={};p=(p.g&&vs(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<p.length;O++){if(L(p[O]))continue;var C=_l(p[O]);const Q=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const ee=b[Q]||[];b[Q]=ee,ee.push(C)}ne(b,function(O){return O.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xs(p,b,C){return C&&C.internalChannelParams&&C.internalChannelParams[p]||b}function Nl(p){this.za=0,this.i=[],this.j=new Gi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xs("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xs("baseRetryDelayMs",5e3,p),this.Za=xs("retryDelaySeedMs",1e4,p),this.Ta=xs("forwardChannelMaxRetries",2,p),this.va=xs("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new El(p&&p.concurrentRequestLimit),this.Ba=new ma,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Nl.prototype,t.ka=8,t.I=1,t.connect=function(p,b,C,O){Dt(0),this.W=p,this.H=b||{},C&&O!==void 0&&(this.H.OSID=C,this.H.OAID=O),this.F=this.X,this.J=Pu(this,null,this.W),ni(this)};function Al(p){if(Rl(p),p.I==3){var b=p.V++,C=wr(p.J);if(ot(C,"SID",p.M),ot(C,"RID",b),ot(C,"TYPE","terminate"),ws(p,C),b=new xr(p,p.j,b),b.M=2,b.A=Js(wr(C)),C=!1,a.navigator&&a.navigator.sendBeacon)try{C=a.navigator.sendBeacon(b.A.toString(),"")}catch{}!C&&a.Image&&(new Image().src=b.A,C=!0),C||(b.g=rf(b.j,null),b.g.ea(b.A)),b.F=Date.now(),aa(b)}va(p)}function or(p){p.g&&(ya(p),p.g.cancel(),p.g=null)}function Rl(p){or(p),p.v&&(a.clearTimeout(p.v),p.v=null),Pl(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&a.clearTimeout(p.m),p.m=null)}function ni(p){if(!xu(p.h)&&!p.m){p.m=!0;var b=p.Ea;B||R(),W||(B(),W=!0),P.add(b,p),p.D=0}}function nf(p,b){return ca(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=b.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=qi(f(p.Ea,p,b),jl(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const Q=new xr(this,this.j,p);let ee=this.o;if(this.U&&(ee?(ee=H(ee),_e(ee,this.U)):ee=this.U),this.u!==null||this.R||(Q.J=ee,ee=null),this.S)e:{for(var b=0,C=0;C<this.i.length;C++){t:{var O=this.i[C];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(b+=O,b>4096){b=C;break e}if(b===4096||C===this.i.length-1){b=C+1;break e}}b=1e3}else b=1e3;b=Ru(this,Q,b),C=wr(this.J),ot(C,"RID",p),ot(C,"CVER",22),this.G&&ot(C,"X-HTTP-Session-Id",this.G),ws(this,C),ee&&(this.R?b="headers="+ds(Zh(ee))+"&"+b:this.u&&Il(C,this.u,ee)),Tl(this.h,Q),this.Ra&&ot(C,"TYPE","init"),this.S?(ot(C,"$req",b),ot(C,"SID","null"),Q.U=!0,Fr(Q,C,null)):Fr(Q,C,b),this.I=2}}else this.I==3&&(p?ga(this,p):this.i.length==0||xu(this.h)||ga(this))};function ga(p,b){var C;b?C=b.l:C=p.V++;const O=wr(p.J);ot(O,"SID",p.M),ot(O,"RID",C),ot(O,"AID",p.K),ws(p,O),p.u&&p.o&&Il(O,p.u,p.o),C=new xr(p,p.j,C,p.D+1),p.u===null&&(C.J=p.o),b&&(p.i=b.G.concat(p.i)),b=Ru(p,C,1e3),C.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),Tl(p.h,C),Fr(C,O,b)}function ws(p,b){p.H&&K(p.H,function(C,O){ot(b,O,C)}),p.l&&K({},function(C,O){ot(b,O,C)})}function Ru(p,b,C){C=Math.min(p.i.length,C);const O=p.l?f(p.l.Ka,p.l,p):null;e:{var Q=p.i;let Be=-1;for(;;){const Ft=["count="+C];Be==-1?C>0?(Be=Q[0].g,Ft.push("ofs="+Be)):Be=0:Ft.push("ofs="+Be);let ut=!0;for(let qt=0;qt<C;qt++){var ee=Q[qt].g;const lr=Q[qt].map;if(ee-=Be,ee<0)Be=Math.max(0,Q[qt].g-100),ut=!1;else try{ee="req"+ee+"_"||"";try{var ue=lr instanceof Map?lr:Object.entries(lr);for(const[ri,bs]of ue){let Es=bs;u(bs)&&(Es=zi(bs)),Ft.push(ee+ri+"="+encodeURIComponent(Es))}}catch(ri){throw Ft.push(ee+"type="+encodeURIComponent("_badmap")),ri}}catch{O&&O(lr)}}if(ut){ue=Ft.join("&");break e}}ue=void 0}return p=p.i.splice(0,C),b.G=p,ue}function Sn(p){if(!p.g&&!p.v){p.Y=1;var b=p.Da;B||R(),W||(B(),W=!0),P.add(b,p),p.A=0}}function _s(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=qi(f(p.Da,p),jl(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,eo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=qi(f(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),or(this),eo(this))};function ya(p){p.B!=null&&(a.clearTimeout(p.B),p.B=null)}function eo(p){p.g=new xr(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var b=wr(p.na);ot(b,"RID","rpc"),ot(b,"SID",p.M),ot(b,"AID",p.K),ot(b,"CI",p.F?"0":"1"),!p.F&&p.ia&&ot(b,"TO",p.ia),ot(b,"TYPE","xmlhttp"),ws(p,b),p.u&&p.o&&Il(b,p.u,p.o),p.O&&(p.g.H=p.O);var C=p.g;p=p.ba,C.M=1,C.A=Js(wr(b)),C.u=null,C.R=!0,yu(C,p)}t.Va=function(){this.C!=null&&(this.C=null,or(this),_s(this),Dt(19))};function Pl(p){p.C!=null&&(a.clearTimeout(p.C),p.C=null)}function kl(p,b){var C=null;if(p.g==b){Pl(p),ya(p),p.g=null;var O=2}else if(wu(p.h,b))C=b.G,ua(p.h,b),O=1;else return;if(p.I!=0){if(b.o)if(O==1){C=b.u?b.u.length:0,b=Date.now()-b.F;var Q=p.D;O=Hi(),Vt(O,new mu(O,C)),ni(p)}else Sn(p);else if(Q=b.m,Q==3||Q==0&&b.X>0||!(O==1&&nf(p,b)||O==2&&_s(p)))switch(C&&C.length>0&&(b=p.h,b.i=b.i.concat(C)),Q){case 1:ar(p,5);break;case 4:ar(p,10);break;case 3:ar(p,6);break;default:ar(p,2)}}}function jl(p,b){let C=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(C*=2),C*b}function ar(p,b){if(p.j.info("Error code "+b),b==2){var C=f(p.bb,p),O=p.Ua;const Q=!O;O=new hs(O||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||da(O,"https"),Js(O),Q?gs(O.toString(),C):ys(O.toString(),C)}else Dt(2);p.I=0,p.l&&p.l.pa(b),va(p),Rl(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function va(p){if(p.I=0,p.ja=[],p.l){const b=rr(p.h);(b.length!=0||p.i.length!=0)&&(I(p.ja,b),I(p.ja,p.i),p.h.i.length=0,E(p.i),p.i.length=0),p.l.oa()}}function Pu(p,b,C){var O=C instanceof hs?wr(C):new hs(C);if(O.g!="")b&&(O.g=b+"."+O.g),fs(O,O.u);else{var Q=a.location;O=Q.protocol,b=b?b+"."+Q.hostname:Q.hostname,Q=+Q.port;const ee=new hs(null);O&&da(ee,O),b&&(ee.g=b),Q&&fs(ee,Q),C&&(ee.h=C),O=ee}return C=p.G,b=p.wa,C&&b&&ot(O,C,b),ot(O,"VER",p.ka),ws(p,O),O}function rf(p,b,C){if(b&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=p.Aa&&!p.ma?new ft(new Zs({ab:C})):new ft(p.ma),b.Fa(p.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sf(){}t=sf.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Dl(){}Dl.prototype.g=function(p,b){return new vn(p,b)};function vn(p,b){gt.call(this),this.g=new Nl(b),this.l=p,this.h=b&&b.messageUrlParams||null,p=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(p?p["X-WebChannel-Content-Type"]=b.messageContentType:p={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(p?p["X-WebChannel-Client-Profile"]=b.sa:p={"X-WebChannel-Client-Profile":b.sa}),this.g.U=p,(p=b&&b.Qb)&&!L(p)&&(this.g.u=p),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!L(b)&&(this.g.G=b,p=this.h,p!==null&&b in p&&(p=this.h,b in p&&delete p[b])),this.j=new to(this)}y(vn,gt),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Al(this.g)},vn.prototype.o=function(p){var b=this.g;if(typeof p=="string"){var C={};C.__data__=p,p=C}else this.v&&(C={},C.__data__=zi(p),p=C);b.i.push(new qg(b.Ya++,p)),b.I==3&&ni(b)},vn.prototype.N=function(){this.g.l=null,delete this.j,Al(this.g),delete this.g,vn.Z.N.call(this)};function of(p){vl.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var b=p.__sm__;if(b){e:{for(const C in b){p=C;break e}p=void 0}(this.i=p)&&(p=this.i,b=b!==null&&p in b?b[p]:void 0),this.data=b}else this.data=p}y(of,vl);function af(){pu.call(this),this.status=1}y(af,pu);function to(p){this.g=p}y(to,sf),to.prototype.ra=function(){Vt(this.g,"a")},to.prototype.qa=function(p){Vt(this.g,new of(p))},to.prototype.pa=function(p){Vt(this.g,new af)},to.prototype.oa=function(){Vt(this.g,"b")},Dl.prototype.createWebChannel=Dl.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,pP=function(){return new Dl},fP=function(){return Hi()},hP=Vr,G0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ki.NO_ERROR=0,Ki.TIMEOUT=8,Ki.HTTP_ERROR=6,Ap=Ki,Yi.COMPLETE="complete",dP=Yi,Bh.EventType=Wi,Wi.OPEN="a",Wi.CLOSE="b",Wi.ERROR="c",Wi.MESSAGE="d",gt.prototype.listen=gt.prototype.J,gd=Bh,ft.prototype.listenOnce=ft.prototype.K,ft.prototype.getLastError=ft.prototype.Ha,ft.prototype.getLastErrorCode=ft.prototype.ya,ft.prototype.getStatus=ft.prototype.ca,ft.prototype.getResponseJson=ft.prototype.La,ft.prototype.getResponseText=ft.prototype.la,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Fa,uP=ft}).apply(typeof op<"u"?op:typeof self<"u"?self:typeof window<"u"?window:{});const HC="@firebase/firestore",qC="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kn.UNAUTHENTICATED=new kn(null),kn.GOOGLE_CREDENTIALS=new kn("google-credentials-uid"),kn.FIRST_PARTY=new kn("first-party-uid"),kn.MOCK_USER=new kn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=new Hm("@firebase/firestore");function ac(){return Xa.logLevel}function ve(t,...e){if(Xa.logLevel<=Ge.DEBUG){const n=e.map(Ww);Xa.debug(`Firestore (${Xc}): ${t}`,...n)}}function Ni(t,...e){if(Xa.logLevel<=Ge.ERROR){const n=e.map(Ww);Xa.error(`Firestore (${Xc}): ${t}`,...n)}}function kc(t,...e){if(Xa.logLevel<=Ge.WARN){const n=e.map(Ww);Xa.warn(`Firestore (${Xc}): ${t}`,...n)}}function Ww(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,mP(t,r,n)}function mP(t,e,n){let r=`FIRESTORE (${Xc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ni(r),new Error(r)}function ct(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||mP(e,s,r)}function ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Di{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class o${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kn.UNAUTHENTICATED))}shutdown(){}}class a${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class l${constructor(e){this.t=e,this.currentUser=kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let o=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new wi,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},u=h=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new wi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct(typeof r.accessToken=="string",31837,{l:r}),new gP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new kn(e)}}class c${constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=kn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class u${constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new c$(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(kn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class GC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class d${constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ct(this.o===void 0,3512);const r=o=>{o.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,ve("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new GC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new GC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=h$(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function Ke(t,e){return t<e?-1:t>e?1:0}function K0(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),o=e.charAt(r);if(s!==o)return Bv(s)===Bv(o)?Ke(s,o):Bv(s)?1:-1}return Ke(t.length,e.length)}const f$=55296,p$=57343;function Bv(t){const e=t.charCodeAt(0);return e>=f$&&e<=p$}function jc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="__name__";class Ns{constructor(e,n,r){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Me(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ns.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ns?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=Ns.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return Ke(e.length,n.length)}static compareSegments(e,n){const r=Ns.isNumericId(e),s=Ns.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ns.extractNumericId(e).compare(Ns.extractNumericId(n)):K0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ko.fromString(e.substring(4,e.length-2))}}class mt extends Ns{construct(e,n,r){return new mt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new mt(n)}static emptyPath(){return new mt([])}}const m$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class En extends Ns{construct(e,n,r){return new En(e,n,r)}static isValidIdentifier(e){return m$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),En.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===KC}static keyField(){return new En([KC])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new fe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new fe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new fe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else u==="`"?(a=!a,s++):u!=="."||a?(r+=u,s++):(o(),s++)}if(o(),a)throw new fe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new En(n)}static emptyPath(){return new En([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(mt.fromString(e))}static fromName(e){return new Ne(mt.fromString(e).popFirst(5))}static empty(){return new Ne(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new mt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(t,e,n){if(!n)throw new fe(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function g$(t,e,n,r){if(e===!0&&r===!0)throw new fe(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function YC(t){if(!Ne.isDocumentKey(t))throw new fe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function QC(t){if(Ne.isDocumentKey(t))throw new fe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vP(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Qm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function mr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qm(t);throw new fe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function y$(t,e){if(e<=0)throw new fe(re.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Eh(t,e){if(!vP(t))throw new fe(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&a!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new fe(re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=-62135596800,JC=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*JC);return new st(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<XC)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/JC}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Eh(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-XC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Xt("string",st._jsonSchemaVersion),seconds:Xt("number"),nanoseconds:Xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new st(0,0))}static max(){return new Ue(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd=-1;function v$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ue.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new Uo(s,Ne.empty(),e)}function x$(t){return new Uo(t.readTime,t.key,Yd)}class Uo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Uo(Ue.min(),Ne.empty(),Yd)}static max(){return new Uo(Ue.max(),Ne.empty(),Yd)}}function w$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:Ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jc(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==_$)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,r)=>{n(e)})}static reject(e){return new se((n,r)=>{r(e)})}static waitFor(e){return new se((n,r)=>{let s=0,o=0,a=!1;e.forEach(u=>{++s,u.next(()=>{++o,a&&o===s&&n()},h=>r(h))}),a=!0,o===s&&n()})}static or(e){let n=se.resolve(!1);for(const r of e)n=n.next(s=>s?se.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new se((r,s)=>{const o=e.length,a=new Array(o);let u=0;for(let h=0;h<o;h++){const f=h;n(e[f]).next(m=>{a[f]=m,++u,u===o&&r(a)},m=>s(m))}})}static doWhile(e,n){return new se((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function E$(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Zc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=-1;function Jm(t){return t==null}function sm(t){return t===0&&1/t==-1/0}function T$(t){return typeof t=="number"&&Number.isInteger(t)&&!sm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP="";function S$(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ZC(e)),e=C$(t.get(n),e);return ZC(e)}function C$(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case xP:n+="";break;default:n+=o}}return n}function ZC(t){return t+xP+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ea(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zt=class Y0{constructor(e,n){this.comparator=e,this.root=n||jo.EMPTY}insert(e,n){return new Y0(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jo.BLACK,null,null))}remove(e){return new Y0(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ap(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ap(this.root,e,this.comparator,!1)}getReverseIterator(){return new ap(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ap(this.root,e,this.comparator,!0)}},ap=class{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},jo=class pi{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??pi.RED,this.left=s??pi.EMPTY,this.right=o??pi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new pi(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return pi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return pi.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}};jo.EMPTY=null,jo.RED=!0,jo.BLACK=!1;jo.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new jo(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.comparator=e,this.data=new Zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new t1(this.data.getIterator())}getIteratorFrom(e){return new t1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new sn(this.comparator);return n.data=e,n}}class t1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.fields=e,e.sort(En.comparator)}static empty(){return new pr([])}unionWith(e){let n=new sn(En.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new _P("Invalid base64 string: "+o):o}}(e);return new Tn(n)}static fromUint8Array(e){const n=function(s){let o="";for(let a=0;a<s.length;++a)o+=String.fromCharCode(s[a]);return o}(e);return new Tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tn.EMPTY_BYTE_STRING=new Tn("");const I$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bo(t){if(ct(!!t,39018),typeof t=="string"){let e=0;const n=I$.exec(t);if(ct(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:zt(t.seconds),nanos:zt(t.nanos)}}function zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zo(t){return typeof t=="string"?Tn.fromBase64String(t):Tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP="server_timestamp",EP="__type__",TP="__previous_value__",SP="__local_write_time__";function Gw(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[EP])==null?void 0:r.stringValue)===bP}function Zm(t){const e=t.mapValue.fields[TP];return Gw(e)?Zm(e):e}function Qd(t){const e=Bo(t.mapValue.fields[SP].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${constructor(e,n,r,s,o,a,u,h,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=m}}const im="(default)";class Xd{constructor(e,n){this.projectId=e,this.database=n||im}static empty(){return new Xd("","")}get isDefaultDatabase(){return this.database===im}isEqual(e){return e instanceof Xd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP="__type__",A$="__max__",lp={mapValue:{}},IP="__vector__",om="value";function $o(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gw(t)?4:P$(t)?9007199254740991:R$(t)?10:11:Me(28295,{value:t})}function Hs(t,e){if(t===e)return!0;const n=$o(t);if(n!==$o(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qd(t).isEqual(Qd(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const a=Bo(s.timestampValue),u=Bo(o.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return zo(s.bytesValue).isEqual(zo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return zt(s.geoPointValue.latitude)===zt(o.geoPointValue.latitude)&&zt(s.geoPointValue.longitude)===zt(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return zt(s.integerValue)===zt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const a=zt(s.doubleValue),u=zt(o.doubleValue);return a===u?sm(a)===sm(u):isNaN(a)&&isNaN(u)}return!1}(t,e);case 9:return jc(t.arrayValue.values||[],e.arrayValue.values||[],Hs);case 10:case 11:return function(s,o){const a=s.mapValue.fields||{},u=o.mapValue.fields||{};if(e1(a)!==e1(u))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(u[h]===void 0||!Hs(a[h],u[h])))return!1;return!0}(t,e);default:return Me(52216,{left:t})}}function Jd(t,e){return(t.values||[]).find(n=>Hs(n,e))!==void 0}function Dc(t,e){if(t===e)return 0;const n=$o(t),r=$o(e);if(n!==r)return Ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return function(o,a){const u=zt(o.integerValue||o.doubleValue),h=zt(a.integerValue||a.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(t,e);case 3:return n1(t.timestampValue,e.timestampValue);case 4:return n1(Qd(t),Qd(e));case 5:return K0(t.stringValue,e.stringValue);case 6:return function(o,a){const u=zo(o),h=zo(a);return u.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const u=o.split("/"),h=a.split("/");for(let f=0;f<u.length&&f<h.length;f++){const m=Ke(u[f],h[f]);if(m!==0)return m}return Ke(u.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const u=Ke(zt(o.latitude),zt(a.latitude));return u!==0?u:Ke(zt(o.longitude),zt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return r1(t.arrayValue,e.arrayValue);case 10:return function(o,a){var v,E,I,S;const u=o.fields||{},h=a.fields||{},f=(v=u[om])==null?void 0:v.arrayValue,m=(E=h[om])==null?void 0:E.arrayValue,y=Ke(((I=f==null?void 0:f.values)==null?void 0:I.length)||0,((S=m==null?void 0:m.values)==null?void 0:S.length)||0);return y!==0?y:r1(f,m)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===lp.mapValue&&a===lp.mapValue)return 0;if(o===lp.mapValue)return 1;if(a===lp.mapValue)return-1;const u=o.fields||{},h=Object.keys(u),f=a.fields||{},m=Object.keys(f);h.sort(),m.sort();for(let y=0;y<h.length&&y<m.length;++y){const v=K0(h[y],m[y]);if(v!==0)return v;const E=Dc(u[h[y]],f[m[y]]);if(E!==0)return E}return Ke(h.length,m.length)}(t.mapValue,e.mapValue);default:throw Me(23264,{he:n})}}function n1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const n=Bo(t),r=Bo(e),s=Ke(n.seconds,r.seconds);return s!==0?s:Ke(n.nanos,r.nanos)}function r1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=Dc(n[s],r[s]);if(o)return o}return Ke(n.length,r.length)}function Mc(t){return Q0(t)}function Q0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Bo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=Q0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const a of r)o?o=!1:s+=",",s+=`${a}:${Q0(n.fields[a])}`;return s+"}"}(t.mapValue):Me(61005,{value:t})}function Rp(t){switch($o(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zm(t);return e?16+Rp(e):16;case 5:return 2*t.stringValue.length;case 6:return zo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+Rp(o),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ea(r.fields,(o,a)=>{s+=o.length+Rp(a)}),s}(t.mapValue);default:throw Me(13486,{value:t})}}function s1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function X0(t){return!!t&&"integerValue"in t}function Kw(t){return!!t&&"arrayValue"in t}function i1(t){return!!t&&"nullValue"in t}function o1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pp(t){return!!t&&"mapValue"in t}function R$(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[CP])==null?void 0:r.stringValue)===IP}function Ad(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ea(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ad(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ad(t.arrayValue.values[n]);return e}return{...t}}function P$(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===A$}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ad(n)}setAll(e){let n=En.emptyPath(),r={},s=[];e.forEach((a,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,r,s),r={},s=[],n=u.popLast()}a?r[u.lastSegment()]=Ad(a):s.push(u.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());Pp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Pp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ea(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new Zn(Ad(this.value))}}function NP(t){const e=[];return ea(t.fields,(n,r)=>{const s=new En([n]);if(Pp(r)){const o=NP(r.mapValue).fields;if(o.length===0)e.push(s);else for(const a of o)e.push(s.child(a))}else e.push(s)}),new pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n,r,s,o,a,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Dn(e,0,Ue.min(),Ue.min(),Ue.min(),Zn.empty(),0)}static newFoundDocument(e,n,r,s){return new Dn(e,1,n,Ue.min(),r,s,0)}static newNoDocument(e,n){return new Dn(e,2,n,Ue.min(),Ue.min(),Zn.empty(),0)}static newUnknownDocument(e,n){return new Dn(e,3,n,Ue.min(),Ue.min(),Zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,n){this.position=e,this.inclusive=n}}function a1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],a=t.position[s];if(o.field.isKeyField()?r=Ne.comparator(Ne.fromName(a.referenceValue),n.key):r=Dc(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function l1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Hs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n="asc"){this.field=e,this.dir=n}}function k$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{}class Qt extends AP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new D$(e,n,r):n==="array-contains"?new L$(e,r):n==="in"?new V$(e,r):n==="not-in"?new F$(e,r):n==="array-contains-any"?new U$(e,r):new Qt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new M$(e,r):new O$(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Dc(n,this.value)):n!==null&&$o(this.value)===$o(n)&&this.matchesComparison(Dc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ts extends AP{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ts(e,n)}matches(e){return RP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function RP(t){return t.op==="and"}function PP(t){return j$(t)&&RP(t)}function j$(t){for(const e of t.filters)if(e instanceof ts)return!1;return!0}function J0(t){if(t instanceof Qt)return t.field.canonicalString()+t.op.toString()+Mc(t.value);if(PP(t))return t.filters.map(e=>J0(e)).join(",");{const e=t.filters.map(n=>J0(n)).join(",");return`${t.op}(${e})`}}function kP(t,e){return t instanceof Qt?function(r,s){return s instanceof Qt&&r.op===s.op&&r.field.isEqual(s.field)&&Hs(r.value,s.value)}(t,e):t instanceof ts?function(r,s){return s instanceof ts&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,a,u)=>o&&kP(a,s.filters[u]),!0):!1}(t,e):void Me(19439)}function jP(t){return t instanceof Qt?function(n){return`${n.field.canonicalString()} ${n.op} ${Mc(n.value)}`}(t):t instanceof ts?function(n){return n.op.toString()+" {"+n.getFilters().map(jP).join(" ,")+"}"}(t):"Filter"}class D$ extends Qt{constructor(e,n,r){super(e,n,r),this.key=Ne.fromName(r.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class M$ extends Qt{constructor(e,n){super(e,"in",n),this.keys=DP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class O$ extends Qt{constructor(e,n){super(e,"not-in",n),this.keys=DP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function DP(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Ne.fromName(r.referenceValue))}class L$ extends Qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kw(n)&&Jd(n.arrayValue,this.value)}}class V$ extends Qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jd(this.value.arrayValue,n)}}class F$ extends Qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jd(this.value.arrayValue,n)}}class U$ extends Qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Jd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(e,n=null,r=[],s=[],o=null,a=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=a,this.endAt=u,this.Te=null}}function c1(t,e=null,n=[],r=[],s=null,o=null,a=null){return new B$(t,e,n,r,s,o,a)}function Yw(t){const e=ze(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>J0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Jm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Mc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Mc(r)).join(",")),e.Te=n}return e.Te}function Qw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!k$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!l1(t.startAt,e.startAt)&&l1(t.endAt,e.endAt)}function Z0(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n=null,r=[],s=[],o=null,a="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=a,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function z$(t,e,n,r,s,o,a,u){return new eu(t,e,n,r,s,o,a,u)}function eg(t){return new eu(t)}function u1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function MP(t){return t.collectionGroup!==null}function Rd(t){const e=ze(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new sn(En.comparator);return a.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Zd(o,r))}),n.has(En.keyField().canonicalString())||e.Ie.push(new Zd(En.keyField(),r))}return e.Ie}function Ls(t){const e=ze(t);return e.Ee||(e.Ee=$$(e,Rd(t))),e.Ee}function $$(t,e){if(t.limitType==="F")return c1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Zd(s.field,o)});const n=t.endAt?new am(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new am(t.startAt.position,t.startAt.inclusive):null;return c1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ex(t,e){const n=t.filters.concat([e]);return new eu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function lm(t,e,n){return new eu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function tg(t,e){return Qw(Ls(t),Ls(e))&&t.limitType===e.limitType}function OP(t){return`${Yw(Ls(t))}|lt:${t.limitType}`}function lc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>jP(s)).join(", ")}]`),Jm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Mc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Mc(s)).join(",")),`Target(${r})`}(Ls(t))}; limitType=${t.limitType})`}function ng(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ne.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of Rd(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,u,h){const f=a1(a,u,h);return a.inclusive?f<=0:f<0}(r.startAt,Rd(r),s)||r.endAt&&!function(a,u,h){const f=a1(a,u,h);return a.inclusive?f>=0:f>0}(r.endAt,Rd(r),s))}(t,e)}function W$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function LP(t){return(e,n)=>{let r=!1;for(const s of Rd(t)){const o=H$(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function H$(t,e,n){const r=t.field.isKeyField()?Ne.comparator(e.key,n.key):function(o,a,u){const h=a.data.field(o),f=u.data.field(o);return h!==null&&f!==null?Dc(h,f):Me(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Me(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ea(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return wP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$=new Zt(Ne.comparator);function Ai(){return q$}const VP=new Zt(Ne.comparator);function yd(...t){let e=VP;for(const n of t)e=e.insert(n.key,n);return e}function FP(t){let e=VP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Va(){return Pd()}function UP(){return Pd()}function Pd(){return new dl(t=>t.toString(),(t,e)=>t.isEqual(e))}const G$=new Zt(Ne.comparator),K$=new sn(Ne.comparator);function Ye(...t){let e=K$;for(const n of t)e=e.add(n);return e}const Y$=new sn(Ke);function Q$(){return Y$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sm(e)?"-0":e}}function BP(t){return{integerValue:""+t}}function X$(t,e){return T$(e)?BP(e):Xw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this._=void 0}}function J$(t,e,n){return t instanceof eh?function(s,o){const a={fields:{[EP]:{stringValue:bP},[SP]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Gw(o)&&(o=Zm(o)),o&&(a.fields[TP]=o),{mapValue:a}}(n,e):t instanceof th?$P(t,e):t instanceof nh?WP(t,e):function(s,o){const a=zP(s,o),u=d1(a)+d1(s.Ae);return X0(a)&&X0(s.Ae)?BP(u):Xw(s.serializer,u)}(t,e)}function Z$(t,e,n){return t instanceof th?$P(t,e):t instanceof nh?WP(t,e):n}function zP(t,e){return t instanceof cm?function(r){return X0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class eh extends rg{}class th extends rg{constructor(e){super(),this.elements=e}}function $P(t,e){const n=HP(e);for(const r of t.elements)n.some(s=>Hs(s,r))||n.push(r);return{arrayValue:{values:n}}}class nh extends rg{constructor(e){super(),this.elements=e}}function WP(t,e){let n=HP(e);for(const r of t.elements)n=n.filter(s=>!Hs(s,r));return{arrayValue:{values:n}}}class cm extends rg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function d1(t){return zt(t.integerValue||t.doubleValue)}function HP(t){return Kw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eW{constructor(e,n){this.field=e,this.transform=n}}function tW(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof th&&s instanceof th||r instanceof nh&&s instanceof nh?jc(r.elements,s.elements,Hs):r instanceof cm&&s instanceof cm?Hs(r.Ae,s.Ae):r instanceof eh&&s instanceof eh}(t.transform,e.transform)}class nW{constructor(e,n){this.version=e,this.transformResults=n}}class Zr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zr}static exists(e){return new Zr(void 0,e)}static updateTime(e){return new Zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sg{}function qP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new KP(t.key,Zr.none()):new Th(t.key,t.data,Zr.none());{const n=t.data,r=Zn.empty();let s=new sn(En.comparator);for(let o of e.fields)if(!s.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),s=s.add(o)}return new ta(t.key,r,new pr(s.toArray()),Zr.none())}}function rW(t,e,n){t instanceof Th?function(s,o,a){const u=s.value.clone(),h=f1(s.fieldTransforms,o,a.transformResults);u.setAll(h),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):t instanceof ta?function(s,o,a){if(!kp(s.precondition,o))return void o.convertToUnknownDocument(a.version);const u=f1(s.fieldTransforms,o,a.transformResults),h=o.data;h.setAll(GP(s)),h.setAll(u),o.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(t,e,n):function(s,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function kd(t,e,n,r){return t instanceof Th?function(o,a,u,h){if(!kp(o.precondition,a))return u;const f=o.value.clone(),m=p1(o.fieldTransforms,h,a);return f.setAll(m),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof ta?function(o,a,u,h){if(!kp(o.precondition,a))return u;const f=p1(o.fieldTransforms,h,a),m=a.data;return m.setAll(GP(o)),m.setAll(f),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(o,a,u){return kp(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u}(t,e,n)}function sW(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=zP(r.transform,s||null);o!=null&&(n===null&&(n=Zn.empty()),n.set(r.field,o))}return n||null}function h1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&jc(r,s,(o,a)=>tW(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Th extends sg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ta extends sg{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function GP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function f1(t,e,n){const r=new Map;ct(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const o=t[s],a=o.transform,u=e.data.field(o.field);r.set(o.field,Z$(a,u,n[s]))}return r}function p1(t,e,n){const r=new Map;for(const s of t){const o=s.transform,a=n.data.field(s.field);r.set(s.field,J$(o,a,e))}return r}class KP extends sg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iW extends sg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&rW(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=kd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=kd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=UP();return this.mutations.forEach(s=>{const o=e.get(s.key),a=o.overlayedDocument;let u=this.applyToLocalView(a,o.mutatedFields);u=n.has(s.key)?null:u;const h=qP(a,u);h!==null&&r.set(s.key,h),a.isValidDocument()||a.convertToNoDocument(Ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ye())}isEqual(e){return this.batchId===e.batchId&&jc(this.mutations,e.mutations,(n,r)=>h1(n,r))&&jc(this.baseMutations,e.baseMutations,(n,r)=>h1(n,r))}}class Jw{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ct(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return G$}();const o=e.mutations;for(let a=0;a<o.length;a++)s=s.insert(o[a].key,r[a].version);return new Jw(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aW=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,et;function cW(t){switch(t){case re.OK:return Me(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function YP(t){if(t===void 0)return Ni("GRPC error has no .code"),re.UNKNOWN;switch(t){case Yt.OK:return re.OK;case Yt.CANCELLED:return re.CANCELLED;case Yt.UNKNOWN:return re.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return re.INTERNAL;case Yt.UNAVAILABLE:return re.UNAVAILABLE;case Yt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Yt.NOT_FOUND:return re.NOT_FOUND;case Yt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Yt.ABORTED:return re.ABORTED;case Yt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Yt.DATA_LOSS:return re.DATA_LOSS;default:return Me(39323,{code:t})}}(et=Yt||(Yt={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uW(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dW=new ko([4294967295,4294967295],0);function m1(t){const e=uW().encode(t),n=new cP;return n.update(e),new Uint8Array(n.digest())}function g1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ko([n,r],0),new ko([s,o],0)]}class Zw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vd(`Invalid padding: ${n}`);if(r<0)throw new vd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ko.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(ko.fromNumber(r)));return s.compare(dW)===1&&(s=new ko([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=m1(e),[r,s]=g1(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,s,o);if(!this.we(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new Zw(o,s,n);return r.forEach(u=>a.insert(u)),a}insert(e){if(this.ge===0)return;const n=m1(e),[r,s]=g1(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,s,o);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class vd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Sh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ig(Ue.min(),s,new Zt(Ke),Ai(),Ye())}}class Sh{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Sh(r,n,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class QP{constructor(e,n){this.targetId=e,this.Ce=n}}class XP{constructor(e,n,r=Tn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class y1{constructor(){this.ve=0,this.Fe=v1(),this.Me=Tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),r=Ye();return this.Fe.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Me(38017,{changeType:o})}}),new Sh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=v1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hW{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ai(),this.Je=cp(),this.He=cp(),this.Ye=new Zt(Ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const o=s.target;if(Z0(o))if(r===0){const a=new Ne(o.path);this.et(n,a,Dn.newNoDocument(a,Ue.min()))}else ct(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const u=this.ut(e),h=u?this.ct(u,e,a):1;if(h!==0){this.it(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let a,u;try{a=zo(r).toUint8Array()}catch(h){if(h instanceof _P)return kc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Zw(a,s,o)}catch(h){return kc(h instanceof vd?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const a=this.Ge.ht(),u=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(n,o,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((o,a)=>{const u=this.ot(a);if(u){if(o.current&&Z0(u.target)){const h=new Ne(u.target.path);this.It(h).has(a)||this.Et(a,h)||this.et(a,h,Dn.newNoDocument(h,e))}o.Be&&(n.set(a,o.ke()),o.qe())}});let r=Ye();this.He.forEach((o,a)=>{let u=!0;a.forEachWhile(h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(o))}),this.je.forEach((o,a)=>a.setReadTime(e));const s=new ig(e,n,this.Ye,this.je,r);return this.je=Ai(),this.Je=cp(),this.He=cp(),this.Ye=new Zt(Ke),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new y1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new sn(Ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new sn(Ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new y1),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function cp(){return new Zt(Ne.comparator)}function v1(){return new Zt(Ne.comparator)}const fW={asc:"ASCENDING",desc:"DESCENDING"},pW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mW={and:"AND",or:"OR"};class gW{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tx(t,e){return t.useProto3Json||Jm(e)?e:{value:e}}function um(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yW(t,e){return um(t,e.toTimestamp())}function Vs(t){return ct(!!t,49232),Ue.fromTimestamp(function(n){const r=Bo(n);return new st(r.seconds,r.nanos)}(t))}function e_(t,e){return nx(t,e).canonicalString()}function nx(t,e){const n=function(s){return new mt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ZP(t){const e=mt.fromString(t);return ct(sk(e),10190,{key:e.toString()}),e}function rx(t,e){return e_(t.databaseId,e.path)}function zv(t,e){const n=ZP(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ne(tk(n))}function ek(t,e){return e_(t.databaseId,e)}function vW(t){const e=ZP(t);return e.length===4?mt.emptyPath():tk(e)}function sx(t){return new mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tk(t){return ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function x1(t,e,n){return{name:rx(t,e),fields:n.value.mapValue.fields}}function xW(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Me(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(f,m){return f.useProto3Json?(ct(m===void 0||typeof m=="string",58123),Tn.fromBase64String(m||"")):(ct(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Tn.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&function(f){const m=f.code===void 0?re.UNKNOWN:YP(f.code);return new fe(m,f.message||"")}(a);n=new XP(r,s,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=zv(t,r.document.name),o=Vs(r.document.updateTime),a=r.document.createTime?Vs(r.document.createTime):Ue.min(),u=new Zn({mapValue:{fields:r.document.fields}}),h=Dn.newFoundDocument(s,o,a,u),f=r.targetIds||[],m=r.removedTargetIds||[];n=new jp(f,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=zv(t,r.document),o=r.readTime?Vs(r.readTime):Ue.min(),a=Dn.newNoDocument(s,o),u=r.removedTargetIds||[];n=new jp([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=zv(t,r.document),o=r.removedTargetIds||[];n=new jp([],o,s,null)}else{if(!("filter"in e))return Me(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,a=new lW(s,o),u=r.targetId;n=new QP(u,a)}}return n}function wW(t,e){let n;if(e instanceof Th)n={update:x1(t,e.key,e.value)};else if(e instanceof KP)n={delete:rx(t,e.key)};else if(e instanceof ta)n={update:x1(t,e.key,e.data),updateMask:AW(e.fieldMask)};else{if(!(e instanceof iW))return Me(16599,{Vt:e.type});n={verify:rx(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const u=a.transform;if(u instanceof eh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof th)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof nh)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof cm)return{fieldPath:a.field.canonicalString(),increment:u.Ae};throw Me(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:yW(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Me(27497)}(t,e.precondition)),n}function _W(t,e){return t&&t.length>0?(ct(e!==void 0,14353),t.map(n=>function(s,o){let a=s.updateTime?Vs(s.updateTime):Vs(o);return a.isEqual(Ue.min())&&(a=Vs(o)),new nW(a,s.transformResults||[])}(n,e))):[]}function bW(t,e){return{documents:[ek(t,e.path)]}}function EW(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ek(t,s);const o=function(f){if(f.length!==0)return rk(ts.create(f,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(f){if(f.length!==0)return f.map(m=>function(v){return{field:cc(v.field),direction:CW(v.dir)}}(m))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const u=tx(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ft:n,parent:s}}function TW(t){let e=vW(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ct(r===1,65062);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(y){const v=nk(y);return v instanceof ts&&PP(v)?v.getFilters():[v]}(n.where));let a=[];n.orderBy&&(a=function(y){return y.map(v=>function(I){return new Zd(uc(I.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(v))}(n.orderBy));let u=null;n.limit&&(u=function(y){let v;return v=typeof y=="object"?y.value:y,Jm(v)?null:v}(n.limit));let h=null;n.startAt&&(h=function(y){const v=!!y.before,E=y.values||[];return new am(E,v)}(n.startAt));let f=null;return n.endAt&&(f=function(y){const v=!y.before,E=y.values||[];return new am(E,v)}(n.endAt)),z$(e,s,a,o,u,"F",h,f)}function SW(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=uc(n.unaryFilter.field);return Qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=uc(n.unaryFilter.field);return Qt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=uc(n.unaryFilter.field);return Qt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=uc(n.unaryFilter.field);return Qt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}}(t):t.fieldFilter!==void 0?function(n){return Qt.create(uc(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ts.create(n.compositeFilter.filters.map(r=>nk(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Me(1026)}}(n.compositeFilter.op))}(t):Me(30097,{filter:t})}function CW(t){return fW[t]}function IW(t){return pW[t]}function NW(t){return mW[t]}function cc(t){return{fieldPath:t.canonicalString()}}function uc(t){return En.fromServerFormat(t.fieldPath)}function rk(t){return t instanceof Qt?function(n){if(n.op==="=="){if(o1(n.value))return{unaryFilter:{field:cc(n.field),op:"IS_NAN"}};if(i1(n.value))return{unaryFilter:{field:cc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(o1(n.value))return{unaryFilter:{field:cc(n.field),op:"IS_NOT_NAN"}};if(i1(n.value))return{unaryFilter:{field:cc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cc(n.field),op:IW(n.op),value:n.value}}}(t):t instanceof ts?function(n){const r=n.getFilters().map(s=>rk(s));return r.length===1?r[0]:{compositeFilter:{op:NW(n.op),filters:r}}}(t):Me(54877,{filter:t})}function AW(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n,r,s,o=Ue.min(),a=Ue.min(),u=Tn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new Io(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RW{constructor(e){this.yt=e}}function PW(t){const e=TW({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kW{constructor(){this.Cn=new jW}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(Uo.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(Uo.min())}updateCollectionGroup(e,n,r){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class jW{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new sn(mt.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new sn(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ik=41943040;class Jn{static withCacheSize(e){return new Jn(e,Jn.DEFAULT_COLLECTION_PERCENTILE,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jn.DEFAULT_COLLECTION_PERCENTILE=10,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jn.DEFAULT=new Jn(ik,Jn.DEFAULT_COLLECTION_PERCENTILE,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jn.DISABLED=new Jn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Oc(0)}static cr(){return new Oc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="LruGarbageCollector",DW=1048576;function b1([t,e],[n,r]){const s=Ke(t,n);return s===0?Ke(e,r):s}class MW{constructor(e){this.Ir=e,this.buffer=new sn(b1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();b1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class OW{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(_1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Zc(n)?ve(_1,"Ignoring IndexedDB error during garbage collection: ",n):await Jc(n)}await this.Vr(3e5)})}}class LW{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Xm.ce);const r=new MW(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(w1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),w1):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,o,a,u,h,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,a=Date.now(),this.nthSequenceNumber(e,s))).next(y=>(r=y,u=Date.now(),this.removeTargets(e,r,n))).next(y=>(o=y,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(f=Date.now(),ac()<=Ge.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-m}ms
	Determined least recently used ${s} in `+(u-a)+`ms
	Removed ${o} targets in `+(h-u)+`ms
	Removed ${y} documents in `+(f-h)+`ms
Total Duration: ${f-m}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:y})))}}function VW(t,e){return new LW(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FW{constructor(){this.changes=new dl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UW{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BW{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&kd(r.mutation,s,pr.empty(),st.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ye()){const s=Va();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let a=yd();return o.forEach((u,h)=>{a=a.insert(u,h.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Va();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ye()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((a,u)=>{n.set(a,u)})})}computeViews(e,n,r,s){let o=Ai();const a=Pd(),u=function(){return Pd()}();return n.forEach((h,f)=>{const m=r.get(f.key);s.has(f.key)&&(m===void 0||m.mutation instanceof ta)?o=o.insert(f.key,f):m!==void 0?(a.set(f.key,m.mutation.getFieldMask()),kd(m.mutation,f,m.mutation.getFieldMask(),st.now())):a.set(f.key,pr.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((f,m)=>a.set(f,m)),n.forEach((f,m)=>u.set(f,new UW(m,a.get(f)??null))),u))}recalculateAndSaveOverlays(e,n){const r=Pd();let s=new Zt((a,u)=>a-u),o=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const u of a)u.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let m=r.get(h)||pr.empty();m=u.applyToLocalView(f,m),r.set(h,m);const y=(s.get(u.batchId)||Ye()).add(h);s=s.insert(u.batchId,y)})}).next(()=>{const a=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,m=h.value,y=UP();m.forEach(v=>{if(!o.has(v)){const E=qP(n.get(v),r.get(v));E!==null&&y.set(v,E),o=o.add(v)}}),a.push(this.documentOverlayCache.saveOverlays(e,f,y))}return se.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return Ne.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):MP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const a=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):se.resolve(Va());let u=Yd,h=o;return a.next(f=>se.forEach(f,(m,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),o.get(m)?se.resolve():this.remoteDocumentCache.getEntry(e,m).next(v=>{h=h.insert(m,v)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,h,f,Ye())).next(m=>({batchId:u,changes:FP(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next(r=>{let s=yd();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let a=yd();return this.indexManager.getCollectionParents(e,o).next(u=>se.forEach(u,h=>{const f=function(y,v){return new eu(v,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,s).next(m=>{m.forEach((y,v)=>{a=a.insert(y,v)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(a=>{o.forEach((h,f)=>{const m=f.getKey();a.get(m)===null&&(a=a.insert(m,Dn.newInvalidDocument(m)))});let u=yd();return a.forEach((h,f)=>{const m=o.get(h);m!==void 0&&kd(m.mutation,f,pr.empty(),st.now()),ng(n,f)&&(u=u.insert(h,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zW{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return se.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Vs(s.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:PW(s.bundledQuery),readTime:Vs(s.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{constructor(){this.overlays=new Zt(Ne.comparator),this.qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Va();return se.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.St(e,n,o)}),se.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),se.resolve()}getOverlaysForCollection(e,n,r){const s=Va(),o=n.length+1,a=new Ne(n.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>r&&s.set(h.getKey(),h)}return se.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new Zt((f,m)=>f-m);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=o.get(f.largestBatchId);m===null&&(m=Va(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const u=Va(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,m)=>u.set(f,m)),!(u.size()>=s)););return se.resolve(u)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new aW(n,r));let o=this.qr.get(n);o===void 0&&(o=Ye(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{constructor(){this.sessionToken=Tn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(){this.Qr=new sn(fn.$r),this.Ur=new sn(fn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new fn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new fn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Ne(new mt([])),r=new fn(n,e),s=new fn(n,e+1),o=[];return this.Ur.forEachInRange([r,s],a=>{this.Gr(a),o.push(a.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ne(new mt([])),r=new fn(n,e),s=new fn(n,e+1);let o=Ye();return this.Ur.forEachInRange([r,s],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new fn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class fn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ne.comparator(e.key,n.key)||Ke(e.Yr,n.Yr)}static Kr(e,n){return Ke(e.Yr,n.Yr)||Ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new sn(fn.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new oW(o,n,r,s);this.mutationQueue.push(a);for(const u of s)this.Zr=this.Zr.add(new fn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return se.resolve(a)}lookupMutationBatch(e,n){return se.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),o=s<0?0:s;return se.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?qw:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new fn(n,0),s=new fn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],a=>{const u=this.Xr(a.Yr);o.push(u)}),se.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new sn(Ke);return n.forEach(s=>{const o=new fn(s,0),a=new fn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,a],u=>{r=r.add(u.Yr)})}),se.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Ne.isDocumentKey(o)||(o=o.child(""));const a=new fn(new Ne(o),0);let u=new sn(Ke);return this.Zr.forEachWhile(h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===s&&(u=u.add(h.Yr)),!0)},a),se.resolve(this.ti(u))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ct(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return se.forEach(n.mutations,s=>{const o=new fn(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new fn(n,0),s=this.Zr.firstAfterOrEqual(r);return se.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qW{constructor(e){this.ri=e,this.docs=function(){return new Zt(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():Dn.newInvalidDocument(n))}getEntries(e,n){let r=Ai();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Dn.newInvalidDocument(s))}),se.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=Ai();const a=n.path,u=new Ne(a.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:m}}=h.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||w$(x$(m),r)<=0||(s.has(m.key)||ng(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return se.resolve(o)}getAllFromCollectionGroup(e,n,r,s){Me(9500)}ii(e,n){return se.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new GW(this)}getSize(e){return se.resolve(this.size)}}class GW extends FW{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),se.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(e){this.persistence=e,this.si=new dl(n=>Yw(n),Qw),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.oi=0,this._i=new t_,this.targetCount=0,this.ai=Oc.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),se.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Oc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Pr(n),se.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.si.forEach((a,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(a),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)}),se.waitFor(o).next(()=>s)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return se.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),se.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(a=>{o.push(s.markPotentiallyOrphaned(e,a))}),se.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return se.resolve(r)}containsKey(e,n){return se.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,n){this.ui={},this.overlays={},this.ci=new Xm(0),this.li=!1,this.li=!0,this.hi=new WW,this.referenceDelegate=e(this),this.Pi=new KW(this),this.indexManager=new kW,this.remoteDocumentCache=function(s){return new qW(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new RW(n),this.Ii=new zW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $W,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new HW(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ve("MemoryPersistence","Starting transaction:",e);const s=new YW(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(o=>this.referenceDelegate.di(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ai(e,n){return se.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class YW extends b${constructor(e){super(),this.currentSequenceNumber=e}}class n_{constructor(e){this.persistence=e,this.Ri=new t_,this.Vi=null}static mi(e){return new n_(e)}get fi(){if(this.Vi)return this.Vi;throw Me(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),se.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,r=>{const s=Ne.fromPath(r);return this.gi(e,s).next(o=>{o||n.removeEntry(s,Ue.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class dm{constructor(e,n){this.persistence=e,this.pi=new dl(r=>S$(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=VW(this,n)}static mi(e,n){return new dm(e,n)}Ei(){}di(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return se.forEach(this.pi,(r,s)=>this.br(e,r,s).next(o=>o?se.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,a=>this.br(e,a,n).next(u=>{u||(r++,o.removeEntry(a,Ue.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rp(e.data.value)),n}br(e,n,r){return se.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return se.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ye(),s=Ye();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new r_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return g8()?8:E$(Fn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ys(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.ws(e,n,s,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new QW;return this.Ss(e,n,a).next(u=>{if(o.result=u,this.Vs)return this.bs(e,n,a,u.size)})}).next(()=>o.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(ac()<=Ge.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",lc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(ac()<=Ge.DEBUG&&ve("QueryEngine","Query:",lc(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(ac()<=Ge.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",lc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ls(n))):se.resolve())}ys(e,n){if(u1(n))return se.resolve(null);let r=Ls(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=lm(n,null,"F"),r=Ls(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=Ye(...o);return this.ps.getDocuments(e,a).next(u=>this.indexManager.getMinOffset(e,r).next(h=>{const f=this.Ds(n,u);return this.Cs(n,f,a,h.readTime)?this.ys(e,lm(n,null,"F")):this.vs(e,f,n,h)}))})))}ws(e,n,r,s){return u1(n)||s.isEqual(Ue.min())?se.resolve(null):this.ps.getDocuments(e,r).next(o=>{const a=this.Ds(n,o);return this.Cs(n,a,r,s)?se.resolve(null):(ac()<=Ge.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),lc(n)),this.vs(e,a,n,v$(s,Yd)).next(u=>u))})}Ds(e,n){let r=new sn(LP(e));return n.forEach((s,o)=>{ng(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,r){return ac()<=Ge.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",lc(n)),this.ps.getDocumentsMatchingQuery(e,n,Uo.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="LocalStore",JW=3e8;class ZW{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Zt(Ke),this.xs=new dl(o=>Yw(o),Qw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BW(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function e7(t,e,n,r){return new ZW(t,e,n,r)}async function ak(t,e){const n=ze(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],u=[];let h=Ye();for(const f of s){a.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}for(const f of o){u.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next(f=>({Ls:f,removedBatchIds:a,addedBatchIds:u}))})})}function t7(t,e){const n=ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(u,h,f,m){const y=f.batch,v=y.keys();let E=se.resolve();return v.forEach(I=>{E=E.next(()=>m.getEntry(h,I)).next(S=>{const T=f.docVersions.get(I);ct(T!==null,48541),S.version.compareTo(T)<0&&(y.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),m.addEntry(S)))})}),E.next(()=>u.mutationQueue.removeMutationBatch(h,y))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=Ye();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function lk(t){const e=ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function n7(t,e){const n=ze(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const u=[];e.targetChanges.forEach((m,y)=>{const v=s.get(y);if(!v)return;u.push(n.Pi.removeMatchingKeys(o,m.removedDocuments,y).next(()=>n.Pi.addMatchingKeys(o,m.addedDocuments,y)));let E=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?E=E.withResumeToken(Tn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,r)),s=s.insert(y,E),function(S,T,N){return S.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=JW?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(v,E,m)&&u.push(n.Pi.updateTargetData(o,E))});let h=Ai(),f=Ye();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))}),u.push(r7(o,a,e.documentUpdates).next(m=>{h=m.ks,f=m.qs})),!r.isEqual(Ue.min())){const m=n.Pi.getLastRemoteSnapshotVersion(o).next(y=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));u.push(m)}return se.waitFor(u).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,h,f)).next(()=>h)}).then(o=>(n.Ms=s,o))}function r7(t,e,n){let r=Ye(),s=Ye();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=Ai();return n.forEach((u,h)=>{const f=o.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(u)),h.isNoDocument()&&h.version.isEqual(Ue.min())?(e.removeEntry(u,h.readTime),a=a.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),a=a.insert(u,h)):ve(s_,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{ks:a,qs:s}})}function s7(t,e){const n=ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=qw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function i7(t,e){const n=ze(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(o=>o?(s=o,se.resolve(s)):n.Pi.allocateTargetId(r).next(a=>(s=new Io(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function ix(t,e,n){const r=ze(t),s=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Zc(a))throw a;ve(s_,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function E1(t,e,n){const r=ze(t);let s=Ue.min(),o=Ye();return r.persistence.runTransaction("Execute query","readwrite",a=>function(h,f,m){const y=ze(h),v=y.xs.get(m);return v!==void 0?se.resolve(y.Ms.get(v)):y.Pi.getTargetData(f,m)}(r,a,Ls(e)).next(u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,u.targetId).next(h=>{o=h})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,n?s:Ue.min(),n?o:Ye())).next(u=>(o7(r,W$(e),u),{documents:u,Qs:o})))}function o7(t,e,n){let r=t.Os.get(e)||Ue.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class T1{constructor(){this.activeTargetIds=Q$()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class a7{constructor(){this.Mo=new T1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new T1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="ConnectivityMonitor";class C1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(S1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(S1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let up=null;function ox(){return up===null?up=function(){return 268435456+Math.round(2147483648*Math.random())}():up++,"0x"+up.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="RestConnection",c7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class u7{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===im?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,o){const a=ox(),u=this.zo(e,n.toUriEncodedString());ve($v,`Sending RPC '${e}' ${a}:`,u,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,o);const{host:f}=new URL(u),m=Zo(f);return this.Jo(e,u,h,r,m).then(y=>(ve($v,`Received RPC '${e}' ${a}: `,y),y),y=>{throw kc($v,`RPC '${e}' ${a} failed with error: `,y,"url: ",u,"request:",r),y})}Ho(e,n,r,s,o,a){return this.Go(e,n,r,s,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}zo(e,n){const r=c7[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn="WebChannelConnection";class h7 extends u7{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,o){const a=ox();return new Promise((u,h)=>{const f=new uP;f.setWithCredentials(!0),f.listenOnce(dP.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Ap.NO_ERROR:const y=f.getResponseJson();ve(Rn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),u(y);break;case Ap.TIMEOUT:ve(Rn,`RPC '${e}' ${a} timed out`),h(new fe(re.DEADLINE_EXCEEDED,"Request time out"));break;case Ap.HTTP_ERROR:const v=f.getStatus();if(ve(Rn,`RPC '${e}' ${a} failed with status:`,v,"response text:",f.getResponseText()),v>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const I=E==null?void 0:E.error;if(I&&I.status&&I.message){const S=function(N){const j=N.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(j)>=0?j:re.UNKNOWN}(I.status);h(new fe(S,I.message))}else h(new fe(re.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new fe(re.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:a,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{ve(Rn,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(s);ve(Rn,`RPC '${e}' ${a} sending request:`,s),f.send(n,"POST",m,r,15)})}T_(e,n,r){const s=ox(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=pP(),u=fP(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=o.join("");ve(Rn,`Creating RPC '${e}' stream ${s}: ${m}`,h);const y=a.createWebChannel(m,h);this.I_(y);let v=!1,E=!1;const I=new d7({Yo:T=>{E?ve(Rn,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(v||(ve(Rn,`Opening RPC '${e}' stream ${s} transport.`),y.open(),v=!0),ve(Rn,`RPC '${e}' stream ${s} sending:`,T),y.send(T))},Zo:()=>y.close()}),S=(T,N,j)=>{T.listen(N,k=>{try{j(k)}catch($){setTimeout(()=>{throw $},0)}})};return S(y,gd.EventType.OPEN,()=>{E||(ve(Rn,`RPC '${e}' stream ${s} transport opened.`),I.o_())}),S(y,gd.EventType.CLOSE,()=>{E||(E=!0,ve(Rn,`RPC '${e}' stream ${s} transport closed`),I.a_(),this.E_(y))}),S(y,gd.EventType.ERROR,T=>{E||(E=!0,kc(Rn,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),I.a_(new fe(re.UNAVAILABLE,"The operation could not be completed")))}),S(y,gd.EventType.MESSAGE,T=>{var N;if(!E){const j=T.data[0];ct(!!j,16349);const k=j,$=(k==null?void 0:k.error)||((N=k[0])==null?void 0:N.error);if($){ve(Rn,`RPC '${e}' stream ${s} received error:`,$);const B=$.status;let W=function(D){const V=Yt[D];if(V!==void 0)return YP(V)}(B),P=$.message;W===void 0&&(W=re.INTERNAL,P="Unknown error status: "+B+" with message "+$.message),E=!0,I.a_(new fe(W,P)),y.close()}else ve(Rn,`RPC '${e}' stream ${s} received:`,j),I.u_(j)}}),S(u,hP.STAT_EVENT,T=>{T.stat===G0.PROXY?ve(Rn,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===G0.NOPROXY&&ve(Rn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{I.__()},0),I}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Wv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(t){return new gW(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&ve("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="PersistentStream";class uk{constructor(e,n,r,s,o,a,u,h){this.Mi=e,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ck(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Ni(n.toString()),Ni("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new fe(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ve(I1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ve(I1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class f7 extends uk{constructor(e,n,r,s,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=xW(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ue.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?Ue.min():a.readTime?Vs(a.readTime):Ue.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=sx(this.serializer),n.addTarget=function(o,a){let u;const h=a.target;if(u=Z0(h)?{documents:bW(o,h)}:{query:EW(o,h).ft},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=JP(o,a.resumeToken);const f=tx(o,a.expectedCount);f!==null&&(u.expectedCount=f)}else if(a.snapshotVersion.compareTo(Ue.min())>0){u.readTime=um(o,a.snapshotVersion.toTimestamp());const f=tx(o,a.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const r=SW(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=sx(this.serializer),n.removeTarget=e,this.q_(n)}}class p7 extends uk{constructor(e,n,r,s,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=_W(e.writeResults,e.commitTime),r=Vs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=sx(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>wW(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{}class g7 extends m7{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Go(e,nx(n,r),s,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(re.UNKNOWN,o.toString())})}Ho(e,n,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Ho(e,nx(n,r),s,a,u,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(re.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class y7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ni(n),this.aa=!1):ve("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="RemoteStore";class v7{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{hl(this)&&(ve(Ja,"Restarting streams for network reachability change."),await async function(h){const f=ze(h);f.Ea.add(4),await Ch(f),f.Ra.set("Unknown"),f.Ea.delete(4),await ag(f)}(this))})}),this.Ra=new y7(r,s)}}async function ag(t){if(hl(t))for(const e of t.da)await e(!0)}async function Ch(t){for(const e of t.da)await e(!1)}function dk(t,e){const n=ze(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),l_(n)?a_(n):tu(n).O_()&&o_(n,e))}function i_(t,e){const n=ze(t),r=tu(n);n.Ia.delete(e),r.O_()&&hk(n,e),n.Ia.size===0&&(r.O_()?r.L_():hl(n)&&n.Ra.set("Unknown"))}function o_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}tu(t).Y_(e)}function hk(t,e){t.Va.Ue(e),tu(t).Z_(e)}function a_(t){t.Va=new hW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),tu(t).start(),t.Ra.ua()}function l_(t){return hl(t)&&!tu(t).x_()&&t.Ia.size>0}function hl(t){return ze(t).Ea.size===0}function fk(t){t.Va=void 0}async function x7(t){t.Ra.set("Online")}async function w7(t){t.Ia.forEach((e,n)=>{o_(t,e)})}async function _7(t,e){fk(t),l_(t)?(t.Ra.ha(e),a_(t)):t.Ra.set("Unknown")}async function b7(t,e,n){if(t.Ra.set("Online"),e instanceof XP&&e.state===2&&e.cause)try{await async function(s,o){const a=o.cause;for(const u of o.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,a),s.Ia.delete(u),s.Va.removeTarget(u))}(t,e)}catch(r){ve(Ja,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hm(t,r)}else if(e instanceof jp?t.Va.Ze(e):e instanceof QP?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ue.min()))try{const r=await lk(t.localStore);n.compareTo(r)>=0&&await function(o,a){const u=o.Va.Tt(a);return u.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const m=o.Ia.get(f);m&&o.Ia.set(f,m.withResumeToken(h.resumeToken,a))}}),u.targetMismatches.forEach((h,f)=>{const m=o.Ia.get(h);if(!m)return;o.Ia.set(h,m.withResumeToken(Tn.EMPTY_BYTE_STRING,m.snapshotVersion)),hk(o,h);const y=new Io(m.target,h,f,m.sequenceNumber);o_(o,y)}),o.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){ve(Ja,"Failed to raise snapshot:",r),await hm(t,r)}}async function hm(t,e,n){if(!Zc(e))throw e;t.Ea.add(1),await Ch(t),t.Ra.set("Offline"),n||(n=()=>lk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ve(Ja,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ag(t)})}function pk(t,e){return e().catch(n=>hm(t,n,e))}async function lg(t){const e=ze(t),n=Wo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:qw;for(;E7(e);)try{const s=await s7(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,T7(e,s)}catch(s){await hm(e,s)}mk(e)&&gk(e)}function E7(t){return hl(t)&&t.Ta.length<10}function T7(t,e){t.Ta.push(e);const n=Wo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function mk(t){return hl(t)&&!Wo(t).x_()&&t.Ta.length>0}function gk(t){Wo(t).start()}async function S7(t){Wo(t).ra()}async function C7(t){const e=Wo(t);for(const n of t.Ta)e.ea(n.mutations)}async function I7(t,e,n){const r=t.Ta.shift(),s=Jw.from(r,e,n);await pk(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await lg(t)}async function N7(t,e){e&&Wo(t).X_&&await async function(r,s){if(function(a){return cW(a)&&a!==re.ABORTED}(s.code)){const o=r.Ta.shift();Wo(r).B_(),await pk(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await lg(r)}}(t,e),mk(t)&&gk(t)}async function N1(t,e){const n=ze(t);n.asyncQueue.verifyOperationInProgress(),ve(Ja,"RemoteStore received new credentials");const r=hl(n);n.Ea.add(3),await Ch(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ag(n)}async function A7(t,e){const n=ze(t);e?(n.Ea.delete(2),await ag(n)):e||(n.Ea.add(2),await Ch(n),n.Ra.set("Unknown"))}function tu(t){return t.ma||(t.ma=function(n,r,s){const o=ze(n);return o.sa(),new f7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:x7.bind(null,t),t_:w7.bind(null,t),r_:_7.bind(null,t),H_:b7.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),l_(t)?a_(t):t.Ra.set("Unknown")):(await t.ma.stop(),fk(t))})),t.ma}function Wo(t){return t.fa||(t.fa=function(n,r,s){const o=ze(n);return o.sa(),new p7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:S7.bind(null,t),r_:N7.bind(null,t),ta:C7.bind(null,t),na:I7.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await lg(t)):(await t.fa.stop(),t.Ta.length>0&&(ve(Ja,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const a=Date.now()+r,u=new c_(e,n,a,s,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function u_(t,e){if(Ni("AsyncQueue",`${e}: ${t}`),Zc(t))return new fe(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{static emptySet(e){return new Ec(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ne.comparator(n.key,r.key):(n,r)=>Ne.comparator(n.key,r.key),this.keyedMap=yd(),this.sortedSet=new Zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ec)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ec;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(){this.ga=new Zt(Ne.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Me(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Lc{constructor(e,n,r,s,o,a,u,h,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,s,o){const a=[];return n.forEach(u=>{a.push({type:0,doc:u})}),new Lc(e,n,Ec.emptySet(n),a,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class P7{constructor(){this.queries=R1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ze(n),o=s.queries;s.queries=R1(),o.forEach((a,u)=>{for(const h of u.Sa)h.onError(r)})})(this,new fe(re.ABORTED,"Firestore shutting down"))}}function R1(){return new dl(t=>OP(t),tg)}async function d_(t,e){const n=ze(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.ba()&&e.Da()&&(r=2):(o=new R7,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const u=u_(a,`Initialization of query '${lc(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&f_(n)}async function h_(t,e){const n=ze(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const a=o.Sa.indexOf(e);a>=0&&(o.Sa.splice(a,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function k7(t,e){const n=ze(t);let r=!1;for(const s of e){const o=s.query,a=n.queries.get(o);if(a){for(const u of a.Sa)u.Fa(s)&&(r=!0);a.wa=s}}r&&f_(n)}function j7(t,e,n){const r=ze(t),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);r.queries.delete(e)}function f_(t){t.Ca.forEach(e=>{e.next()})}var ax,P1;(P1=ax||(ax={})).Ma="default",P1.Cache="cache";class p_{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Lc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Lc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ax.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.key=e}}class vk{constructor(e){this.key=e}}class D7{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ye(),this.mutatedKeys=Ye(),this.eu=LP(e),this.tu=new Ec(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new A1,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,a=s,u=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((m,y)=>{const v=s.get(m),E=ng(this.query,y)?y:null,I=!!v&&this.mutatedKeys.has(v.key),S=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let T=!1;v&&E?v.data.isEqual(E.data)?I!==S&&(r.track({type:3,doc:E}),T=!0):this.su(v,E)||(r.track({type:2,doc:E}),T=!0,(h&&this.eu(E,h)>0||f&&this.eu(E,f)<0)&&(u=!0)):!v&&E?(r.track({type:0,doc:E}),T=!0):v&&!E&&(r.track({type:1,doc:v}),T=!0,(h||f)&&(u=!0)),T&&(E?(a=a.add(E),o=S?o.add(m):o.delete(m)):(a=a.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{tu:a,iu:r,Cs:u,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((m,y)=>function(E,I){const S=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Rt:T})}};return S(E)-S(I)}(m.type,y.type)||this.eu(m.doc,y.doc)),this.ou(r),s=s??!1;const u=n&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,f=h!==this.Za;return this.Za=h,a.length!==0||f?{snapshot:new Lc(this.query,e.tu,o,a,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new A1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ye(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new vk(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new yk(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Lc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const m_="SyncEngine";class M7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class O7{constructor(e){this.key=e,this.hu=!1}}class L7{constructor(e,n,r,s,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new dl(u=>OP(u),tg),this.Iu=new Map,this.Eu=new Set,this.du=new Zt(Ne.comparator),this.Au=new Map,this.Ru=new t_,this.Vu={},this.mu=new Map,this.fu=Oc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function V7(t,e,n=!0){const r=Tk(t);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await xk(r,e,n,!0),s}async function F7(t,e){const n=Tk(t);await xk(n,e,!0,!1)}async function xk(t,e,n,r){const s=await i7(t.localStore,Ls(e)),o=s.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let u;return r&&(u=await U7(t,e,o,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&dk(t.remoteStore,s),u}async function U7(t,e,n,r,s){t.pu=(y,v,E)=>async function(S,T,N,j){let k=T.view.ru(N);k.Cs&&(k=await E1(S.localStore,T.query,!1).then(({documents:P})=>T.view.ru(P,k)));const $=j&&j.targetChanges.get(T.targetId),B=j&&j.targetMismatches.get(T.targetId)!=null,W=T.view.applyChanges(k,S.isPrimaryClient,$,B);return j1(S,T.targetId,W.au),W.snapshot}(t,y,v,E);const o=await E1(t.localStore,e,!0),a=new D7(e,o.Qs),u=a.ru(o.documents),h=Sh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),f=a.applyChanges(u,t.isPrimaryClient,h);j1(t,n,f.au);const m=new M7(e,n,a);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function B7(t,e,n){const r=ze(t),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter(a=>!tg(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ix(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&i_(r.remoteStore,s.targetId),lx(r,s.targetId)}).catch(Jc)):(lx(r,s.targetId),await ix(r.localStore,s.targetId,!0))}async function z7(t,e){const n=ze(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),i_(n.remoteStore,r.targetId))}async function $7(t,e,n){const r=Q7(t);try{const s=await function(a,u){const h=ze(a),f=st.now(),m=u.reduce((E,I)=>E.add(I.key),Ye());let y,v;return h.persistence.runTransaction("Locally write mutations","readwrite",E=>{let I=Ai(),S=Ye();return h.Ns.getEntries(E,m).next(T=>{I=T,I.forEach((N,j)=>{j.isValidDocument()||(S=S.add(N))})}).next(()=>h.localDocuments.getOverlayedDocuments(E,I)).next(T=>{y=T;const N=[];for(const j of u){const k=sW(j,y.get(j.key).overlayedDocument);k!=null&&N.push(new ta(j.key,k,NP(k.value.mapValue),Zr.exists(!0)))}return h.mutationQueue.addMutationBatch(E,f,N,u)}).next(T=>{v=T;const N=T.applyToLocalDocumentSet(y,S);return h.documentOverlayCache.saveOverlays(E,T.batchId,N)})}).then(()=>({batchId:v.batchId,changes:FP(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,u,h){let f=a.Vu[a.currentUser.toKey()];f||(f=new Zt(Ke)),f=f.insert(u,h),a.Vu[a.currentUser.toKey()]=f}(r,s.batchId,n),await Ih(r,s.changes),await lg(r.remoteStore)}catch(s){const o=u_(s,"Failed to persist write");n.reject(o)}}async function wk(t,e){const n=ze(t);try{const r=await n7(n.localStore,e);e.targetChanges.forEach((s,o)=>{const a=n.Au.get(o);a&&(ct(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?ct(a.hu,14607):s.removedDocuments.size>0&&(ct(a.hu,42227),a.hu=!1))}),await Ih(n,r,e)}catch(r){await Jc(r)}}function k1(t,e,n){const r=ze(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((o,a)=>{const u=a.view.va(e);u.snapshot&&s.push(u.snapshot)}),function(a,u){const h=ze(a);h.onlineState=u;let f=!1;h.queries.forEach((m,y)=>{for(const v of y.Sa)v.va(u)&&(f=!0)}),f&&f_(h)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function W7(t,e,n){const r=ze(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),o=s&&s.key;if(o){let a=new Zt(Ne.comparator);a=a.insert(o,Dn.newNoDocument(o,Ue.min()));const u=Ye().add(o),h=new ig(Ue.min(),new Map,new Zt(Ke),a,u);await wk(r,h),r.du=r.du.remove(o),r.Au.delete(e),g_(r)}else await ix(r.localStore,e,!1).then(()=>lx(r,e,n)).catch(Jc)}async function H7(t,e){const n=ze(t),r=e.batch.batchId;try{const s=await t7(n.localStore,e);bk(n,r,null),_k(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ih(n,s)}catch(s){await Jc(s)}}async function q7(t,e,n){const r=ze(t);try{const s=await function(a,u){const h=ze(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return h.mutationQueue.lookupMutationBatch(f,u).next(y=>(ct(y!==null,37113),m=y.keys(),h.mutationQueue.removeMutationBatch(f,y))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,m,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>h.localDocuments.getDocuments(f,m))})}(r.localStore,e);bk(r,e,n),_k(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ih(r,s)}catch(s){await Jc(s)}}function _k(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function bk(t,e,n){const r=ze(t);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function lx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||Ek(t,r)})}function Ek(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(i_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),g_(t))}function j1(t,e,n){for(const r of n)r instanceof yk?(t.Ru.addReference(r.key,e),G7(t,r)):r instanceof vk?(ve(m_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Ek(t,r.key)):Me(19791,{wu:r})}function G7(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ve(m_,"New document in limbo: "+n),t.Eu.add(r),g_(t))}function g_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ne(mt.fromString(e)),r=t.fu.next();t.Au.set(r,new O7(n)),t.du=t.du.insert(n,r),dk(t.remoteStore,new Io(Ls(eg(n.path)),r,"TargetPurposeLimboResolution",Xm.ce))}}async function Ih(t,e,n){const r=ze(t),s=[],o=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((u,h)=>{a.push(r.pu(h,e,n).then(f=>{var m;if((f||n)&&r.isPrimaryClient){const y=f?!f.fromCache:(m=n==null?void 0:n.targetChanges.get(h.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(f){s.push(f);const y=r_.As(h.targetId,f);o.push(y)}}))}),await Promise.all(a),r.Pu.H_(s),await async function(h,f){const m=ze(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>se.forEach(f,v=>se.forEach(v.Es,E=>m.persistence.referenceDelegate.addReference(y,v.targetId,E)).next(()=>se.forEach(v.ds,E=>m.persistence.referenceDelegate.removeReference(y,v.targetId,E)))))}catch(y){if(!Zc(y))throw y;ve(s_,"Failed to update sequence numbers: "+y)}for(const y of f){const v=y.targetId;if(!y.fromCache){const E=m.Ms.get(v),I=E.snapshotVersion,S=E.withLastLimboFreeSnapshotVersion(I);m.Ms=m.Ms.insert(v,S)}}}(r.localStore,o))}async function K7(t,e){const n=ze(t);if(!n.currentUser.isEqual(e)){ve(m_,"User change. New user:",e.toKey());const r=await ak(n.localStore,e);n.currentUser=e,function(o,a){o.mu.forEach(u=>{u.forEach(h=>{h.reject(new fe(re.CANCELLED,a))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ih(n,r.Ls)}}function Y7(t,e){const n=ze(t),r=n.Au.get(e);if(r&&r.hu)return Ye().add(r.key);{let s=Ye();const o=n.Iu.get(e);if(!o)return s;for(const a of o){const u=n.Tu.get(a);s=s.unionWith(u.view.nu)}return s}}function Tk(t){const e=ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Y7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=W7.bind(null,e),e.Pu.H_=k7.bind(null,e.eventManager),e.Pu.yu=j7.bind(null,e.eventManager),e}function Q7(t){const e=ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=H7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=q7.bind(null,e),e}class fm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=og(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return e7(this.persistence,new XW,e.initialUser,this.serializer)}Cu(e){return new ok(n_.mi,this.serializer)}Du(e){return new a7}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fm.provider={build:()=>new fm};class X7 extends fm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ct(this.persistence.referenceDelegate instanceof dm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new OW(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Jn.withCacheSize(this.cacheSizeBytes):Jn.DEFAULT;return new ok(r=>dm.mi(r,n),this.serializer)}}class cx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>k1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=K7.bind(null,this.syncEngine),await A7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new P7}()}createDatastore(e){const n=og(e.databaseInfo.databaseId),r=function(o){return new h7(o)}(e.databaseInfo);return function(o,a,u,h){return new g7(o,a,u,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,a,u){return new v7(r,s,o,a,u)}(this.localStore,this.datastore,e.asyncQueue,n=>k1(this.syncEngine,n,0),function(){return C1.v()?new C1:new l7}())}createSyncEngine(e,n){return function(s,o,a,u,h,f,m){const y=new L7(s,o,a,u,h,f);return m&&(y.gu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=ze(s);ve(Ja,"RemoteStore shutting down."),o.Ea.add(5),await Ch(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}cx.provider={build:()=>new cx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ni("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="FirestoreClient";class J7{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=kn.UNAUTHENTICATED,this.clientId=Hw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{ve(Ho,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(ve(Ho,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=u_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hv(t,e){t.asyncQueue.verifyOperationInProgress(),ve(Ho,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await ak(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function D1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Z7(t);ve(Ho,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>N1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>N1(e.remoteStore,s)),t._onlineComponents=e}async function Z7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve(Ho,"Using user provided OfflineComponentProvider");try{await Hv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===re.FAILED_PRECONDITION||s.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;kc("Error using user provided cache. Falling back to memory cache: "+n),await Hv(t,new fm)}}else ve(Ho,"Using default OfflineComponentProvider"),await Hv(t,new X7(void 0));return t._offlineComponents}async function Sk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve(Ho,"Using user provided OnlineComponentProvider"),await D1(t,t._uninitializedComponentsProvider._online)):(ve(Ho,"Using default OnlineComponentProvider"),await D1(t,new cx))),t._onlineComponents}function eH(t){return Sk(t).then(e=>e.syncEngine)}async function pm(t){const e=await Sk(t),n=e.eventManager;return n.onListen=V7.bind(null,e.syncEngine),n.onUnlisten=B7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=F7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=z7.bind(null,e.syncEngine),n}function tH(t,e,n={}){const r=new wi;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,u,h,f){const m=new y_({next:v=>{m.Nu(),a.enqueueAndForget(()=>h_(o,y));const E=v.docs.has(u);!E&&v.fromCache?f.reject(new fe(re.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&v.fromCache&&h&&h.source==="server"?f.reject(new fe(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),y=new p_(eg(u.path),m,{includeMetadataChanges:!0,qa:!0});return d_(o,y)}(await pm(t),t.asyncQueue,e,n,r)),r.promise}function nH(t,e,n={}){const r=new wi;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,u,h,f){const m=new y_({next:v=>{m.Nu(),a.enqueueAndForget(()=>h_(o,y)),v.fromCache&&h.source==="server"?f.reject(new fe(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),y=new p_(u,m,{includeMetadataChanges:!0,qa:!0});return d_(o,y)}(await pm(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik="firestore.googleapis.com",O1=!0;class L1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ik,this.ssl=O1}else this.host=e.host,this.ssl=e.ssl??O1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ik;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DW)throw new fe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}g$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ck(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cg{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new o$;switch(r.type){case"firstParty":return new u$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=M1.get(n);r&&(ve("ComponentProvider","Removing Datastore"),M1.delete(n),r.terminate())}(this),Promise.resolve()}}function rH(t,e,n,r={}){var f;t=mr(t,cg);const s=Zo(e),o=t._getSettings(),a={...o,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;s&&(Aw(`https://${u}`),Rw("Firestore",!0)),o.host!==Ik&&o.host!==u&&kc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:u,ssl:s,emulatorOptions:r};if(!Vo(h,a)&&(t._setSettings(h),r.mockUserToken)){let m,y;if(typeof r.mockUserToken=="string")m=r.mockUserToken,y=kn.MOCK_USER;else{m=xR(r.mockUserToken,(f=t._app)==null?void 0:f.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new fe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new kn(v)}t._authCredentials=new a$(new gP(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vi(this.firestore,e,this._query)}}class Lt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Do(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Eh(n,Lt._jsonSchema))return new Lt(e,r||null,new Ne(mt.fromString(n.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:Xt("string",Lt._jsonSchemaVersion),referencePath:Xt("string")};class Do extends Vi{constructor(e,n,r){super(e,n,eg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new Ne(e))}withConverter(e){return new Do(this.firestore,e,this._path)}}function Fs(t,e,...n){if(t=It(t),yP("collection","path",e),t instanceof cg){const r=mt.fromString(e,...n);return QC(r),new Do(t,null,r)}{if(!(t instanceof Lt||t instanceof Do))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mt.fromString(e,...n));return QC(r),new Do(t.firestore,null,r)}}function Un(t,e,...n){if(t=It(t),arguments.length===1&&(e=Hw.newId()),yP("doc","path",e),t instanceof cg){const r=mt.fromString(e,...n);return YC(r),new Lt(t,null,new Ne(r))}{if(!(t instanceof Lt||t instanceof Do))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mt.fromString(e,...n));return YC(r),new Lt(t.firestore,t instanceof Do?t.converter:null,new Ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="AsyncQueue";class F1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ck(this,"async_queue_retry"),this._c=()=>{const r=Wv();r&&ve(V1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Wv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Wv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new wi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Zc(e))throw e;ve(V1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ni("INTERNAL UNHANDLED ERROR: ",U1(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=c_.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(s),s}uc(){this.nc&&Me(47125,{Pc:U1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function U1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1}(t,["next","error","complete"])}class qo extends cg{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new F1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new F1(e),this._firestoreClient=void 0,await e}}}function sH(t,e){const n=typeof t=="object"?t:jw(),r=typeof t=="string"?t:im,s=qm(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=gR("firestore");o&&rH(s,...o)}return s}function ug(t){if(t._terminated)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||iH(t),t._firestoreClient}function iH(t){var r,s,o;const e=t._freezeSettings(),n=function(u,h,f,m){return new N$(u,h,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Ck(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new J7(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ar(Tn.fromBase64String(e))}catch(n){throw new fe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ar(Tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ar._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Eh(e,Ar._jsonSchema))return Ar.fromBase64String(e.bytes)}}Ar._jsonSchemaVersion="firestore/bytes/1.0",Ar._jsonSchema={type:Xt("string",Ar._jsonSchemaVersion),bytes:Xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new En(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Us._jsonSchemaVersion}}static fromJSON(e){if(Eh(e,Us._jsonSchema))return new Us(e.latitude,e.longitude)}}Us._jsonSchemaVersion="firestore/geoPoint/1.0",Us._jsonSchema={type:Xt("string",Us._jsonSchemaVersion),latitude:Xt("number"),longitude:Xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Bs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Eh(e,Bs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Bs(e.vectorValues);throw new fe(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bs._jsonSchemaVersion="firestore/vectorValue/1.0",Bs._jsonSchema={type:Xt("string",Bs._jsonSchemaVersion),vectorValues:Xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oH=/^__.*__$/;class aH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ta(e,this.data,this.fieldMask,n,this.fieldTransforms):new Th(e,this.data,n,this.fieldTransforms)}}class Nk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ta(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ak(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{Ac:t})}}class v_{constructor(e,n,r,s,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new v_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return mm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Ak(this.Ac)&&oH.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class lH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||og(e)}Cc(e,n,r,s=!1){return new v_({Ac:e,methodName:n,Dc:r,path:En.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fg(t){const e=t._freezeSettings(),n=og(t._databaseId);return new lH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Rk(t,e,n,r,s,o={}){const a=t.Cc(o.merge||o.mergeFields?2:0,e,n,s);w_("Data must be an object, but it was:",a,r);const u=Pk(r,a);let h,f;if(o.merge)h=new pr(a.fieldMask),f=a.fieldTransforms;else if(o.mergeFields){const m=[];for(const y of o.mergeFields){const v=ux(e,y,n);if(!a.contains(v))throw new fe(re.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);jk(m,v)||m.push(v)}h=new pr(m),f=a.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,f=a.fieldTransforms;return new aH(new Zn(u),h,f)}class pg extends hg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pg}}class x_ extends hg{_toFieldTransform(e){return new eW(e.path,new eh)}isEqual(e){return e instanceof x_}}function cH(t,e,n,r){const s=t.Cc(1,e,n);w_("Data must be an object, but it was:",s,r);const o=[],a=Zn.empty();ea(r,(h,f)=>{const m=__(e,h,n);f=It(f);const y=s.yc(m);if(f instanceof pg)o.push(m);else{const v=Nh(f,y);v!=null&&(o.push(m),a.set(m,v))}});const u=new pr(o);return new Nk(a,u,s.fieldTransforms)}function uH(t,e,n,r,s,o){const a=t.Cc(1,e,n),u=[ux(e,r,n)],h=[s];if(o.length%2!=0)throw new fe(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)u.push(ux(e,o[v])),h.push(o[v+1]);const f=[],m=Zn.empty();for(let v=u.length-1;v>=0;--v)if(!jk(f,u[v])){const E=u[v];let I=h[v];I=It(I);const S=a.yc(E);if(I instanceof pg)f.push(E);else{const T=Nh(I,S);T!=null&&(f.push(E),m.set(E,T))}}const y=new pr(f);return new Nk(m,y,a.fieldTransforms)}function dH(t,e,n,r=!1){return Nh(n,t.Cc(r?4:3,e))}function Nh(t,e){if(kk(t=It(t)))return w_("Unsupported field value:",e,t),Pk(t,e);if(t instanceof hg)return function(r,s){if(!Ak(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const o=[];let a=0;for(const u of r){let h=Nh(u,s.wc(a));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=It(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return X$(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=st.fromDate(r);return{timestampValue:um(s.serializer,o)}}if(r instanceof st){const o=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:um(s.serializer,o)}}if(r instanceof Us)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ar)return{bytesValue:JP(s.serializer,r._byteString)};if(r instanceof Lt){const o=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw s.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:e_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Bs)return function(a,u){return{mapValue:{fields:{[CP]:{stringValue:IP},[om]:{arrayValue:{values:a.toArray().map(f=>{if(typeof f!="number")throw u.Sc("VectorValues must only contain numeric values.");return Xw(u.serializer,f)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Qm(r)}`)}(t,e)}function Pk(t,e){const n={};return wP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ea(t,(r,s)=>{const o=Nh(s,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function kk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof Us||t instanceof Ar||t instanceof Lt||t instanceof hg||t instanceof Bs)}function w_(t,e,n){if(!kk(n)||!vP(n)){const r=Qm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function ux(t,e,n){if((e=It(e))instanceof dg)return e._internalPath;if(typeof e=="string")return __(t,e);throw mm("Field path arguments must be of type string or ",t,!1,void 0,n)}const hH=new RegExp("[~\\*/\\[\\]]");function __(t,e,n){if(e.search(hH)>=0)throw mm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new dg(...e.split("."))._internalPath}catch{throw mm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mm(t,e,n,r,s){const o=r&&!r.isEmpty(),a=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||a)&&(h+=" (found",o&&(h+=` in field ${r}`),a&&(h+=` in document ${s}`),h+=")"),new fe(re.INVALID_ARGUMENT,u+t+h)}function jk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fH extends Dk{data(){return super.data()}}function mg(t,e){return typeof e=="string"?__(t,e):e instanceof dg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class b_{}class E_ extends b_{}function Ri(t,e,...n){let r=[];e instanceof b_&&r.push(e),r=r.concat(n),function(o){const a=o.filter(h=>h instanceof T_).length,u=o.filter(h=>h instanceof gg).length;if(a>1||a>0&&u>0)throw new fe(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class gg extends E_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new gg(e,n,r)}_apply(e){const n=this._parse(e);return Ok(e._query,n),new Vi(e.firestore,e.converter,ex(e._query,n))}_parse(e){const n=fg(e.firestore);return function(o,a,u,h,f,m,y){let v;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new fe(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){$1(y,m);const I=[];for(const S of y)I.push(z1(h,o,S));v={arrayValue:{values:I}}}else v=z1(h,o,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||$1(y,m),v=dH(u,a,y,m==="in"||m==="not-in");return Qt.create(f,m,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function zs(t,e,n){const r=e,s=mg("where",t);return gg._create(s,r,n)}class T_ extends b_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new T_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ts.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let a=s;const u=o.getFlattenedFilters();for(const h of u)Ok(a,h),a=ex(a,h)}(e._query,n),new Vi(e.firestore,e.converter,ex(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class S_ extends E_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new S_(e,n)}_apply(e){const n=function(s,o,a){if(s.startAt!==null)throw new fe(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new fe(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zd(o,a)}(e._query,this._field,this._direction);return new Vi(e.firestore,e.converter,function(s,o){const a=s.explicitOrderBy.concat([o]);return new eu(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function pH(t,e="asc"){const n=e,r=mg("orderBy",t);return S_._create(r,n)}class C_ extends E_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new C_(e,n,r)}_apply(e){return new Vi(e.firestore,e.converter,lm(e._query,this._limit,this._limitType))}}function mH(t){return y$("limit",t),C_._create("limit",t,"F")}function z1(t,e,n){if(typeof(n=It(n))=="string"){if(n==="")throw new fe(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MP(e)&&n.indexOf("/")!==-1)throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(mt.fromString(n));if(!Ne.isDocumentKey(r))throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return s1(t,new Ne(r))}if(n instanceof Lt)return s1(t,n._key);throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qm(n)}.`)}function $1(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ok(t,e){const n=function(s,o){for(const a of s)for(const u of a.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class gH{convertValue(e,n="none"){switch($o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ea(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,s,o;const n=(o=(s=(r=e.fields)==null?void 0:r[om].arrayValue)==null?void 0:s.values)==null?void 0:o.map(a=>zt(a.doubleValue));return new Bs(n)}convertGeoPoint(e){return new Us(zt(e.latitude),zt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Zm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Qd(e));default:return null}}convertTimestamp(e){const n=Bo(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=mt.fromString(e);ct(sk(r),9688,{name:e});const s=new Xd(r.get(1),r.get(3)),o=new Ne(r.popFirst(5));return s.isEqual(n)||Ni(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class xd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class za extends Dk{constructor(e,n,r,s,o,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(mg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=za._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}za._jsonSchemaVersion="firestore/documentSnapshot/1.0",za._jsonSchema={type:Xt("string",za._jsonSchemaVersion),bundleSource:Xt("string","DocumentSnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class Dp extends za{data(e={}){return super.data(e)}}class $a{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new xd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Dp(this._firestore,this._userDataWriter,r.key,r,new xd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(u=>{const h=new Dp(s._firestore,s._userDataWriter,u.doc.key,u.doc,new xd(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const h=new Dp(s._firestore,s._userDataWriter,u.doc.key,u.doc,new xd(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,m=-1;return u.type!==0&&(f=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),m=a.indexOf(u.doc.key)),{type:yH(u.type),doc:h,oldIndex:f,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$a._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function yH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(t){t=mr(t,Lt);const e=mr(t.firestore,qo);return tH(ug(e),t._key).then(n=>Vk(e,t,n))}$a._jsonSchemaVersion="firestore/querySnapshot/1.0",$a._jsonSchema={type:Xt("string",$a._jsonSchemaVersion),bundleSource:Xt("string","QuerySnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class I_ extends gH{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ar(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,n)}}function Vc(t){t=mr(t,Vi);const e=mr(t.firestore,qo),n=ug(e),r=new I_(e);return Mk(t._query),nH(n,t._query).then(s=>new $a(e,r,t,s))}function Fc(t,e,n){t=mr(t,Lt);const r=mr(t.firestore,qo),s=Lk(t.converter,e,n);return A_(r,[Rk(fg(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Zr.none())])}function ru(t,e,n,...r){t=mr(t,Lt);const s=mr(t.firestore,qo),o=fg(s);let a;return a=typeof(e=It(e))=="string"||e instanceof dg?uH(o,"updateDoc",t._key,e,n,r):cH(o,"updateDoc",t._key,e),A_(s,[a.toMutation(t._key,Zr.exists(!0))])}function vH(t,e){const n=mr(t.firestore,qo),r=Un(t),s=Lk(t.converter,e);return A_(n,[Rk(fg(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Zr.exists(!1))]).then(()=>r)}function N_(t,...e){var h,f,m;t=It(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||B1(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(B1(e[r])){const y=e[r];e[r]=(h=y.next)==null?void 0:h.bind(y),e[r+1]=(f=y.error)==null?void 0:f.bind(y),e[r+2]=(m=y.complete)==null?void 0:m.bind(y)}let o,a,u;if(t instanceof Lt)a=mr(t.firestore,qo),u=eg(t._key.path),o={next:y=>{e[r]&&e[r](Vk(a,t,y))},error:e[r+1],complete:e[r+2]};else{const y=mr(t,Vi);a=mr(y.firestore,qo),u=y._query;const v=new I_(a);o={next:E=>{e[r]&&e[r](new $a(a,v,y,E))},error:e[r+1],complete:e[r+2]},Mk(t._query)}return function(v,E,I,S){const T=new y_(S),N=new p_(E,T,I);return v.asyncQueue.enqueueAndForget(async()=>d_(await pm(v),N)),()=>{T.Nu(),v.asyncQueue.enqueueAndForget(async()=>h_(await pm(v),N))}}(ug(a),u,s,o)}function A_(t,e){return function(r,s){const o=new wi;return r.asyncQueue.enqueueAndForget(async()=>$7(await eH(r),s,o)),o.promise}(ug(t),e)}function Vk(t,e,n){const r=n.docs.get(e._key),s=new I_(t);return new za(t,s,e._key,r,new xd(n.hasPendingWrites,n.fromCache),e.converter)}function No(){return new x_("serverTimestamp")}(function(e,n=!0){(function(s){Xc=s})(cl),Ga(new Fo("firestore",(r,{instanceIdentifier:s,options:o})=>{const a=r.getProvider("app").getImmediate(),u=new qo(new l$(r.getProvider("auth-internal")),new d$(a,r.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new fe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xd(f.options.projectId,m)}(a,s),a);return o={useFetchStreams:n,...o},u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),Ds(HC,qC,e),Ds(HC,qC,"esm2020")})();var xH="firebase",wH="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ds(xH,wH,"app");var W1={};const H1="@firebase/database",q1="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fk="";function _H(t){Fk=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),bn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:qd(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Mi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new bH(e)}}catch{}return new EH},Fa=Uk("localStorage"),TH=Uk("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=new Hm("@firebase/database"),SH=function(){let t=1;return function(){return t++}}(),Bk=function(t){const e=A8(t),n=new T8;n.update(e);const r=n.digest();return Iw.encodeByteArray(r)},Ah=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ah.apply(null,r):typeof r=="object"?e+=bn(r):e+=r,e+=" "}return e};let jd=null,G1=!0;const CH=function(t,e){he(!0,"Can't turn on custom loggers persistently."),Tc.logLevel=Ge.VERBOSE,jd=Tc.log.bind(Tc)},Mn=function(...t){if(G1===!0&&(G1=!1,jd===null&&TH.get("logging_enabled")===!0&&CH()),jd){const e=Ah.apply(null,t);jd(e)}},Rh=function(t){return function(...e){Mn(t,...e)}},dx=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ah(...t);Tc.error(e)},Pi=function(...t){const e=`FIREBASE FATAL ERROR: ${Ah(...t)}`;throw Tc.error(e),new Error(e)},gr=function(...t){const e="FIREBASE WARNING: "+Ah(...t);Tc.warn(e)},IH=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&gr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},zk=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},NH=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Uc="[MIN_NAME]",Za="[MAX_NAME]",su=function(t,e){if(t===e)return 0;if(t===Uc||e===Za)return-1;if(e===Uc||t===Za)return 1;{const n=K1(t),r=K1(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},AH=function(t,e){return t===e?0:t<e?-1:1},ad=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+bn(e))},R_=function(t){if(typeof t!="object"||t===null)return bn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=bn(e[r]),n+=":",n+=R_(t[e[r]]);return n+="}",n},$k=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Mr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Wk=function(t){he(!zk(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,o,a,u,h;t===0?(o=0,a=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(u=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=u+r,a=Math.round(t*Math.pow(2,n-u)-Math.pow(2,n))):(o=0,a=Math.round(t/Math.pow(2,1-r-n))));const f=[];for(h=n;h;h-=1)f.push(a%2?1:0),a=Math.floor(a/2);for(h=e;h;h-=1)f.push(o%2?1:0),o=Math.floor(o/2);f.push(s?1:0),f.reverse();const m=f.join("");let y="";for(h=0;h<64;h+=8){let v=parseInt(m.substr(h,8),2).toString(16);v.length===1&&(v="0"+v),y=y+v}return y.toLowerCase()},RH=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},PH=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},kH=new RegExp("^-?(0*)\\d{1,10}$"),jH=-2147483648,DH=2147483647,K1=function(t){if(kH.test(t)){const e=Number(t);if(e>=jH&&e<=DH)return e}return null},Ph=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw gr("Exception was thrown by user callback.",n),e},Math.floor(0))}},MH=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Dd=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,$n(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){gr(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Mn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',gr(e)}}class Mp{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Mp.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="5",Hk="v",qk="s",Gk="r",Kk="f",Yk=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Qk="ls",Xk="p",hx="ac",Jk="websocket",Zk="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,n,r,s,o=!1,a="",u=!1,h=!1,f=null){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=h,this.emulatorOptions=f,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Fa.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Fa.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function VH(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function t2(t,e,n){he(typeof e=="string","typeof type must == string"),he(typeof n=="object","typeof params must == object");let r;if(e===Jk)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Zk)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);VH(t)&&(n.ns=t.namespace);const s=[];return Mr(n,(o,a)=>{s.push(o+"="+a)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{constructor(){this.counters_={}}incrementCounter(e,n=1){Mi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return r8(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv={},Gv={};function k_(t){const e=t.toString();return qv[e]||(qv[e]=new FH),qv[e]}function UH(t,e){const n=t.toString();return Gv[n]||(Gv[n]=e()),Gv[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Ph(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="start",zH="close",$H="pLPCommand",WH="pRTLPCB",n2="id",r2="pw",s2="ser",HH="cb",qH="seg",GH="ts",KH="d",YH="dframe",i2=1870,o2=30,QH=i2-o2,XH=25e3,JH=3e4;class yc{constructor(e,n,r,s,o,a,u){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.transportSessionId=a,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Rh(e),this.stats_=k_(n),this.urlFn=h=>(this.appCheckToken&&(h[hx]=this.appCheckToken),t2(n,Zk,h))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new BH(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(JH)),NH(()=>{if(this.isClosed_)return;this.scriptTagHolder=new j_((...o)=>{const[a,u,h,f,m]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===Y1)this.id=u,this.password=h;else if(a===zH)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...o)=>{const[a,u]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(a,u)},()=>{this.onClosed_()},this.urlFn);const r={};r[Y1]="t",r[s2]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[HH]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Hk]=P_,this.transportSessionId&&(r[qk]=this.transportSessionId),this.lastSessionId&&(r[Qk]=this.lastSessionId),this.applicationId&&(r[Xk]=this.applicationId),this.appCheckToken&&(r[hx]=this.appCheckToken),typeof location<"u"&&location.hostname&&Yk.test(location.hostname)&&(r[Gk]=Kk);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){yc.forceAllow_=!0}static forceDisallow(){yc.forceDisallow_=!0}static isAvailable(){return yc.forceAllow_?!0:!yc.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!RH()&&!PH()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=bn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=fR(n),s=$k(r,QH);for(let o=0;o<s.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[YH]="t",r[n2]=e,r[r2]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=bn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class j_{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=SH(),window[$H+this.uniqueCallbackIdentifier]=e,window[WH+this.uniqueCallbackIdentifier]=n,this.myIFrame=j_.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){Mn("frame writing exception"),u.stack&&Mn(u.stack),Mn(u)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Mn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[n2]=this.myID,e[r2]=this.myPW,e[s2]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+o2+r.length<=i2;){const a=this.pendingSegs.shift();r=r+"&"+qH+s+"="+a.seg+"&"+GH+s+"="+a.ts+"&"+KH+s+"="+a.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(XH)),o=()=>{clearTimeout(s),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Mn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZH=16384,eq=45e3;let gm=null;typeof MozWebSocket<"u"?gm=MozWebSocket:typeof WebSocket<"u"&&(gm=WebSocket);class Yr{constructor(e,n,r,s,o,a,u){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Rh(this.connId),this.stats_=k_(n),this.connURL=Yr.connectionURL_(n,a,u,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,o){const a={};return a[Hk]=P_,typeof location<"u"&&location.hostname&&Yk.test(location.hostname)&&(a[Gk]=Kk),n&&(a[qk]=n),r&&(a[Qk]=r),s&&(a[hx]=s),o&&(a[Xk]=o),t2(e,Jk,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Fa.set("previous_websocket_failure",!0);try{let r;m8(),this.mySock=new gm(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Yr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&gm!==null&&!Yr.forceDisallow_}static previouslyFailed(){return Fa.isInMemoryStorage||Fa.get("previous_websocket_failure")===!0}markConnectionHealthy(){Fa.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=qd(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(he(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=bn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=$k(n,ZH);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(eq))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Yr.responsesRequiredToBeHealthy=2;Yr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{static get ALL_TRANSPORTS(){return[yc,Yr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Yr&&Yr.isAvailable();let r=n&&!Yr.previouslyFailed();if(e.webSocketOnly&&(n||gr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Yr];else{const s=this.transports_=[];for(const o of rh.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);rh.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}rh.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq=6e4,nq=5e3,rq=10*1024,sq=100*1024,Kv="t",Q1="d",iq="s",X1="r",oq="e",J1="o",Z1="a",eI="n",tI="p",aq="h";class lq{constructor(e,n,r,s,o,a,u,h,f,m){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=o,this.onMessage_=a,this.onReady_=u,this.onDisconnect_=h,this.onKill_=f,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Rh("c:"+this.id+":"),this.transportManager_=new rh(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Dd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>sq?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>rq?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Kv in e){const n=e[Kv];n===Z1?this.upgradeIfSecondaryHealthy_():n===X1?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===J1&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ad("t",e),r=ad("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:tI,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Z1,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:eI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ad("t",e),r=ad("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ad(Kv,e);if(Q1 in e){const r=e[Q1];if(n===aq){const s={...r};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===eI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===iq?this.onConnectionShutdown_(r):n===X1?this.onReset_(r):n===oq?dx("Server Error: "+r):n===J1?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):dx("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),P_!==r&&gr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Dd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(tq))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Dd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(nq))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:tI,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Fa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.allowedEvents_=e,this.listeners_={},he(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let o=0;o<s.length;o++)if(s[o].callback===n&&(!r||r===s[o].context)){s.splice(o,1);return}}validateEventType_(e){he(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym extends l2{static getInstance(){return new ym}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Pw()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return he(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=32,rI=768;class Tt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ht(){return new Tt("")}function tt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Go(t){return t.pieces_.length-t.pieceNum_}function bt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Tt(t.pieces_,e)}function c2(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function cq(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function u2(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function d2(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Tt(e,0)}function mn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Tt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new Tt(n,0)}function Je(t){return t.pieceNum_>=t.pieces_.length}function Rr(t,e){const n=tt(t),r=tt(e);if(n===null)return e;if(n===r)return Rr(bt(t),bt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function h2(t,e){if(Go(t)!==Go(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Xr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Go(t)>Go(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class uq{constructor(e,n){this.errorPrefix_=n,this.parts_=u2(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Wm(this.parts_[r]);f2(this)}}function dq(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Wm(e),f2(t)}function hq(t){const e=t.parts_.pop();t.byteLength_-=Wm(e),t.parts_.length>0&&(t.byteLength_-=1)}function f2(t){if(t.byteLength_>rI)throw new Error(t.errorPrefix_+"has a key path longer than "+rI+" bytes ("+t.byteLength_+").");if(t.parts_.length>nI)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+nI+") or object contains a cycle "+Da(t))}function Da(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_ extends l2{static getInstance(){return new D_}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return he(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=1e3,fq=60*5*1e3,sI=30*1e3,pq=1.3,mq=3e4,gq="server_kill",iI=3;class _i extends a2{constructor(e,n,r,s,o,a,u,h){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=u,this.authOverride_=h,this.id=_i.nextPersistentConnectionId_++,this.log_=Rh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ld,this.maxReconnectDelay_=fq,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");D_.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&ym.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,o={r:s,a:e,b:n};this.log_(bn(o)),he(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new Nw,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const u=a.d;a.s==="ok"?n.resolve(u):n.reject(u)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,s){this.initConnection_();const o=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),he(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),he(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const u={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(a).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const o={p:r},a="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(a,o,u=>{const h=u.d,f=u.s;_i.warnOnListenWarnings_(h,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",u),f!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(f,h))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Mi(e,"w")){const r=Pc(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();gr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||E8(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=sI)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=b8(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const o=s.s,a=s.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),he(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const o={p:e},a="n";s&&(o.q=r,o.t=s),this.sendRequest(a,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,o){this.initConnection_();const a={p:n,d:r};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:e,request:a,onComplete:s}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+bn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):dx("Unrecognized action received from server: "+bn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){he(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ld,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ld,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>mq&&(this.reconnectDelay_=ld),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*pq)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+_i.nextConnectionId_++,o=this.lastSessionId;let a=!1,u=null;const h=function(){u?u.close():(a=!0,r())},f=function(y){he(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(y)};this.realtime_={close:h,sendRequest:f};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,v]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);a?Mn("getToken() completed but was canceled"):(Mn("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=v&&v.token,u=new lq(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,E=>{gr(E+" ("+this.repoInfo_.toString()+")"),this.interrupt(gq)},o))}catch(y){this.log_("Failed to get token: "+y),a||(this.repoInfo_.nodeAdmin&&gr(y),h())}}}interrupt(e){Mn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Mn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],V0(this.interruptReasons_)&&(this.reconnectDelay_=ld,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>R_(o)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new Tt(e).toString();let s;if(this.listens.has(r)){const o=this.listens.get(r);s=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){Mn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=iI&&(this.reconnectDelay_=sI,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Mn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=iI&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Fk.replace(/\./g,"-")]=1,Pw()?e["framework.cordova"]=1:wR()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ym.getInstance().currentlyOnline();return V0(this.interruptReasons_)&&e}}_i.nextPersistentConnectionId_=0;_i.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new nt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new nt(Uc,e),s=new nt(Uc,n);return this.compare(r,s)!==0}minPost(){return nt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dp;class p2 extends yg{static get __EMPTY_NODE(){return dp}static set __EMPTY_NODE(e){dp=e}compare(e,n){return su(e.name,n.name)}isDefinedOn(e){throw Yc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return nt.MIN}maxPost(){return new nt(Za,dp)}makePost(e,n){return he(typeof e=="string","KeyIndex indexValue must always be a string."),new nt(e,dp)}toString(){return".key"}}const Sc=new p2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n,r,s,o=null){this.isReverse_=s,this.resultGenerator_=o,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,s&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class pn{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??pn.RED,this.left=s??tr.EMPTY_NODE,this.right=o??tr.EMPTY_NODE}copy(e,n,r,s,o){return new pn(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return tr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return tr.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}pn.RED=!0;pn.BLACK=!1;class yq{copy(e,n,r,s,o){return this}insert(e,n,r){return new pn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class tr{constructor(e,n=tr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new tr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,pn.BLACK,null,null))}remove(e){return new tr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,pn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new hp(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new hp(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new hp(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new hp(this.root_,null,this.comparator_,!0,e)}}tr.EMPTY_NODE=new yq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vq(t,e){return su(t.name,e.name)}function M_(t,e){return su(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fx;function xq(t){fx=t}const m2=function(t){return typeof t=="number"?"number:"+Wk(t):"string:"+t},g2=function(t){if(t.isLeafNode()){const e=t.val();he(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Mi(e,".sv"),"Priority must be a string or number.")}else he(t===fx||t.isEmpty(),"priority of unexpected type.");he(t===fx||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oI;class hn{static set __childrenNodeConstructor(e){oI=e}static get __childrenNodeConstructor(){return oI}constructor(e,n=hn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,he(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),g2(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new hn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:hn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Je(e)?this:tt(e)===".priority"?this.priorityNode_:hn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:hn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=tt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(he(r!==".priority"||Go(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,hn.__childrenNodeConstructor.EMPTY_NODE.updateChild(bt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+m2(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Wk(this.value_):e+=this.value_,this.lazyHash_=Bk(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===hn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof hn.__childrenNodeConstructor?-1:(he(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=hn.VALUE_TYPE_ORDER.indexOf(n),o=hn.VALUE_TYPE_ORDER.indexOf(r);return he(s>=0,"Unknown leaf type: "+n),he(o>=0,"Unknown leaf type: "+r),s===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}hn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y2,v2;function wq(t){y2=t}function _q(t){v2=t}class bq extends yg{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),o=r.compareTo(s);return o===0?su(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return nt.MIN}maxPost(){return new nt(Za,new hn("[PRIORITY-POST]",v2))}makePost(e,n){const r=y2(e);return new nt(n,new hn("[PRIORITY-POST]",r))}toString(){return".priority"}}const Vn=new bq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eq=Math.log(2);class Tq{constructor(e){const n=o=>parseInt(Math.log(o)/Eq,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const vm=function(t,e,n,r){t.sort(e);const s=function(h,f){const m=f-h;let y,v;if(m===0)return null;if(m===1)return y=t[h],v=n?n(y):y,new pn(v,y.node,pn.BLACK,null,null);{const E=parseInt(m/2,10)+h,I=s(h,E),S=s(E+1,f);return y=t[E],v=n?n(y):y,new pn(v,y.node,pn.BLACK,I,S)}},o=function(h){let f=null,m=null,y=t.length;const v=function(I,S){const T=y-I,N=y;y-=I;const j=s(T+1,N),k=t[T],$=n?n(k):k;E(new pn($,k.node,S,null,j))},E=function(I){f?(f.left=I,f=I):(m=I,f=I)};for(let I=0;I<h.count;++I){const S=h.nextBitIsOne(),T=Math.pow(2,h.count-(I+1));S?v(T,pn.BLACK):(v(T,pn.BLACK),v(T,pn.RED))}return m},a=new Tq(t.length),u=o(a);return new tr(r||e,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yv;const nc={};class xi{static get Default(){return he(nc&&Vn,"ChildrenNode.ts has not been loaded"),Yv=Yv||new xi({".priority":nc},{".priority":Vn}),Yv}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Pc(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof tr?n:null}hasIndex(e){return Mi(this.indexSet_,e.toString())}addIndex(e,n){he(e!==Sc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const o=n.getIterator(nt.Wrap);let a=o.getNext();for(;a;)s=s||e.isDefinedOn(a.node),r.push(a),a=o.getNext();let u;s?u=vm(r,e.getCompare()):u=nc;const h=e.toString(),f={...this.indexSet_};f[h]=e;const m={...this.indexes_};return m[h]=u,new xi(m,f)}addToIndexes(e,n){const r=Yp(this.indexes_,(s,o)=>{const a=Pc(this.indexSet_,o);if(he(a,"Missing index implementation for "+o),s===nc)if(a.isDefinedOn(e.node)){const u=[],h=n.getIterator(nt.Wrap);let f=h.getNext();for(;f;)f.name!==e.name&&u.push(f),f=h.getNext();return u.push(e),vm(u,a.getCompare())}else return nc;else{const u=n.get(e.name);let h=s;return u&&(h=h.remove(new nt(e.name,u))),h.insert(e,e.node)}});return new xi(r,this.indexSet_)}removeFromIndexes(e,n){const r=Yp(this.indexes_,s=>{if(s===nc)return s;{const o=n.get(e.name);return o?s.remove(new nt(e.name,o)):s}});return new xi(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cd;class lt{static get EMPTY_NODE(){return cd||(cd=new lt(new tr(M_),null,xi.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&g2(this.priorityNode_),this.children_.isEmpty()&&he(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||cd}updatePriority(e){return this.children_.isEmpty()?this:new lt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?cd:n}}getChild(e){const n=tt(e);return n===null?this:this.getImmediateChild(n).getChild(bt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(he(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new nt(e,n);let s,o;n.isEmpty()?(s=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const a=s.isEmpty()?cd:this.priorityNode_;return new lt(s,a,o)}}updateChild(e,n){const r=tt(e);if(r===null)return n;{he(tt(e)!==".priority"||Go(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(bt(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,o=!0;if(this.forEachChild(Vn,(a,u)=>{n[a]=u.val(e),r++,o&&lt.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!e&&o&&s<2*r){const a=[];for(const u in n)a[u]=n[u];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+m2(this.getPriority().val())+":"),this.forEachChild(Vn,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":Bk(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const o=s.getPredecessorKey(new nt(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new nt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new nt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,nt.Wrap);let o=s.peek();for(;o!=null&&n.compare(o,e)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,nt.Wrap);let o=s.peek();for(;o!=null&&n.compare(o,e)>0;)s.getNext(),o=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===kh?-1:0}withIndex(e){if(e===Sc||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new lt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Sc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Vn),s=n.getIterator(Vn);let o=r.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===Sc?null:this.indexMap_.get(e.toString())}}lt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Sq extends lt{constructor(){super(new tr(M_),lt.EMPTY_NODE,xi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return lt.EMPTY_NODE}isEmpty(){return!1}}const kh=new Sq;Object.defineProperties(nt,{MIN:{value:new nt(Uc,lt.EMPTY_NODE)},MAX:{value:new nt(Za,kh)}});p2.__EMPTY_NODE=lt.EMPTY_NODE;hn.__childrenNodeConstructor=lt;xq(kh);_q(kh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cq=!0;function On(t,e=null){if(t===null)return lt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),he(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new hn(n,On(e))}if(!(t instanceof Array)&&Cq){const n=[];let r=!1;if(Mr(t,(a,u)=>{if(a.substring(0,1)!=="."){const h=On(u);h.isEmpty()||(r=r||!h.getPriority().isEmpty(),n.push(new nt(a,h)))}}),n.length===0)return lt.EMPTY_NODE;const o=vm(n,vq,a=>a.name,M_);if(r){const a=vm(n,Vn.getCompare());return new lt(o,On(e),new xi({".priority":a},{".priority":Vn}))}else return new lt(o,On(e),xi.Default)}else{let n=lt.EMPTY_NODE;return Mr(t,(r,s)=>{if(Mi(t,r)&&r.substring(0,1)!=="."){const o=On(s);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(On(e))}}wq(On);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iq extends yg{constructor(e){super(),this.indexPath_=e,he(!Je(e)&&tt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),o=r.compareTo(s);return o===0?su(e.name,n.name):o}makePost(e,n){const r=On(e),s=lt.EMPTY_NODE.updateChild(this.indexPath_,r);return new nt(n,s)}maxPost(){const e=lt.EMPTY_NODE.updateChild(this.indexPath_,kh);return new nt(Za,e)}toString(){return u2(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq extends yg{compare(e,n){const r=e.node.compareTo(n.node);return r===0?su(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return nt.MIN}maxPost(){return nt.MAX}makePost(e,n){const r=On(e);return new nt(n,r)}toString(){return".value"}}const Aq=new Nq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rq(t){return{type:"value",snapshotNode:t}}function Pq(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function kq(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function aI(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function jq(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Vn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return he(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return he(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Uc}hasEnd(){return this.endSet_}getIndexEndValue(){return he(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return he(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Za}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return he(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Vn}copy(){const e=new O_;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function lI(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Vn?n="$priority":t.index_===Aq?n="$value":t.index_===Sc?n="$key":(he(t.index_ instanceof Iq,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=bn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=bn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+bn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=bn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+bn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function cI(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Vn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm extends a2{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(he(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Rh("p:rest:"),this.listens_={}}listen(e,n,r,s){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const a=xm.getListenId_(e,r),u={};this.listens_[a]=u;const h=lI(e._queryParams);this.restRequest_(o+".json",h,(f,m)=>{let y=m;if(f===404&&(y=null,f=null),f===null&&this.onDataUpdate_(o,y,!1,r),Pc(this.listens_,a)===u){let v;f?f===401?v="permission_denied":v="rest_error:"+f:v="ok",s(v,null)}})}unlisten(e,n){const r=xm.getListenId_(e,n);delete this.listens_[r]}get(e){const n=lI(e._queryParams),r=e._path.toString(),s=new Nw;return this.restRequest_(r+".json",n,(o,a)=>{let u=a;o===404&&(u=null,o=null),o===null?(this.onDataUpdate_(r,u,!1,null),s.resolve(u)):s.reject(new Error(u))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,o])=>{s&&s.accessToken&&(n.auth=s.accessToken),o&&o.token&&(n.ac=o.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Qc(n);this.log_("Sending REST request for "+a);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(r&&u.readyState===4){this.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);let h=null;if(u.status>=200&&u.status<300){try{h=qd(u.responseText)}catch{gr("Failed to parse JSON response for "+a+": "+u.responseText)}r(null,h)}else u.status!==401&&u.status!==404&&gr("Got unsuccessful REST response for "+a+" Status: "+u.status),r(u.status);r=null}},u.open("GET",a,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(){this.rootNode_=lt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(){return{value:null,children:new Map}}function x2(t,e,n){if(Je(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=tt(e);t.children.has(r)||t.children.set(r,wm());const s=t.children.get(r);e=bt(e),x2(s,e,n)}}function px(t,e,n){t.value!==null?n(e,t.value):Mq(t,(r,s)=>{const o=new Tt(e.toString()+"/"+r);px(s,o,n)})}function Mq(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Mr(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=10*1e3,Lq=30*1e3,Vq=5*60*1e3;class Fq{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Oq(e);const r=uI+(Lq-uI)*Math.random();Dd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Mr(e,(s,o)=>{o>0&&Mi(this.statsToReport_,s)&&(n[s]=o,r=!0)}),r&&this.server_.reportStats(n),Dd(this.reportStats_.bind(this),Math.floor(Math.random()*2*Vq))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rs;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Rs||(Rs={}));function w2(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function _2(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function b2(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Rs.ACK_USER_WRITE,this.source=w2()}operationForChild(e){if(Je(this.path)){if(this.affectedTree.value!=null)return he(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Tt(e));return new _m(ht(),n,this.revert)}}else return he(tt(this.path)===e,"operationForChild called for unrelated child."),new _m(bt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Rs.OVERWRITE}operationForChild(e){return Je(this.path)?new el(this.source,ht(),this.snap.getImmediateChild(e)):new el(this.source,bt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Rs.MERGE}operationForChild(e){if(Je(this.path)){const n=this.children.subtree(new Tt(e));return n.isEmpty()?null:n.value?new el(this.source,ht(),n.value):new sh(this.source,ht(),n)}else return he(tt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new sh(this.source,bt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Je(e))return this.isFullyInitialized()&&!this.filtered_;const n=tt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Uq(t,e,n,r){const s=[],o=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(jq(a.childName,a.snapshotNode))}),ud(t,s,"child_removed",e,r,n),ud(t,s,"child_added",e,r,n),ud(t,s,"child_moved",o,r,n),ud(t,s,"child_changed",e,r,n),ud(t,s,"value",e,r,n),s}function ud(t,e,n,r,s,o){const a=r.filter(u=>u.type===n);a.sort((u,h)=>zq(t,u,h)),a.forEach(u=>{const h=Bq(t,u,o);s.forEach(f=>{f.respondsTo(u.type)&&e.push(f.createEvent(h,t.query_))})})}function Bq(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function zq(t,e,n){if(e.childName==null||n.childName==null)throw Yc("Should only compare child_ events.");const r=new nt(e.childName,e.snapshotNode),s=new nt(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(t,e){return{eventCache:t,serverCache:e}}function Md(t,e,n,r){return E2(new L_(e,n,r),t.serverCache)}function T2(t,e,n,r){return E2(t.eventCache,new L_(e,n,r))}function mx(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function tl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qv;const $q=()=>(Qv||(Qv=new tr(AH)),Qv);class _t{static fromObject(e){let n=new _t(null);return Mr(e,(r,s)=>{n=n.set(new Tt(r),s)}),n}constructor(e,n=$q()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ht(),value:this.value};if(Je(e))return null;{const r=tt(e),s=this.children.get(r);if(s!==null){const o=s.findRootMostMatchingPathAndValue(bt(e),n);return o!=null?{path:mn(new Tt(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Je(e))return this;{const n=tt(e),r=this.children.get(n);return r!==null?r.subtree(bt(e)):new _t(null)}}set(e,n){if(Je(e))return new _t(n,this.children);{const r=tt(e),o=(this.children.get(r)||new _t(null)).set(bt(e),n),a=this.children.insert(r,o);return new _t(this.value,a)}}remove(e){if(Je(e))return this.children.isEmpty()?new _t(null):new _t(null,this.children);{const n=tt(e),r=this.children.get(n);if(r){const s=r.remove(bt(e));let o;return s.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,s),this.value===null&&o.isEmpty()?new _t(null):new _t(this.value,o)}else return this}}get(e){if(Je(e))return this.value;{const n=tt(e),r=this.children.get(n);return r?r.get(bt(e)):null}}setTree(e,n){if(Je(e))return n;{const r=tt(e),o=(this.children.get(r)||new _t(null)).setTree(bt(e),n);let a;return o.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,o),new _t(this.value,a)}}fold(e){return this.fold_(ht(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,o)=>{r[s]=o.fold_(mn(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ht(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(Je(e))return null;{const o=tt(e),a=this.children.get(o);return a?a.findOnPath_(bt(e),mn(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ht(),n)}foreachOnPath_(e,n,r){if(Je(e))return this;{this.value&&r(n,this.value);const s=tt(e),o=this.children.get(s);return o?o.foreachOnPath_(bt(e),mn(n,s),r):new _t(null)}}foreach(e){this.foreach_(ht(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(mn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this.writeTree_=e}static empty(){return new es(new _t(null))}}function Od(t,e,n){if(Je(e))return new es(new _t(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let o=r.value;const a=Rr(s,e);return o=o.updateChild(a,n),new es(t.writeTree_.set(s,o))}else{const s=new _t(n),o=t.writeTree_.setTree(e,s);return new es(o)}}}function dI(t,e,n){let r=t;return Mr(n,(s,o)=>{r=Od(r,mn(e,s),o)}),r}function hI(t,e){if(Je(e))return es.empty();{const n=t.writeTree_.setTree(e,new _t(null));return new es(n)}}function gx(t,e){return fl(t,e)!=null}function fl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Rr(n.path,e)):null}function fI(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Vn,(r,s)=>{e.push(new nt(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new nt(r,s.value))}),e}function Mo(t,e){if(Je(e))return t;{const n=fl(t,e);return n!=null?new es(new _t(n)):new es(t.writeTree_.subtree(e))}}function yx(t){return t.writeTree_.isEmpty()}function Bc(t,e){return S2(ht(),t.writeTree_,e)}function S2(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,o)=>{s===".priority"?(he(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=S2(mn(t,s),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(mn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(t,e){return P2(e,t)}function Wq(t,e,n,r,s){he(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=Od(t.visibleWrites,e,n)),t.lastWriteId=r}function Hq(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function qq(t,e){const n=t.allWrites.findIndex(u=>u.writeId===e);he(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,o=!1,a=t.allWrites.length-1;for(;s&&a>=0;){const u=t.allWrites[a];u.visible&&(a>=n&&Gq(u,r.path)?s=!1:Xr(r.path,u.path)&&(o=!0)),a--}if(s){if(o)return Kq(t),!0;if(r.snap)t.visibleWrites=hI(t.visibleWrites,r.path);else{const u=r.children;Mr(u,h=>{t.visibleWrites=hI(t.visibleWrites,mn(r.path,h))})}return!0}else return!1}function Gq(t,e){if(t.snap)return Xr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Xr(mn(t.path,n),e))return!0;return!1}function Kq(t){t.visibleWrites=I2(t.allWrites,Yq,ht()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Yq(t){return t.visible}function I2(t,e,n){let r=es.empty();for(let s=0;s<t.length;++s){const o=t[s];if(e(o)){const a=o.path;let u;if(o.snap)Xr(n,a)?(u=Rr(n,a),r=Od(r,u,o.snap)):Xr(a,n)&&(u=Rr(a,n),r=Od(r,ht(),o.snap.getChild(u)));else if(o.children){if(Xr(n,a))u=Rr(n,a),r=dI(r,u,o.children);else if(Xr(a,n))if(u=Rr(a,n),Je(u))r=dI(r,ht(),o.children);else{const h=Pc(o.children,tt(u));if(h){const f=h.getChild(bt(u));r=Od(r,ht(),f)}}}else throw Yc("WriteRecord should have .snap or .children")}}return r}function N2(t,e,n,r,s){if(!r&&!s){const o=fl(t.visibleWrites,e);if(o!=null)return o;{const a=Mo(t.visibleWrites,e);if(yx(a))return n;if(n==null&&!gx(a,ht()))return null;{const u=n||lt.EMPTY_NODE;return Bc(a,u)}}}else{const o=Mo(t.visibleWrites,e);if(!s&&yx(o))return n;if(!s&&n==null&&!gx(o,ht()))return null;{const a=function(f){return(f.visible||s)&&(!r||!~r.indexOf(f.writeId))&&(Xr(f.path,e)||Xr(e,f.path))},u=I2(t.allWrites,a,e),h=n||lt.EMPTY_NODE;return Bc(u,h)}}}function Qq(t,e,n){let r=lt.EMPTY_NODE;const s=fl(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Vn,(o,a)=>{r=r.updateImmediateChild(o,a)}),r;if(n){const o=Mo(t.visibleWrites,e);return n.forEachChild(Vn,(a,u)=>{const h=Bc(Mo(o,new Tt(a)),u);r=r.updateImmediateChild(a,h)}),fI(o).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const o=Mo(t.visibleWrites,e);return fI(o).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function Xq(t,e,n,r,s){he(r||s,"Either existingEventSnap or existingServerSnap must exist");const o=mn(e,n);if(gx(t.visibleWrites,o))return null;{const a=Mo(t.visibleWrites,o);return yx(a)?s.getChild(n):Bc(a,s.getChild(n))}}function Jq(t,e,n,r){const s=mn(e,n),o=fl(t.visibleWrites,s);if(o!=null)return o;if(r.isCompleteForChild(n)){const a=Mo(t.visibleWrites,s);return Bc(a,r.getNode().getImmediateChild(n))}else return null}function Zq(t,e){return fl(t.visibleWrites,e)}function eG(t,e,n,r,s,o,a){let u;const h=Mo(t.visibleWrites,e),f=fl(h,ht());if(f!=null)u=f;else if(n!=null)u=Bc(h,n);else return[];if(u=u.withIndex(a),!u.isEmpty()&&!u.isLeafNode()){const m=[],y=a.getCompare(),v=o?u.getReverseIteratorFrom(r,a):u.getIteratorFrom(r,a);let E=v.getNext();for(;E&&m.length<s;)y(E,r)!==0&&m.push(E),E=v.getNext();return m}else return[]}function tG(){return{visibleWrites:es.empty(),allWrites:[],lastWriteId:-1}}function vx(t,e,n,r){return N2(t.writeTree,t.treePath,e,n,r)}function A2(t,e){return Qq(t.writeTree,t.treePath,e)}function pI(t,e,n,r){return Xq(t.writeTree,t.treePath,e,n,r)}function bm(t,e){return Zq(t.writeTree,mn(t.treePath,e))}function nG(t,e,n,r,s,o){return eG(t.writeTree,t.treePath,e,n,r,s,o)}function V_(t,e,n){return Jq(t.writeTree,t.treePath,e,n)}function R2(t,e){return P2(mn(t.treePath,e),t.writeTree)}function P2(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;he(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),he(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const o=s.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,aI(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,kq(r,s.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Pq(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,aI(r,e.snapshotNode,s.oldSnap));else throw Yc("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const k2=new sG;class F_{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new L_(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return V_(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:tl(this.viewCache_),o=nG(this.writes_,s,n,1,r,e);return o.length===0?null:o[0]}}function iG(t,e){he(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),he(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function oG(t,e,n,r,s){const o=new rG;let a,u;if(n.type===Rs.OVERWRITE){const f=n;f.source.fromUser?a=xx(t,e,f.path,f.snap,r,s,o):(he(f.source.fromServer,"Unknown source."),u=f.source.tagged||e.serverCache.isFiltered()&&!Je(f.path),a=Em(t,e,f.path,f.snap,r,s,u,o))}else if(n.type===Rs.MERGE){const f=n;f.source.fromUser?a=lG(t,e,f.path,f.children,r,s,o):(he(f.source.fromServer,"Unknown source."),u=f.source.tagged||e.serverCache.isFiltered(),a=wx(t,e,f.path,f.children,r,s,u,o))}else if(n.type===Rs.ACK_USER_WRITE){const f=n;f.revert?a=dG(t,e,f.path,r,s,o):a=cG(t,e,f.path,f.affectedTree,r,s,o)}else if(n.type===Rs.LISTEN_COMPLETE)a=uG(t,e,n.path,r,o);else throw Yc("Unknown operation type: "+n.type);const h=o.getChanges();return aG(e,a,h),{viewCache:a,changes:h}}function aG(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=mx(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Rq(mx(e)))}}function j2(t,e,n,r,s,o){const a=e.eventCache;if(bm(r,n)!=null)return e;{let u,h;if(Je(n))if(he(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=tl(e),m=f instanceof lt?f:lt.EMPTY_NODE,y=A2(r,m);u=t.filter.updateFullNode(e.eventCache.getNode(),y,o)}else{const f=vx(r,tl(e));u=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const f=tt(n);if(f===".priority"){he(Go(n)===1,"Can't have a priority with additional path components");const m=a.getNode();h=e.serverCache.getNode();const y=pI(r,n,m,h);y!=null?u=t.filter.updatePriority(m,y):u=a.getNode()}else{const m=bt(n);let y;if(a.isCompleteForChild(f)){h=e.serverCache.getNode();const v=pI(r,n,a.getNode(),h);v!=null?y=a.getNode().getImmediateChild(f).updateChild(m,v):y=a.getNode().getImmediateChild(f)}else y=V_(r,f,e.serverCache);y!=null?u=t.filter.updateChild(a.getNode(),f,y,m,s,o):u=a.getNode()}}return Md(e,u,a.isFullyInitialized()||Je(n),t.filter.filtersNodes())}}function Em(t,e,n,r,s,o,a,u){const h=e.serverCache;let f;const m=a?t.filter:t.filter.getIndexedFilter();if(Je(n))f=m.updateFullNode(h.getNode(),r,null);else if(m.filtersNodes()&&!h.isFiltered()){const E=h.getNode().updateChild(n,r);f=m.updateFullNode(h.getNode(),E,null)}else{const E=tt(n);if(!h.isCompleteForPath(n)&&Go(n)>1)return e;const I=bt(n),T=h.getNode().getImmediateChild(E).updateChild(I,r);E===".priority"?f=m.updatePriority(h.getNode(),T):f=m.updateChild(h.getNode(),E,T,I,k2,null)}const y=T2(e,f,h.isFullyInitialized()||Je(n),m.filtersNodes()),v=new F_(s,y,o);return j2(t,y,n,s,v,u)}function xx(t,e,n,r,s,o,a){const u=e.eventCache;let h,f;const m=new F_(s,e,o);if(Je(n))f=t.filter.updateFullNode(e.eventCache.getNode(),r,a),h=Md(e,f,!0,t.filter.filtersNodes());else{const y=tt(n);if(y===".priority")f=t.filter.updatePriority(e.eventCache.getNode(),r),h=Md(e,f,u.isFullyInitialized(),u.isFiltered());else{const v=bt(n),E=u.getNode().getImmediateChild(y);let I;if(Je(v))I=r;else{const S=m.getCompleteChild(y);S!=null?c2(v)===".priority"&&S.getChild(d2(v)).isEmpty()?I=S:I=S.updateChild(v,r):I=lt.EMPTY_NODE}if(E.equals(I))h=e;else{const S=t.filter.updateChild(u.getNode(),y,I,v,m,a);h=Md(e,S,u.isFullyInitialized(),t.filter.filtersNodes())}}}return h}function mI(t,e){return t.eventCache.isCompleteForChild(e)}function lG(t,e,n,r,s,o,a){let u=e;return r.foreach((h,f)=>{const m=mn(n,h);mI(e,tt(m))&&(u=xx(t,u,m,f,s,o,a))}),r.foreach((h,f)=>{const m=mn(n,h);mI(e,tt(m))||(u=xx(t,u,m,f,s,o,a))}),u}function gI(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function wx(t,e,n,r,s,o,a,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,f;Je(n)?f=r:f=new _t(null).setTree(n,r);const m=e.serverCache.getNode();return f.children.inorderTraversal((y,v)=>{if(m.hasChild(y)){const E=e.serverCache.getNode().getImmediateChild(y),I=gI(t,E,v);h=Em(t,h,new Tt(y),I,s,o,a,u)}}),f.children.inorderTraversal((y,v)=>{const E=!e.serverCache.isCompleteForChild(y)&&v.value===null;if(!m.hasChild(y)&&!E){const I=e.serverCache.getNode().getImmediateChild(y),S=gI(t,I,v);h=Em(t,h,new Tt(y),S,s,o,a,u)}}),h}function cG(t,e,n,r,s,o,a){if(bm(s,n)!=null)return e;const u=e.serverCache.isFiltered(),h=e.serverCache;if(r.value!=null){if(Je(n)&&h.isFullyInitialized()||h.isCompleteForPath(n))return Em(t,e,n,h.getNode().getChild(n),s,o,u,a);if(Je(n)){let f=new _t(null);return h.getNode().forEachChild(Sc,(m,y)=>{f=f.set(new Tt(m),y)}),wx(t,e,n,f,s,o,u,a)}else return e}else{let f=new _t(null);return r.foreach((m,y)=>{const v=mn(n,m);h.isCompleteForPath(v)&&(f=f.set(m,h.getNode().getChild(v)))}),wx(t,e,n,f,s,o,u,a)}}function uG(t,e,n,r,s){const o=e.serverCache,a=T2(e,o.getNode(),o.isFullyInitialized()||Je(n),o.isFiltered());return j2(t,a,n,r,k2,s)}function dG(t,e,n,r,s,o){let a;if(bm(r,n)!=null)return e;{const u=new F_(r,e,s),h=e.eventCache.getNode();let f;if(Je(n)||tt(n)===".priority"){let m;if(e.serverCache.isFullyInitialized())m=vx(r,tl(e));else{const y=e.serverCache.getNode();he(y instanceof lt,"serverChildren would be complete if leaf node"),m=A2(r,y)}m=m,f=t.filter.updateFullNode(h,m,o)}else{const m=tt(n);let y=V_(r,m,e.serverCache);y==null&&e.serverCache.isCompleteForChild(m)&&(y=h.getImmediateChild(m)),y!=null?f=t.filter.updateChild(h,m,y,bt(n),u,o):e.eventCache.getNode().hasChild(m)?f=t.filter.updateChild(h,m,lt.EMPTY_NODE,bt(n),u,o):f=h,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=vx(r,tl(e)),a.isLeafNode()&&(f=t.filter.updateFullNode(f,a,o)))}return a=e.serverCache.isFullyInitialized()||bm(r,ht())!=null,Md(e,f,a,t.filter.filtersNodes())}}function hG(t,e){const n=tl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Je(e)&&!n.getImmediateChild(tt(e)).isEmpty())?n.getChild(e):null}function yI(t,e,n,r){e.type===Rs.MERGE&&e.source.queryId!==null&&(he(tl(t.viewCache_),"We should always have a full cache before handling merges"),he(mx(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,o=oG(t.processor_,s,e,n,r);return iG(t.processor_,o.viewCache),he(o.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,fG(t,o.changes,o.viewCache.eventCache.getNode())}function fG(t,e,n,r){const s=t.eventRegistrations_;return Uq(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vI;function pG(t){he(!vI,"__referenceConstructor has already been defined"),vI=t}function U_(t,e,n,r){const s=e.source.queryId;if(s!==null){const o=t.views.get(s);return he(o!=null,"SyncTree gave us an op for an invalid query."),yI(o,e,n,r)}else{let o=[];for(const a of t.views.values())o=o.concat(yI(a,e,n,r));return o}}function B_(t,e){let n=null;for(const r of t.views.values())n=n||hG(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xI;function mG(t){he(!xI,"__referenceConstructor has already been defined"),xI=t}class wI{constructor(e){this.listenProvider_=e,this.syncPointTree_=new _t(null),this.pendingWriteTree_=tG(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function gG(t,e,n,r,s){return Wq(t.pendingWriteTree_,e,n,r,s),s?xg(t,new el(w2(),e,n)):[]}function vc(t,e,n=!1){const r=Hq(t.pendingWriteTree_,e);if(qq(t.pendingWriteTree_,e)){let o=new _t(null);return r.snap!=null?o=o.set(ht(),!0):Mr(r.children,a=>{o=o.set(new Tt(a),!0)}),xg(t,new _m(r.path,o,n))}else return[]}function vg(t,e,n){return xg(t,new el(_2(),e,n))}function yG(t,e,n){const r=_t.fromObject(n);return xg(t,new sh(_2(),e,r))}function vG(t,e,n,r){const s=L2(t,r);if(s!=null){const o=V2(s),a=o.path,u=o.queryId,h=Rr(a,e),f=new el(b2(u),h,n);return F2(t,a,f)}else return[]}function xG(t,e,n,r){const s=L2(t,r);if(s){const o=V2(s),a=o.path,u=o.queryId,h=Rr(a,e),f=_t.fromObject(n),m=new sh(b2(u),h,f);return F2(t,a,m)}else return[]}function D2(t,e,n){const s=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(a,u)=>{const h=Rr(a,e),f=B_(u,h);if(f)return f});return N2(s,e,o,n,!0)}function xg(t,e){return M2(e,t.syncPointTree_,null,C2(t.pendingWriteTree_,ht()))}function M2(t,e,n,r){if(Je(t.path))return O2(t,e,n,r);{const s=e.get(ht());n==null&&s!=null&&(n=B_(s,ht()));let o=[];const a=tt(t.path),u=t.operationForChild(a),h=e.children.get(a);if(h&&u){const f=n?n.getImmediateChild(a):null,m=R2(r,a);o=o.concat(M2(u,h,f,m))}return s&&(o=o.concat(U_(s,t,r,n))),o}}function O2(t,e,n,r){const s=e.get(ht());n==null&&s!=null&&(n=B_(s,ht()));let o=[];return e.children.inorderTraversal((a,u)=>{const h=n?n.getImmediateChild(a):null,f=R2(r,a),m=t.operationForChild(a);m&&(o=o.concat(O2(m,u,h,f)))}),s&&(o=o.concat(U_(s,t,r,n))),o}function L2(t,e){return t.tagToQueryMap.get(e)}function V2(t){const e=t.indexOf("$");return he(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Tt(t.substr(0,e))}}function F2(t,e,n){const r=t.syncPointTree_.get(e);he(r,"Missing sync point for query tag that we're tracking");const s=C2(t.pendingWriteTree_,e);return U_(r,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new z_(n)}node(){return this.node_}}class $_{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=mn(this.path_,e);return new $_(this.syncTree_,n)}node(){return D2(this.syncTree_,this.path_)}}const wG=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},_I=function(t,e,n){if(!t||typeof t!="object")return t;if(he(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return _G(t[".sv"],e,n);if(typeof t[".sv"]=="object")return bG(t[".sv"],e);he(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},_G=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:he(!1,"Unexpected server value: "+t)}},bG=function(t,e,n){t.hasOwnProperty("increment")||he(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&he(!1,"Unexpected increment value: "+r);const s=e.node();if(he(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const a=s.getValue();return typeof a!="number"?r:a+r},EG=function(t,e,n,r){return W_(e,new $_(n,t),r)},TG=function(t,e,n){return W_(t,new z_(e),n)};function W_(t,e,n){const r=t.getPriority().val(),s=_I(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const a=t,u=_I(a.getValue(),e,n);return u!==a.getValue()||s!==a.getPriority().val()?new hn(u,On(s)):t}else{const a=t;return o=a,s!==a.getPriority().val()&&(o=o.updatePriority(new hn(s))),a.forEachChild(Vn,(u,h)=>{const f=W_(h,e.getImmediateChild(u),n);f!==h&&(o=o.updateImmediateChild(u,f))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function q_(t,e){let n=e instanceof Tt?e:new Tt(e),r=t,s=tt(n);for(;s!==null;){const o=Pc(r.node.children,s)||{children:{},childCount:0};r=new H_(s,r,o),n=bt(n),s=tt(n)}return r}function iu(t){return t.node.value}function U2(t,e){t.node.value=e,_x(t)}function B2(t){return t.node.childCount>0}function SG(t){return iu(t)===void 0&&!B2(t)}function wg(t,e){Mr(t.node.children,(n,r)=>{e(new H_(n,t,r))})}function z2(t,e,n,r){n&&e(t),wg(t,s=>{z2(s,e,!0)})}function CG(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function jh(t){return new Tt(t.parent===null?t.name:jh(t.parent)+"/"+t.name)}function _x(t){t.parent!==null&&IG(t.parent,t.name,t)}function IG(t,e,n){const r=SG(n),s=Mi(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,_x(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,_x(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NG=/[\[\].#$\/\u0000-\u001F\u007F]/,AG=/[\[\].#$\u0000-\u001F\u007F]/,Xv=10*1024*1024,$2=function(t){return typeof t=="string"&&t.length!==0&&!NG.test(t)},RG=function(t){return typeof t=="string"&&t.length!==0&&!AG.test(t)},PG=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),RG(t)},W2=function(t,e,n){const r=n instanceof Tt?new uq(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Da(r));if(typeof e=="function")throw new Error(t+"contains a function "+Da(r)+" with contents = "+e.toString());if(zk(e))throw new Error(t+"contains "+e.toString()+" "+Da(r));if(typeof e=="string"&&e.length>Xv/3&&Wm(e)>Xv)throw new Error(t+"contains a string greater than "+Xv+" utf8 bytes "+Da(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,o=!1;if(Mr(e,(a,u)=>{if(a===".value")s=!0;else if(a!==".priority"&&a!==".sv"&&(o=!0,!$2(a)))throw new Error(t+" contains an invalid key ("+a+") "+Da(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);dq(r,a),W2(t,u,r),hq(r)}),s&&o)throw new Error(t+' contains ".value" child '+Da(r)+" in addition to actual children.")}},kG=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!$2(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!PG(n))throw new Error(N8(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function DG(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],o=s.getPath();n!==null&&!h2(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(s)}n&&t.eventLists_.push(n)}function pl(t,e,n){DG(t,n),MG(t,r=>Xr(r,e)||Xr(e,r))}function MG(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const o=s.path;e(o)?(OG(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function OG(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();jd&&Mn("event: "+n.toString()),Ph(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LG="repo_interrupt",VG=25;class FG{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jG,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wm(),this.transactionQueueTree_=new H_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function UG(t,e,n){if(t.stats_=k_(t.repoInfo_),t.forceRestClient_||MH())t.server_=new xm(t.repoInfo_,(r,s,o,a)=>{bI(t,r,s,o,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>EI(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{bn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new _i(t.repoInfo_,e,(r,s,o,a)=>{bI(t,r,s,o,a)},r=>{EI(t,r)},r=>{zG(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=UH(t.repoInfo_,()=>new Fq(t.stats_,t.server_)),t.infoData_=new Dq,t.infoSyncTree_=new wI({startListening:(r,s,o,a)=>{let u=[];const h=t.infoData_.getNode(r._path);return h.isEmpty()||(u=vg(t.infoSyncTree_,r._path,h),setTimeout(()=>{a("ok")},0)),u},stopListening:()=>{}}),G_(t,"connected",!1),t.serverSyncTree_=new wI({startListening:(r,s,o,a)=>(t.server_.listen(r,o,s,(u,h)=>{const f=a(u,h);pl(t.eventQueue_,r._path,f)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function BG(t){const n=t.infoData_.getNode(new Tt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function H2(t){return wG({timestamp:BG(t)})}function bI(t,e,n,r,s){t.dataUpdateCount++;const o=new Tt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(s)if(r){const h=Yp(n,f=>On(f));a=xG(t.serverSyncTree_,o,h,s)}else{const h=On(n);a=vG(t.serverSyncTree_,o,h,s)}else if(r){const h=Yp(n,f=>On(f));a=yG(t.serverSyncTree_,o,h)}else{const h=On(n);a=vg(t.serverSyncTree_,o,h)}let u=o;a.length>0&&(u=Y_(t,o)),pl(t.eventQueue_,u,a)}function EI(t,e){G_(t,"connected",e),e===!1&&WG(t)}function zG(t,e){Mr(e,(n,r)=>{G_(t,n,r)})}function G_(t,e,n){const r=new Tt("/.info/"+e),s=On(n);t.infoData_.updateSnapshot(r,s);const o=vg(t.infoSyncTree_,r,s);pl(t.eventQueue_,r,o)}function $G(t){return t.nextWriteId_++}function WG(t){q2(t,"onDisconnectEvents");const e=H2(t),n=wm();px(t.onDisconnect_,ht(),(s,o)=>{const a=EG(s,o,t.serverSyncTree_,e);x2(n,s,a)});let r=[];px(n,ht(),(s,o)=>{r=r.concat(vg(t.serverSyncTree_,s,o));const a=KG(t,s);Y_(t,a)}),t.onDisconnect_=wm(),pl(t.eventQueue_,ht(),r)}function HG(t){t.persistentConnection_&&t.persistentConnection_.interrupt(LG)}function q2(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Mn(n,...e)}function G2(t,e,n){return D2(t.serverSyncTree_,e,n)||lt.EMPTY_NODE}function K_(t,e=t.transactionQueueTree_){if(e||_g(t,e),iu(e)){const n=Y2(t,e);he(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&qG(t,jh(e),n)}else B2(e)&&wg(e,n=>{K_(t,n)})}function qG(t,e,n){const r=n.map(f=>f.currentWriteId),s=G2(t,e,r);let o=s;const a=s.hash();for(let f=0;f<n.length;f++){const m=n[f];he(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const y=Rr(e,m.path);o=o.updateChild(y,m.currentOutputSnapshotRaw)}const u=o.val(!0),h=e;t.server_.put(h.toString(),u,f=>{q2(t,"transaction put response",{path:h.toString(),status:f});let m=[];if(f==="ok"){const y=[];for(let v=0;v<n.length;v++)n[v].status=2,m=m.concat(vc(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&y.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();_g(t,q_(t.transactionQueueTree_,e)),K_(t,t.transactionQueueTree_),pl(t.eventQueue_,e,m);for(let v=0;v<y.length;v++)Ph(y[v])}else{if(f==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{gr("transaction at "+h.toString()+" failed: "+f);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=f}Y_(t,e)}},a)}function Y_(t,e){const n=K2(t,e),r=jh(n),s=Y2(t,n);return GG(t,s,r),r}function GG(t,e,n){if(e.length===0)return;const r=[];let s=[];const a=e.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<e.length;u++){const h=e[u],f=Rr(n,h.path);let m=!1,y;if(he(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)m=!0,y=h.abortReason,s=s.concat(vc(t.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=VG)m=!0,y="maxretry",s=s.concat(vc(t.serverSyncTree_,h.currentWriteId,!0));else{const v=G2(t,h.path,a);h.currentInputSnapshot=v;const E=e[u].update(v.val());if(E!==void 0){W2("transaction failed: Data returned ",E,h.path);let I=On(E);typeof E=="object"&&E!=null&&Mi(E,".priority")||(I=I.updatePriority(v.getPriority()));const T=h.currentWriteId,N=H2(t),j=TG(I,v,N);h.currentOutputSnapshotRaw=I,h.currentOutputSnapshotResolved=j,h.currentWriteId=$G(t),a.splice(a.indexOf(T),1),s=s.concat(gG(t.serverSyncTree_,h.path,j,h.currentWriteId,h.applyLocally)),s=s.concat(vc(t.serverSyncTree_,T,!0))}else m=!0,y="nodata",s=s.concat(vc(t.serverSyncTree_,h.currentWriteId,!0))}pl(t.eventQueue_,n,s),s=[],m&&(e[u].status=2,function(v){setTimeout(v,Math.floor(0))}(e[u].unwatcher),e[u].onComplete&&(y==="nodata"?r.push(()=>e[u].onComplete(null,!1,e[u].currentInputSnapshot)):r.push(()=>e[u].onComplete(new Error(y),!1,null))))}_g(t,t.transactionQueueTree_);for(let u=0;u<r.length;u++)Ph(r[u]);K_(t,t.transactionQueueTree_)}function K2(t,e){let n,r=t.transactionQueueTree_;for(n=tt(e);n!==null&&iu(r)===void 0;)r=q_(r,n),e=bt(e),n=tt(e);return r}function Y2(t,e){const n=[];return Q2(t,e,n),n.sort((r,s)=>r.order-s.order),n}function Q2(t,e,n){const r=iu(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);wg(e,s=>{Q2(t,s,n)})}function _g(t,e){const n=iu(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,U2(e,n.length>0?n:void 0)}wg(e,r=>{_g(t,r)})}function KG(t,e){const n=jh(K2(t,e)),r=q_(t.transactionQueueTree_,e);return CG(r,s=>{Jv(t,s)}),Jv(t,r),z2(r,s=>{Jv(t,s)}),n}function Jv(t,e){const n=iu(e);if(n){const r=[];let s=[],o=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(he(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(he(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),s=s.concat(vc(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));o===-1?U2(e,void 0):n.length=o+1,pl(t.eventQueue_,jh(e),s);for(let a=0;a<r.length;a++)Ph(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YG(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function QG(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):gr(`Invalid query segment '${n}' in query '${t}'`)}return e}const TI=function(t,e){const n=XG(t),r=n.namespace;n.domain==="firebase.com"&&Pi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Pi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||IH();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new e2(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new Tt(n.pathString)}},XG=function(t){let e="",n="",r="",s="",o="",a=!0,u="https",h=443;if(typeof t=="string"){let f=t.indexOf("//");f>=0&&(u=t.substring(0,f-1),t=t.substring(f+2));let m=t.indexOf("/");m===-1&&(m=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(m,y)),m<y&&(s=YG(t.substring(m,y)));const v=QG(t.substring(Math.min(t.length,y)));f=e.indexOf(":"),f>=0?(a=u==="https"||u==="wss",h=parseInt(e.substring(f+1),10)):f=e.length;const E=e.slice(0,f);if(E.toLowerCase()==="localhost")n="localhost";else if(E.split(".").length<=2)n=E;else{const I=e.indexOf(".");r=e.substring(0,I).toLowerCase(),n=e.substring(I+1),o=r}"ns"in v&&(o=v.ns)}return{host:e,port:h,domain:n,subdomain:r,secure:a,scheme:u,pathString:s,namespace:o}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return Je(this._path)?null:c2(this._path)}get ref(){return new ou(this._repo,this._path)}get _queryIdentifier(){const e=cI(this._queryParams),n=R_(e);return n==="{}"?"default":n}get _queryObject(){return cI(this._queryParams)}isEqual(e){if(e=It(e),!(e instanceof Q_))return!1;const n=this._repo===e._repo,r=h2(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+cq(this._path)}}class ou extends Q_{constructor(e,n){super(e,n,new O_,!1)}get parent(){const e=d2(this._path);return e===null?null:new ou(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}pG(ou);mG(ou);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JG="FIREBASE_DATABASE_EMULATOR_HOST",bx={};let ZG=!1;function eK(t,e,n,r){const s=e.lastIndexOf(":"),o=e.substring(0,s),a=Zo(o);t.repoInfo_=new e2(e,a,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function tK(t,e,n,r,s){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Pi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Mn("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=TI(o,s),u=a.repoInfo,h;typeof process<"u"&&W1&&(h=W1[JG]),h?(o=`http://${h}?ns=${u.namespace}`,a=TI(o,s),u=a.repoInfo):a.repoInfo.secure;const f=new LH(t.name,t.options,e);kG("Invalid Firebase Database URL",a),Je(a.path)||Pi("Database URL must point to the root of a Firebase Database (not including a child path).");const m=rK(u,t,f,new OH(t,n));return new sK(m,t)}function nK(t,e){const n=bx[e];(!n||n[t.key]!==t)&&Pi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),HG(t),delete n[t.key]}function rK(t,e,n,r){let s=bx[e.name];s||(s={},bx[e.name]=s);let o=s[t.toURLString()];return o&&Pi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new FG(t,ZG,n,r),s[t.toURLString()]=o,o}class sK{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(UG(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ou(this._repo,ht())),this._rootInternal}_delete(){return this._rootInternal!==null&&(nK(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Pi("Cannot call "+e+" on a deleted database.")}}function iK(t=jw(),e){const n=qm(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=gR("database");r&&oK(n,...r)}return n}function oK(t,e,n,r={}){t=It(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,o=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&Vo(r,o.repoInfo_.emulatorOptions))return;Pi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&Pi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Mp(Mp.OWNER);else if(r.mockUserToken){const u=typeof r.mockUserToken=="string"?r.mockUserToken:xR(r.mockUserToken,t.app.options.projectId);a=new Mp(u)}Zo(e)&&(Aw(e),Rw("Database",!0)),eK(o,s,r,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aK(t){_H(cl),Ga(new Fo("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return tK(r,s,o,n)},"PUBLIC").setMultipleInstances(!0)),Ds(H1,q1,t),Ds(H1,q1,"esm2020")}_i.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};_i.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};aK();const Tm={apiKey:"AIzaSyDNquPgsG3jrYRODTOgH1cACJdc8PWCBbc",authDomain:"cemar-counseling-e8ea3.firebaseapp.com",projectId:"cemar-counseling-e8ea3",storageBucket:"cemar-counseling-e8ea3.firebasestorage.app",messagingSenderId:"1081149760081",appId:"1:1081149760081:web:5ec55812689c86b469ce70",databaseURL:"https://cemar-counseling-e8ea3-default-rtdb.firebaseio.com"};(!Tm.apiKey||!Tm.projectId)&&console.error("Firebase configuration is incomplete. Please check your .env.local file.");const X_=TR(Tm),bi=s$(X_),X2=new gi;X2.setCustomParameters({prompt:"select_account"});iK(X_,Tm.databaseURL);const Ct=sH(X_);typeof window<"u"&&(window.firestore=Ct,window.firebaseFirestore={doc:Un,getDoc:nu,setDoc:Fc,updateDoc:ru,collection:Fs,query:Ri,where:zs,orderBy:pH,limit:mH,onSnapshot:N_});function on(){return typeof window>"u"?!1:localStorage.getItem("authToken")!==null}function Dh(t,e){typeof window>"u"||(t&&e?localStorage.setItem("authToken",e):(localStorage.removeItem("authToken"),localStorage.removeItem("userData")),window.dispatchEvent(new Event("storage")))}function Or(){if(!on())return null;const t=localStorage.getItem("userData");if(!t)return null;try{return JSON.parse(t)}catch{return null}}async function lK(t){var a,u;const e=bi.currentUser;if(!e)throw new Error("You must be logged in to update your account.");const{name:n,email:r,currentPassword:s,newPassword:o}=t;if((o||r)&&!s)throw new Error("Please enter your current password to update email or password.");try{if(s&&(o||r)){const f=ul.credential(e.email||"",s);await VB(e,f)}o&&await WB(e,o),r&&r!==e.email&&await $B(e,r),n&&n!==e.displayName&&await QR(e,{displayName:n}),await J_(e.uid,{name:n??e.displayName??((a=e.email)==null?void 0:a.split("@")[0]),email:r??e.email??"",avatar:e.photoURL||void 0,role:"client"});const h={id:e.uid,name:n??e.displayName??((u=e.email)==null?void 0:u.split("@")[0])??"User",email:r??e.email??"",avatar:e.photoURL||void 0};return bg(h),Dh(!0,e.uid),h}catch(h){console.error("Error updating account profile:",h);const f=au(h);throw new Error(f)}}async function cK(t){if(!t)throw new Error("Email is required to reset your password.");try{await FB(bi,t)}catch(e){console.error("Error sending password reset email:",e);const n=au(e);throw new Error(n)}}function bg(t){localStorage.setItem("userData",JSON.stringify(t))}async function J_(t,e){try{const n=Un(Ct,"users",t),r=Object.fromEntries(Object.entries(e).filter(([s,o])=>o!==void 0));await Fc(n,{...r,createdAt:No(),updatedAt:No()},{merge:!0})}catch(n){throw console.error("Error saving user to Firestore:",n),n}}async function Z_(t){try{const e=Un(Ct,"users",t),n=await nu(e);return n.exists()?n.data():null}catch(e){return console.error("Error fetching user from Firestore:",e),null}}async function uK(t){return Z_(t)}async function dK(t,e){try{const n=Un(Ct,"users",t);await Fc(n,{notificationPreferences:{pushNotifications:e.pushNotifications??!1,emailUpdates:e.emailUpdates??!1},updatedAt:No()},{merge:!0})}catch(n){console.error("Error updating notification preferences:",n);const r=au(n);throw new Error(r)}}async function hK(){var t,e;try{const r=(await fz(bi,X2)).user;let s=await Z_(r.uid);s||(s={id:r.uid,name:r.displayName||((t=r.email)==null?void 0:t.split("@")[0])||"User",email:r.email||"",avatar:r.photoURL||void 0,role:"client"},await J_(r.uid,{...s,role:"client"}));const o={id:r.uid,name:s.name||r.displayName||((e=r.email)==null?void 0:e.split("@")[0])||"User",email:r.email||"",avatar:s.avatar||r.photoURL||void 0,role:s.role};return bg(o),Dh(!0,r.uid),o}catch(n){console.error("Error signing in with Google:",n);const r=au(n);throw new Error(r)}}async function fK(t,e,n){try{const s=(await UB(bi,e,n)).user;try{await QR(s,{displayName:t})}catch(a){console.warn("Warning: could not update profile displayName",a)}const o={id:s.uid,name:t,email:e,avatar:s.photoURL||void 0,role:"client"};return await J_(s.uid,{...o,role:"client"}),bg(o),Dh(!0,s.uid),o}catch(r){console.error("Error signing up:",r);const s=au(r);throw new Error(s)}}async function pK(t,e){if(!t||!e)throw new Error("Email and password are required.");try{const r=(await BB(bi,t,e)).user,s=await Z_(r.uid);if(console.log(" Firestore profile for user:",r.uid,s),!s)throw new Error("User profile not found");const o={id:r.uid,name:s.name,email:r.email||"",avatar:s.avatar,role:s.role};return console.log(" User data compiled:",o),bg(o),Dh(!0,r.uid),o}catch(n){console.error("Error logging in:",n);const r=au(n);throw new Error(r)}}function au(t){if(!t)return"Authentication error";switch(t.code||""){case"auth/email-already-in-use":return"This email is already in use. Try logging in or use a different email.";case"auth/invalid-email":return"The email address is invalid.";case"auth/operation-not-allowed":return"Email/password sign-in is not enabled. Enable it in Firebase Console  Authentication  Sign-in method.";case"auth/weak-password":return"Password is too weak. Use at least 6 characters.";case"auth/wrong-password":return"Incorrect password. Please try again.";case"auth/user-not-found":return"We couldn't find an account with that email. Want to sign up instead?";case"auth/user-disabled":return"This user account has been disabled.";case"auth/popup-closed-by-user":return"Sign-in popup closed before completing sign-in.";case"auth/invalid-credential":return"Invalid email or password. Please try again or reset your password.";case"auth/requires-recent-login":return"Please re-enter your current password to make this change.";case"auth/too-many-requests":return"Too many attempts. Please wait a moment and try again.";default:return t.message||"Authentication error"}}async function mK(){try{return await GB(bi),localStorage.removeItem("userData"),localStorage.removeItem("authToken"),Dh(!1),!0}catch(t){throw console.error("Error logging out:",t),t}}function Se(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function gK(t,e){const n=w.createContext(e),r=o=>{const{children:a,...u}=o,h=w.useMemo(()=>u,Object.values(u));return c.jsx(n.Provider,{value:h,children:a})};r.displayName=t+"Provider";function s(o){const a=w.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function as(t,e=[]){let n=[];function r(o,a){const u=w.createContext(a),h=n.length;n=[...n,a];const f=y=>{var N;const{scope:v,children:E,...I}=y,S=((N=v==null?void 0:v[t])==null?void 0:N[h])||u,T=w.useMemo(()=>I,Object.values(I));return c.jsx(S.Provider,{value:T,children:E})};f.displayName=o+"Provider";function m(y,v){var S;const E=((S=v==null?void 0:v[t])==null?void 0:S[h])||u,I=w.useContext(E);if(I)return I;if(a!==void 0)return a;throw new Error(`\`${y}\` must be used within \`${o}\``)}return[f,m]}const s=()=>{const o=n.map(a=>w.createContext(a));return function(u){const h=(u==null?void 0:u[t])||o;return w.useMemo(()=>({[`__scope${t}`]:{...u,[t]:h}}),[u,h])}};return s.scopeName=t,[r,yK(s,...e)]}function yK(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=r.reduce((u,{useScope:h,scopeName:f})=>{const y=h(o)[`__scope${f}`];return{...u,...y}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var an=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},vK=Fx[" useInsertionEffect ".trim().toString()]||an;function nl({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,o,a]=xK({defaultProp:e,onChange:n}),u=t!==void 0,h=u?t:s;{const m=w.useRef(t!==void 0);w.useEffect(()=>{const y=m.current;y!==u&&console.warn(`${r} is changing from ${y?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,r])}const f=w.useCallback(m=>{var y;if(u){const v=wK(m)?m(t):m;v!==t&&((y=a.current)==null||y.call(a,v))}else o(m)},[u,t,o,a]);return[h,f]}function xK({defaultProp:t,onChange:e}){const[n,r]=w.useState(t),s=w.useRef(n),o=w.useRef(e);return vK(()=>{o.current=e},[e]),w.useEffect(()=>{var a;s.current!==n&&((a=o.current)==null||a.call(o,n),s.current=n)},[n,s]),[n,r,o]}function wK(t){return typeof t=="function"}var _K=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$e=_K.reduce((t,e)=>{const n=Wa(`Primitive.${e}`),r=w.forwardRef((s,o)=>{const{asChild:a,...u}=s,h=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(h,{...u,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function J2(t,e){t&&hh.flushSync(()=>t.dispatchEvent(e))}function eb(t){const e=t+"CollectionProvider",[n,r]=as(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=S=>{const{scope:T,children:N}=S,j=mi.useRef(null),k=mi.useRef(new Map).current;return c.jsx(s,{scope:T,itemMap:k,collectionRef:j,children:N})};a.displayName=e;const u=t+"CollectionSlot",h=Wa(u),f=mi.forwardRef((S,T)=>{const{scope:N,children:j}=S,k=o(u,N),$=at(T,k.collectionRef);return c.jsx(h,{ref:$,children:j})});f.displayName=u;const m=t+"CollectionItemSlot",y="data-radix-collection-item",v=Wa(m),E=mi.forwardRef((S,T)=>{const{scope:N,children:j,...k}=S,$=mi.useRef(null),B=at(T,$),W=o(m,N);return mi.useEffect(()=>(W.itemMap.set($,{ref:$,...k}),()=>void W.itemMap.delete($))),c.jsx(v,{[y]:"",ref:B,children:j})});E.displayName=m;function I(S){const T=o(t+"CollectionConsumer",S);return mi.useCallback(()=>{const j=T.collectionRef.current;if(!j)return[];const k=Array.from(j.querySelectorAll(`[${y}]`));return Array.from(T.itemMap.values()).sort((W,P)=>k.indexOf(W.ref.current)-k.indexOf(P.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:a,Slot:f,ItemSlot:E},I,r]}var bK=w.createContext(void 0);function Eg(t){const e=w.useContext(bK);return t||e||"ltr"}function ns(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function EK(t,e=globalThis==null?void 0:globalThis.document){const n=ns(t);w.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var TK="DismissableLayer",Ex="dismissableLayer.update",SK="dismissableLayer.pointerDownOutside",CK="dismissableLayer.focusOutside",SI,Z2=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Tg=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:u,...h}=t,f=w.useContext(Z2),[m,y]=w.useState(null),v=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,E]=w.useState({}),I=at(e,P=>y(P)),S=Array.from(f.layers),[T]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),N=S.indexOf(T),j=m?S.indexOf(m):-1,k=f.layersWithOutsidePointerEventsDisabled.size>0,$=j>=N,B=AK(P=>{const R=P.target,D=[...f.branches].some(V=>V.contains(R));!$||D||(s==null||s(P),a==null||a(P),P.defaultPrevented||u==null||u())},v),W=RK(P=>{const R=P.target;[...f.branches].some(V=>V.contains(R))||(o==null||o(P),a==null||a(P),P.defaultPrevented||u==null||u())},v);return EK(P=>{j===f.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&u&&(P.preventDefault(),u()))},v),w.useEffect(()=>{if(m)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(SI=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),CI(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=SI)}},[m,v,n,f]),w.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),CI())},[m,f]),w.useEffect(()=>{const P=()=>E({});return document.addEventListener(Ex,P),()=>document.removeEventListener(Ex,P)},[]),c.jsx($e.div,{...h,ref:I,style:{pointerEvents:k?$?"auto":"none":void 0,...t.style},onFocusCapture:Se(t.onFocusCapture,W.onFocusCapture),onBlurCapture:Se(t.onBlurCapture,W.onBlurCapture),onPointerDownCapture:Se(t.onPointerDownCapture,B.onPointerDownCapture)})});Tg.displayName=TK;var IK="DismissableLayerBranch",NK=w.forwardRef((t,e)=>{const n=w.useContext(Z2),r=w.useRef(null),s=at(e,r);return w.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),c.jsx($e.div,{...t,ref:s})});NK.displayName=IK;function AK(t,e=globalThis==null?void 0:globalThis.document){const n=ns(t),r=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const o=u=>{if(u.target&&!r.current){let h=function(){ej(SK,n,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=h,e.addEventListener("click",s.current,{once:!0})):h()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function RK(t,e=globalThis==null?void 0:globalThis.document){const n=ns(t),r=w.useRef(!1);return w.useEffect(()=>{const s=o=>{o.target&&!r.current&&ej(CK,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function CI(){const t=new CustomEvent(Ex);document.dispatchEvent(t)}function ej(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?J2(s,o):s.dispatchEvent(o)}var Zv=0;function tb(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??II()),document.body.insertAdjacentElement("beforeend",t[1]??II()),Zv++,()=>{Zv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Zv--}},[])}function II(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var e0="focusScope.autoFocusOnMount",t0="focusScope.autoFocusOnUnmount",NI={bubbles:!1,cancelable:!0},PK="FocusScope",Sg=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...a}=t,[u,h]=w.useState(null),f=ns(s),m=ns(o),y=w.useRef(null),v=at(e,S=>h(S)),E=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let S=function(k){if(E.paused||!u)return;const $=k.target;u.contains($)?y.current=$:bo(y.current,{select:!0})},T=function(k){if(E.paused||!u)return;const $=k.relatedTarget;$!==null&&(u.contains($)||bo(y.current,{select:!0}))},N=function(k){if(document.activeElement===document.body)for(const B of k)B.removedNodes.length>0&&bo(u)};document.addEventListener("focusin",S),document.addEventListener("focusout",T);const j=new MutationObserver(N);return u&&j.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",T),j.disconnect()}}},[r,u,E.paused]),w.useEffect(()=>{if(u){RI.add(E);const S=document.activeElement;if(!u.contains(S)){const N=new CustomEvent(e0,NI);u.addEventListener(e0,f),u.dispatchEvent(N),N.defaultPrevented||(kK(LK(tj(u)),{select:!0}),document.activeElement===S&&bo(u))}return()=>{u.removeEventListener(e0,f),setTimeout(()=>{const N=new CustomEvent(t0,NI);u.addEventListener(t0,m),u.dispatchEvent(N),N.defaultPrevented||bo(S??document.body,{select:!0}),u.removeEventListener(t0,m),RI.remove(E)},0)}}},[u,f,m,E]);const I=w.useCallback(S=>{if(!n&&!r||E.paused)return;const T=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,N=document.activeElement;if(T&&N){const j=S.currentTarget,[k,$]=jK(j);k&&$?!S.shiftKey&&N===$?(S.preventDefault(),n&&bo(k,{select:!0})):S.shiftKey&&N===k&&(S.preventDefault(),n&&bo($,{select:!0})):N===j&&S.preventDefault()}},[n,r,E.paused]);return c.jsx($e.div,{tabIndex:-1,...a,ref:v,onKeyDown:I})});Sg.displayName=PK;function kK(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(bo(r,{select:e}),document.activeElement!==n)return}function jK(t){const e=tj(t),n=AI(e,t),r=AI(e.reverse(),t);return[n,r]}function tj(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function AI(t,e){for(const n of t)if(!DK(n,{upTo:e}))return n}function DK(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function MK(t){return t instanceof HTMLInputElement&&"select"in t}function bo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&MK(t)&&e&&t.select()}}var RI=OK();function OK(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=PI(t,e),t.unshift(e)},remove(e){var n;t=PI(t,e),(n=t[0])==null||n.resume()}}}function PI(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function LK(t){return t.filter(e=>e.tagName!=="A")}var VK=Fx[" useId ".trim().toString()]||(()=>{}),FK=0;function $s(t){const[e,n]=w.useState(VK());return an(()=>{n(r=>r??String(FK++))},[t]),e?`radix-${e}`:""}const UK=["top","right","bottom","left"],Ko=Math.min,hr=Math.max,Sm=Math.round,fp=Math.floor,Ws=t=>({x:t,y:t}),BK={left:"right",right:"left",bottom:"top",top:"bottom"},zK={start:"end",end:"start"};function Tx(t,e,n){return hr(t,Ko(e,n))}function ki(t,e){return typeof t=="function"?t(e):t}function ji(t){return t.split("-")[0]}function lu(t){return t.split("-")[1]}function nb(t){return t==="x"?"y":"x"}function rb(t){return t==="y"?"height":"width"}function Ei(t){return["top","bottom"].includes(ji(t))?"y":"x"}function sb(t){return nb(Ei(t))}function $K(t,e,n){n===void 0&&(n=!1);const r=lu(t),s=sb(t),o=rb(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=Cm(a)),[a,Cm(a)]}function WK(t){const e=Cm(t);return[Sx(t),e,Sx(e)]}function Sx(t){return t.replace(/start|end/g,e=>zK[e])}function HK(t,e,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?o:a;default:return[]}}function qK(t,e,n,r){const s=lu(t);let o=HK(ji(t),n==="start",r);return s&&(o=o.map(a=>a+"-"+s),e&&(o=o.concat(o.map(Sx)))),o}function Cm(t){return t.replace(/left|right|bottom|top/g,e=>BK[e])}function GK(t){return{top:0,right:0,bottom:0,left:0,...t}}function nj(t){return typeof t!="number"?GK(t):{top:t,right:t,bottom:t,left:t}}function Im(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function kI(t,e,n){let{reference:r,floating:s}=t;const o=Ei(e),a=sb(e),u=rb(a),h=ji(e),f=o==="y",m=r.x+r.width/2-s.width/2,y=r.y+r.height/2-s.height/2,v=r[u]/2-s[u]/2;let E;switch(h){case"top":E={x:m,y:r.y-s.height};break;case"bottom":E={x:m,y:r.y+r.height};break;case"right":E={x:r.x+r.width,y};break;case"left":E={x:r.x-s.width,y};break;default:E={x:r.x,y:r.y}}switch(lu(e)){case"start":E[a]-=v*(n&&f?-1:1);break;case"end":E[a]+=v*(n&&f?-1:1);break}return E}const KK=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:a}=n,u=o.filter(Boolean),h=await(a.isRTL==null?void 0:a.isRTL(e));let f=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:m,y}=kI(f,r,h),v=r,E={},I=0;for(let S=0;S<u.length;S++){const{name:T,fn:N}=u[S],{x:j,y:k,data:$,reset:B}=await N({x:m,y,initialPlacement:r,placement:v,strategy:s,middlewareData:E,rects:f,platform:a,elements:{reference:t,floating:e}});m=j??m,y=k??y,E={...E,[T]:{...E[T],...$}},B&&I<=50&&(I++,typeof B=="object"&&(B.placement&&(v=B.placement),B.rects&&(f=B.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):B.rects),{x:m,y}=kI(f,v,h)),S=-1)}return{x:m,y,placement:v,strategy:s,middlewareData:E}};async function ih(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:a,elements:u,strategy:h}=t,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:y="floating",altBoundary:v=!1,padding:E=0}=ki(e,t),I=nj(E),T=u[v?y==="floating"?"reference":"floating":y],N=Im(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(T)))==null||n?T:T.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:f,rootBoundary:m,strategy:h})),j=y==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),$=await(o.isElement==null?void 0:o.isElement(k))?await(o.getScale==null?void 0:o.getScale(k))||{x:1,y:1}:{x:1,y:1},B=Im(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:j,offsetParent:k,strategy:h}):j);return{top:(N.top-B.top+I.top)/$.y,bottom:(B.bottom-N.bottom+I.bottom)/$.y,left:(N.left-B.left+I.left)/$.x,right:(B.right-N.right+I.right)/$.x}}const YK=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:a,elements:u,middlewareData:h}=e,{element:f,padding:m=0}=ki(t,e)||{};if(f==null)return{};const y=nj(m),v={x:n,y:r},E=sb(s),I=rb(E),S=await a.getDimensions(f),T=E==="y",N=T?"top":"left",j=T?"bottom":"right",k=T?"clientHeight":"clientWidth",$=o.reference[I]+o.reference[E]-v[E]-o.floating[I],B=v[E]-o.reference[E],W=await(a.getOffsetParent==null?void 0:a.getOffsetParent(f));let P=W?W[k]:0;(!P||!await(a.isElement==null?void 0:a.isElement(W)))&&(P=u.floating[k]||o.floating[I]);const R=$/2-B/2,D=P/2-S[I]/2-1,V=Ko(y[N],D),F=Ko(y[j],D),z=V,L=P-S[I]-F,me=P/2-S[I]/2+R,Ie=Tx(z,me,L),ye=!h.arrow&&lu(s)!=null&&me!==Ie&&o.reference[I]/2-(me<z?V:F)-S[I]/2<0,ae=ye?me<z?me-z:me-L:0;return{[E]:v[E]+ae,data:{[E]:Ie,centerOffset:me-Ie-ae,...ye&&{alignmentOffset:ae}},reset:ye}}}),QK=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:a,initialPlacement:u,platform:h,elements:f}=e,{mainAxis:m=!0,crossAxis:y=!0,fallbackPlacements:v,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:S=!0,...T}=ki(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const N=ji(s),j=Ei(u),k=ji(u)===u,$=await(h.isRTL==null?void 0:h.isRTL(f.floating)),B=v||(k||!S?[Cm(u)]:WK(u)),W=I!=="none";!v&&W&&B.push(...qK(u,S,I,$));const P=[u,...B],R=await ih(e,T),D=[];let V=((r=o.flip)==null?void 0:r.overflows)||[];if(m&&D.push(R[N]),y){const Ie=$K(s,a,$);D.push(R[Ie[0]],R[Ie[1]])}if(V=[...V,{placement:s,overflows:D}],!D.every(Ie=>Ie<=0)){var F,z;const Ie=(((F=o.flip)==null?void 0:F.index)||0)+1,ye=P[Ie];if(ye){var L;const J=y==="alignment"?j!==Ei(ye):!1,K=((L=V[0])==null?void 0:L.overflows[0])>0;if(!J||K)return{data:{index:Ie,overflows:V},reset:{placement:ye}}}let ae=(z=V.filter(J=>J.overflows[0]<=0).sort((J,K)=>J.overflows[1]-K.overflows[1])[0])==null?void 0:z.placement;if(!ae)switch(E){case"bestFit":{var me;const J=(me=V.filter(K=>{if(W){const ne=Ei(K.placement);return ne===j||ne==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(ne=>ne>0).reduce((ne,H)=>ne+H,0)]).sort((K,ne)=>K[1]-ne[1])[0])==null?void 0:me[0];J&&(ae=J);break}case"initialPlacement":ae=u;break}if(s!==ae)return{reset:{placement:ae}}}return{}}}};function jI(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function DI(t){return UK.some(e=>t[e]>=0)}const XK=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ki(t,e);switch(r){case"referenceHidden":{const o=await ih(e,{...s,elementContext:"reference"}),a=jI(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:DI(a)}}}case"escaped":{const o=await ih(e,{...s,altBoundary:!0}),a=jI(o,n.floating);return{data:{escapedOffsets:a,escaped:DI(a)}}}default:return{}}}}};async function JK(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=ji(n),u=lu(n),h=Ei(n)==="y",f=["left","top"].includes(a)?-1:1,m=o&&h?-1:1,y=ki(e,t);let{mainAxis:v,crossAxis:E,alignmentAxis:I}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return u&&typeof I=="number"&&(E=u==="end"?I*-1:I),h?{x:E*m,y:v*f}:{x:v*f,y:E*m}}const ZK=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:a,middlewareData:u}=e,h=await JK(e,t);return a===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+h.x,y:o+h.y,data:{...h,placement:a}}}}},eY=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:u={fn:T=>{let{x:N,y:j}=T;return{x:N,y:j}}},...h}=ki(t,e),f={x:n,y:r},m=await ih(e,h),y=Ei(ji(s)),v=nb(y);let E=f[v],I=f[y];if(o){const T=v==="y"?"top":"left",N=v==="y"?"bottom":"right",j=E+m[T],k=E-m[N];E=Tx(j,E,k)}if(a){const T=y==="y"?"top":"left",N=y==="y"?"bottom":"right",j=I+m[T],k=I-m[N];I=Tx(j,I,k)}const S=u.fn({...e,[v]:E,[y]:I});return{...S,data:{x:S.x-n,y:S.y-r,enabled:{[v]:o,[y]:a}}}}}},tY=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:a}=e,{offset:u=0,mainAxis:h=!0,crossAxis:f=!0}=ki(t,e),m={x:n,y:r},y=Ei(s),v=nb(y);let E=m[v],I=m[y];const S=ki(u,e),T=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(h){const k=v==="y"?"height":"width",$=o.reference[v]-o.floating[k]+T.mainAxis,B=o.reference[v]+o.reference[k]-T.mainAxis;E<$?E=$:E>B&&(E=B)}if(f){var N,j;const k=v==="y"?"width":"height",$=["top","left"].includes(ji(s)),B=o.reference[y]-o.floating[k]+($&&((N=a.offset)==null?void 0:N[y])||0)+($?0:T.crossAxis),W=o.reference[y]+o.reference[k]+($?0:((j=a.offset)==null?void 0:j[y])||0)-($?T.crossAxis:0);I<B?I=B:I>W&&(I=W)}return{[v]:E,[y]:I}}}},nY=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:a,elements:u}=e,{apply:h=()=>{},...f}=ki(t,e),m=await ih(e,f),y=ji(s),v=lu(s),E=Ei(s)==="y",{width:I,height:S}=o.floating;let T,N;y==="top"||y==="bottom"?(T=y,N=v===(await(a.isRTL==null?void 0:a.isRTL(u.floating))?"start":"end")?"left":"right"):(N=y,T=v==="end"?"top":"bottom");const j=S-m.top-m.bottom,k=I-m.left-m.right,$=Ko(S-m[T],j),B=Ko(I-m[N],k),W=!e.middlewareData.shift;let P=$,R=B;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=k),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=j),W&&!v){const V=hr(m.left,0),F=hr(m.right,0),z=hr(m.top,0),L=hr(m.bottom,0);E?R=I-2*(V!==0||F!==0?V+F:hr(m.left,m.right)):P=S-2*(z!==0||L!==0?z+L:hr(m.top,m.bottom))}await h({...e,availableWidth:R,availableHeight:P});const D=await a.getDimensions(u.floating);return I!==D.width||S!==D.height?{reset:{rects:!0}}:{}}}};function Cg(){return typeof window<"u"}function cu(t){return rj(t)?(t.nodeName||"").toLowerCase():"#document"}function yr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Gs(t){var e;return(e=(rj(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function rj(t){return Cg()?t instanceof Node||t instanceof yr(t).Node:!1}function rs(t){return Cg()?t instanceof Element||t instanceof yr(t).Element:!1}function qs(t){return Cg()?t instanceof HTMLElement||t instanceof yr(t).HTMLElement:!1}function MI(t){return!Cg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof yr(t).ShadowRoot}function Mh(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ss(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function rY(t){return["table","td","th"].includes(cu(t))}function Ig(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function ib(t){const e=ob(),n=rs(t)?ss(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function sY(t){let e=Yo(t);for(;qs(e)&&!zc(e);){if(ib(e))return e;if(Ig(e))return null;e=Yo(e)}return null}function ob(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function zc(t){return["html","body","#document"].includes(cu(t))}function ss(t){return yr(t).getComputedStyle(t)}function Ng(t){return rs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Yo(t){if(cu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||MI(t)&&t.host||Gs(t);return MI(e)?e.host:e}function sj(t){const e=Yo(t);return zc(e)?t.ownerDocument?t.ownerDocument.body:t.body:qs(e)&&Mh(e)?e:sj(e)}function oh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=sj(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),a=yr(s);if(o){const u=Cx(a);return e.concat(a,a.visualViewport||[],Mh(s)?s:[],u&&n?oh(u):[])}return e.concat(s,oh(s,[],n))}function Cx(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ij(t){const e=ss(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=qs(t),o=s?t.offsetWidth:n,a=s?t.offsetHeight:r,u=Sm(n)!==o||Sm(r)!==a;return u&&(n=o,r=a),{width:n,height:r,$:u}}function ab(t){return rs(t)?t:t.contextElement}function Cc(t){const e=ab(t);if(!qs(e))return Ws(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=ij(e);let a=(o?Sm(n.width):n.width)/r,u=(o?Sm(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!u||!Number.isFinite(u))&&(u=1),{x:a,y:u}}const iY=Ws(0);function oj(t){const e=yr(t);return!ob()||!e.visualViewport?iY:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function oY(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==yr(t)?!1:e}function rl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=ab(t);let a=Ws(1);e&&(r?rs(r)&&(a=Cc(r)):a=Cc(t));const u=oY(o,n,r)?oj(o):Ws(0);let h=(s.left+u.x)/a.x,f=(s.top+u.y)/a.y,m=s.width/a.x,y=s.height/a.y;if(o){const v=yr(o),E=r&&rs(r)?yr(r):r;let I=v,S=Cx(I);for(;S&&r&&E!==I;){const T=Cc(S),N=S.getBoundingClientRect(),j=ss(S),k=N.left+(S.clientLeft+parseFloat(j.paddingLeft))*T.x,$=N.top+(S.clientTop+parseFloat(j.paddingTop))*T.y;h*=T.x,f*=T.y,m*=T.x,y*=T.y,h+=k,f+=$,I=yr(S),S=Cx(I)}}return Im({width:m,height:y,x:h,y:f})}function lb(t,e){const n=Ng(t).scrollLeft;return e?e.left+n:rl(Gs(t)).left+n}function aj(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:lb(t,r)),o=r.top+e.scrollTop;return{x:s,y:o}}function aY(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",a=Gs(r),u=e?Ig(e.floating):!1;if(r===a||u&&o)return n;let h={scrollLeft:0,scrollTop:0},f=Ws(1);const m=Ws(0),y=qs(r);if((y||!y&&!o)&&((cu(r)!=="body"||Mh(a))&&(h=Ng(r)),qs(r))){const E=rl(r);f=Cc(r),m.x=E.x+r.clientLeft,m.y=E.y+r.clientTop}const v=a&&!y&&!o?aj(a,h,!0):Ws(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-h.scrollLeft*f.x+m.x+v.x,y:n.y*f.y-h.scrollTop*f.y+m.y+v.y}}function lY(t){return Array.from(t.getClientRects())}function cY(t){const e=Gs(t),n=Ng(t),r=t.ownerDocument.body,s=hr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=hr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+lb(t);const u=-n.scrollTop;return ss(r).direction==="rtl"&&(a+=hr(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:a,y:u}}function uY(t,e){const n=yr(t),r=Gs(t),s=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,u=0,h=0;if(s){o=s.width,a=s.height;const f=ob();(!f||f&&e==="fixed")&&(u=s.offsetLeft,h=s.offsetTop)}return{width:o,height:a,x:u,y:h}}function dY(t,e){const n=rl(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=qs(t)?Cc(t):Ws(1),a=t.clientWidth*o.x,u=t.clientHeight*o.y,h=s*o.x,f=r*o.y;return{width:a,height:u,x:h,y:f}}function OI(t,e,n){let r;if(e==="viewport")r=uY(t,n);else if(e==="document")r=cY(Gs(t));else if(rs(e))r=dY(e,n);else{const s=oj(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Im(r)}function lj(t,e){const n=Yo(t);return n===e||!rs(n)||zc(n)?!1:ss(n).position==="fixed"||lj(n,e)}function hY(t,e){const n=e.get(t);if(n)return n;let r=oh(t,[],!1).filter(u=>rs(u)&&cu(u)!=="body"),s=null;const o=ss(t).position==="fixed";let a=o?Yo(t):t;for(;rs(a)&&!zc(a);){const u=ss(a),h=ib(a);!h&&u.position==="fixed"&&(s=null),(o?!h&&!s:!h&&u.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Mh(a)&&!h&&lj(t,a))?r=r.filter(m=>m!==a):s=u,a=Yo(a)}return e.set(t,r),r}function fY(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?Ig(e)?[]:hY(e,this._c):[].concat(n),r],u=a[0],h=a.reduce((f,m)=>{const y=OI(e,m,s);return f.top=hr(y.top,f.top),f.right=Ko(y.right,f.right),f.bottom=Ko(y.bottom,f.bottom),f.left=hr(y.left,f.left),f},OI(e,u,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function pY(t){const{width:e,height:n}=ij(t);return{width:e,height:n}}function mY(t,e,n){const r=qs(e),s=Gs(e),o=n==="fixed",a=rl(t,!0,o,e);let u={scrollLeft:0,scrollTop:0};const h=Ws(0);function f(){h.x=lb(s)}if(r||!r&&!o)if((cu(e)!=="body"||Mh(s))&&(u=Ng(e)),r){const E=rl(e,!0,o,e);h.x=E.x+e.clientLeft,h.y=E.y+e.clientTop}else s&&f();o&&!r&&s&&f();const m=s&&!r&&!o?aj(s,u):Ws(0),y=a.left+u.scrollLeft-h.x-m.x,v=a.top+u.scrollTop-h.y-m.y;return{x:y,y:v,width:a.width,height:a.height}}function n0(t){return ss(t).position==="static"}function LI(t,e){if(!qs(t)||ss(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Gs(t)===n&&(n=n.ownerDocument.body),n}function cj(t,e){const n=yr(t);if(Ig(t))return n;if(!qs(t)){let s=Yo(t);for(;s&&!zc(s);){if(rs(s)&&!n0(s))return s;s=Yo(s)}return n}let r=LI(t,e);for(;r&&rY(r)&&n0(r);)r=LI(r,e);return r&&zc(r)&&n0(r)&&!ib(r)?n:r||sY(t)||n}const gY=async function(t){const e=this.getOffsetParent||cj,n=this.getDimensions,r=await n(t.floating);return{reference:mY(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function yY(t){return ss(t).direction==="rtl"}const vY={convertOffsetParentRelativeRectToViewportRelativeRect:aY,getDocumentElement:Gs,getClippingRect:fY,getOffsetParent:cj,getElementRects:gY,getClientRects:lY,getDimensions:pY,getScale:Cc,isElement:rs,isRTL:yY};function uj(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function xY(t,e){let n=null,r;const s=Gs(t);function o(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function a(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),o();const f=t.getBoundingClientRect(),{left:m,top:y,width:v,height:E}=f;if(u||e(),!v||!E)return;const I=fp(y),S=fp(s.clientWidth-(m+v)),T=fp(s.clientHeight-(y+E)),N=fp(m),k={rootMargin:-I+"px "+-S+"px "+-T+"px "+-N+"px",threshold:hr(0,Ko(1,h))||1};let $=!0;function B(W){const P=W[0].intersectionRatio;if(P!==h){if(!$)return a();P?a(!1,P):r=setTimeout(()=>{a(!1,1e-7)},1e3)}P===1&&!uj(f,t.getBoundingClientRect())&&a(),$=!1}try{n=new IntersectionObserver(B,{...k,root:s.ownerDocument})}catch{n=new IntersectionObserver(B,k)}n.observe(t)}return a(!0),o}function wY(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,f=ab(t),m=s||o?[...f?oh(f):[],...oh(e)]:[];m.forEach(N=>{s&&N.addEventListener("scroll",n,{passive:!0}),o&&N.addEventListener("resize",n)});const y=f&&u?xY(f,n):null;let v=-1,E=null;a&&(E=new ResizeObserver(N=>{let[j]=N;j&&j.target===f&&E&&(E.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var k;(k=E)==null||k.observe(e)})),n()}),f&&!h&&E.observe(f),E.observe(e));let I,S=h?rl(t):null;h&&T();function T(){const N=rl(t);S&&!uj(S,N)&&n(),S=N,I=requestAnimationFrame(T)}return n(),()=>{var N;m.forEach(j=>{s&&j.removeEventListener("scroll",n),o&&j.removeEventListener("resize",n)}),y==null||y(),(N=E)==null||N.disconnect(),E=null,h&&cancelAnimationFrame(I)}}const _Y=ZK,bY=eY,EY=QK,TY=nY,SY=XK,VI=YK,CY=tY,IY=(t,e,n)=>{const r=new Map,s={platform:vY,...n},o={...s.platform,_c:r};return KK(t,e,{...s,platform:o})};var Op=typeof document<"u"?w.useLayoutEffect:w.useEffect;function Nm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Nm(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!Nm(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function dj(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function FI(t,e){const n=dj(t);return Math.round(e*n)/n}function r0(t){const e=w.useRef(t);return Op(()=>{e.current=t}),e}function NY(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:a}={},transform:u=!0,whileElementsMounted:h,open:f}=t,[m,y]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,E]=w.useState(r);Nm(v,r)||E(r);const[I,S]=w.useState(null),[T,N]=w.useState(null),j=w.useCallback(J=>{J!==W.current&&(W.current=J,S(J))},[]),k=w.useCallback(J=>{J!==P.current&&(P.current=J,N(J))},[]),$=o||I,B=a||T,W=w.useRef(null),P=w.useRef(null),R=w.useRef(m),D=h!=null,V=r0(h),F=r0(s),z=r0(f),L=w.useCallback(()=>{if(!W.current||!P.current)return;const J={placement:e,strategy:n,middleware:v};F.current&&(J.platform=F.current),IY(W.current,P.current,J).then(K=>{const ne={...K,isPositioned:z.current!==!1};me.current&&!Nm(R.current,ne)&&(R.current=ne,hh.flushSync(()=>{y(ne)}))})},[v,e,n,F,z]);Op(()=>{f===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,y(J=>({...J,isPositioned:!1})))},[f]);const me=w.useRef(!1);Op(()=>(me.current=!0,()=>{me.current=!1}),[]),Op(()=>{if($&&(W.current=$),B&&(P.current=B),$&&B){if(V.current)return V.current($,B,L);L()}},[$,B,L,V,D]);const Ie=w.useMemo(()=>({reference:W,floating:P,setReference:j,setFloating:k}),[j,k]),ye=w.useMemo(()=>({reference:$,floating:B}),[$,B]),ae=w.useMemo(()=>{const J={position:n,left:0,top:0};if(!ye.floating)return J;const K=FI(ye.floating,m.x),ne=FI(ye.floating,m.y);return u?{...J,transform:"translate("+K+"px, "+ne+"px)",...dj(ye.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:ne}},[n,u,ye.floating,m.x,m.y]);return w.useMemo(()=>({...m,update:L,refs:Ie,elements:ye,floatingStyles:ae}),[m,L,Ie,ye,ae])}const AY=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?VI({element:r.current,padding:s}).fn(n):{}:r?VI({element:r,padding:s}).fn(n):{}}}},RY=(t,e)=>({..._Y(t),options:[t,e]}),PY=(t,e)=>({...bY(t),options:[t,e]}),kY=(t,e)=>({...CY(t),options:[t,e]}),jY=(t,e)=>({...EY(t),options:[t,e]}),DY=(t,e)=>({...TY(t),options:[t,e]}),MY=(t,e)=>({...SY(t),options:[t,e]}),OY=(t,e)=>({...AY(t),options:[t,e]});var LY="Arrow",hj=w.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return c.jsx($e.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});hj.displayName=LY;var VY=hj;function fj(t){const[e,n]=w.useState(void 0);return an(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let a,u;if("borderBoxSize"in o){const h=o.borderBoxSize,f=Array.isArray(h)?h[0]:h;a=f.inlineSize,u=f.blockSize}else a=t.offsetWidth,u=t.offsetHeight;n({width:a,height:u})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var cb="Popper",[pj,Ag]=as(cb),[FY,mj]=pj(cb),gj=t=>{const{__scopePopper:e,children:n}=t,[r,s]=w.useState(null);return c.jsx(FY,{scope:e,anchor:r,onAnchorChange:s,children:n})};gj.displayName=cb;var yj="PopperAnchor",vj=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=mj(yj,n),a=w.useRef(null),u=at(e,a);return w.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:c.jsx($e.div,{...s,ref:u})});vj.displayName=yj;var ub="PopperContent",[UY,BY]=pj(ub),xj=w.forwardRef((t,e)=>{var de,be,Ae,Fe,Qe,Ze;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:a=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:y="partial",hideWhenDetached:v=!1,updatePositionStrategy:E="optimized",onPlaced:I,...S}=t,T=mj(ub,n),[N,j]=w.useState(null),k=at(e,jt=>j(jt)),[$,B]=w.useState(null),W=fj($),P=(W==null?void 0:W.width)??0,R=(W==null?void 0:W.height)??0,D=r+(o!=="center"?"-"+o:""),V=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},F=Array.isArray(f)?f:[f],z=F.length>0,L={padding:V,boundary:F.filter($Y),altBoundary:z},{refs:me,floatingStyles:Ie,placement:ye,isPositioned:ae,middlewareData:J}=NY({strategy:"fixed",placement:D,whileElementsMounted:(...jt)=>wY(...jt,{animationFrame:E==="always"}),elements:{reference:T.anchor},middleware:[RY({mainAxis:s+R,alignmentAxis:a}),h&&PY({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?kY():void 0,...L}),h&&jY({...L}),DY({...L,apply:({elements:jt,rects:gn,availableWidth:cs,availableHeight:vr})=>{const{width:nr,height:sa}=gn.reference,gt=jt.floating.style;gt.setProperty("--radix-popper-available-width",`${cs}px`),gt.setProperty("--radix-popper-available-height",`${vr}px`),gt.setProperty("--radix-popper-anchor-width",`${nr}px`),gt.setProperty("--radix-popper-anchor-height",`${sa}px`)}}),$&&OY({element:$,padding:u}),WY({arrowWidth:P,arrowHeight:R}),v&&MY({strategy:"referenceHidden",...L})]}),[K,ne]=bj(ye),H=ns(I);an(()=>{ae&&(H==null||H())},[ae,H]);const te=(de=J.arrow)==null?void 0:de.x,_e=(be=J.arrow)==null?void 0:be.y,Te=((Ae=J.arrow)==null?void 0:Ae.centerOffset)!==0,[Ve,je]=w.useState();return an(()=>{N&&je(window.getComputedStyle(N).zIndex)},[N]),c.jsx("div",{ref:me.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ie,transform:ae?Ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ve,"--radix-popper-transform-origin":[(Fe=J.transformOrigin)==null?void 0:Fe.x,(Qe=J.transformOrigin)==null?void 0:Qe.y].join(" "),...((Ze=J.hide)==null?void 0:Ze.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(UY,{scope:n,placedSide:K,onArrowChange:B,arrowX:te,arrowY:_e,shouldHideArrow:Te,children:c.jsx($e.div,{"data-side":K,"data-align":ne,...S,ref:k,style:{...S.style,animation:ae?void 0:"none"}})})})});xj.displayName=ub;var wj="PopperArrow",zY={top:"bottom",right:"left",bottom:"top",left:"right"},_j=w.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=BY(wj,r),a=zY[o.placedSide];return c.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:c.jsx(VY,{...s,ref:n,style:{...s.style,display:"block"}})})});_j.displayName=wj;function $Y(t){return t!==null}var WY=t=>({name:"transformOrigin",options:t,fn(e){var T,N,j;const{placement:n,rects:r,middlewareData:s}=e,a=((T=s.arrow)==null?void 0:T.centerOffset)!==0,u=a?0:t.arrowWidth,h=a?0:t.arrowHeight,[f,m]=bj(n),y={start:"0%",center:"50%",end:"100%"}[m],v=(((N=s.arrow)==null?void 0:N.x)??0)+u/2,E=(((j=s.arrow)==null?void 0:j.y)??0)+h/2;let I="",S="";return f==="bottom"?(I=a?y:`${v}px`,S=`${-h}px`):f==="top"?(I=a?y:`${v}px`,S=`${r.floating.height+h}px`):f==="right"?(I=`${-h}px`,S=a?y:`${E}px`):f==="left"&&(I=`${r.floating.width+h}px`,S=a?y:`${E}px`),{data:{x:I,y:S}}}});function bj(t){const[e,n="center"]=t.split("-");return[e,n]}var Ej=gj,Tj=vj,Sj=xj,Cj=_j,HY="Portal",Rg=w.forwardRef((t,e)=>{var u;const{container:n,...r}=t,[s,o]=w.useState(!1);an(()=>o(!0),[]);const a=n||s&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return a?rV.createPortal(c.jsx($e.div,{...r,ref:e}),a):null});Rg.displayName=HY;function qY(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var Fi=t=>{const{present:e,children:n}=t,r=GY(e),s=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),o=at(r.ref,KY(s));return typeof n=="function"||r.isPresent?w.cloneElement(s,{ref:o}):null};Fi.displayName="Presence";function GY(t){const[e,n]=w.useState(),r=w.useRef(null),s=w.useRef(t),o=w.useRef("none"),a=t?"mounted":"unmounted",[u,h]=qY(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const f=pp(r.current);o.current=u==="mounted"?f:"none"},[u]),an(()=>{const f=r.current,m=s.current;if(m!==t){const v=o.current,E=pp(f);t?h("MOUNT"):E==="none"||(f==null?void 0:f.display)==="none"?h("UNMOUNT"):h(m&&v!==E?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,h]),an(()=>{if(e){let f;const m=e.ownerDocument.defaultView??window,y=E=>{const S=pp(r.current).includes(E.animationName);if(E.target===e&&S&&(h("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",f=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},v=E=>{E.target===e&&(o.current=pp(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{m.clearTimeout(f),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:w.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function pp(t){return(t==null?void 0:t.animationName)||"none"}function KY(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var s0="rovingFocusGroup.onEntryFocus",YY={bubbles:!1,cancelable:!0},Oh="RovingFocusGroup",[Ix,Ij,QY]=eb(Oh),[XY,Pg]=as(Oh,[QY]),[JY,ZY]=XY(Oh),Nj=w.forwardRef((t,e)=>c.jsx(Ix.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(Ix.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(eQ,{...t,ref:e})})}));Nj.displayName=Oh;var eQ=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:f,preventScrollOnEntryFocus:m=!1,...y}=t,v=w.useRef(null),E=at(e,v),I=Eg(o),[S,T]=nl({prop:a,defaultProp:u??null,onChange:h,caller:Oh}),[N,j]=w.useState(!1),k=ns(f),$=Ij(n),B=w.useRef(!1),[W,P]=w.useState(0);return w.useEffect(()=>{const R=v.current;if(R)return R.addEventListener(s0,k),()=>R.removeEventListener(s0,k)},[k]),c.jsx(JY,{scope:n,orientation:r,dir:I,loop:s,currentTabStopId:S,onItemFocus:w.useCallback(R=>T(R),[T]),onItemShiftTab:w.useCallback(()=>j(!0),[]),onFocusableItemAdd:w.useCallback(()=>P(R=>R+1),[]),onFocusableItemRemove:w.useCallback(()=>P(R=>R-1),[]),children:c.jsx($e.div,{tabIndex:N||W===0?-1:0,"data-orientation":r,...y,ref:E,style:{outline:"none",...t.style},onMouseDown:Se(t.onMouseDown,()=>{B.current=!0}),onFocus:Se(t.onFocus,R=>{const D=!B.current;if(R.target===R.currentTarget&&D&&!N){const V=new CustomEvent(s0,YY);if(R.currentTarget.dispatchEvent(V),!V.defaultPrevented){const F=$().filter(ye=>ye.focusable),z=F.find(ye=>ye.active),L=F.find(ye=>ye.id===S),Ie=[z,L,...F].filter(Boolean).map(ye=>ye.ref.current);Pj(Ie,m)}}B.current=!1}),onBlur:Se(t.onBlur,()=>j(!1))})})}),Aj="RovingFocusGroupItem",Rj=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:a,...u}=t,h=$s(),f=o||h,m=ZY(Aj,n),y=m.currentTabStopId===f,v=Ij(n),{onFocusableItemAdd:E,onFocusableItemRemove:I,currentTabStopId:S}=m;return w.useEffect(()=>{if(r)return E(),()=>I()},[r,E,I]),c.jsx(Ix.ItemSlot,{scope:n,id:f,focusable:r,active:s,children:c.jsx($e.span,{tabIndex:y?0:-1,"data-orientation":m.orientation,...u,ref:e,onMouseDown:Se(t.onMouseDown,T=>{r?m.onItemFocus(f):T.preventDefault()}),onFocus:Se(t.onFocus,()=>m.onItemFocus(f)),onKeyDown:Se(t.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){m.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const N=rQ(T,m.orientation,m.dir);if(N!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let k=v().filter($=>$.focusable).map($=>$.ref.current);if(N==="last")k.reverse();else if(N==="prev"||N==="next"){N==="prev"&&k.reverse();const $=k.indexOf(T.currentTarget);k=m.loop?sQ(k,$+1):k.slice($+1)}setTimeout(()=>Pj(k))}}),children:typeof a=="function"?a({isCurrentTabStop:y,hasTabStop:S!=null}):a})})});Rj.displayName=Aj;var tQ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function nQ(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function rQ(t,e,n){const r=nQ(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return tQ[r]}function Pj(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function sQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var kj=Nj,jj=Rj,iQ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},rc=new WeakMap,mp=new WeakMap,gp={},i0=0,Dj=function(t){return t&&(t.host||Dj(t.parentNode))},oQ=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Dj(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},aQ=function(t,e,n,r){var s=oQ(e,Array.isArray(t)?t:[t]);gp[n]||(gp[n]=new WeakMap);var o=gp[n],a=[],u=new Set,h=new Set(s),f=function(y){!y||u.has(y)||(u.add(y),f(y.parentNode))};s.forEach(f);var m=function(y){!y||h.has(y)||Array.prototype.forEach.call(y.children,function(v){if(u.has(v))m(v);else try{var E=v.getAttribute(r),I=E!==null&&E!=="false",S=(rc.get(v)||0)+1,T=(o.get(v)||0)+1;rc.set(v,S),o.set(v,T),a.push(v),S===1&&I&&mp.set(v,!0),T===1&&v.setAttribute(n,"true"),I||v.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",v,N)}})};return m(e),u.clear(),i0++,function(){a.forEach(function(y){var v=rc.get(y)-1,E=o.get(y)-1;rc.set(y,v),o.set(y,E),v||(mp.has(y)||y.removeAttribute(r),mp.delete(y)),E||y.removeAttribute(n)}),i0--,i0||(rc=new WeakMap,rc=new WeakMap,mp=new WeakMap,gp={})}},db=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=iQ(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),aQ(r,s,n,"aria-hidden")):function(){return null}},As=function(){return As=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},As.apply(this,arguments)};function Mj(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function lQ(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Lp="right-scroll-bar-position",Vp="width-before-scroll-bar",cQ="with-scroll-bars-hidden",uQ="--removed-body-scroll-bar-size";function o0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function dQ(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var hQ=typeof window<"u"?w.useLayoutEffect:w.useEffect,UI=new WeakMap;function fQ(t,e){var n=dQ(null,function(r){return t.forEach(function(s){return o0(s,r)})});return hQ(function(){var r=UI.get(n);if(r){var s=new Set(r),o=new Set(t),a=n.current;s.forEach(function(u){o.has(u)||o0(u,null)}),o.forEach(function(u){s.has(u)||o0(u,a)})}UI.set(n,t)},[t]),n}function pQ(t){return t}function mQ(t,e){e===void 0&&(e=pQ);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var a=e(o,r);return n.push(a),function(){n=n.filter(function(u){return u!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(u){return o(u)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var u=n;n=[],u.forEach(o),a=n}var h=function(){var m=a;a=[],m.forEach(o)},f=function(){return Promise.resolve().then(h)};f(),n={push:function(m){a.push(m),f()},filter:function(m){return a=a.filter(m),n}}}};return s}function gQ(t){t===void 0&&(t={});var e=mQ(null);return e.options=As({async:!0,ssr:!1},t),e}var Oj=function(t){var e=t.sideCar,n=Mj(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,As({},n))};Oj.isSideCarExport=!0;function yQ(t,e){return t.useMedium(e),Oj}var Lj=gQ(),a0=function(){},kg=w.forwardRef(function(t,e){var n=w.useRef(null),r=w.useState({onScrollCapture:a0,onWheelCapture:a0,onTouchMoveCapture:a0}),s=r[0],o=r[1],a=t.forwardProps,u=t.children,h=t.className,f=t.removeScrollBar,m=t.enabled,y=t.shards,v=t.sideCar,E=t.noRelative,I=t.noIsolation,S=t.inert,T=t.allowPinchZoom,N=t.as,j=N===void 0?"div":N,k=t.gapMode,$=Mj(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),B=v,W=fQ([n,e]),P=As(As({},$),s);return w.createElement(w.Fragment,null,m&&w.createElement(B,{sideCar:Lj,removeScrollBar:f,shards:y,noRelative:E,noIsolation:I,inert:S,setCallbacks:o,allowPinchZoom:!!T,lockRef:n,gapMode:k}),a?w.cloneElement(w.Children.only(u),As(As({},P),{ref:W})):w.createElement(j,As({},P,{className:h,ref:W}),u))});kg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kg.classNames={fullWidth:Vp,zeroRight:Lp};var vQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xQ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=vQ();return e&&t.setAttribute("nonce",e),t}function wQ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function _Q(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var bQ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=xQ())&&(wQ(e,n),_Q(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},EQ=function(){var t=bQ();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Vj=function(){var t=EQ(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},TQ={left:0,top:0,right:0,gap:0},l0=function(t){return parseInt(t||"",10)||0},SQ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[l0(n),l0(r),l0(s)]},CQ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return TQ;var e=SQ(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},IQ=Vj(),Ic="data-scroll-locked",NQ=function(t,e,n,r){var s=t.left,o=t.top,a=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(cQ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Ic,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Lp,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Vp,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Lp," .").concat(Lp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Vp," .").concat(Vp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ic,`] {
    `).concat(uQ,": ").concat(u,`px;
  }
`)},BI=function(){var t=parseInt(document.body.getAttribute(Ic)||"0",10);return isFinite(t)?t:0},AQ=function(){w.useEffect(function(){return document.body.setAttribute(Ic,(BI()+1).toString()),function(){var t=BI()-1;t<=0?document.body.removeAttribute(Ic):document.body.setAttribute(Ic,t.toString())}},[])},RQ=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;AQ();var o=w.useMemo(function(){return CQ(s)},[s]);return w.createElement(IQ,{styles:NQ(o,!e,s,n?"":"!important")})},Nx=!1;if(typeof window<"u")try{var yp=Object.defineProperty({},"passive",{get:function(){return Nx=!0,!0}});window.addEventListener("test",yp,yp),window.removeEventListener("test",yp,yp)}catch{Nx=!1}var sc=Nx?{passive:!1}:!1,PQ=function(t){return t.tagName==="TEXTAREA"},Fj=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!PQ(t)&&n[e]==="visible")},kQ=function(t){return Fj(t,"overflowY")},jQ=function(t){return Fj(t,"overflowX")},zI=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Uj(t,r);if(s){var o=Bj(t,r),a=o[1],u=o[2];if(a>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},DQ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},MQ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Uj=function(t,e){return t==="v"?kQ(e):jQ(e)},Bj=function(t,e){return t==="v"?DQ(e):MQ(e)},OQ=function(t,e){return t==="h"&&e==="rtl"?-1:1},LQ=function(t,e,n,r,s){var o=OQ(t,window.getComputedStyle(e).direction),a=o*r,u=n.target,h=e.contains(u),f=!1,m=a>0,y=0,v=0;do{var E=Bj(t,u),I=E[0],S=E[1],T=E[2],N=S-T-o*I;(I||N)&&Uj(t,u)&&(y+=N,v+=I),u=u.parentNode.host||u.parentNode}while(!h&&u!==document.body||h&&(e.contains(u)||e===u));return(m&&Math.abs(y)<1||!m&&Math.abs(v)<1)&&(f=!0),f},vp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},$I=function(t){return[t.deltaX,t.deltaY]},WI=function(t){return t&&"current"in t?t.current:t},VQ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},FQ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},UQ=0,ic=[];function BQ(t){var e=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),s=w.useState(UQ++)[0],o=w.useState(Vj)[0],a=w.useRef(t);w.useEffect(function(){a.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var S=lQ([t.lockRef.current],(t.shards||[]).map(WI),!0).filter(Boolean);return S.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),S.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var u=w.useCallback(function(S,T){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!a.current.allowPinchZoom;var N=vp(S),j=n.current,k="deltaX"in S?S.deltaX:j[0]-N[0],$="deltaY"in S?S.deltaY:j[1]-N[1],B,W=S.target,P=Math.abs(k)>Math.abs($)?"h":"v";if("touches"in S&&P==="h"&&W.type==="range")return!1;var R=zI(P,W);if(!R)return!0;if(R?B=P:(B=P==="v"?"h":"v",R=zI(P,W)),!R)return!1;if(!r.current&&"changedTouches"in S&&(k||$)&&(r.current=B),!B)return!0;var D=r.current||B;return LQ(D,T,S,D==="h"?k:$)},[]),h=w.useCallback(function(S){var T=S;if(!(!ic.length||ic[ic.length-1]!==o)){var N="deltaY"in T?$I(T):vp(T),j=e.current.filter(function(B){return B.name===T.type&&(B.target===T.target||T.target===B.shadowParent)&&VQ(B.delta,N)})[0];if(j&&j.should){T.cancelable&&T.preventDefault();return}if(!j){var k=(a.current.shards||[]).map(WI).filter(Boolean).filter(function(B){return B.contains(T.target)}),$=k.length>0?u(T,k[0]):!a.current.noIsolation;$&&T.cancelable&&T.preventDefault()}}},[]),f=w.useCallback(function(S,T,N,j){var k={name:S,delta:T,target:N,should:j,shadowParent:zQ(N)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function($){return $!==k})},1)},[]),m=w.useCallback(function(S){n.current=vp(S),r.current=void 0},[]),y=w.useCallback(function(S){f(S.type,$I(S),S.target,u(S,t.lockRef.current))},[]),v=w.useCallback(function(S){f(S.type,vp(S),S.target,u(S,t.lockRef.current))},[]);w.useEffect(function(){return ic.push(o),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:v}),document.addEventListener("wheel",h,sc),document.addEventListener("touchmove",h,sc),document.addEventListener("touchstart",m,sc),function(){ic=ic.filter(function(S){return S!==o}),document.removeEventListener("wheel",h,sc),document.removeEventListener("touchmove",h,sc),document.removeEventListener("touchstart",m,sc)}},[]);var E=t.removeScrollBar,I=t.inert;return w.createElement(w.Fragment,null,I?w.createElement(o,{styles:FQ(s)}):null,E?w.createElement(RQ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function zQ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const $Q=yQ(Lj,BQ);var jg=w.forwardRef(function(t,e){return w.createElement(kg,As({},t,{ref:e,sideCar:$Q}))});jg.classNames=kg.classNames;var Ax=["Enter"," "],WQ=["ArrowDown","PageUp","Home"],zj=["ArrowUp","PageDown","End"],HQ=[...WQ,...zj],qQ={ltr:[...Ax,"ArrowRight"],rtl:[...Ax,"ArrowLeft"]},GQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Lh="Menu",[ah,KQ,YQ]=eb(Lh),[ml,$j]=as(Lh,[YQ,Ag,Pg]),Dg=Ag(),Wj=Pg(),[QQ,gl]=ml(Lh),[XQ,Vh]=ml(Lh),Hj=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:o,modal:a=!0}=t,u=Dg(e),[h,f]=w.useState(null),m=w.useRef(!1),y=ns(o),v=Eg(s);return w.useEffect(()=>{const E=()=>{m.current=!0,document.addEventListener("pointerdown",I,{capture:!0,once:!0}),document.addEventListener("pointermove",I,{capture:!0,once:!0})},I=()=>m.current=!1;return document.addEventListener("keydown",E,{capture:!0}),()=>{document.removeEventListener("keydown",E,{capture:!0}),document.removeEventListener("pointerdown",I,{capture:!0}),document.removeEventListener("pointermove",I,{capture:!0})}},[]),c.jsx(Ej,{...u,children:c.jsx(QQ,{scope:e,open:n,onOpenChange:y,content:h,onContentChange:f,children:c.jsx(XQ,{scope:e,onClose:w.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:m,dir:v,modal:a,children:r})})})};Hj.displayName=Lh;var JQ="MenuAnchor",hb=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Dg(n);return c.jsx(Tj,{...s,...r,ref:e})});hb.displayName=JQ;var fb="MenuPortal",[ZQ,qj]=ml(fb,{forceMount:void 0}),Gj=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,o=gl(fb,e);return c.jsx(ZQ,{scope:e,forceMount:n,children:c.jsx(Fi,{present:n||o.open,children:c.jsx(Rg,{asChild:!0,container:s,children:r})})})};Gj.displayName=fb;var kr="MenuContent",[eX,pb]=ml(kr),Kj=w.forwardRef((t,e)=>{const n=qj(kr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,o=gl(kr,t.__scopeMenu),a=Vh(kr,t.__scopeMenu);return c.jsx(ah.Provider,{scope:t.__scopeMenu,children:c.jsx(Fi,{present:r||o.open,children:c.jsx(ah.Slot,{scope:t.__scopeMenu,children:a.modal?c.jsx(tX,{...s,ref:e}):c.jsx(nX,{...s,ref:e})})})})}),tX=w.forwardRef((t,e)=>{const n=gl(kr,t.__scopeMenu),r=w.useRef(null),s=at(e,r);return w.useEffect(()=>{const o=r.current;if(o)return db(o)},[]),c.jsx(mb,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Se(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),nX=w.forwardRef((t,e)=>{const n=gl(kr,t.__scopeMenu);return c.jsx(mb,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),rX=Wa("MenuContent.ScrollLock"),mb=w.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:u,onEntryFocus:h,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:y,onInteractOutside:v,onDismiss:E,disableOutsideScroll:I,...S}=t,T=gl(kr,n),N=Vh(kr,n),j=Dg(n),k=Wj(n),$=KQ(n),[B,W]=w.useState(null),P=w.useRef(null),R=at(e,P,T.onContentChange),D=w.useRef(0),V=w.useRef(""),F=w.useRef(0),z=w.useRef(null),L=w.useRef("right"),me=w.useRef(0),Ie=I?jg:w.Fragment,ye=I?{as:rX,allowPinchZoom:!0}:void 0,ae=K=>{var de,be;const ne=V.current+K,H=$().filter(Ae=>!Ae.disabled),te=document.activeElement,_e=(de=H.find(Ae=>Ae.ref.current===te))==null?void 0:de.textValue,Te=H.map(Ae=>Ae.textValue),Ve=mX(Te,ne,_e),je=(be=H.find(Ae=>Ae.textValue===Ve))==null?void 0:be.ref.current;(function Ae(Fe){V.current=Fe,window.clearTimeout(D.current),Fe!==""&&(D.current=window.setTimeout(()=>Ae(""),1e3))})(ne),je&&setTimeout(()=>je.focus())};w.useEffect(()=>()=>window.clearTimeout(D.current),[]),tb();const J=w.useCallback(K=>{var H,te;return L.current===((H=z.current)==null?void 0:H.side)&&yX(K,(te=z.current)==null?void 0:te.area)},[]);return c.jsx(eX,{scope:n,searchRef:V,onItemEnter:w.useCallback(K=>{J(K)&&K.preventDefault()},[J]),onItemLeave:w.useCallback(K=>{var ne;J(K)||((ne=P.current)==null||ne.focus(),W(null))},[J]),onTriggerLeave:w.useCallback(K=>{J(K)&&K.preventDefault()},[J]),pointerGraceTimerRef:F,onPointerGraceIntentChange:w.useCallback(K=>{z.current=K},[]),children:c.jsx(Ie,{...ye,children:c.jsx(Sg,{asChild:!0,trapped:s,onMountAutoFocus:Se(o,K=>{var ne;K.preventDefault(),(ne=P.current)==null||ne.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:c.jsx(Tg,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:y,onInteractOutside:v,onDismiss:E,children:c.jsx(kj,{asChild:!0,...k,dir:N.dir,orientation:"vertical",loop:r,currentTabStopId:B,onCurrentTabStopIdChange:W,onEntryFocus:Se(h,K=>{N.isUsingKeyboardRef.current||K.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(Sj,{role:"menu","aria-orientation":"vertical","data-state":uD(T.open),"data-radix-menu-content":"",dir:N.dir,...j,...S,ref:R,style:{outline:"none",...S.style},onKeyDown:Se(S.onKeyDown,K=>{const H=K.target.closest("[data-radix-menu-content]")===K.currentTarget,te=K.ctrlKey||K.altKey||K.metaKey,_e=K.key.length===1;H&&(K.key==="Tab"&&K.preventDefault(),!te&&_e&&ae(K.key));const Te=P.current;if(K.target!==Te||!HQ.includes(K.key))return;K.preventDefault();const je=$().filter(de=>!de.disabled).map(de=>de.ref.current);zj.includes(K.key)&&je.reverse(),fX(je)}),onBlur:Se(t.onBlur,K=>{K.currentTarget.contains(K.target)||(window.clearTimeout(D.current),V.current="")}),onPointerMove:Se(t.onPointerMove,lh(K=>{const ne=K.target,H=me.current!==K.clientX;if(K.currentTarget.contains(ne)&&H){const te=K.clientX>me.current?"right":"left";L.current=te,me.current=K.clientX}}))})})})})})})});Kj.displayName=kr;var sX="MenuGroup",gb=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return c.jsx($e.div,{role:"group",...r,ref:e})});gb.displayName=sX;var iX="MenuLabel",Yj=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return c.jsx($e.div,{...r,ref:e})});Yj.displayName=iX;var Am="MenuItem",HI="menu.itemSelect",Mg=w.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,o=w.useRef(null),a=Vh(Am,t.__scopeMenu),u=pb(Am,t.__scopeMenu),h=at(e,o),f=w.useRef(!1),m=()=>{const y=o.current;if(!n&&y){const v=new CustomEvent(HI,{bubbles:!0,cancelable:!0});y.addEventListener(HI,E=>r==null?void 0:r(E),{once:!0}),J2(y,v),v.defaultPrevented?f.current=!1:a.onClose()}};return c.jsx(Qj,{...s,ref:h,disabled:n,onClick:Se(t.onClick,m),onPointerDown:y=>{var v;(v=t.onPointerDown)==null||v.call(t,y),f.current=!0},onPointerUp:Se(t.onPointerUp,y=>{var v;f.current||(v=y.currentTarget)==null||v.click()}),onKeyDown:Se(t.onKeyDown,y=>{const v=u.searchRef.current!=="";n||v&&y.key===" "||Ax.includes(y.key)&&(y.currentTarget.click(),y.preventDefault())})})});Mg.displayName=Am;var Qj=w.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=t,a=pb(Am,n),u=Wj(n),h=w.useRef(null),f=at(e,h),[m,y]=w.useState(!1),[v,E]=w.useState("");return w.useEffect(()=>{const I=h.current;I&&E((I.textContent??"").trim())},[o.children]),c.jsx(ah.ItemSlot,{scope:n,disabled:r,textValue:s??v,children:c.jsx(jj,{asChild:!0,...u,focusable:!r,children:c.jsx($e.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:f,onPointerMove:Se(t.onPointerMove,lh(I=>{r?a.onItemLeave(I):(a.onItemEnter(I),I.defaultPrevented||I.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Se(t.onPointerLeave,lh(I=>a.onItemLeave(I))),onFocus:Se(t.onFocus,()=>y(!0)),onBlur:Se(t.onBlur,()=>y(!1))})})})}),oX="MenuCheckboxItem",Xj=w.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return c.jsx(nD,{scope:t.__scopeMenu,checked:n,children:c.jsx(Mg,{role:"menuitemcheckbox","aria-checked":Rm(n)?"mixed":n,...s,ref:e,"data-state":vb(n),onSelect:Se(s.onSelect,()=>r==null?void 0:r(Rm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Xj.displayName=oX;var Jj="MenuRadioGroup",[aX,lX]=ml(Jj,{value:void 0,onValueChange:()=>{}}),Zj=w.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,o=ns(r);return c.jsx(aX,{scope:t.__scopeMenu,value:n,onValueChange:o,children:c.jsx(gb,{...s,ref:e})})});Zj.displayName=Jj;var eD="MenuRadioItem",tD=w.forwardRef((t,e)=>{const{value:n,...r}=t,s=lX(eD,t.__scopeMenu),o=n===s.value;return c.jsx(nD,{scope:t.__scopeMenu,checked:o,children:c.jsx(Mg,{role:"menuitemradio","aria-checked":o,...r,ref:e,"data-state":vb(o),onSelect:Se(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})})})});tD.displayName=eD;var yb="MenuItemIndicator",[nD,cX]=ml(yb,{checked:!1}),rD=w.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,o=cX(yb,n);return c.jsx(Fi,{present:r||Rm(o.checked)||o.checked===!0,children:c.jsx($e.span,{...s,ref:e,"data-state":vb(o.checked)})})});rD.displayName=yb;var uX="MenuSeparator",sD=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return c.jsx($e.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});sD.displayName=uX;var dX="MenuArrow",iD=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Dg(n);return c.jsx(Cj,{...s,...r,ref:e})});iD.displayName=dX;var hX="MenuSub",[bee,oD]=ml(hX),wd="MenuSubTrigger",aD=w.forwardRef((t,e)=>{const n=gl(wd,t.__scopeMenu),r=Vh(wd,t.__scopeMenu),s=oD(wd,t.__scopeMenu),o=pb(wd,t.__scopeMenu),a=w.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:h}=o,f={__scopeMenu:t.__scopeMenu},m=w.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return w.useEffect(()=>m,[m]),w.useEffect(()=>{const y=u.current;return()=>{window.clearTimeout(y),h(null)}},[u,h]),c.jsx(hb,{asChild:!0,...f,children:c.jsx(Qj,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":uD(n.open),...t,ref:Vm(e,s.onTriggerChange),onClick:y=>{var v;(v=t.onClick)==null||v.call(t,y),!(t.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Se(t.onPointerMove,lh(y=>{o.onItemEnter(y),!y.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(o.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:Se(t.onPointerLeave,lh(y=>{var E,I;m();const v=(E=n.content)==null?void 0:E.getBoundingClientRect();if(v){const S=(I=n.content)==null?void 0:I.dataset.side,T=S==="right",N=T?-5:5,j=v[T?"left":"right"],k=v[T?"right":"left"];o.onPointerGraceIntentChange({area:[{x:y.clientX+N,y:y.clientY},{x:j,y:v.top},{x:k,y:v.top},{x:k,y:v.bottom},{x:j,y:v.bottom}],side:S}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(y),y.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Se(t.onKeyDown,y=>{var E;const v=o.searchRef.current!=="";t.disabled||v&&y.key===" "||qQ[r.dir].includes(y.key)&&(n.onOpenChange(!0),(E=n.content)==null||E.focus(),y.preventDefault())})})})});aD.displayName=wd;var lD="MenuSubContent",cD=w.forwardRef((t,e)=>{const n=qj(kr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,o=gl(kr,t.__scopeMenu),a=Vh(kr,t.__scopeMenu),u=oD(lD,t.__scopeMenu),h=w.useRef(null),f=at(e,h);return c.jsx(ah.Provider,{scope:t.__scopeMenu,children:c.jsx(Fi,{present:r||o.open,children:c.jsx(ah.Slot,{scope:t.__scopeMenu,children:c.jsx(mb,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:f,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var y;a.isUsingKeyboardRef.current&&((y=h.current)==null||y.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:Se(t.onFocusOutside,m=>{m.target!==u.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Se(t.onEscapeKeyDown,m=>{a.onClose(),m.preventDefault()}),onKeyDown:Se(t.onKeyDown,m=>{var E;const y=m.currentTarget.contains(m.target),v=GQ[a.dir].includes(m.key);y&&v&&(o.onOpenChange(!1),(E=u.trigger)==null||E.focus(),m.preventDefault())})})})})})});cD.displayName=lD;function uD(t){return t?"open":"closed"}function Rm(t){return t==="indeterminate"}function vb(t){return Rm(t)?"indeterminate":t?"checked":"unchecked"}function fX(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function pX(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function mX(t,e,n){const s=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let a=pX(t,Math.max(o,0));s.length===1&&(a=a.filter(f=>f!==n));const h=a.find(f=>f.toLowerCase().startsWith(s.toLowerCase()));return h!==n?h:void 0}function gX(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const u=e[o],h=e[a],f=u.x,m=u.y,y=h.x,v=h.y;m>r!=v>r&&n<(y-f)*(r-m)/(v-m)+f&&(s=!s)}return s}function yX(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return gX(n,e)}function lh(t){return e=>e.pointerType==="mouse"?t(e):void 0}var vX=Hj,xX=hb,wX=Gj,_X=Kj,bX=gb,EX=Yj,TX=Mg,SX=Xj,CX=Zj,IX=tD,NX=rD,AX=sD,RX=iD,PX=aD,kX=cD,Og="DropdownMenu",[jX,Eee]=as(Og,[$j]),Hn=$j(),[DX,dD]=jX(Og),hD=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:a,modal:u=!0}=t,h=Hn(e),f=w.useRef(null),[m,y]=nl({prop:s,defaultProp:o??!1,onChange:a,caller:Og});return c.jsx(DX,{scope:e,triggerId:$s(),triggerRef:f,contentId:$s(),open:m,onOpenChange:y,onOpenToggle:w.useCallback(()=>y(v=>!v),[y]),modal:u,children:c.jsx(vX,{...h,open:m,onOpenChange:y,dir:r,modal:u,children:n})})};hD.displayName=Og;var fD="DropdownMenuTrigger",pD=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,o=dD(fD,n),a=Hn(n);return c.jsx(xX,{asChild:!0,...a,children:c.jsx($e.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Vm(e,o.triggerRef),onPointerDown:Se(t.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(o.onOpenToggle(),o.open||u.preventDefault())}),onKeyDown:Se(t.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&o.onOpenToggle(),u.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});pD.displayName=fD;var MX="DropdownMenuPortal",mD=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Hn(e);return c.jsx(wX,{...r,...n})};mD.displayName=MX;var gD="DropdownMenuContent",yD=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=dD(gD,n),o=Hn(n),a=w.useRef(!1);return c.jsx(_X,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:e,onCloseAutoFocus:Se(t.onCloseAutoFocus,u=>{var h;a.current||(h=s.triggerRef.current)==null||h.focus(),a.current=!1,u.preventDefault()}),onInteractOutside:Se(t.onInteractOutside,u=>{const h=u.detail.originalEvent,f=h.button===0&&h.ctrlKey===!0,m=h.button===2||f;(!s.modal||m)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});yD.displayName=gD;var OX="DropdownMenuGroup",LX=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Hn(n);return c.jsx(bX,{...s,...r,ref:e})});LX.displayName=OX;var VX="DropdownMenuLabel",vD=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Hn(n);return c.jsx(EX,{...s,...r,ref:e})});vD.displayName=VX;var FX="DropdownMenuItem",xD=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Hn(n);return c.jsx(TX,{...s,...r,ref:e})});xD.displayName=FX;var UX="DropdownMenuCheckboxItem",wD=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Hn(n);return c.jsx(SX,{...s,...r,ref:e})});wD.displayName=UX;var BX="DropdownMenuRadioGroup",zX=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Hn(n);return c.jsx(CX,{...s,...r,ref:e})});zX.displayName=BX;var $X="DropdownMenuRadioItem",_D=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Hn(n);return c.jsx(IX,{...s,...r,ref:e})});_D.displayName=$X;var WX="DropdownMenuItemIndicator",bD=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Hn(n);return c.jsx(NX,{...s,...r,ref:e})});bD.displayName=WX;var HX="DropdownMenuSeparator",ED=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Hn(n);return c.jsx(AX,{...s,...r,ref:e})});ED.displayName=HX;var qX="DropdownMenuArrow",GX=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Hn(n);return c.jsx(RX,{...s,...r,ref:e})});GX.displayName=qX;var KX="DropdownMenuSubTrigger",TD=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Hn(n);return c.jsx(PX,{...s,...r,ref:e})});TD.displayName=KX;var YX="DropdownMenuSubContent",SD=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Hn(n);return c.jsx(kX,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});SD.displayName=YX;var QX=hD,XX=pD,JX=mD,CD=yD,ID=vD,ND=xD,AD=wD,RD=_D,PD=bD,kD=ED,jD=TD,DD=SD;const ZX=QX,eJ=XX,tJ=w.forwardRef(({className:t,inset:e,children:n,...r},s)=>c.jsxs(jD,{ref:s,className:pe("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,c.jsx(SN,{className:"ml-auto"})]}));tJ.displayName=jD.displayName;const nJ=w.forwardRef(({className:t,...e},n)=>c.jsx(DD,{ref:n,className:pe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));nJ.displayName=DD.displayName;const MD=w.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(JX,{children:c.jsx(CD,{ref:r,sideOffset:e,className:pe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));MD.displayName=CD.displayName;const dc=w.forwardRef(({className:t,inset:e,...n},r)=>c.jsx(ND,{ref:r,className:pe("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));dc.displayName=ND.displayName;const rJ=w.forwardRef(({className:t,children:e,checked:n,...r},s)=>c.jsxs(AD,{ref:s,className:pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(PD,{children:c.jsx(Up,{className:"h-4 w-4"})})}),e]}));rJ.displayName=AD.displayName;const sJ=w.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(RD,{ref:r,className:pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(PD,{children:c.jsx(n5,{className:"h-2 w-2 fill-current"})})}),e]}));sJ.displayName=RD.displayName;const OD=w.forwardRef(({className:t,inset:e,...n},r)=>c.jsx(ID,{ref:r,className:pe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));OD.displayName=ID.displayName;const Rx=w.forwardRef(({className:t,...e},n)=>c.jsx(kD,{ref:n,className:pe("-mx-1 my-1 h-px bg-muted",t),...e}));Rx.displayName=kD.displayName;var c0={exports:{}},u0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qI;function iJ(){if(qI)return u0;qI=1;var t=Om();function e(y,v){return y===v&&(y!==0||1/y===1/v)||y!==y&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,o=t.useLayoutEffect,a=t.useDebugValue;function u(y,v){var E=v(),I=r({inst:{value:E,getSnapshot:v}}),S=I[0].inst,T=I[1];return o(function(){S.value=E,S.getSnapshot=v,h(S)&&T({inst:S})},[y,E,v]),s(function(){return h(S)&&T({inst:S}),y(function(){h(S)&&T({inst:S})})},[y]),a(E),E}function h(y){var v=y.getSnapshot;y=y.value;try{var E=v();return!n(y,E)}catch{return!0}}function f(y,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return u0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,u0}var GI;function oJ(){return GI||(GI=1,c0.exports=iJ()),c0.exports}var aJ=oJ();function lJ(){return aJ.useSyncExternalStore(cJ,()=>!0,()=>!1)}function cJ(){return()=>{}}var xb="Avatar",[uJ,Tee]=as(xb),[dJ,LD]=uJ(xb),VD=w.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,o]=w.useState("idle");return c.jsx(dJ,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:c.jsx($e.span,{...r,ref:e})})});VD.displayName=xb;var FD="AvatarImage",UD=w.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=t,a=LD(FD,n),u=hJ(r,o),h=ns(f=>{s(f),a.onImageLoadingStatusChange(f)});return an(()=>{u!=="idle"&&h(u)},[u,h]),u==="loaded"?c.jsx($e.img,{...o,ref:e,src:r}):null});UD.displayName=FD;var BD="AvatarFallback",zD=w.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,o=LD(BD,n),[a,u]=w.useState(r===void 0);return w.useEffect(()=>{if(r!==void 0){const h=window.setTimeout(()=>u(!0),r);return()=>window.clearTimeout(h)}},[r]),a&&o.imageLoadingStatus!=="loaded"?c.jsx($e.span,{...s,ref:e}):null});zD.displayName=BD;function KI(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function hJ(t,{referrerPolicy:e,crossOrigin:n}){const r=lJ(),s=w.useRef(null),o=r?(s.current||(s.current=new window.Image),s.current):null,[a,u]=w.useState(()=>KI(o,t));return an(()=>{u(KI(o,t))},[o,t]),an(()=>{const h=y=>()=>{u(y)};if(!o)return;const f=h("loaded"),m=h("error");return o.addEventListener("load",f),o.addEventListener("error",m),e&&(o.referrerPolicy=e),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",f),o.removeEventListener("error",m)}},[o,n,e]),a}var $D=VD,WD=UD,HD=zD;const Lg=w.forwardRef(({className:t,...e},n)=>c.jsx($D,{ref:n,className:pe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Lg.displayName=$D.displayName;const Vg=w.forwardRef(({className:t,...e},n)=>c.jsx(WD,{ref:n,className:pe("aspect-square h-full w-full",t),...e}));Vg.displayName=WD.displayName;const Fg=w.forwardRef(({className:t,...e},n)=>c.jsx(HD,{ref:n,className:pe("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Fg.displayName=HD.displayName;const YI={hidden:{opacity:0,y:20},visible:t=>({opacity:1,y:0,transition:{delay:t*.1,duration:.5}})},fJ={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}}},pJ={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,y:-20,transition:{duration:.2,ease:"easeIn"}}};function mJ(){var E;const[t,e]=w.useState(!1),[n,r]=w.useState(!1),[s,o]=w.useState(!1),[a,u]=w.useState(null),h=Xo(),f=Ht(),{theme:m}=is();w.useEffect(()=>{const I=()=>{const S=on();if(o(S),S){const T=Or();u(T)}else u(null)};return I(),window.addEventListener("storage",I),()=>{window.removeEventListener("storage",I)}},[]),w.useEffect(()=>{const I=()=>{window.scrollY>10?r(!0):r(!1)};return window.addEventListener("scroll",I),()=>window.removeEventListener("scroll",I)},[]);const y=async()=>{await mK(),f("/")},v=[{href:"/",label:"Home"},{href:"/about",label:"About"},{href:"/services",label:"Services"},{href:"/contact",label:"Contact"}];return c.jsxs(M.header,{initial:{y:-100},animate:{y:0},transition:{duration:.5,type:"spring",stiffness:100},className:pe("fixed top-0 w-full z-50 transition-all duration-500",n?"bg-[#30D5C8]/95 backdrop-blur-sm shadow-sm":"bg-transparent"),children:[c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex h-16 items-center",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx(jn,{to:"/",className:"flex items-center",children:c.jsx(M.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},whileHover:{scale:1.1,rotate:2},whileTap:{scale:.95},transition:{duration:.5,type:"spring",stiffness:100},children:c.jsx("img",{src:"/images/logo.png",alt:"CEMAR - Celebrating Every Milestone And Recovery",className:"h-16 md:h-15"})})})}),c.jsx("nav",{className:"hidden md:flex flex-1 justify-center space-x-12",children:v.map((I,S)=>c.jsx(M.div,{custom:S,initial:"hidden",animate:"visible",variants:YI,children:c.jsx(jn,{to:I.href,className:pe("inline-flex items-center px-1 pt-1 text-sm font-medium transition-colors hover:text-[#30D5C8]",h.pathname===I.href?"border-b-2 border-[#008080]":"",m==="dark"?"text-white":"text-black"),children:I.label})},I.href))}),c.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[c.jsx(M.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:c.jsx(ke,{variant:"default",className:"hidden md:inline-flex bg-[#008080] hover:bg-[#30D5C8] text-white transition-colors duration-300",onClick:()=>{f(s?"/booking":"/login?returnUrl=/booking")},children:"Book Appointment"})}),s?c.jsxs(ZX,{children:[c.jsx(eJ,{asChild:!0,children:c.jsx(M.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:c.jsx(ke,{variant:"ghost",className:"relative h-8 w-8 rounded-full ring-2 ring-[#008080] hover:ring-[#30D5C8]",children:c.jsxs(Lg,{className:"h-8 w-8",children:[c.jsx(Vg,{src:a==null?void 0:a.avatar,alt:a==null?void 0:a.name}),c.jsx(Fg,{className:"bg-[#008080] text-white",children:((E=a==null?void 0:a.name)==null?void 0:E.substring(0,2).toUpperCase())||"U"})]})})})}),c.jsx(M.div,{initial:"hidden",animate:"visible",variants:fJ,children:c.jsxs(MD,{className:"w-56 border-[#008080]",align:"end",forceMount:!0,children:[c.jsx(OD,{className:"font-normal",children:c.jsxs("div",{className:"flex flex-col space-y-1",children:[c.jsx("p",{className:"text-sm font-medium leading-none text-White",children:a==null?void 0:a.name}),c.jsx("p",{className:"text-xs leading-none text-[#30D5C8]",children:a==null?void 0:a.email})]})}),c.jsx(Rx,{className:"bg-[#008080]/20"}),c.jsxs(dc,{onClick:()=>f("/profile"),className:"text-White  hover:text-[#30D5C8] cursor-pointer",children:[c.jsx(kN,{className:"mr-2 h-4 w-4"}),c.jsx("span",{children:"Profile"})]}),c.jsxs(dc,{onClick:()=>f("/account-settings"),className:"text-White hover:text-[#30D5C8] cursor-pointer",children:[c.jsx(Hc,{className:"mr-2 h-4 w-4"}),c.jsx("span",{children:"Settings"})]}),c.jsxs(dc,{onClick:()=>f("/preferences"),className:"text-White hover:text-[#30D5C8] cursor-pointer",children:[c.jsx(f5,{className:"mr-2 h-4 w-4"}),c.jsx("span",{children:"Preferences"})]}),c.jsxs(dc,{onClick:()=>f("/booking"),className:"text-White hover:text-[#30D5C8] cursor-pointer",children:[c.jsx(Hx,{className:"mr-2 h-4 w-4"}),c.jsx("span",{children:"Book Appointment"})]}),c.jsx(Rx,{className:"bg-[#008080]/20"}),c.jsxs(dc,{className:"text-red-600 hover:text-red-700 cursor-pointer",onClick:y,children:[c.jsx(l5,{className:"mr-2 h-4 w-4"}),c.jsx("span",{children:"Log out"})]})]})})]}):c.jsx(M.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:c.jsx(ke,{variant:"outline",className:"bg-[#30D5C8] text-black border-2 border-[#008080] hover:bg-[#30D5C8]/90 hover:text-black hover:border-[#008080] transition-colors duration-300",onClick:()=>f("/login"),children:"Login"})})]}),c.jsx("div",{className:"md:hidden",children:c.jsx(M.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:c.jsxs(ke,{variant:"ghost",size:"icon",onClick:()=>e(!t),className:"inline-flex items-center justify-center rounded-md p-2 text-[#008080] hover:bg-[#30D5C8]/10 focus:outline-none focus:ring-2 focus:ring-[#008080]",children:[c.jsx("span",{className:"sr-only",children:"Open main menu"}),t?c.jsx(DN,{className:"block h-6 w-6","aria-hidden":"true"}):c.jsx(c5,{className:"block h-6 w-6","aria-hidden":"true"})]})})})]})}),t&&c.jsx(M.div,{initial:"hidden",animate:"visible",exit:"exit",variants:pJ,className:"md:hidden bg-[#008080] border-b border-[#008080]/20 shadow-md",children:c.jsxs("div",{className:"space-y-1 px-2 pb-3 pt-2",children:[v.map((I,S)=>c.jsx(M.div,{custom:S,initial:"hidden",animate:"visible",variants:YI,children:c.jsx(jn,{to:I.href,className:pe("block rounded-md px-3 py-2 text-base font-medium transition-colors hover:text-white",h.pathname===I.href?"bg-white/10":"hover:bg-white/10","text-white"),onClick:()=>e(!1),children:I.label})},I.href)),s?c.jsxs(c.Fragment,{children:[c.jsx(jn,{to:"/profile",className:"block rounded-md px-3 py-2 text-base font-medium text-white hover:text-white hover:bg-white/10",onClick:()=>e(!1),children:"Profile"}),c.jsx(jn,{to:"/account-settings",className:"block rounded-md px-3 py-2 text-base font-medium text-white hover:text-white hover:bg-white/10",onClick:()=>e(!1),children:"Account Settings"}),c.jsx(jn,{to:"/preferences",className:"block rounded-md px-3 py-2 text-base font-medium text-white hover:text-white hover:bg-white/10",onClick:()=>e(!1),children:"Preferences"}),c.jsx("div",{className:"px-3 py-2",children:c.jsx(ke,{variant:"destructive",className:"w-full bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90 hover:text-black",onClick:y,children:"Log out"})})]}):c.jsx("div",{className:"px-3 py-2",children:c.jsx(ke,{variant:"outline",className:"w-full bg-white text-[#008080] border-white hover:bg-white/90 hover:text-[#008080] hover:border-white transition-colors duration-300",onClick:()=>f("/login"),children:"Login"})})]})})]})}const gJ={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,staggerChildren:.1}}},dn={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:15}},hover:{scale:1.05,transition:{type:"spring",stiffness:400,damping:10}}},d0={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{type:"spring",stiffness:100,damping:15}},hover:{scale:1.2,rotate:5,transition:{type:"spring",stiffness:400,damping:10}}};function yJ(){const t=Ht(),e=n=>{console.log("Starting navigation check..."),console.log("LocalStorage isLoggedIn:",localStorage.getItem("isLoggedIn"));const r=on();console.log("checkIsLoggedIn result:",r),console.log("Attempting to navigate to:",n),r?t(n):(console.log("User not logged in, redirecting to login"),t("/login"))};return c.jsx(M.footer,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:gJ,className:"bg-muted py-12",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[c.jsxs(M.div,{variants:dn,className:"space-y-4",children:[c.jsx(M.div,{variants:dn,whileHover:{scale:1.1,rotate:2},whileTap:{scale:.95},className:"cursor-pointer",children:c.jsx("img",{src:"/light.png",alt:"",className:"h-20 md:h-26"})}),c.jsx(M.p,{variants:dn,className:"text-sm text-muted-foreground",children:"Celebrating Every Milestone And Recovery"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs(M.a,{href:"#",variants:d0,whileHover:"hover",className:"text-muted-foreground hover:text-[#30D5C8]",children:[c.jsx(s5,{className:"h-5 w-5"}),c.jsx("span",{className:"sr-only",children:"Facebook"})]}),c.jsxs(M.a,{href:"#",variants:d0,whileHover:"hover",className:"text-muted-foreground hover:text-[#30D5C8]",children:[c.jsx(g5,{className:"h-5 w-5"}),c.jsx("span",{className:"sr-only",children:"Twitter"})]}),c.jsxs(M.a,{href:"#",variants:d0,whileHover:"hover",className:"text-muted-foreground hover:text-[#30D5C8]",children:[c.jsx(a5,{className:"h-5 w-5"}),c.jsx("span",{className:"sr-only",children:"Instagram"})]})]})]}),c.jsxs(M.div,{variants:dn,className:"space-y-4",children:[c.jsx(M.h3,{variants:dn,className:"text-lg font-semibold",children:"Quick Links"}),c.jsx("ul",{className:"space-y-2",children:["Home","About","Services","Contact"].map((n,r)=>{const s=n==="Home"?"/":`/${n.toLowerCase()}`;return c.jsx(M.li,{variants:dn,custom:r,whileHover:"hover",children:c.jsx(jn,{to:s,onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"text-muted-foreground hover:text-[#30D5C8]",children:n})},n)})})]}),c.jsxs(M.div,{variants:dn,className:"space-y-4",children:[c.jsx(M.h3,{variants:dn,className:"text-lg font-semibold",children:"Services"}),c.jsx("ul",{className:"space-y-2",children:["One-on-One Therapy","Group Counseling","Online Sessions"].map((n,r)=>c.jsx(M.li,{variants:dn,custom:r,whileHover:"hover",children:c.jsx(jn,{to:"#",className:"text-muted-foreground hover:text-[#30D5C8]",onClick:s=>{s.preventDefault(),window.scrollTo({top:0,behavior:"smooth"}),e("/services")},children:n})},n))})]}),c.jsxs(M.div,{variants:dn,className:"space-y-4",children:[c.jsx(M.h3,{variants:dn,className:"text-lg font-semibold",children:"Contact"}),c.jsx(M.p,{variants:dn,className:"mt-2",children:c.jsx("a",{href:"tel:+19059092400",className:"hover:text-[#30D5C8]",children:"(905) 909-2400"})}),c.jsx(M.p,{variants:dn,children:c.jsx("a",{href:"mailto:info@cemarcounseling.com",className:"hover:text-[#30D5C8]",children:"info@cemarcounseling.com"})})]})]}),c.jsxs(M.div,{variants:dn,className:"mt-12 pt-8 border-t border-white",children:[c.jsxs(M.p,{variants:dn,className:"text-center text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," CEMAR. All rights reserved."]}),c.jsxs("div",{className:"mt-4 flex justify-center space-x-6 flex-wrap",children:[c.jsx(M.a,{variants:dn,whileHover:"hover",href:"/privacy",className:"text-xs text-muted-foreground hover:text-[#30D5C8]",children:"Privacy Policy"}),c.jsx(M.a,{variants:dn,whileHover:"hover",href:"/terms",className:"text-xs text-muted-foreground hover:text-[#30D5C8]",children:"Terms of Service"}),c.jsx(M.a,{variants:dn,whileHover:"hover",href:"/informed-consent",className:"text-xs text-muted-foreground hover:text-[#30D5C8]",children:"Informed Consent"})]})]})]})})}const vJ=[{avatar:"/images/client1.jpg",name:"Sarah M.",title:"Individual Therapy",quote:"The counseling sessions have truly transformed my perspective on life. The therapists are compassionate and professional."},{avatar:"/images/client2.jpg",name:"James T.",title:"Group Counseling",quote:"Group counseling helped me realize I wasn't alone in my struggles. The supportive community made all the difference."},{avatar:"/images/client3.jpg",name:"Emily R.",title:"Online Sessions",quote:"The online sessions fit perfectly into my busy schedule. Quality care from the convenience of my home."},{avatar:"/images/male%203.jpeg",name:"Marcus L.",title:"Individual Therapy",quote:"I found the tools and coping strategies extremely helpful  I feel more in control and confident."},{avatar:"/images/female%204.jpeg",name:"Aisha K.",title:"Couples Therapy",quote:"Therapy helped our relationship immensely. The communication techniques were practical and effective."},{avatar:"/images/male%204.jpeg",name:"Daniel P.",title:"Online Sessions",quote:"Professional, flexible, and empathetic  these sessions fit my schedule and helped me progress fast."}];function xJ({className:t,...e}){return c.jsx("div",{className:pe("animate-pulse rounded-md bg-muted",t),...e})}function sl({src:t,alt:e,className:n,onLoad:r,priority:s=!1,...o}){const[a,u]=w.useState(!0),[h,f]=w.useState(!1),[m,y]=w.useState("");return w.useEffect(()=>{u(!0),f(!1);const v=new Image;s&&(v.fetchPriority="high"),v.src=t;const E=()=>{y(t),u(!1),r==null||r()},I=()=>{f(!0),u(!1),console.error(`Failed to load image: ${t}`)};return v.onload=E,v.onerror=I,()=>{v.onload=null,v.onerror=null}},[t,r,s]),h?c.jsx("div",{className:pe("bg-muted flex items-center justify-center",n),children:c.jsx("span",{className:"text-muted-foreground",children:"Failed to load image"})}):c.jsxs(c.Fragment,{children:[a&&c.jsx(xJ,{className:pe("rounded-md",n)}),c.jsx("img",{src:m||t,alt:e,loading:s?"eager":"lazy",className:pe("transition-all duration-700",a?"opacity-0 scale-105":"opacity-100 scale-100",n),...o})]})}const QI=M(sl);function wJ(){const{theme:t}=is(),e=Ht(),n=w.useMemo(()=>["/images/0.1.JPG","/images/0.2.JPG","/images/0.3.JPG","/images/2.JPG","/images/3.JPG"],[]),r=vJ,[s,o]=w.useState(!1),[a,u]=w.useState(0),[h,f]=w.useState(!0),[m,y]=w.useState(!1),[v,E]=w.useState(0),I=w.useRef(null),S=w.useRef(null),T=w.useMemo(()=>({type:"spring",stiffness:100,damping:15}),[]),N=w.useMemo(()=>({fadeIn:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:T}},card:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:T},hover:{scale:1.05,transition:{type:"spring",stiffness:400,damping:10}}},icon:{hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:T},hover:{scale:1.2}}}),[T]),j=w.useCallback(B=>{B.current!==null&&(window.clearInterval(B.current),B.current=null)},[]),k=w.useCallback(B=>new Promise(W=>{const P=new Image;P.src=B,P.onload=()=>W(),P.onerror=()=>W()}),[]),$=w.useCallback(async B=>{const W=B%n.length,P=n[W];await k(P)},[n,k]);return w.useEffect(()=>{const B=localStorage.getItem("isLoggedIn")==="true";o(B)},[]),w.useEffect(()=>{let B=!0;return(async()=>{try{await Promise.all(n.map(W=>k(W)))}catch(W){console.error("Preload error",W)}B&&y(!0)})(),()=>{B=!1}},[n,k]),w.useEffect(()=>(j(S),S.current=window.setInterval(()=>{u(B=>(B+1)%n.length)},5e3),()=>j(S)),[n.length,j]),w.useEffect(()=>(j(I),I.current=window.setInterval(()=>{E(B=>(B+1)%r.length)},8e3),()=>j(I)),[r.length,j]),w.useEffect(()=>{window.scrollTo(0,0),document.title="CEMAR Counseling"},[]),c.jsxs("div",{id:"home",className:"pt-16",children:[c.jsxs("section",{className:"relative h-[90vh] flex items-center overflow-hidden",children:[c.jsx(Wp,{mode:"wait",children:c.jsx(M.div,{initial:{opacity:0,scale:1.05},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.45},className:"absolute inset-0 z-0",children:c.jsx(sl,{src:m?n[a]:"/placeholder.svg",alt:"Calm counseling environment",className:pe("w-full h-full object-cover brightness-[0.7]",h?"scale-105":"scale-100"),priority:!0,onLoad:async()=>{f(!1),$(a+1).catch(()=>{})}})},a)}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/30 to-black/60 z-[1]"}),c.jsx("div",{className:"container relative z-10 mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-3xl",children:[c.jsx(M.div,{initial:"hidden",animate:"visible",variants:N.fadeIn,children:c.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-4",children:["Welcome to ",c.jsx("span",{className:"text-[#30D5C8]",children:"CEMAR Counseling"})]})}),c.jsx(M.div,{initial:"hidden",animate:"visible",variants:N.fadeIn,children:c.jsx("p",{className:"text-xl md:text-2xl text-white/90 mb-8",children:"Celebrating Every Milestone And Recovery"})}),c.jsx(M.div,{initial:"hidden",animate:"visible",variants:N.fadeIn,whileHover:{scale:1.03},children:c.jsx(ke,{size:"lg",className:"text-lg bg-[#008080] hover:bg-[#008080]/90 text-white shadow-lg",onClick:()=>{e(s?"/booking":"/login?returnUrl=/booking")},children:"Book an Appointment"})})]})}),c.jsx("div",{className:"absolute inset-0 z-[2] pointer-events-none",children:c.jsx(M.div,{initial:{opacity:0},animate:{opacity:[0,.5,0]},transition:{duration:20,repeat:1/0,repeatType:"reverse"},className:"absolute top-1/4 left-1/4 w-32 h-32 rounded-full bg-primary/20 blur-xl"})})]}),c.jsx("section",{className:"py-20 bg-background relative overflow-hidden",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[c.jsxs(M.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"text-center mb-16",children:[c.jsx(M.h2,{variants:N.fadeIn,className:`text-3xl md:text-4xl font-bold mb-4 ${t==="dark"?"text-white":"text-black"}`,children:"Our Services"}),c.jsx(M.p,{variants:N.fadeIn,className:`text-xl ${t==="dark"?"text-white/80":"text-black/80"} max-w-2xl mx-auto`,children:"We offer a range of professional counseling services to support your mental health journey"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsxs(M.div,{initial:"hidden",whileInView:"visible",whileHover:"hover",viewport:{once:!0,margin:"-50px"},variants:N.card,className:"bg-card rounded-lg p-8 shadow-lg hover:shadow-xl transition-all duration-300 border-2 border-[#30D5C8]/20 hover:border-[#30D5C8]/40",children:[c.jsx(M.div,{variants:N.icon,className:"bg-[#30D5C8]/10 p-3 rounded-full w-fit mb-6",children:c.jsx(Hx,{className:"h-8 w-8 text-[#30D5C8]"})}),c.jsxs(M.div,{children:[c.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Therapy Sessions"}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"One-on-one sessions with our experienced therapists to address your specific needs and concerns."})]}),c.jsx(M.div,{variants:N.fadeIn,whileHover:{scale:1.02},children:c.jsx(ke,{className:"bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90",onClick:()=>e("/services#one-on-one"),children:"Learn More"})})]}),c.jsxs(M.div,{initial:"hidden",whileInView:"visible",whileHover:"hover",viewport:{once:!0,margin:"-50px"},variants:N.card,className:"bg-card rounded-lg p-8 shadow-lg hover:shadow-xl transition-all duration-300 border-2 border-[#30D5C8]/20 hover:border-[#30D5C8]/40",children:[c.jsx(M.div,{variants:N.icon,className:"bg-[#30D5C8]/10 p-3 rounded-full w-fit mb-6",children:c.jsx(qa,{className:"h-8 w-8 text-[#30D5C8]"})}),c.jsxs(M.div,{children:[c.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Group Counseling"}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"Connect with others facing similar challenges in a supportive group environment led by our counselors."})]}),c.jsx(M.div,{variants:N.fadeIn,whileHover:{scale:1.02},children:c.jsx(ke,{className:"bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90",onClick:()=>e("/services#group"),children:"Learn More"})})]}),c.jsxs(M.div,{initial:"hidden",whileInView:"visible",whileHover:"hover",viewport:{once:!0,margin:"-50px"},variants:N.card,className:"bg-card rounded-lg p-8 shadow-lg hover:shadow-xl transition-all duration-300 border-2 border-[#30D5C8]/20 hover:border-[#30D5C8]/40",children:[c.jsx(M.div,{variants:N.icon,className:"bg-[#30D5C8]/10 p-3 rounded-full w-fit mb-6",children:c.jsx(jN,{className:"h-8 w-8 text-[#30D5C8]"})}),c.jsxs(M.div,{children:[c.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Online Sessions"}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"Access therapy from the comfort of your home with our secure and confidential online sessions."})]}),c.jsx(M.div,{variants:N.fadeIn,whileHover:{scale:1.02},children:c.jsx(ke,{className:"bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90",onClick:()=>e("/services#online"),children:"Learn More"})})]})]})]})}),c.jsx("section",{className:"py-20 bg-background relative overflow-hidden",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[c.jsxs(M.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"text-center mb-6",children:[c.jsx(M.h2,{variants:N.fadeIn,className:"text-3xl md:text-4xl font-bold mb-6 text-black",children:"What Our Clients Say"}),c.jsx(M.p,{variants:N.fadeIn,className:"text-lg text-black/80 max-w-3xl mx-auto",children:"Hear from individuals who have experienced positive change through our counseling services."})]}),c.jsx("div",{className:"max-w-3xl mx-auto",children:c.jsxs("div",{className:"relative rounded-lg overflow-hidden",children:[c.jsx(QI,{src:"/images/testimonials-bg.jpg",alt:"soft background",className:"absolute inset-0 w-full h-full object-cover brightness-75 pointer-events-none"}),c.jsx("div",{className:"absolute inset-0 bg-black/50"}),c.jsx("div",{className:"relative h-[300px] overflow-hidden",children:c.jsx(Wp,{mode:"wait",children:c.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"absolute inset-0 flex items-center justify-center p-4",children:c.jsx("div",{className:"rounded-lg p-6 max-w-2xl w-full",children:c.jsxs("div",{className:"flex flex-col items-center justify-center text-center px-4",children:[c.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden mb-4 ring-2 ring-[#30D5C8]",children:c.jsx("img",{src:r[v].avatar,alt:r[v].name,loading:"lazy",decoding:"async",className:"w-full h-full object-cover",onError:B=>{B.target.src="/images/avatar-placeholder.png"}})}),c.jsx("h3",{className:"text-xl font-bold text-white mb-2",style:{textShadow:"0 1px 2px rgba(0,0,0,0.6)"},children:r[v].name}),c.jsx("p",{className:"text-white/80 mb-6",style:{textShadow:"0 1px 2px rgba(0,0,0,0.6)"},children:r[v].title}),c.jsxs("p",{className:"text-white max-w-2xl italic",style:{textShadow:"0 2px 6px rgba(0,0,0,0.6)"},children:['"',r[v].quote,'"']})]})})},v)})}),c.jsx("div",{className:"mt-6 flex justify-center gap-2",children:r.map((B,W)=>c.jsx("button",{onClick:()=>{E(W)},className:`w-2 h-2 rounded-full transition-colors duration-300 ${W===v?"bg-[#30D5C8]":"bg-[#30D5C8]/30"}`,"aria-label":`Go to testimonial ${W+1}`},W))})]})})]})}),c.jsxs("section",{className:"py-20 relative overflow-hidden",children:[c.jsxs(M.div,{className:"absolute inset-0 z-0",initial:{scale:1,rotate:0},animate:{scale:[1,1.05,1],rotate:[0,1,0]},transition:{duration:20,repeat:1/0,repeatType:"reverse"},children:[c.jsx(QI,{src:"/images/gold.jpg",alt:"Autumn forest path",className:"w-full h-full object-cover",animate:{scale:[1.05,1,1.05]},transition:{duration:25,repeat:1/0,repeatType:"reverse"}}),c.jsx(M.div,{className:"absolute inset-0",animate:{backgroundColor:["rgba(0,0,0,0.4)","rgba(0,0,0,0.5)","rgba(0,0,0,0.4)"]},transition:{duration:15,repeat:1/0,repeatType:"reverse"}})]}),c.jsx("div",{className:"container relative z-10 mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs(M.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center max-w-3xl mx-auto",children:[c.jsx(M.h2,{variants:N.fadeIn,className:"text-3xl md:text-4xl font-bold mb-4 text-white",children:"Begin Your Journey Today"}),c.jsx(M.p,{variants:N.fadeIn,className:"text-xl text-white/90 mb-8",children:"Take the first step towards better mental health and well-being. Our team of professionals is here to support you."}),c.jsx(M.div,{variants:N.fadeIn,whileHover:{scale:1.03},children:c.jsx(ke,{size:"lg",className:"text-lg bg-[#008080] hover:bg-[#008080]/90 text-white shadow-lg",onClick:()=>{e(s?"/booking#booking-top":"/login?returnUrl=/booking#booking-top")},children:"Book an Appointment"})})]})})]})]})}const xp=["/images/0.JPG","/images/1.JPG","/images/2.JPG","/images/3.JPG","/images/4.JPG","/images/0.1.JPG","/images/0.2.JPG","/images/0.3.JPG"];function _J(){const[t,e]=w.useState(!1),n=Ht(),{theme:r}=is();w.useEffect(()=>{const y=new Image;y.src="/assets/team-meeting.jpg",y.onload=()=>e(!0)},[]);const s={hidden:{opacity:0,y:20},visible:y=>({opacity:1,y:0,transition:{delay:y*.1,duration:.5}})},o={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:15,staggerChildren:.2}}},a={hidden:{opacity:0,x:-50},visible:{opacity:1,x:0,transition:{type:"spring",stiffness:100,damping:15}}},u={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:15}},hover:{y:-10,scale:1.02,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",transition:{type:"spring",stiffness:400,damping:10}}},[h,f]=w.useState(0),m=w.useRef(null);return w.useEffect(()=>(m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{f(y=>(y+1)%xp.length)},3500),()=>{m.current&&clearTimeout(m.current)}),[h]),c.jsxs("div",{className:"pt-16",children:[c.jsxs("section",{className:"relative h-[60vh] flex items-center overflow-hidden",children:[c.jsxs(M.div,{className:"absolute inset-0 z-0",initial:{scale:1,rotate:0},animate:{scale:[1,1.2,1.1,1.3,1],rotate:[0,1,-1,2,0],filter:["brightness(0.7) saturate(1)","brightness(0.8) saturate(1.2)","brightness(0.7) saturate(1.1)","brightness(0.9) saturate(1.3)","brightness(0.7) saturate(1)"]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse",ease:"easeInOut",times:[0,.25,.5,.75,1]},children:[c.jsx(sl,{src:"/images/community-support.jpg",alt:"Community support and connection",className:"w-full h-full object-cover"}),c.jsx(M.div,{className:"absolute inset-0",animate:{backgroundColor:["rgba(0, 0, 0, 0.4)","rgba(0, 0, 0, 0.5)","rgba(0, 0, 0, 0.3)","rgba(0, 0, 0, 0.6)","rgba(0, 0, 0, 0.4)"]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse",ease:"easeInOut"}})]}),c.jsx("div",{className:"container relative z-10 mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs(M.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center max-w-3xl mx-auto",children:[c.jsxs(M.h1,{variants:s,custom:0,className:"text-4xl md:text-5xl font-bold mb-6 text-white",children:["About"," ",c.jsx("span",{className:"text-[#30D5C8]",children:"Us"})]}),c.jsx(M.p,{variants:s,custom:1,className:"text-xl text-white/90",children:"Dedicated to supporting mental health and well-being in our community"})]})})]}),c.jsx("section",{className:"py-20 bg-background",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-6xl mx-auto",children:[" ",c.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[" ",c.jsxs(M.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:o,children:[c.jsxs(M.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"text-center mb-16",children:[c.jsx(M.h2,{variants:s,custom:0,className:`text-3xl md:text-4xl font-bold mb-4 ${r==="dark"?"text-white":"text-black"}`,children:"Our Mission"}),c.jsx(M.p,{variants:s,custom:1,className:`text-xl ${r==="dark"?"text-white/80":"text-black/80"} max-w-2xl mx-auto`,children:"To provide compassionate and professional counseling services that empower individuals to overcome challenges and achieve personal growth."})]}),c.jsxs(M.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"text-center mb-16",children:[c.jsx(M.h2,{variants:s,custom:0,className:`text-3xl md:text-4xl font-bold mb-4 ${r==="dark"?"text-white":"text-black"}`,children:"Our Vision"}),c.jsx(M.p,{variants:s,custom:1,className:`text-xl ${r==="dark"?"text-white/80":"text-black/80"} max-w-2xl mx-auto`,children:"Here at CEMAR, we envision to providing a dedicated, compassionate, and non-discriminatory space for individuals to explore their mental health journeys."})]}),c.jsxs(M.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"text-center mb-16",children:[c.jsx(M.h2,{variants:s,custom:0,className:`text-3xl md:text-4xl font-bold mb-4 ${r==="dark"?"text-white":"text-black"}`,children:"Our Goal"}),c.jsx(M.p,{variants:s,custom:1,className:`text-xl ${r==="dark"?"text-white/80":"text-black/80"} max-w-2xl mx-auto`,children:"To enhance and equip clients' emotional well-being and coping skills."})]})]}),c.jsxs(M.div,{variants:s,custom:2,className:"relative w-full h-auto overflow-hidden rounded-lg bg-black/10 md:max-w-3xl",children:[c.jsx(M.img,{src:xp[h],alt:"Slideshow",className:"w-full object-cover h-[700px]",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8}},xp[h]),c.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-3 p-2 bg-black/30 rounded-full",children:xp.map((y,v)=>c.jsx("button",{className:`w-4 h-4 rounded-full ${v===h?"bg-[#30D5C8]":"bg-white/70"}`,onClick:()=>f(v),"aria-label":`Go to slide ${v+1}`},v))})]})]})]})})}),c.jsx("section",{className:"py-20 bg-muted",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs(M.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center mb-16",children:[c.jsx(M.h2,{variants:s,custom:0,className:"text-3xl md:text-4xl font-bold mb-6",children:"Meet Your Therapist"}),c.jsx(M.p,{variants:s,custom:1,className:"text-xl text-muted-foreground",children:"Get to know the professional who will guide you through your journey"})]}),c.jsx(M.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:s,custom:0,className:"max-w-4xl mx-auto bg-card rounded-lg overflow-hidden shadow-lg mt-8",children:c.jsxs("div",{className:"md:flex h-full",children:[c.jsx("div",{className:"md:w-1/2 h-full pt-16",children:c.jsx(M.img,{src:"/images/team/cecilia.jpg",alt:"Cecilia Mar",className:"w-full h-full object-cover rounded-2xl shadow-2xl",initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5},whileHover:{scale:1.02}})}),c.jsxs("div",{className:"p-8 md:w-1/2",children:[c.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Richard A. Titus-Glover"}),c.jsx("p",{className:"text-primary mb-6",children:"Licensed Professional Counselor"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold mb-2",children:"About"}),c.jsx("p",{className:"text-muted-foreground",children:"With over 15 years of experience supporting individuals and families facing mental health challenges, I am deeply committed to providing tailored therapeutic approaches. Understanding that each person's journey is unique, I employ evidence-based modalities including Cognitive Behaviour Therapy (CBT), Dialectical Behaviour Therapy (DBT), Psychodynamic Therapy, and Solution-Focused Brief Therapy (SFBT). This diverse toolkit allows me to effectively address the specific issues and concerns of my clients, fostering personal growth and resilience."})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold mb-2",children:"Education & Credentials"}),c.jsxs("ul",{className:"text-muted-foreground space-y-1",children:[c.jsx("li",{children:"Master of Social Work, RSW"}),c.jsxs("li",{children:["Registered, and in good Standing",c.jsxs("li",{children:[" with ",c.jsx("a",{href:"https://www.ocswssw.org/registrants/",className:"text-[#00FFFF] font-bold italic hover:underline transition duration-300 ease-in-out transform hover:scale-105",children:"OCSWSSW"})]})]})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold mb-2",children:"Specializations"}),c.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1",children:[c.jsx("li",{children:"ADHD and Autism"}),c.jsx("li",{children:"Anxiety & Depression"}),c.jsx("li",{children:"Relationship Counseling"}),c.jsx("li",{children:"Stress Management"}),c.jsx("li",{children:"Personal Growth"})]})]})]})]})]})})]})}),c.jsx("section",{className:"py-20 bg-background",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs(M.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"max-w-4xl mx-auto",children:[c.jsxs(M.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"text-center mb-16",children:[c.jsx(M.h2,{variants:s,custom:0,className:`text-3xl md:text-4xl font-bold mb-4 ${r==="dark"?"text-white":"text-black"}`,children:"Our Core Values"}),c.jsx(M.p,{variants:s,custom:1,className:`text-xl ${r==="dark"?"text-white/80":"text-black/80"} max-w-2xl mx-auto`})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[c.jsxs(M.div,{variants:u,whileHover:"hover",className:"bg-card p-6 rounded-lg border-2 border-[#30D5C8]/20 hover:border-[#30D5C8]/40",children:[c.jsx("h3",{className:"text-xl font-semibold mb-3 text-white",children:"Compassion"}),c.jsx("p",{className:"text-white",children:"We approach every client with empathy and understanding, recognizing that each person's journey is unique."})]}),c.jsxs(M.div,{variants:u,whileHover:"hover",className:"bg-card p-6 rounded-lg border-2 border-[#30D5C8]/20 hover:border-[#30D5C8]/40",children:[c.jsx("h3",{className:"text-xl font-semibold mb-3 text-white",children:"Excellence"}),c.jsx("p",{className:"text-white",children:"We are committed to providing the highest quality care through evidence-based practices and continuous professional development."})]}),c.jsxs(M.div,{variants:u,whileHover:"hover",className:"bg-card p-6 rounded-lg border-2 border-[#30D5C8]/20 hover:border-[#30D5C8]/40",children:[c.jsx("h3",{className:"text-xl font-semibold mb-3 text-white",children:"Inclusivity"}),c.jsx("p",{className:"text-white",children:"We create a welcoming environment for people of all backgrounds, identities, and experiences."})]}),c.jsxs(M.div,{variants:u,whileHover:"hover",className:"bg-card p-6 rounded-lg border-2 border-[#30D5C8]/20 hover:border-[#30D5C8]/40",children:[c.jsx("h3",{className:"text-xl font-semibold mb-3 text-white",children:"Integrity"}),c.jsx("p",{className:"text-white",children:"We uphold the highest ethical standards in all our interactions, maintaining confidentiality and trust."})]})]})]})})}),c.jsxs("section",{className:"py-20 relative overflow-hidden",children:[c.jsxs(M.div,{className:"absolute inset-0 z-0",initial:{scale:1,rotate:0},animate:{scale:[1,1.2,1.1,1.3,1],rotate:[0,1,-1,2,0],filter:["brightness(0.7) saturate(1)","brightness(0.8) saturate(1.2)","brightness(0.7) saturate(1.1)","brightness(0.9) saturate(1.3)","brightness(0.7) saturate(1)"]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse",ease:"easeInOut",times:[0,.25,.5,.75,1]},children:[c.jsx(sl,{src:"/images/gold.jpg",alt:"Autumn forest path",className:"w-full h-full object-cover"}),c.jsx(M.div,{className:"absolute inset-0",animate:{backgroundColor:["rgba(0, 0, 0, 0.4)","rgba(0, 0, 0, 0.5)","rgba(0, 0, 0, 0.3)","rgba(0, 0, 0, 0.6)","rgba(0, 0, 0, 0.4)"]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse",ease:"easeInOut"}})]}),c.jsx("div",{className:"container relative z-10 mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs(M.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:o,className:"text-center max-w-3xl mx-auto",children:[c.jsx(M.h2,{variants:a,className:"text-3xl md:text-4xl font-bold mb-4 text-white",children:"Ready to Begin Your Journey?"}),c.jsx(M.p,{variants:a,className:"text-xl text-white/90 mb-8",children:"Take the first step towards better mental health and well-being. Our team of professionals is here to support you."}),c.jsx(M.div,{variants:a,children:c.jsx(ke,{size:"lg",className:"text-lg bg-[#008080] hover:bg-[#008080]/90 text-white shadow-lg",onClick:()=>{on()?n("/booking"):n("/login")},children:"Book an Appointment"})})]})})]})]})}function bJ(){const{theme:t}=is(),e={hidden:{opacity:0,y:20},visible:m=>({opacity:1,y:0,transition:{delay:m*.1,duration:.5}})},n=[{title:"One-on-One Therapy",description:"Personalized therapy sessions tailored to your specific needs. Our therapists use evidence-based approaches to help you navigate challenges, develop coping strategies, and achieve your mental health goals.",icon:c.jsx(Hx,{className:"h-10 w-10 text-[#30D5C8]"}),features:["50-minute individual sessions","Personalized treatment plans","Available in-person or online","Flexible scheduling options"]},{title:"Group Counseling",description:"Connect with others facing similar challenges in a supportive environment. Our group sessions foster community, shared learning, and mutual support under the guidance of experienced facilitators.",icon:c.jsx(qa,{className:"h-10 w-10 text-[#30D5C8]"}),features:["Small groups of 6-8 participants","Topic-focused sessions","Affordable care option","Build community and connection"]},{title:"Online Sessions",description:"Access quality therapy from the comfort of your home. Our secure telehealth platform makes it easy to connect with your therapist regardless of location, while maintaining the same standard of care.",icon:c.jsx(jN,{className:"h-10 w-10 text-[#30D5C8]"}),features:["Secure, HIPAA-compliant platform","No commute or waiting room time","Same quality care as in-person","Technical support available"]},{title:"Cognitive Behavioral Therapy",description:"CBT helps identify and change negative thought patterns that influence behaviors and emotions. This structured approach is effective for treating anxiety, depression, and other mental health conditions.",icon:c.jsx(J4,{className:"h-10 w-10 text-[#30D5C8]"}),features:["Evidence-based techniques","Practical skill development","Homework between sessions","Measurable progress tracking"]},{title:"Couples Counseling",description:"Strengthen your relationship with professional guidance. Our couples counseling helps improve communication, resolve conflicts, and deepen connection between partners.",icon:c.jsx(i5,{className:"h-10 w-10 text-[#30D5C8]"}),features:["Communication skill building","Conflict resolution strategies","Rebuilding trust and intimacy","Joint and individual sessions"]},{title:"Mindfulness-Based Therapy",description:"Learn to be present in the moment and develop a non-judgmental awareness of your thoughts and feelings. Mindfulness practices can reduce stress, anxiety, and improve overall well-being.",icon:c.jsx(p5,{className:"h-10 w-10 text-[#30D5C8]"}),features:["Meditation techniques","Stress reduction practices","Present-moment awareness","Integration into daily life"]}],r=[{title:"Online Individual Session",price:"$175",description:"Per 50-minute session",features:["One-on-one attention","Personalized treatment plan","Virtual/telehealth session","Flexible scheduling"]},{title:"In-Person Individual Session",price:"$185",description:"Per 50-minute session",features:["One-on-one attention","Personalized treatment plan","In-person at our office","Flexible scheduling"]},{title:"Group Therapy",price:"$100",description:"Per 90-minute session",features:["Small group setting (6-8 people)","Topic-focused sessions","Supportive community","Led by licensed therapist"]},{title:"Couples Package",price:"$195",description:"Per 60-minute session",features:["Relationship assessment","Communication training","Conflict resolution strategies","Joint goal setting"]}],s=Ht(),o={hidden:{opacity:0,y:50,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:100,damping:15,staggerChildren:.1}},hover:{y:-10,scale:1.02,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",transition:{type:"spring",stiffness:400,damping:10}}},a={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{type:"spring",stiffness:100,damping:15}}},u={hidden:{opacity:0,y:30,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:100,damping:15}},hover:{y:-5,scale:1.02,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",transition:{type:"spring",stiffness:400,damping:10}}},h={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{type:"spring",stiffness:200,damping:15}}},f={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{type:"spring",stiffness:100,damping:15}},hover:{scale:1.2,rotate:5,transition:{type:"spring",stiffness:400,damping:10}}};return c.jsxs("div",{className:"pt-16",children:[c.jsxs("section",{className:"relative h-[60vh] flex items-center overflow-hidden",children:[c.jsxs(M.div,{className:"absolute inset-0 z-0",initial:{scale:1,rotate:0},animate:{scale:[1,1.2,1.1,1.3,1],rotate:[0,1,-1,2,0],filter:["brightness(0.7) saturate(1)","brightness(0.8) saturate(1.2)","brightness(0.7) saturate(1.1)","brightness(0.9) saturate(1.3)","brightness(0.7) saturate(1)"]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse",ease:"easeInOut",times:[0,.25,.5,.75,1]},children:[c.jsx(sl,{src:"/images/professional-counseling.jpg",alt:"Professional counseling environment",className:"w-full h-full object-cover"}),c.jsx(M.div,{className:"absolute inset-0",animate:{backgroundColor:["rgba(0, 0, 0, 0.4)","rgba(0, 0, 0, 0.5)","rgba(0, 0, 0, 0.3)","rgba(0, 0, 0, 0.6)","rgba(0, 0, 0, 0.4)"]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse",ease:"easeInOut"}})]}),c.jsx("div",{className:"container relative z-10 mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs(M.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center max-w-3xl mx-auto",children:[c.jsxs(M.h1,{variants:e,custom:0,className:"text-4xl md:text-5xl font-bold mb-6 text-white",children:["Our"," ",c.jsx("span",{className:"text-[#30D5C8]",children:"Services"})]}),c.jsx(M.p,{variants:e,custom:1,className:"text-xl text-white/90",children:"We offer a range of professional counseling services tailored to meet your unique needs and support your mental health journey"}),c.jsx(M.div,{variants:e,custom:2,children:c.jsx(ke,{size:"lg",className:"text-lg bg-[#008080] hover:bg-[#008080]/90 text-white shadow-lg mt-6",onClick:()=>{on()?s("/booking"):s("/login")},children:"Book an Appointment"})})]})})]}),c.jsx("section",{className:"py-12 bg-[#30D5C8]/5",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map((m,y)=>c.jsxs(M.div,{initial:"hidden",whileInView:"visible",whileHover:"hover",viewport:{once:!0,margin:"-50px"},variants:o,custom:y,className:"bg-card rounded-lg p-8 shadow-lg hover:shadow-xl transition-all duration-300 border-2 border-[#30D5C8]/20 hover:border-[#30D5C8]/40",children:[c.jsx(M.div,{className:"bg-[#30D5C8]/10 p-3 rounded-full w-fit mb-6",variants:a,whileHover:"hover",children:c.jsx(M.div,{variants:f,children:m.icon})}),c.jsxs(M.div,{variants:a,children:[c.jsx("h3",{className:"text-xl font-semibold mb-4",children:m.title}),c.jsx("p",{className:"text-muted-foreground mb-6",children:m.description})]}),c.jsx(M.div,{variants:a,children:c.jsx("ul",{className:"space-y-3 mb-6",children:m.features.map((v,E)=>c.jsxs(M.li,{variants:a,custom:E,className:"flex items-center text-muted-foreground",children:[c.jsx(Up,{className:"h-4 w-4 text-[#30D5C8] mr-2"}),v]},E))})}),c.jsx(M.div,{variants:a,children:c.jsx(ke,{className:"bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90",onClick:()=>{s("/booking#booking-top")},children:"Book Now"})})]},m.title))})})}),c.jsx("section",{className:"py-20 bg-[#30D5C8]/5",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs(M.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"text-center mb-16",children:[c.jsx(M.h2,{variants:e,custom:0,className:`text-3xl md:text-4xl font-bold mb-4 ${t==="dark"?"text-white":"text-black"}`,children:"Pricing"}),c.jsx(M.p,{variants:e,custom:1,className:`text-xl ${t==="dark"?"text-white/80":"text-black/80"} max-w-2xl mx-auto`,children:"Transparent pricing for our services. We also accept many insurance plans and offer sliding scale options for those in need."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-16",children:r.map((m,y)=>c.jsxs(M.div,{initial:"hidden",whileInView:"visible",whileHover:"hover",viewport:{once:!0,margin:"-50px"},variants:u,custom:y,className:"bg-card rounded-lg p-8 shadow-lg hover:shadow-xl transition-all duration-300 border-2 border-[#30D5C8]/20 hover:border-[#30D5C8]/40",children:[c.jsxs(M.div,{variants:a,children:[c.jsx("h3",{className:"text-xl font-semibold mb-2",children:m.title}),c.jsxs(M.div,{variants:h,className:"mb-4",children:[c.jsx("span",{className:"text-4xl font-bold text-[#30D5C8]",children:m.price}),c.jsxs("span",{className:"text-muted-foreground",children:[" ",m.description]})]}),c.jsx(M.ul,{variants:a,className:"space-y-3 mb-6",children:m.features.map((v,E)=>c.jsxs(M.li,{variants:a,custom:E,className:"flex items-center text-muted-foreground",children:[c.jsx(Up,{className:"h-4 w-4 text-[#30D5C8] mr-2"}),v]},E))})]}),c.jsx(M.div,{variants:a,children:c.jsx(ke,{asChild:!0,className:"bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90",children:c.jsx(jn,{to:"/booking",children:"Book Now"})})})]},m.title))}),c.jsxs(M.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"text-center mt-24 mb-16",children:[c.jsx(M.p,{variants:e,custom:1,className:`text-xl ${t==="dark"?"text-white/80":"text-black/80"} max-w-2xl mx-auto mb-6`,children:"Not sure which service is right for you? Contact us for a free 15-minute consultation to discuss your needs."}),c.jsx(M.div,{variants:e,custom:2,whileHover:{scale:1.05},whileTap:{scale:.95},children:c.jsx(ke,{size:"lg",className:"text-lg bg-[#008080] hover:bg-[#008080]/90 text-white shadow-lg",onClick:()=>{on()?s("/booking?calendly=free15"):s("/login")},children:"Book a Free 15-Minute Consultation"})})]})]})}),c.jsxs("section",{className:"py-20 relative overflow-hidden",children:[c.jsxs(M.div,{className:"absolute inset-0 z-0",initial:{scale:1,rotate:0},animate:{scale:[1,1.2,1.1,1.3,1],rotate:[0,1,-1,2,0],filter:["brightness(0.7) saturate(1)","brightness(0.8) saturate(1.2)","brightness(0.7) saturate(1.1)","brightness(0.9) saturate(1.3)","brightness(0.7) saturate(1)"]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse",ease:"easeInOut",times:[0,.25,.5,.75,1]},children:[c.jsx(sl,{src:"/images/gold.jpg",alt:"Autumn forest path",className:"w-full h-full object-cover"}),c.jsx(M.div,{className:"absolute inset-0",animate:{backgroundColor:["rgba(0, 0, 0, 0.4)","rgba(0, 0, 0, 0.5)","rgba(0, 0, 0, 0.3)","rgba(0, 0, 0, 0.6)","rgba(0, 0, 0, 0.4)"]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse",ease:"easeInOut"}})]}),c.jsx("div",{className:"container relative z-10 mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs(M.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center max-w-3xl mx-auto",children:[c.jsx(M.h2,{variants:e,custom:0,className:"text-3xl md:text-4xl font-bold mb-4 text-white",children:"Ready to Begin Your Journey?"}),c.jsx(M.p,{variants:e,custom:1,className:"text-xl text-white/90 mb-8",children:"Take the first step towards better mental health and well-being. Our team of professionals is here to support you."}),c.jsx(M.div,{variants:e,custom:2,children:c.jsx(ke,{size:"lg",className:"text-lg bg-[#008080] hover:bg-[#008080]/90 text-white shadow-lg",onClick:()=>{on()?s("/booking#booking-top"):s("/login")},children:"Book an Appointment"})})]})})]})]})}const Et=w.forwardRef(({className:t,type:e,...n},r)=>c.jsx("input",{type:e,className:pe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:placeholder:text-white/70",t),ref:r,...n}));Et.displayName="Input";const ch=w.forwardRef(({className:t,...e},n)=>c.jsx("textarea",{className:pe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:placeholder:text-white/70",t),ref:n,...e}));ch.displayName="Textarea";function EJ(){const[t,e]=w.useState({name:"",email:"",message:""}),[n,r]=w.useState(!1),[s,o]=w.useState(!1),{theme:a}=is(),u=E=>{const{name:I,value:S}=E.target;e(T=>({...T,[I]:S}))},h=E=>{E.preventDefault(),o(!0),setTimeout(()=>{o(!1),r(!0),e({name:"",email:"",message:""})},1500)},f=()=>{r(!1),e({name:"",email:"",message:""})},m={hidden:{opacity:0,y:20},visible:E=>({opacity:1,y:0,transition:{delay:E*.1,duration:.5,type:"spring",stiffness:50}})},y={hidden:{opacity:0,y:50,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:100,damping:15,staggerChildren:.1}}},v={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{type:"spring",stiffness:100,damping:15}},focus:{scale:1.02,boxShadow:"0 0 0 2px rgba(48, 213, 200, 0.2)",transition:{type:"spring",stiffness:400,damping:10}}};return c.jsxs("div",{className:"pt-16",children:[c.jsxs("section",{className:"relative h-[60vh] flex items-center overflow-hidden",children:[c.jsxs(M.div,{className:"absolute inset-0 z-0",initial:{scale:1,rotate:0},animate:{scale:[1,1.2,1.1,1.3,1],rotate:[0,1,-1,2,0],filter:["brightness(0.7) saturate(1)","brightness(0.8) saturate(1.2)","brightness(0.7) saturate(1.1)","brightness(0.9) saturate(1.3)","brightness(0.7) saturate(1)"]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse",ease:"easeInOut",times:[0,.25,.5,.75,1]},children:[c.jsx(sl,{src:"/images/communication-connection.jpg",alt:"Communication and connection",className:"w-full h-full object-cover"}),c.jsx(M.div,{className:"absolute inset-0",animate:{backgroundColor:["rgba(0, 0, 0, 0.4)","rgba(0, 0, 0, 0.5)","rgba(0, 0, 0, 0.3)","rgba(0, 0, 0, 0.6)","rgba(0, 0, 0, 0.4)"]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse",ease:"easeInOut"}})]}),c.jsx("div",{className:"container relative z-10 mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs(M.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center max-w-3xl mx-auto",children:[c.jsxs(M.h1,{variants:m,custom:0,className:"text-4xl md:text-5xl font-bold mb-6 text-white",children:["Contact"," ",c.jsx("span",{className:"text-[#30D5C8]",children:"Us"})]}),c.jsx(M.p,{variants:m,custom:1,className:"text-xl text-white/90",children:"Have questions about our services? Reach out to us and our team will get back to you soon."})]})})]}),c.jsxs("section",{className:"py-20 bg-background relative overflow-hidden",children:[c.jsx(M.div,{className:"absolute top-0 right-0 w-96 h-96 bg-primary/5 rounded-full blur-3xl",animate:{x:[50,100,50],y:[0,50,0],scale:[1,1.1,1]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),c.jsx(M.div,{className:"absolute bottom-0 left-0 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl",animate:{x:[0,-50,0],y:[0,50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[c.jsxs(M.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center mb-16",children:[c.jsx(M.h2,{variants:m,custom:0,className:`text-3xl md:text-4xl font-bold mb-4 ${a==="dark"?"text-white":"text-black"}`,children:"Get in Touch"}),c.jsx(M.p,{variants:m,custom:1,className:`text-xl ${a==="dark"?"text-white/80":"text-black/80"} max-w-2xl mx-auto`,children:"Have questions about our services? Reach out to us and our team will get back to you soon."})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-12 max-w-5xl mx-auto",children:[c.jsxs(M.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:y,className:"bg-card p-8 rounded-lg shadow-md border relative overflow-hidden",children:[c.jsx(M.div,{className:"absolute -top-20 -right-20 w-64 h-64 bg-primary/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],rotate:[0,45,0]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),c.jsx(Wp,{mode:"wait",children:n?c.jsxs(M.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{type:"spring",stiffness:100},className:"flex flex-col items-center justify-center h-full text-center py-12 relative z-10",children:[c.jsx(M.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15},children:c.jsx(Wx,{className:"h-16 w-16 text-primary mb-4"})}),c.jsx(M.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-2xl font-semibold mb-2",children:"Thank You!"}),c.jsx(M.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-muted-foreground",children:"Your message has been sent successfully. We will get back to you soon."}),c.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-6",children:c.jsx(ke,{variant:"outline",onClick:f,children:"Send Another Message"})})]},"success"):c.jsxs(M.form,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:y,className:"space-y-6 relative z-10",onSubmit:h,children:[c.jsxs(M.div,{variants:v,children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-white mb-2",children:"Name"}),c.jsx(Et,{id:"name",name:"name",value:t.name,onChange:u,placeholder:"Your name",required:!0,className:`w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#30D5C8] ${a==="dark"?"placeholder:text-white/70 text-white bg-transparent":"placeholder:text-black/70 text-black"}`})]}),c.jsxs(M.div,{variants:v,children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white mb-2",children:"Email"}),c.jsx(Et,{id:"email",name:"email",type:"email",value:t.email,onChange:u,placeholder:"your@email.com",required:!0,className:`w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#30D5C8] ${a==="dark"?"placeholder:text-white/70 text-white bg-transparent":"placeholder:text-black/70 text-black"}`})]}),c.jsxs(M.div,{variants:v,children:[c.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-white mb-2",children:"Message"}),c.jsx(ch,{id:"message",name:"message",value:t.message,onChange:u,placeholder:"Your message",required:!0,className:`min-h-[150px] w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#30D5C8] ${a==="dark"?"placeholder:text-white/70 text-white bg-transparent":"placeholder:text-black/70 text-black"}`})]}),c.jsx(M.div,{variants:v,children:c.jsx(ke,{type:"submit",className:"w-full bg-[#30D5C8] hover:bg-[#30D5C8]/90 text-black",disabled:s,children:s?"Sending...":"Send Message"})})]},"form")})]}),c.jsxs(M.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"space-y-8",children:[c.jsxs(M.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center mb-16",children:[c.jsx(M.h2,{variants:m,custom:0,className:`text-2xl md:text-3xl font-bold mb-4 ${a==="dark"?"text-white":"text-black"}`,children:"Other Ways to Reach Us"}),c.jsxs(M.div,{variants:m,custom:1,className:"max-w-2xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx(M.div,{className:"bg-[#008080]/10 p-3 rounded-full mb-4",whileHover:{scale:1.1,backgroundColor:"rgba(0, 128, 128, 0.2)"},children:c.jsx(RN,{className:"h-6 w-6 text-[#008080]"})}),c.jsxs("div",{className:"text-center",children:[c.jsx("h3",{className:`font-medium ${a==="dark"?"text-white":"text-black"}`,children:"Phone"}),c.jsx("p",{children:c.jsx("a",{href:"tel:+19059092400",className:`${a==="dark"?"text-white hover:text-[#30D5C8]":"text-black hover:text-[#008080]"} transition-colors`,children:"(905) 909-2400"})}),c.jsx("p",{className:`text-sm mt-1 ${a==="dark"?"text-white/80":"text-black/80"}`,children:"Monday-Friday, 9am-5pm"})]})]}),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx(M.div,{className:"bg-[#008080]/10 p-3 rounded-full mb-4",whileHover:{scale:1.1,backgroundColor:"rgba(0, 128, 128, 0.2)"},children:c.jsx(AN,{className:"h-6 w-6 text-[#008080]"})}),c.jsxs("div",{className:"text-center",children:[c.jsx("h3",{className:`font-medium ${a==="dark"?"text-white":"text-black"}`,children:"Email"}),c.jsx("p",{children:c.jsx("a",{href:"mailto:info@cemarcounseling.com",className:`${a==="dark"?"text-white hover:text-[#30D5C8]":"text-black hover:text-[#008080]"} transition-colors`,children:"info@cemarcounseling.com"})}),c.jsx("p",{className:`text-sm mt-1 ${a==="dark"?"text-white/80":"text-black/80"}`,children:"We'll respond within 24 hours"})]})]})]})]}),c.jsxs(M.div,{variants:m,custom:2,className:"bg-[#008080] p-6 rounded-lg mt-8",children:[c.jsx("h3",{className:"font-medium mb-2 text-white",children:"Office Hours"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-white",children:[c.jsx("div",{children:"Monday - Friday"}),c.jsx("div",{children:"9:00 AM - 7:00 PM"}),c.jsx("div",{children:"Saturday"}),c.jsx("div",{children:"10:00 AM - 4:00 PM"}),c.jsx("div",{children:"Sunday"}),c.jsx("div",{children:"Closed"})]})]})]})]})]})]}),c.jsx("section",{className:"py-20 bg-background",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs(M.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center mb-12",children:[c.jsx(M.h2,{variants:m,custom:0,className:`text-3xl md:text-4xl font-bold mb-4 ${a==="dark"?"text-white":"text-black"}`,children:"Frequently Asked Questions"}),c.jsx(M.p,{variants:m,custom:1,className:`text-xl ${a==="dark"?"text-white/80":"text-black/80"} max-w-2xl mx-auto`,children:"Find answers to common questions about our services"})]}),c.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[c.jsxs(M.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},className:"bg-card p-6 rounded-lg border",children:[c.jsx("h3",{className:"font-semibold mb-2",children:"How do I schedule my first appointment?"}),c.jsx("p",{className:"text-muted-foreground",children:"You can schedule an appointment by using our online booking system, calling our office, or sending us an email. New clients will need to complete intake forms before their first session."})]}),c.jsxs(M.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.2},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},className:"bg-card p-6 rounded-lg border",children:[c.jsx("h3",{className:"font-semibold mb-2",children:"Do you accept insurance?"}),c.jsx("p",{className:"text-muted-foreground",children:"Yes, we accept many major insurance plans. Please contact our office with your insurance information to verify your coverage before your first appointment."})]}),c.jsxs(M.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.3},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},className:"bg-card p-6 rounded-lg border",children:[c.jsx("h3",{className:"font-semibold mb-2",children:"How long are therapy sessions?"}),c.jsx("p",{className:"text-muted-foreground",children:"Individual therapy sessions are typically 50 minutes, while group sessions are 90 minutes. The frequency of sessions will be determined based on your needs and treatment plan."})]}),c.jsxs(M.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.4},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},className:"bg-card p-6 rounded-lg border",children:[c.jsx("h3",{className:"font-semibold mb-2",children:"What is your cancellation policy?"}),c.jsx("p",{className:"text-muted-foreground",children:"We require 24 hours notice for cancellations. Late cancellations or no-shows are non refundable."})]})]})]})})]})}function TJ(){var a,u;const[t,e]=w.useState(null),n=[{key:"online-individual",title:"Online Individual Counseling",description:"Select this to schedule an online individual counseling session.",url:"https://calendly.com/cemarcounseling-info/30min?hide_event_type_details=1&hide_gdpr_banner=1"},{key:"inperson-individual",title:"In-Person Individual Counseling",description:"Select this to schedule an in-person individual counseling session.",url:"https://calendly.com/cemarcounseling-info/in-person-individual-session?hide_event_type_details=1&hide_gdpr_banner=1"},{key:"group",title:"Group Counseling",description:"Select this to schedule group counseling.",url:"https://calendly.com/cemarcounseling-info/group-counseling?hide_event_type_details=1&hide_gdpr_banner=1"},{key:"couples",title:"Couples Counseling",description:"Select this to schedule couples counseling.",url:"https://calendly.com/cemarcounseling-info/couples-counseling?hide_event_type_details=1&hide_gdpr_banner=1"},{key:"free15",title:"Free 15-Min Consultation",description:"Select this to schedule free 15-min consultation.",url:"https://calendly.com/cemarcounseling-info/new-meeting?hide_event_type_details=1&hide_gdpr_banner=1"}],r=t?(a=n.find(h=>h.key===t))==null?void 0:a.url:null;w.useEffect(()=>{r&&typeof window<"u"&&window.Calendly&&window.Calendly.initInlineWidgets()},[r]),w.useEffect(()=>{async function h(f){var m,y,v;try{const E=f.data||{};if(E.event!=="calendly.event_scheduled")return;const I=E.payload||{},S=I.event||I,T=I.invitee||I.invitee||null,N=(S==null?void 0:S.start_time)||(S==null?void 0:S.startTime)||null,j=(T==null?void 0:T.email)||(I==null?void 0:I.invitee_email)||null,k=bi==null?void 0:bi.currentUser,$=Or(),B={clientId:(k==null?void 0:k.uid)||($==null?void 0:$.id)||null,clientEmail:j||(k==null?void 0:k.email)||($==null?void 0:$.email)||null,serviceKey:t||null,serviceTitle:((m=n.find(D=>D.key===t))==null?void 0:m.title)||null,status:"upcoming",createdAt:No(),calendlyPayload:I};if(N){const D=new Date(N);B.startTime=st.fromDate(D)}const W=((y=I==null?void 0:I.event)==null?void 0:y.uri)||null,P=((v=I==null?void 0:I.invitee)==null?void 0:v.id)||null;let R=!1;try{if(W){const D=Ri(Fs(Ct,"appointments"),zs("calendlyPayload.event.uri","==",W));(await Vc(D)).empty||(R=!0)}if(!R&&P){const D=Ri(Fs(Ct,"appointments"),zs("calendlyPayload.invitee.id","==",P));(await Vc(D)).empty||(R=!0)}}catch(D){console.warn("Deduplication query failed",D)}if(R){console.log("Duplicate appointment detected, skipping save");return}try{await vH(Fs(Ct,"appointments"),B),console.log("Appointment saved to Firestore")}catch(D){console.error("Error saving appointment to Firestore",D)}}catch(E){console.error("Calendly message handler error",E)}}return window.addEventListener("message",h),()=>window.removeEventListener("message",h)},[t,n]);const s=h=>{e(h)},o=()=>{e(null)};return c.jsx("div",{className:"pt-16",children:c.jsx("section",{className:"py-20 bg-background",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx(M.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center mb-12",children:c.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center",children:[c.jsx("h1",{id:"booking-top",className:"text-4xl font-bold mb-4 text-black dark:text-white/90",children:"Book an Appointment"}),c.jsx("p",{className:"text-lg text-black/70 mb-8 dark:text-white/70",children:"Choose the counseling service that best fits your needs, then select your preferred date and time to get started on your wellness journey."})]})}),c.jsx("div",{className:"max-w-4xl mx-auto",children:t?c.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-gradient-to-br from-[#30D5C8] to-[#008080] rounded-lg p-6 shadow-lg",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-black",children:(u=n.find(h=>h.key===t))==null?void 0:u.title}),c.jsx("p",{className:"text-base text-black font-medium mt-2",children:"Complete your booking by selecting an available time slot below."})]}),c.jsx("div",{children:c.jsx("button",{onClick:o,className:"text-sm text-white hover:text-white/80 underline font-medium",children:"Change service"})})]}),r&&c.jsx("div",{className:"mt-6 bg-white dark:bg-slate-900 rounded-lg overflow-hidden border border-[#30D5C8]/20",children:c.jsx("iframe",{src:r,width:"100%",height:"750",frameBorder:"0",title:"Schedule appointment"})})]}):c.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:n.map(h=>c.jsx(M.button,{onClick:()=>s(h.key),whileHover:{scale:1.02},whileTap:{scale:.98},className:"text-left bg-card p-6 rounded-lg shadow hover:shadow-lg border border-[#30D5C8]/10",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:h.title}),c.jsx("p",{className:"text-sm text-muted-foreground",children:h.description})]}),c.jsx("div",{className:"ml-4",children:c.jsx("span",{className:"inline-block rounded-full bg-[#30D5C8] text-black px-3 py-1 font-medium text-sm",children:"Select"})})]})},h.key))})})]})})})}var SJ="Label",qD=w.forwardRef((t,e)=>c.jsx($e.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));qD.displayName=SJ;var GD=qD;const CJ=yN("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),dt=w.forwardRef(({className:t,...e},n)=>c.jsx(GD,{ref:n,className:pe(CJ(),t),...e}));dt.displayName=GD.displayName;var Ug="Tabs",[IJ,See]=as(Ug,[Pg]),KD=Pg(),[NJ,wb]=IJ(Ug),YD=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:a="horizontal",dir:u,activationMode:h="automatic",...f}=t,m=Eg(u),[y,v]=nl({prop:r,onChange:s,defaultProp:o??"",caller:Ug});return c.jsx(NJ,{scope:n,baseId:$s(),value:y,onValueChange:v,orientation:a,dir:m,activationMode:h,children:c.jsx($e.div,{dir:m,"data-orientation":a,...f,ref:e})})});YD.displayName=Ug;var QD="TabsList",XD=w.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,o=wb(QD,n),a=KD(n);return c.jsx(kj,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:r,children:c.jsx($e.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});XD.displayName=QD;var JD="TabsTrigger",ZD=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=t,a=wb(JD,n),u=KD(n),h=nM(a.baseId,r),f=rM(a.baseId,r),m=r===a.value;return c.jsx(jj,{asChild:!0,...u,focusable:!s,active:m,children:c.jsx($e.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":f,"data-state":m?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:h,...o,ref:e,onMouseDown:Se(t.onMouseDown,y=>{!s&&y.button===0&&y.ctrlKey===!1?a.onValueChange(r):y.preventDefault()}),onKeyDown:Se(t.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&a.onValueChange(r)}),onFocus:Se(t.onFocus,()=>{const y=a.activationMode!=="manual";!m&&!s&&y&&a.onValueChange(r)})})})});ZD.displayName=JD;var eM="TabsContent",tM=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...a}=t,u=wb(eM,n),h=nM(u.baseId,r),f=rM(u.baseId,r),m=r===u.value,y=w.useRef(m);return w.useEffect(()=>{const v=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(v)},[]),c.jsx(Fi,{present:s||m,children:({present:v})=>c.jsx($e.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":h,hidden:!v,id:f,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:y.current?"0s":void 0},children:v&&o})})});tM.displayName=eM;function nM(t,e){return`${t}-trigger-${e}`}function rM(t,e){return`${t}-content-${e}`}var AJ=YD,sM=XD,iM=ZD,oM=tM;const RJ=AJ,aM=w.forwardRef(({className:t,...e},n)=>c.jsx(sM,{ref:n,className:pe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));aM.displayName=sM.displayName;const Px=w.forwardRef(({className:t,...e},n)=>c.jsx(iM,{ref:n,className:pe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Px.displayName=iM.displayName;const kx=w.forwardRef(({className:t,...e},n)=>c.jsx(oM,{ref:n,className:pe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));kx.displayName=oM.displayName;function XI({className:t="",variant:e="default"}){const[n,r]=w.useState(!1),[s,o]=w.useState(null),a=Ht(),h=new URLSearchParams(window.location.search).get("returnUrl"),f=async()=>{r(!0),o(null);try{const m=await hK();console.log(" Successfully signed in:",m),setTimeout(()=>{m.role==="therapist"?a("/therapist/dashboard"):a(h||"/")},500)}catch(m){const y=(m==null?void 0:m.message)||"Failed to sign in with Google";console.error(" Google sign-in error:",y),o(y)}finally{r(!1)}};return c.jsxs(M.div,{className:t,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[c.jsx(ke,{onClick:f,disabled:n,variant:e,className:`w-full h-11 rounded-lg font-medium transition-all duration-300 ${e==="default"?"bg-white hover:bg-gray-100 text-black border border-gray-300":"border-2 border-[#30D5C8] hover:bg-[#30D5C8]/10"}`,children:c.jsx(M.div,{className:"flex items-center justify-center gap-2",animate:{scale:n?.95:1},children:n?c.jsxs(c.Fragment,{children:[c.jsx(M.div,{className:"w-4 h-4 border-2 border-[#30D5C8] border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),c.jsx("span",{className:"text-black",children:"Signing in..."})]}):c.jsxs(c.Fragment,{children:[c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),c.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),c.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),c.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),c.jsx("span",{className:"text-black",children:"Sign in with Google"})]})})}),s&&c.jsx(M.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:c.jsxs("p",{className:"text-sm text-red-600",children:[c.jsx("span",{className:"font-semibold",children:"Error:"})," ",s]})})]})}const PJ={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5,staggerChildren:.1}}},fi={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:15}}},oc={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{type:"spring",stiffness:100,damping:15}},hover:{scale:1.02,transition:{type:"spring",stiffness:400,damping:10}}},wp={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:15}},hover:{scale:1.05,transition:{type:"spring",stiffness:400,damping:10}},tap:{scale:.95,transition:{type:"spring",stiffness:400,damping:10}}};function kJ(){const t=Ht(),e=Xo(),[n]=a4(),r=n.get("tab")==="signup"?"signup":"login",[s,o]=w.useState(!1),[a,u]=w.useState({email:"",password:""}),[h,f]=w.useState({name:"",email:"",password:"",confirmPassword:""}),[m,y]=w.useState(""),[v,E]=w.useState(r);w.useEffect(()=>{if(on()){const k=new URLSearchParams(e.search).get("returnUrl");t(k||"/")}},[t,e]);const I=j=>{const{name:k,value:$}=j.target;u(B=>({...B,[k]:$}))},S=j=>{const{name:k,value:$}=j.target;f(B=>({...B,[k]:$}))},T=async j=>{j.preventDefault(),y(""),o(!0);try{const k=await pK(a.email,a.password);console.log(" Login successful:",{id:k.id,email:k.email,role:k.role});const B=new URLSearchParams(e.search).get("returnUrl");k.role==="therapist"?(console.log(" User is therapist, redirecting to /therapist/dashboard"),t("/therapist/dashboard")):(console.log(" User is client, redirecting to home or returnUrl"),t(B||"/"))}catch(k){const $=(k==null?void 0:k.message)||"Failed to login. Please check your credentials.";console.error(" Login error:",$),y($)}finally{o(!1)}},N=async j=>{if(j.preventDefault(),y(""),h.password!==h.confirmPassword){y("Passwords do not match");return}o(!0);try{await fK(h.name,h.email,h.password);const $=new URLSearchParams(e.search).get("returnUrl");t($||"/")}catch(k){const $=(k==null?void 0:k.message)||"Failed to create account. Please try again.";y($)}finally{o(!1)}};return c.jsx("div",{className:"pt-16",children:c.jsxs(M.section,{initial:"hidden",animate:"visible",variants:PJ,className:"py-20 relative overflow-hidden min-h-screen flex items-center justify-center",style:{backgroundImage:"url('/images/hero-1.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[c.jsx("div",{className:"absolute inset-0 bg-[#30D5C8]/10 backdrop-blur-[2px]"}),c.jsx(M.div,{className:"absolute top-0 right-0 w-96 h-96 bg-primary/5 rounded-full blur-3xl",animate:{x:[50,100,50],y:[0,50,0],scale:[1,1.1,1]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),c.jsx(M.div,{className:"absolute bottom-0 left-0 w-96 h-96 bg-[#30D5C8]/5 rounded-full blur-3xl",animate:{x:[0,-50,0],y:[0,50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:c.jsxs(M.div,{variants:fi,className:"max-w-md mx-auto",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs(M.h1,{variants:fi,className:"text-3xl font-bold mb-2 text-white",children:["Welcome to ",c.jsx("span",{className:"text-[#30D5C8]",children:"CEMAR"})]}),c.jsx(M.p,{variants:fi,className:"text-white/90",children:"Sign in to book your appointment"})]}),c.jsxs(M.div,{variants:fi,className:"bg-[#30D5C8] p-8 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 border-2 border-[#30D5C8]/20 hover:border-[#30D5C8]/40",children:[c.jsx(M.div,{className:"absolute -top-20 -right-20 w-64 h-64 bg-[#30D5C8]/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],rotate:[0,45,0]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),c.jsxs(RJ,{value:v,onValueChange:j=>{E(j),y("")},className:"w-full relative z-10",children:[c.jsxs(aM,{className:"grid w-full grid-cols-2 mb-6 bg-[#008080]",children:[c.jsx(Px,{value:"login",className:"data-[state=active]:bg-[#30D5C8]",children:"Login"}),c.jsx(Px,{value:"signup",className:"data-[state=active]:bg-[#30D5C8]",children:"Sign Up"})]}),c.jsxs(Wp,{mode:"wait",children:[c.jsx(kx,{value:"login",children:c.jsx(M.div,{variants:fi,className:"bg-[#008080] p-6 rounded-lg border border-[#008080]/20",children:c.jsxs(M.form,{onSubmit:T,className:"space-y-4",variants:fi,initial:"hidden",animate:"visible",exit:"hidden",children:[c.jsxs(M.div,{variants:oc,className:"space-y-2",children:[c.jsx(dt,{htmlFor:"email",children:"Email"}),c.jsx(Et,{id:"email",name:"email",type:"email",value:a.email,onChange:I,placeholder:"Enter your email",required:!0,className:"transition-all duration-300 focus:ring-2 focus:ring-cyan-400/30 placeholder:text-black/70 bg-white dark:bg-white text-black dark:text-black"})]}),c.jsxs(M.div,{variants:oc,className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(dt,{htmlFor:"password",children:"Password"}),c.jsx(jn,{to:"/forgot-password",className:"text-sm text-[white] hover:text-blue-500 hover:underline",children:"Forgot password?"})]}),c.jsx(Et,{id:"password",name:"password",type:"password",value:a.password,onChange:I,placeholder:"Enter your password",required:!0,className:"transition-all duration-300 focus:ring-2 focus:ring-cyan-400/30 placeholder:text-black/70 bg-white dark:bg-white text-black dark:text-black"})]}),m&&c.jsx(M.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-sm text-red-500",children:m}),c.jsx("div",{className:"text-sm text-white space-y-1",children:c.jsxs("div",{children:["Don't have an account?"," ",c.jsx("button",{type:"button",onClick:()=>E("signup"),className:"underline text-white hover:text-white/80 cursor-pointer",children:"Sign up"})]})}),c.jsx(M.div,{variants:wp,whileHover:"hover",whileTap:"tap",children:c.jsx(ke,{type:"submit",className:"w-full bg-[#30D5C8] hover:bg-[#30D5C8]/90 text-black",disabled:s,children:s?c.jsxs(c.Fragment,{children:[c.jsx(M.div,{animate:{rotate:360},transition:{duration:1,repeat:Number.POSITIVE_INFINITY,ease:"linear"},className:"mr-2 h-4 w-4 border-2 border-black border-t-transparent rounded-full"}),"Signing in..."]}):"Sign In"})}),c.jsxs("div",{className:"relative my-4",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("span",{className:"w-full border-t border-white"})}),c.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:c.jsx("span",{className:"bg-[#008080] px-2 text-white",children:"Or"})})]}),c.jsx(M.div,{variants:wp,whileHover:"hover",whileTap:"tap",children:c.jsx(XI,{className:"w-full relative overflow-hidden bg-[#008080] text-white hover:bg-[#008080]/90",variant:"outline"})})]})})}),c.jsx(kx,{value:"signup",children:c.jsx(M.div,{variants:fi,className:"bg-[#008080] p-6 rounded-lg border border-[#008080]/20",children:c.jsxs(M.form,{onSubmit:N,className:"space-y-4",variants:fi,initial:"hidden",animate:"visible",exit:"hidden",children:[c.jsxs(M.div,{variants:oc,className:"space-y-2",children:[c.jsx(dt,{htmlFor:"name",children:"Full Name"}),c.jsx(Et,{id:"name",name:"name",value:h.name,onChange:S,placeholder:"Enter your full name",required:!0,className:"transition-all duration-300 focus:ring-2 focus:ring-cyan-400/30 placeholder:text-black/70 bg-white dark:bg-white text-black dark:text-black"})]}),c.jsxs(M.div,{variants:oc,className:"space-y-2",children:[c.jsx(dt,{htmlFor:"signup-email",children:"Email"}),c.jsx(Et,{id:"signup-email",name:"email",type:"email",value:h.email,onChange:S,placeholder:"Enter your email",required:!0,className:"transition-all duration-300 focus:ring-2 focus:ring-cyan-400/30 placeholder:text-black/70 bg-white dark:bg-white text-black dark:text-black"})]}),c.jsxs(M.div,{variants:oc,className:"space-y-2",children:[c.jsx(dt,{htmlFor:"signup-password",children:"Password"}),c.jsx(Et,{id:"signup-password",name:"password",type:"password",value:h.password,onChange:S,placeholder:"Enter your password",required:!0,className:"transition-all duration-300 focus:ring-2 focus:ring-cyan-400/30 placeholder:text-black/70 bg-white dark:bg-white text-black dark:text-black"})]}),c.jsxs(M.div,{variants:oc,className:"space-y-2",children:[c.jsx(dt,{htmlFor:"confirm-password",children:"Confirm Password"}),c.jsx(Et,{id:"confirm-password",name:"confirmPassword",type:"password",value:h.confirmPassword,onChange:S,placeholder:"Confirm your password",required:!0,className:"transition-all duration-300 focus:ring-2 focus:ring-cyan-400/30 placeholder:text-black/70 bg-white dark:bg-white text-black dark:text-black"})]}),m&&c.jsx(M.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-sm text-red-500",children:m}),c.jsx(M.div,{variants:wp,whileHover:"hover",whileTap:"tap",children:c.jsx(ke,{type:"submit",className:"w-full bg-[#30D5C8] hover:bg-[#30D5C8]/90 text-black",disabled:s,children:s?c.jsxs(c.Fragment,{children:[c.jsx(M.div,{animate:{rotate:360},transition:{duration:1,repeat:Number.POSITIVE_INFINITY,ease:"linear"},className:"mr-2 h-4 w-4 border-2 border-black border-t-transparent rounded-full"}),"Creating account..."]}):"Create Account"})}),c.jsxs("div",{className:"relative my-4",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("span",{className:"w-full border-t border-white"})}),c.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:c.jsx("span",{className:"bg-[#008080] px-2 text-white",children:"Or"})})]}),c.jsx(M.div,{variants:wp,whileHover:"hover",whileTap:"tap",children:c.jsx(XI,{className:"w-full relative overflow-hidden bg-[#008080] text-white hover:bg-[#008080]/90",variant:"outline"})})]})})})]})]}),c.jsx(M.div,{variants:fi,className:"mt-6 text-center text-sm text-black",children:c.jsxs("p",{children:["By continuing, you agree to our"," ",c.jsx(jn,{to:"/terms",className:"text-[#008080] hover:text-blue-500 hover:underline",children:"Terms of Service"})," ","and"," ",c.jsx(jn,{to:"/privacy",className:"text-[#008080] hover:text-blue-500 hover:underline",children:"Privacy Policy"}),"."]})})]})]})})]})})}const Rt={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,staggerChildren:.1}}},wo={hidden:{opacity:0,x:-50},visible:{opacity:1,x:0,transition:{duration:.6,type:"spring",stiffness:100}},hover:{scale:1.02,transition:{duration:.3,type:"spring",stiffness:400}}},dd={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{duration:.4,type:"spring",stiffness:200}}};function jJ(){return c.jsx("div",{className:"pt-16",children:c.jsxs(M.section,{initial:"hidden",animate:"visible",variants:Rt,className:"py-20 relative overflow-hidden min-h-screen",style:{backgroundImage:"url('/images/hero-1.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[c.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},className:"absolute inset-0 bg-[#008080]/10 backdrop-blur-[2px]"}),c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:c.jsxs(M.div,{variants:Rt,className:"max-w-4xl mx-auto bg-[#008080] p-8 rounded-lg shadow-lg border-2 border-white/20",children:[c.jsx(M.h1,{variants:Rt,className:"text-3xl font-bold mb-6 text-white",children:"Terms and Conditions"}),c.jsx(M.p,{variants:Rt,className:"text-white/90 mb-8",children:"Last updated: 4/10/2025"}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs(M.section,{variants:wo,whileHover:"hover",className:"bg-[#008080] rounded-lg p-8 shadow-lg border-2 border-white/20 relative overflow-hidden",children:[c.jsx(M.h2,{variants:Rt,className:"text-2xl font-semibold mb-4 text-white",children:"1. Introduction"}),c.jsxs("div",{className:"prose prose-lg max-w-none",children:[c.jsx(M.p,{variants:Rt,className:"mb-4 text-white/90",children:"Welcome to CEMAR Counselling. These terms and conditions outline the rules and regulations for the use of our counselling services and website."}),c.jsx(M.p,{variants:Rt,className:"text-white/90",children:"By accessing our website and using our services, you accept these terms and conditions in full. If you disagree with these terms and conditions or any part of these terms and conditions, you must not use our services."})]})]}),c.jsxs(M.section,{variants:wo,whileHover:"hover",className:"bg-[#008080] rounded-lg p-8 shadow-lg border-2 border-white/20 relative overflow-hidden",children:[c.jsx(M.h2,{variants:Rt,className:"text-2xl font-semibold mb-4 text-white",children:"2. Service Description"}),c.jsxs("div",{className:"prose prose-lg max-w-none",children:[c.jsx(M.p,{variants:Rt,className:"mb-4 text-white/90",children:"CEMAR Counselling provides mental health counselling services. Our platform facilitates the booking of counselling sessions between clients and qualified mental health professionals."}),c.jsx(M.p,{variants:Rt,className:"text-white/90",children:"While we strive to provide the highest quality of care, we do not guarantee specific outcomes from counselling sessions. Results may vary depending on individual circumstances and engagement with the therapeutic process."})]})]}),c.jsxs(M.section,{variants:wo,whileHover:"hover",className:"bg-[#008080] rounded-lg p-8 shadow-lg border-2 border-white/20 relative overflow-hidden",children:[c.jsx(M.h2,{variants:Rt,className:"text-2xl font-semibold mb-4 text-white",children:"3. User Responsibilities"}),c.jsxs("div",{className:"prose prose-lg max-w-none",children:[c.jsx(M.p,{variants:Rt,className:"mb-4 text-white/90",children:"Users must:"}),c.jsx("ul",{className:"list-none space-y-3",children:["Provide accurate and complete information during registration","Maintain the confidentiality of their account credentials","Notify us immediately of any unauthorized use of their account","Arrive punctually for scheduled appointments","Provide at least 24 hours notice for appointment cancellations","Engage respectfully with counsellors and staff"].map((t,e)=>c.jsxs(M.li,{variants:dd,className:"flex items-center text-white/90",children:[c.jsx(M.span,{className:"text-white mr-2",animate:{scale:[1,1.2,1]},transition:{duration:.5,delay:e*.1},children:""}),t]},e))})]})]}),c.jsxs(M.section,{variants:wo,whileHover:"hover",className:"bg-[#008080] rounded-lg p-8 shadow-lg border-2 border-white/20 relative overflow-hidden",children:[c.jsx(M.h2,{variants:Rt,className:"text-2xl font-semibold mb-4 text-white",children:"4. Privacy and Confidentiality"}),c.jsxs("div",{className:"prose prose-lg max-w-none",children:[c.jsx(M.p,{variants:Rt,className:"mb-4 text-white/90",children:"We are committed to protecting your privacy and maintaining the confidentiality of your personal information. All counselling sessions and client information are kept strictly confidential, except in cases where:"}),c.jsx("ul",{className:"list-none space-y-3",children:["There is a risk of harm to self or others","There is suspected abuse of children or vulnerable adults","There is a court order requiring disclosure","The client provides written consent for disclosure"].map((t,e)=>c.jsxs(M.li,{variants:dd,className:"flex items-center text-white/90",children:[c.jsx(M.span,{className:"text-white mr-2",animate:{scale:[1,1.2,1]},transition:{duration:.5,delay:e*.1},children:""}),t]},e))})]})]}),c.jsxs(M.section,{variants:wo,whileHover:"hover",className:"bg-[#008080] rounded-lg p-8 shadow-lg border-2 border-white/20 relative overflow-hidden",children:[c.jsx(M.h2,{variants:Rt,className:"text-2xl font-semibold mb-4 text-white",children:"5. Payment and Cancellation"}),c.jsxs("div",{className:"prose prose-lg max-w-none",children:[c.jsx(M.p,{variants:Rt,className:"mb-4 text-white/90",children:"Payment is required at the time of booking. We accept major credit cards and other specified payment methods. Our cancellation policy requires:"}),c.jsx("ul",{className:"list-none space-y-3",children:["24 hours notice for appointment cancellations","Late cancellations or no-shows may be charged the full session fee","Refunds are provided at our discretion"].map((t,e)=>c.jsxs(M.li,{variants:dd,className:"flex items-center text-white/90",children:[c.jsx(M.span,{className:"text-white mr-2",animate:{scale:[1,1.2,1]},transition:{duration:.5,delay:e*.1},children:""}),t]},e))})]})]}),c.jsxs(M.section,{variants:wo,whileHover:"hover",className:"bg-[#008080] rounded-lg p-8 shadow-lg border-2 border-white/20 relative overflow-hidden",children:[c.jsx(M.h2,{variants:Rt,className:"text-2xl font-semibold mb-4 text-white",children:"6. Emergency Services"}),c.jsxs("div",{className:"prose prose-lg max-w-none",children:[c.jsx(M.p,{variants:Rt,className:"mb-4 text-white/90",children:"Our services are not intended for emergencies. If you are experiencing a mental health emergency, please:"}),c.jsx("ul",{className:"list-none space-y-3",children:["Call your local emergency services","Visit your nearest emergency room","Contact a crisis helpline"].map((t,e)=>c.jsxs(M.li,{variants:dd,className:"flex items-center text-white/90",children:[c.jsx(M.span,{className:"text-white mr-2",animate:{scale:[1,1.2,1]},transition:{duration:.5,delay:e*.1},children:""}),t]},e))})]})]}),c.jsxs(M.section,{variants:wo,whileHover:"hover",className:"bg-[#008080] rounded-lg p-8 shadow-lg border-2 border-white/20 relative overflow-hidden",children:[c.jsx(M.h2,{variants:Rt,className:"text-2xl font-semibold mb-4 text-white",children:"7. Limitation of Liability"}),c.jsxs("div",{className:"prose prose-lg max-w-none",children:[c.jsx(M.p,{variants:Rt,className:"mb-4 text-white/90",children:"While we strive to provide quality services, we cannot be held liable for:"}),c.jsx("ul",{className:"list-none space-y-3",children:["Technical issues affecting online sessions","Actions taken based on counselling advice","Indirect or consequential losses","Circumstances beyond our reasonable control"].map((t,e)=>c.jsxs(M.li,{variants:dd,className:"flex items-center text-white/90",children:[c.jsx(M.span,{className:"text-white mr-2",animate:{scale:[1,1.2,1]},transition:{duration:.5,delay:e*.1},children:""}),t]},e))})]})]}),c.jsxs(M.section,{variants:wo,whileHover:"hover",className:"bg-[#008080] rounded-lg p-8 shadow-lg border-2 border-white/20 relative overflow-hidden",children:[c.jsx(M.h2,{variants:Rt,className:"text-2xl font-semibold mb-4 text-white",children:"8. Changes to Terms"}),c.jsx("div",{className:"prose prose-lg max-w-none",children:c.jsx(M.p,{variants:Rt,className:"mb-4 text-white/90",children:"We reserve the right to modify these terms at any time. Changes will be effective immediately upon posting to our website. Continued use of our services after changes constitutes acceptance of the modified terms."})})]})]}),c.jsxs(M.p,{variants:Rt,className:"text-white/90 mt-8",children:["For any questions about these terms, please contact us at"," ",c.jsx(M.a,{href:"mailto:info@cemarcounseling.com",className:"text-white hover:underline",whileHover:{scale:1.05},whileTap:{scale:.95},children:"support@cemarcounselling.com"})]})]})})]})})}function DJ(){Ht();const[t,e]=w.useState(""),[n,r]=w.useState(!1),[s,o]=w.useState(!1),{theme:a}=is(),[u,h]=w.useState(""),f=async m=>{m.preventDefault(),h(""),r(!0);try{await cK(t),o(!0)}catch(y){const v=(y==null?void 0:y.message)||"Failed to send reset email. Please try again.";h(v)}finally{r(!1)}};return c.jsx("div",{className:"pt-16",children:c.jsxs("section",{className:"py-20 bg-background relative overflow-hidden",children:[c.jsx(M.div,{className:"absolute top-0 right-0 w-96 h-96 bg-primary/5 rounded-full blur-3xl",animate:{x:[50,100,50],y:[0,50,0],scale:[1,1.1,1]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),c.jsx(M.div,{className:"absolute bottom-0 left-0 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl",animate:{x:[0,-50,0],y:[0,50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:c.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md mx-auto",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx(M.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},className:pe("text-3xl font-bold mb-4",a==="dark"?"text-white":"text-black"),children:"Reset Your Password"}),c.jsx(M.p,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:pe("text-muted-foreground mb-8",a==="dark"?"text-white/70":"text-black/70"),children:"Enter your email address and we'll send you instructions to reset your password"})]}),c.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"bg-card p-8 rounded-lg shadow-md border relative overflow-hidden",children:[c.jsx(M.div,{className:"absolute -top-20 -right-20 w-64 h-64 bg-primary/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],rotate:[0,45,0]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),s?c.jsxs(M.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-8",children:[c.jsx(M.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},children:c.jsx(Wx,{className:"h-16 w-16 text-primary mx-auto mb-4"})}),c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Check Your Email"}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"We've sent password reset instructions to your email address."}),c.jsx(M.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:c.jsx(ke,{asChild:!0,className:"w-full bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90",children:c.jsx(jn,{to:"/login",children:"Return to Login"})})})]}):c.jsxs("form",{onSubmit:f,className:"space-y-4",children:[c.jsxs(M.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4,duration:.5},className:"space-y-2",children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white",children:"Email Address"}),c.jsx(Et,{id:"email",type:"email",value:t,onChange:m=>e(m.target.value),placeholder:"Enter your email",required:!0,className:"w-full transition-all duration-300 focus:ring-2 focus:ring-primary/50 placeholder:text-black/70"})]}),u&&c.jsx(M.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-sm text-red-500",children:u}),c.jsx(M.div,{whileHover:{scale:1.05,transition:{duration:.2}},whileTap:{scale:.95},children:c.jsx(ke,{type:"submit",className:"w-full bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90",disabled:n,children:n?c.jsxs(c.Fragment,{children:[c.jsx(M.div,{animate:{rotate:360},transition:{duration:1,repeat:Number.POSITIVE_INFINITY,ease:"linear"},className:"mr-2 h-4 w-4 border-2 border-black border-t-transparent rounded-full"}),"Sending..."]}):"Send Reset Instructions"})}),c.jsx(M.div,{whileHover:{scale:1.05,transition:{duration:.2}},whileTap:{scale:.95},className:"text-center mt-4",children:c.jsx(ke,{asChild:!0,variant:"outline",className:pe("w-48",a==="dark"?"bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90":"border-[#30D5C8] text-black hover:bg-[#30D5C8] hover:text-black"),children:c.jsx(jn,{to:"/login",children:"Back to Login"})})})]})]})]})})]})})}const $t=w.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:pe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));$t.displayName="Card";const nn=w.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:pe("flex flex-col space-y-1.5 p-6",t),...e}));nn.displayName="CardHeader";const rn=w.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:pe("text-2xl font-semibold leading-none tracking-tight",t),...e}));rn.displayName="CardTitle";const jr=w.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:pe("text-sm text-muted-foreground",t),...e}));jr.displayName="CardDescription";const Wt=w.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:pe("p-6 pt-0",t),...e}));Wt.displayName="CardContent";const MJ=w.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:pe("flex items-center p-6 pt-0",t),...e}));MJ.displayName="CardFooter";function OJ(){const t=Ht(),[e,n]=w.useState(null),[r,s]=w.useState(!0),[o,a]=w.useState([]),[u,h]=w.useState([]),[f,m]=w.useState(null),[y,v]=w.useState(null),[E,I]=w.useState(!1),S=w.useRef(null),{theme:T}=is();w.useEffect(()=>{if(!on()){t("/login?tab=signup");return}const P=Or();if(n(P),s(!1),P!=null&&P.email){const R=Ri(Fs(Ct,"appointments"),zs("clientId","==",P.email)),D=N_(R,V=>{const F=V.docs.map(K=>({id:K.id,...K.data()})),z=new Date,L=F.filter(K=>K.startTime?K.startTime.toDate()>z:K.status==="upcoming"),me=F.filter(K=>K.startTime?K.startTime.toDate()<=z:K.status==="completed");L.sort((K,ne)=>{var H,te,_e,Te;return(((te=(H=K.startTime)==null?void 0:H.toDate)==null?void 0:te.call(H))||0)-(((Te=(_e=ne.startTime)==null?void 0:_e.toDate)==null?void 0:Te.call(_e))||0)}),me.sort((K,ne)=>{var H,te,_e,Te;return(((te=(H=ne.startTime)==null?void 0:H.toDate)==null?void 0:te.call(H))||0)-(((Te=(_e=K.startTime)==null?void 0:_e.toDate)==null?void 0:Te.call(_e))||0)}),a(L),h(me);const Ie=F.length,ye=L.length,ae=F.filter(K=>K.status==="cancelled").length,J=F.filter(K=>K.status==="completed"||(K.startTime?K.startTime.toDate()<=z:!1)).length;m({total:Ie,upcoming:ye,completed:J,cancelled:ae})});return()=>D()}},[t]);const N=async()=>{try{v(null),I(!0);const W=Or();if(!(W!=null&&W.email))throw new Error("Not authenticated");const P=Ri(Fs(Ct,"appointments"),zs("clientId","==",W.email)),D=(await Vc(P)).docs.map(ae=>({id:ae.id,...ae.data()})),V=new Date,F=D.filter(ae=>ae.startTime?ae.startTime.toDate()>V:ae.status==="upcoming"),z=D.filter(ae=>ae.startTime?ae.startTime.toDate()<=V:ae.status==="completed");F.sort((ae,J)=>{var K,ne,H,te;return(((ne=(K=ae.startTime)==null?void 0:K.toDate)==null?void 0:ne.call(K))||0)-(((te=(H=J.startTime)==null?void 0:H.toDate)==null?void 0:te.call(H))||0)}),z.sort((ae,J)=>{var K,ne,H,te;return(((ne=(K=J.startTime)==null?void 0:K.toDate)==null?void 0:ne.call(K))||0)-(((te=(H=ae.startTime)==null?void 0:H.toDate)==null?void 0:te.call(H))||0)}),a(F),h(z);const L=D.length,me=F.length,Ie=D.filter(ae=>ae.status==="cancelled").length,ye=D.filter(ae=>ae.status==="completed"||(ae.startTime?ae.startTime.toDate()<=V:!1)).length;m({total:L,upcoming:me,completed:ye,cancelled:Ie})}catch(W){v(W instanceof Error?W.message:"Unknown error")}finally{I(!1)}};w.useEffect(()=>{const W=setInterval(()=>{N().catch(()=>{})},3e4);return()=>clearInterval(W)},[]);const j=W=>{try{return(W!=null&&W.toDate?W.toDate():new Date(W)).toLocaleString(void 0,{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"TBD"}},k=W=>{switch(W){case"upcoming":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"completed":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"cancelled":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800"}},$=()=>{var W;(W=S.current)==null||W.click()},B=W=>{var R;const P=(R=W.target.files)==null?void 0:R[0];if(P){const D=new FileReader;D.onloadend=()=>{if(e){const V={...e,avatar:D.result};localStorage.setItem("userData",JSON.stringify(V)),n(V),window.dispatchEvent(new Event("storage"))}},D.readAsDataURL(P)}};return r?c.jsx("div",{className:"pt-16 min-h-screen flex items-center justify-center",children:c.jsx(M.div,{animate:{rotate:360},transition:{duration:1,repeat:Number.POSITIVE_INFINITY,ease:"linear"},className:"h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):e?c.jsx("div",{className:"pt-16",children:c.jsxs("section",{className:"py-20 bg-background relative overflow-hidden",children:[c.jsx(M.div,{className:"absolute top-0 right-0 w-96 h-96 bg-primary/5 rounded-full blur-3xl",animate:{x:[50,100,50],y:[0,50,0],scale:[1,1.1,1]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),c.jsx(M.div,{className:"absolute bottom-0 left-0 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl",animate:{x:[0,-50,0],y:[0,50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:c.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx(M.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},className:pe("text-3xl font-bold mb-2",T==="dark"?"text-white":"text-black"),children:"Your Profile"}),c.jsx(M.p,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:pe(T==="dark"?"text-white":"text-black"),children:"Manage your personal information and appointments"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[{label:"Total",value:f==null?void 0:f.total},{label:"Upcoming",value:f==null?void 0:f.upcoming},{label:"Completed",value:f==null?void 0:f.completed},{label:"Cancelled",value:f==null?void 0:f.cancelled}].map((W,P)=>c.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1+P*.05,duration:.5},className:"relative group",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#30D5C8]/10 to-[#30D5C8]/5 rounded-lg blur-md opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),c.jsxs("div",{className:"relative bg-card p-6 rounded-lg border border-border shadow-md hover:shadow-lg transition-shadow duration-300",children:[c.jsx("div",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide mb-2",children:W.label}),c.jsx("div",{className:"text-4xl font-bold text-[#30D5C8]",children:W.value??"-"})]})]},W.label))}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[y&&c.jsx("div",{className:"md:col-span-3 bg-red-100 text-red-800 p-3 rounded mb-4",children:y}),c.jsx(M.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3,duration:.5},children:c.jsxs($t,{children:[c.jsxs(nn,{className:"text-center",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsxs("div",{className:"relative group",children:[c.jsxs(Lg,{className:"h-24 w-24 cursor-pointer transition-transform group-hover:scale-105",onClick:$,children:[c.jsx(Vg,{src:e.avatar,alt:e.name}),c.jsx(Fg,{className:"text-2xl bg-primary/10 text-primary",children:e.name.substring(0,2).toUpperCase()})]}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",onClick:$,children:c.jsx(EN,{className:"h-6 w-6 text-white"})}),c.jsx("input",{ref:S,type:"file",accept:"image/*",className:"hidden",onChange:B,"aria-label":"Upload profile picture"})]})}),c.jsx(rn,{children:e.name}),c.jsx(jr,{children:e.email})]}),c.jsx(Wt,{className:"space-y-4",children:c.jsxs(ke,{className:"w-full bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90",variant:"outline",onClick:()=>t("/account-settings"),children:[c.jsx(Hc,{className:"mr-2 h-4 w-4"}),"Account Settings"]})})]})}),c.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},className:"md:col-span-2",children:c.jsxs($t,{children:[c.jsxs(nn,{className:"flex items-center justify-between flex-wrap gap-4",children:[c.jsxs("div",{children:[c.jsx(rn,{children:"Upcoming Appointments"}),c.jsx(jr,{children:"Your scheduled sessions"})]}),c.jsx("div",{className:"flex items-center space-x-2",children:c.jsx(ke,{size:"sm",onClick:N,disabled:E,className:"bg-[#30D5C8]/10 text-[#30D5C8] hover:bg-[#30D5C8]/20 border border-[#30D5C8]/30",children:E?"Refreshing...":"Refresh"})})]}),c.jsx(Wt,{children:c.jsx("div",{className:"space-y-3",children:o.length===0?c.jsxs("div",{className:"py-12 px-6 rounded-lg border-2 border-dashed border-[#30D5C8]/30 bg-[#30D5C8]/5 text-center",children:[c.jsx("p",{className:"text-muted-foreground mb-4",children:"You don't have any upcoming appointments."}),c.jsx(ke,{className:"bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90 font-semibold",onClick:()=>t("/booking"),children:"+ Book an Appointment"})]}):c.jsx(M.div,{initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05,delayChildren:.1}}},className:"space-y-3",children:o.map(W=>c.jsx(M.div,{variants:{hidden:{opacity:0,y:10},visible:{opacity:1,y:0}},className:"p-4 rounded-lg bg-card border border-border hover:border-[#30D5C8]/50 hover:shadow-md transition-all duration-300 hover:bg-[#30D5C8]/5",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-semibold text-sm",children:W.serviceTitle||W.serviceKey}),c.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:W.clientEmail}),c.jsx("div",{className:"text-sm font-medium text-[#30D5C8] mt-2",children:j(W.startTime)})]}),c.jsx("div",{children:c.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold ${k(W.status||"upcoming")}`,children:W.status||"upcoming"})})]})},W.id))})})})]})}),c.jsx(M.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5,duration:.5},className:"md:col-span-3",children:c.jsxs($t,{children:[c.jsxs(nn,{children:[c.jsx(rn,{children:"Past Appointments"}),c.jsx(jr,{children:"Your previous sessions"})]}),c.jsx(Wt,{children:c.jsx("div",{className:"space-y-3",children:u.length===0?c.jsx("div",{className:"py-12 px-6 rounded-lg border-2 border-dashed border-muted-foreground/20 bg-muted/50 text-center",children:c.jsx("p",{className:"text-muted-foreground",children:"You don't have any past appointments."})}):c.jsx(M.div,{initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05,delayChildren:.1}}},className:"space-y-3",children:u.map(W=>c.jsx(M.div,{variants:{hidden:{opacity:0,y:10},visible:{opacity:1,y:0}},className:"p-4 rounded-lg bg-card border border-border hover:border-[#30D5C8]/30 hover:shadow-sm transition-all duration-300 opacity-75 hover:opacity-100",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-semibold text-sm",children:W.serviceTitle||W.serviceKey}),c.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:W.clientEmail}),c.jsx("div",{className:"text-sm text-muted-foreground mt-2",children:j(W.startTime)})]}),c.jsx("div",{children:c.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold ${k(W.status||"completed")}`,children:W.status||"completed"})})]})},W.id))})})})]})})]})]})})]})}):c.jsx("div",{className:"pt-16",children:c.jsx("section",{className:"py-20 bg-background relative overflow-hidden",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:c.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md mx-auto text-center",children:[c.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Create Your Profile"}),c.jsx("p",{className:"text-muted-foreground mb-8",children:"Sign up to manage your appointments and access personalized features."}),c.jsx(ke,{size:"lg",className:"bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary",onClick:()=>t("/login?tab=signup"),children:"Sign Up Now"})]})})})})}var Bg="Dialog",[lM,cM]=as(Bg),[LJ,ls]=lM(Bg),uM=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,u=w.useRef(null),h=w.useRef(null),[f,m]=nl({prop:r,defaultProp:s??!1,onChange:o,caller:Bg});return c.jsx(LJ,{scope:e,triggerRef:u,contentRef:h,contentId:$s(),titleId:$s(),descriptionId:$s(),open:f,onOpenChange:m,onOpenToggle:w.useCallback(()=>m(y=>!y),[m]),modal:a,children:n})};uM.displayName=Bg;var dM="DialogTrigger",hM=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ls(dM,n),o=at(e,s.triggerRef);return c.jsx($e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Eb(s.open),...r,ref:o,onClick:Se(t.onClick,s.onOpenToggle)})});hM.displayName=dM;var _b="DialogPortal",[VJ,fM]=lM(_b,{forceMount:void 0}),pM=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=ls(_b,e);return c.jsx(VJ,{scope:e,forceMount:n,children:w.Children.map(r,a=>c.jsx(Fi,{present:n||o.open,children:c.jsx(Rg,{asChild:!0,container:s,children:a})}))})};pM.displayName=_b;var Pm="DialogOverlay",mM=w.forwardRef((t,e)=>{const n=fM(Pm,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=ls(Pm,t.__scopeDialog);return o.modal?c.jsx(Fi,{present:r||o.open,children:c.jsx(UJ,{...s,ref:e})}):null});mM.displayName=Pm;var FJ=Wa("DialogOverlay.RemoveScroll"),UJ=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ls(Pm,n);return c.jsx(jg,{as:FJ,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx($e.div,{"data-state":Eb(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),il="DialogContent",gM=w.forwardRef((t,e)=>{const n=fM(il,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=ls(il,t.__scopeDialog);return c.jsx(Fi,{present:r||o.open,children:o.modal?c.jsx(BJ,{...s,ref:e}):c.jsx(zJ,{...s,ref:e})})});gM.displayName=il;var BJ=w.forwardRef((t,e)=>{const n=ls(il,t.__scopeDialog),r=w.useRef(null),s=at(e,n.contentRef,r);return w.useEffect(()=>{const o=r.current;if(o)return db(o)},[]),c.jsx(yM,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Se(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Se(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,u=a.button===0&&a.ctrlKey===!0;(a.button===2||u)&&o.preventDefault()}),onFocusOutside:Se(t.onFocusOutside,o=>o.preventDefault())})}),zJ=w.forwardRef((t,e)=>{const n=ls(il,t.__scopeDialog),r=w.useRef(!1),s=w.useRef(!1);return c.jsx(yM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,u;(a=t.onCloseAutoFocus)==null||a.call(t,o),o.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var h,f;(h=t.onInteractOutside)==null||h.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;((f=n.triggerRef.current)==null?void 0:f.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),yM=w.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...a}=t,u=ls(il,n),h=w.useRef(null),f=at(e,h);return tb(),c.jsxs(c.Fragment,{children:[c.jsx(Sg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:c.jsx(Tg,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Eb(u.open),...a,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(WJ,{titleId:u.titleId}),c.jsx(qJ,{contentRef:h,descriptionId:u.descriptionId})]})]})}),bb="DialogTitle",vM=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ls(bb,n);return c.jsx($e.h2,{id:s.titleId,...r,ref:e})});vM.displayName=bb;var xM="DialogDescription",wM=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ls(xM,n);return c.jsx($e.p,{id:s.descriptionId,...r,ref:e})});wM.displayName=xM;var _M="DialogClose",bM=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ls(_M,n);return c.jsx($e.button,{type:"button",...r,ref:e,onClick:Se(t.onClick,()=>s.onOpenChange(!1))})});bM.displayName=_M;function Eb(t){return t?"open":"closed"}var EM="DialogTitleWarning",[$J,TM]=gK(EM,{contentName:il,titleName:bb,docsSlug:"dialog"}),WJ=({titleId:t})=>{const e=TM(EM),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},HJ="DialogDescriptionWarning",qJ=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${TM(HJ).contentName}}.`;return w.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},GJ=uM,KJ=hM,YJ=pM,QJ=mM,XJ=gM,JJ=vM,ZJ=wM,SM=bM,CM="AlertDialog",[eZ,Cee]=as(CM,[cM]),Ui=cM(),IM=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ui(e);return c.jsx(GJ,{...r,...n,modal:!0})};IM.displayName=CM;var tZ="AlertDialogTrigger",nZ=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ui(n);return c.jsx(KJ,{...s,...r,ref:e})});nZ.displayName=tZ;var rZ="AlertDialogPortal",NM=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ui(e);return c.jsx(YJ,{...r,...n})};NM.displayName=rZ;var sZ="AlertDialogOverlay",AM=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ui(n);return c.jsx(QJ,{...s,...r,ref:e})});AM.displayName=sZ;var Nc="AlertDialogContent",[iZ,oZ]=eZ(Nc),aZ=h4("AlertDialogContent"),RM=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,o=Ui(n),a=w.useRef(null),u=at(e,a),h=w.useRef(null);return c.jsx($J,{contentName:Nc,titleName:PM,docsSlug:"alert-dialog",children:c.jsx(iZ,{scope:n,cancelRef:h,children:c.jsxs(XJ,{role:"alertdialog",...o,...s,ref:u,onOpenAutoFocus:Se(s.onOpenAutoFocus,f=>{var m;f.preventDefault(),(m=h.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[c.jsx(aZ,{children:r}),c.jsx(cZ,{contentRef:a})]})})})});RM.displayName=Nc;var PM="AlertDialogTitle",kM=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ui(n);return c.jsx(JJ,{...s,...r,ref:e})});kM.displayName=PM;var jM="AlertDialogDescription",DM=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ui(n);return c.jsx(ZJ,{...s,...r,ref:e})});DM.displayName=jM;var lZ="AlertDialogAction",MM=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ui(n);return c.jsx(SM,{...s,...r,ref:e})});MM.displayName=lZ;var OM="AlertDialogCancel",LM=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=oZ(OM,n),o=Ui(n),a=at(e,s);return c.jsx(SM,{...o,...r,ref:a})});LM.displayName=OM;var cZ=({contentRef:t})=>{const e=`\`${Nc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Nc}\` by passing a \`${jM}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Nc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},uZ=IM,dZ=NM,VM=AM,FM=RM,UM=MM,BM=LM,zM=kM,$M=DM;const hZ=uZ,fZ=dZ,WM=w.forwardRef(({className:t,...e},n)=>c.jsx(VM,{className:pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));WM.displayName=VM.displayName;const HM=w.forwardRef(({className:t,...e},n)=>c.jsxs(fZ,{children:[c.jsx(WM,{}),c.jsx(FM,{ref:n,className:pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));HM.displayName=FM.displayName;const qM=({className:t,...e})=>c.jsx("div",{className:pe("flex flex-col space-y-2 text-center sm:text-left",t),...e});qM.displayName="AlertDialogHeader";const GM=({className:t,...e})=>c.jsx("div",{className:pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});GM.displayName="AlertDialogFooter";const KM=w.forwardRef(({className:t,...e},n)=>c.jsx(zM,{ref:n,className:pe("text-lg font-semibold",t),...e}));KM.displayName=zM.displayName;const YM=w.forwardRef(({className:t,...e},n)=>c.jsx($M,{ref:n,className:pe("text-sm text-muted-foreground",t),...e}));YM.displayName=$M.displayName;const pZ=w.forwardRef(({className:t,...e},n)=>c.jsx(UM,{ref:n,className:pe($x(),t),...e}));pZ.displayName=UM.displayName;const mZ=w.forwardRef(({className:t,...e},n)=>c.jsx(BM,{ref:n,className:pe($x({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));mZ.displayName=BM.displayName;function gZ(){const t=Ht(),[e,n]=w.useState(null),[r,s]=w.useState(!0),[o,a]=w.useState(!1),[u,h]=w.useState(!1),f=w.useRef(null),[m,y]=w.useState({name:"",email:"",currentPassword:"",newPassword:"",confirmPassword:""}),[v,E]=w.useState(""),{theme:I}=is();w.useEffect(()=>{if(!on()){t("/login");return}const k=Or();n(k),k&&y($=>({...$,name:k.name,email:k.email})),s(!1)},[t]);const S=()=>{var j;(j=f.current)==null||j.click()},T=j=>{var $;const k=($=j.target.files)==null?void 0:$[0];if(k){const B=new FileReader;B.onloadend=()=>{if(e){const W={...e,avatar:B.result};localStorage.setItem("userData",JSON.stringify(W)),n(W),window.dispatchEvent(new Event("storage"))}},B.readAsDataURL(k)}},N=async j=>{if(j.preventDefault(),E(""),m.newPassword||m.confirmPassword){if(!m.currentPassword){E("Current password is required to change password");return}if(m.newPassword!==m.confirmPassword){E("New passwords do not match");return}if(m.newPassword.length<6){E("New password must be at least 6 characters");return}}if(!e){E("You need to be logged in to update your account.");return}try{a(!0);const k=await lK({name:m.name,email:m.email,currentPassword:m.currentPassword||void 0,newPassword:m.newPassword||void 0});n(k),window.dispatchEvent(new Event("storage")),h(!0),y($=>({...$,currentPassword:"",newPassword:"",confirmPassword:""}))}catch(k){const $=(k==null?void 0:k.message)||"Failed to update account. Please try again.";E($)}finally{a(!1)}};return r?c.jsx("div",{className:"pt-16 min-h-screen flex items-center justify-center",children:c.jsx(M.div,{animate:{rotate:360},transition:{duration:1,repeat:Number.POSITIVE_INFINITY,ease:"linear"},className:"h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):c.jsxs("div",{className:"pt-16",children:[c.jsxs("section",{className:"py-20 bg-background relative overflow-hidden",children:[c.jsx(M.div,{className:"absolute top-0 right-0 w-96 h-96 bg-primary/5 rounded-full blur-3xl",animate:{x:[50,100,50],y:[0,50,0],scale:[1,1.1,1]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),c.jsx(M.div,{className:"absolute bottom-0 left-0 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl",animate:{x:[0,-50,0],y:[0,50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:c.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-2xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx(M.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},className:pe("text-3xl font-bold mb-2",I==="dark"?"text-white":"text-black"),children:"Account Settings"}),c.jsx(M.p,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:pe(I==="dark"?"text-white":"text-black"),children:"Manage your profile information and security settings"})]}),c.jsxs($t,{children:[c.jsxs(nn,{children:[c.jsx(rn,{children:"Profile Information"}),c.jsx(jr,{children:"Update your profile details and password"})]}),c.jsx(Wt,{children:c.jsxs("form",{onSubmit:N,className:"space-y-6",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsxs("div",{className:"relative group",children:[c.jsxs(Lg,{className:"h-24 w-24 cursor-pointer transition-transform group-hover:scale-105",onClick:S,children:[c.jsx(Vg,{src:e==null?void 0:e.avatar,alt:e==null?void 0:e.name}),c.jsx(Fg,{className:"text-2xl bg-primary/10 text-primary",children:e==null?void 0:e.name.substring(0,2).toUpperCase()})]}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",onClick:S,children:c.jsx(EN,{className:"h-6 w-6 text-white"})}),c.jsx("input",{ref:f,type:"file",accept:"image/*",className:"hidden",onChange:T,"aria-label":"Upload profile picture"})]})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(dt,{htmlFor:"name",children:"Full Name"}),c.jsx(Et,{id:"name",value:m.name,onChange:j=>y(k=>({...k,name:j.target.value})),className:pe(I==="dark"?"text-white placeholder:text-white":"text-black placeholder:text-black"),placeholder:"Enter your full name",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(dt,{htmlFor:"email",children:"Email Address"}),c.jsx(Et,{id:"email",type:"email",value:m.email,onChange:j=>y(k=>({...k,email:j.target.value})),className:pe(I==="dark"?"text-white placeholder:text-white":"text-black placeholder:text-black"),placeholder:"Enter your email address",required:!0})]}),c.jsxs("div",{className:"border-t pt-4",children:[c.jsx("h3",{className:"font-medium mb-4",children:"Change Password"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(dt,{htmlFor:"currentPassword",children:"Current Password"}),c.jsx(Et,{id:"currentPassword",type:"password",value:m.currentPassword,onChange:j=>y(k=>({...k,currentPassword:j.target.value})),className:pe(I==="dark"?"placeholder:text-white":"placeholder:text-black"),placeholder:"Enter your current password"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(dt,{htmlFor:"newPassword",children:"New Password"}),c.jsx(Et,{id:"newPassword",type:"password",value:m.newPassword,onChange:j=>y(k=>({...k,newPassword:j.target.value})),className:pe(I==="dark"?"placeholder:text-white":"placeholder:text-black"),placeholder:"Enter your new password"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(dt,{htmlFor:"confirmPassword",children:"Confirm New Password"}),c.jsx(Et,{id:"confirmPassword",type:"password",value:m.confirmPassword,onChange:j=>y(k=>({...k,confirmPassword:j.target.value})),className:pe(I==="dark"?"placeholder:text-white":"placeholder:text-black"),placeholder:"Confirm your new password"})]})]})]}),v&&c.jsx(M.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-sm text-red-500",children:v}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Forgot your password?"," ",c.jsx(jn,{to:"/forgot-password",className:"text-[#008080] hover:underline",children:"Reset it here"})]}),c.jsxs("div",{className:"flex justify-end space-x-4",children:[c.jsx(ke,{type:"button",className:"bg-[#78ede5] text-black hover:bg-[#78ede5]/90",onClick:()=>t("/profile"),children:"Cancel"}),c.jsx(ke,{type:"submit",className:"bg-[#78ede5] text-black hover:bg-[#78ede5]/90",disabled:o,children:o?"Saving...":"Save Changes"})]})]})})]})]})})]}),c.jsx(hZ,{open:u,onOpenChange:h,children:c.jsxs(HM,{className:"max-w-md",children:[c.jsx(qM,{children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx(M.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15},children:c.jsx(Wx,{className:"h-16 w-16 text-[#00807f] mb-4"})}),c.jsx(KM,{className:pe("text-2xl font-semibold mb-2",I==="dark"?"text-white":"text-black"),children:"Changes Saved Successfully!"}),c.jsx(YM,{className:pe("text-center",I==="dark"?"text-white/70":"text-black"),children:"Your profile information has been updated."})]})}),c.jsx(GM,{className:"flex justify-center",children:c.jsx(ke,{className:"bg-[#00807f] text-white hover:bg-[#78ede5]/90",onClick:()=>{h(!1),t("/profile")},children:"Done"})})]})})]})}function QM(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var zg="Switch",[yZ,Iee]=as(zg),[vZ,xZ]=yZ(zg),XM=w.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:a,disabled:u,value:h="on",onCheckedChange:f,form:m,...y}=t,[v,E]=w.useState(null),I=at(e,k=>E(k)),S=w.useRef(!1),T=v?m||!!v.closest("form"):!0,[N,j]=nl({prop:s,defaultProp:o??!1,onChange:f,caller:zg});return c.jsxs(vZ,{scope:n,checked:N,disabled:u,children:[c.jsx($e.button,{type:"button",role:"switch","aria-checked":N,"aria-required":a,"data-state":tO(N),"data-disabled":u?"":void 0,disabled:u,value:h,...y,ref:I,onClick:Se(t.onClick,k=>{j($=>!$),T&&(S.current=k.isPropagationStopped(),S.current||k.stopPropagation())})}),T&&c.jsx(eO,{control:v,bubbles:!S.current,name:r,value:h,checked:N,required:a,disabled:u,form:m,style:{transform:"translateX(-100%)"}})]})});XM.displayName=zg;var JM="SwitchThumb",ZM=w.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=xZ(JM,n);return c.jsx($e.span,{"data-state":tO(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});ZM.displayName=JM;var wZ="SwitchBubbleInput",eO=w.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},o)=>{const a=w.useRef(null),u=at(a,o),h=QM(n),f=fj(e);return w.useEffect(()=>{const m=a.current;if(!m)return;const y=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(y,"checked").set;if(h!==n&&E){const I=new Event("click",{bubbles:r});E.call(m,n),m.dispatchEvent(I)}},[h,n,r]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:u,style:{...s.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});eO.displayName=wZ;function tO(t){return t?"checked":"unchecked"}var nO=XM,_Z=ZM;const km=w.forwardRef(({className:t,...e},n)=>c.jsx(nO,{className:pe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:c.jsx(_Z,{className:pe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));km.displayName=nO.displayName;function JI(t,[e,n]){return Math.min(n,Math.max(e,t))}var rO=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),bZ="VisuallyHidden",EZ=w.forwardRef((t,e)=>c.jsx($e.span,{...t,ref:e,style:{...rO,...t.style}}));EZ.displayName=bZ;var TZ=[" ","Enter","ArrowUp","ArrowDown"],SZ=[" ","Enter"],ol="Select",[$g,Wg,CZ]=eb(ol),[uu,Nee]=as(ol,[CZ,Ag]),Hg=Ag(),[IZ,na]=uu(ol),[NZ,AZ]=uu(ol),sO=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:a,defaultValue:u,onValueChange:h,dir:f,name:m,autoComplete:y,disabled:v,required:E,form:I}=t,S=Hg(e),[T,N]=w.useState(null),[j,k]=w.useState(null),[$,B]=w.useState(!1),W=Eg(f),[P,R]=nl({prop:r,defaultProp:s??!1,onChange:o,caller:ol}),[D,V]=nl({prop:a,defaultProp:u,onChange:h,caller:ol}),F=w.useRef(null),z=T?I||!!T.closest("form"):!0,[L,me]=w.useState(new Set),Ie=Array.from(L).map(ye=>ye.props.value).join(";");return c.jsx(Ej,{...S,children:c.jsxs(IZ,{required:E,scope:e,trigger:T,onTriggerChange:N,valueNode:j,onValueNodeChange:k,valueNodeHasChildren:$,onValueNodeHasChildrenChange:B,contentId:$s(),value:D,onValueChange:V,open:P,onOpenChange:R,dir:W,triggerPointerDownPosRef:F,disabled:v,children:[c.jsx($g.Provider,{scope:e,children:c.jsx(NZ,{scope:t.__scopeSelect,onNativeOptionAdd:w.useCallback(ye=>{me(ae=>new Set(ae).add(ye))},[]),onNativeOptionRemove:w.useCallback(ye=>{me(ae=>{const J=new Set(ae);return J.delete(ye),J})},[]),children:n})}),z?c.jsxs(NO,{"aria-hidden":!0,required:E,tabIndex:-1,name:m,autoComplete:y,value:D,onChange:ye=>V(ye.target.value),disabled:v,form:I,children:[D===void 0?c.jsx("option",{value:""}):null,Array.from(L)]},Ie):null]})})};sO.displayName=ol;var iO="SelectTrigger",oO=w.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=Hg(n),a=na(iO,n),u=a.disabled||r,h=at(e,a.onTriggerChange),f=Wg(n),m=w.useRef("touch"),[y,v,E]=RO(S=>{const T=f().filter(k=>!k.disabled),N=T.find(k=>k.value===a.value),j=PO(T,S,N);j!==void 0&&a.onValueChange(j.value)}),I=S=>{u||(a.onOpenChange(!0),E()),S&&(a.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)})};return c.jsx(Tj,{asChild:!0,...o,children:c.jsx($e.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":AO(a.value)?"":void 0,...s,ref:h,onClick:Se(s.onClick,S=>{S.currentTarget.focus(),m.current!=="mouse"&&I(S)}),onPointerDown:Se(s.onPointerDown,S=>{m.current=S.pointerType;const T=S.target;T.hasPointerCapture(S.pointerId)&&T.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&S.pointerType==="mouse"&&(I(S),S.preventDefault())}),onKeyDown:Se(s.onKeyDown,S=>{const T=y.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&v(S.key),!(T&&S.key===" ")&&TZ.includes(S.key)&&(I(),S.preventDefault())})})})});oO.displayName=iO;var aO="SelectValue",lO=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:a="",...u}=t,h=na(aO,n),{onValueNodeHasChildrenChange:f}=h,m=o!==void 0,y=at(e,h.onValueNodeChange);return an(()=>{f(m)},[f,m]),c.jsx($e.span,{...u,ref:y,style:{pointerEvents:"none"},children:AO(h.value)?c.jsx(c.Fragment,{children:a}):o})});lO.displayName=aO;var RZ="SelectIcon",cO=w.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return c.jsx($e.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});cO.displayName=RZ;var PZ="SelectPortal",uO=t=>c.jsx(Rg,{asChild:!0,...t});uO.displayName=PZ;var al="SelectContent",dO=w.forwardRef((t,e)=>{const n=na(al,t.__scopeSelect),[r,s]=w.useState();if(an(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?hh.createPortal(c.jsx(hO,{scope:t.__scopeSelect,children:c.jsx($g.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),o):null}return c.jsx(fO,{...t,ref:e})});dO.displayName=al;var Kr=10,[hO,ra]=uu(al),kZ="SelectContentImpl",jZ=Wa("SelectContent.RemoveScroll"),fO=w.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:a,side:u,sideOffset:h,align:f,alignOffset:m,arrowPadding:y,collisionBoundary:v,collisionPadding:E,sticky:I,hideWhenDetached:S,avoidCollisions:T,...N}=t,j=na(al,n),[k,$]=w.useState(null),[B,W]=w.useState(null),P=at(e,de=>$(de)),[R,D]=w.useState(null),[V,F]=w.useState(null),z=Wg(n),[L,me]=w.useState(!1),Ie=w.useRef(!1);w.useEffect(()=>{if(k)return db(k)},[k]),tb();const ye=w.useCallback(de=>{const[be,...Ae]=z().map(Ze=>Ze.ref.current),[Fe]=Ae.slice(-1),Qe=document.activeElement;for(const Ze of de)if(Ze===Qe||(Ze==null||Ze.scrollIntoView({block:"nearest"}),Ze===be&&B&&(B.scrollTop=0),Ze===Fe&&B&&(B.scrollTop=B.scrollHeight),Ze==null||Ze.focus(),document.activeElement!==Qe))return},[z,B]),ae=w.useCallback(()=>ye([R,k]),[ye,R,k]);w.useEffect(()=>{L&&ae()},[L,ae]);const{onOpenChange:J,triggerPointerDownPosRef:K}=j;w.useEffect(()=>{if(k){let de={x:0,y:0};const be=Fe=>{var Qe,Ze;de={x:Math.abs(Math.round(Fe.pageX)-(((Qe=K.current)==null?void 0:Qe.x)??0)),y:Math.abs(Math.round(Fe.pageY)-(((Ze=K.current)==null?void 0:Ze.y)??0))}},Ae=Fe=>{de.x<=10&&de.y<=10?Fe.preventDefault():k.contains(Fe.target)||J(!1),document.removeEventListener("pointermove",be),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",Ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",Ae,{capture:!0})}}},[k,J,K]),w.useEffect(()=>{const de=()=>J(!1);return window.addEventListener("blur",de),window.addEventListener("resize",de),()=>{window.removeEventListener("blur",de),window.removeEventListener("resize",de)}},[J]);const[ne,H]=RO(de=>{const be=z().filter(Qe=>!Qe.disabled),Ae=be.find(Qe=>Qe.ref.current===document.activeElement),Fe=PO(be,de,Ae);Fe&&setTimeout(()=>Fe.ref.current.focus())}),te=w.useCallback((de,be,Ae)=>{const Fe=!Ie.current&&!Ae;(j.value!==void 0&&j.value===be||Fe)&&(D(de),Fe&&(Ie.current=!0))},[j.value]),_e=w.useCallback(()=>k==null?void 0:k.focus(),[k]),Te=w.useCallback((de,be,Ae)=>{const Fe=!Ie.current&&!Ae;(j.value!==void 0&&j.value===be||Fe)&&F(de)},[j.value]),Ve=r==="popper"?jx:pO,je=Ve===jx?{side:u,sideOffset:h,align:f,alignOffset:m,arrowPadding:y,collisionBoundary:v,collisionPadding:E,sticky:I,hideWhenDetached:S,avoidCollisions:T}:{};return c.jsx(hO,{scope:n,content:k,viewport:B,onViewportChange:W,itemRefCallback:te,selectedItem:R,onItemLeave:_e,itemTextRefCallback:Te,focusSelectedItem:ae,selectedItemText:V,position:r,isPositioned:L,searchRef:ne,children:c.jsx(jg,{as:jZ,allowPinchZoom:!0,children:c.jsx(Sg,{asChild:!0,trapped:j.open,onMountAutoFocus:de=>{de.preventDefault()},onUnmountAutoFocus:Se(s,de=>{var be;(be=j.trigger)==null||be.focus({preventScroll:!0}),de.preventDefault()}),children:c.jsx(Tg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:de=>de.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:c.jsx(Ve,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:de=>de.preventDefault(),...N,...je,onPlaced:()=>me(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Se(N.onKeyDown,de=>{const be=de.ctrlKey||de.altKey||de.metaKey;if(de.key==="Tab"&&de.preventDefault(),!be&&de.key.length===1&&H(de.key),["ArrowUp","ArrowDown","Home","End"].includes(de.key)){let Fe=z().filter(Qe=>!Qe.disabled).map(Qe=>Qe.ref.current);if(["ArrowUp","End"].includes(de.key)&&(Fe=Fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(de.key)){const Qe=de.target,Ze=Fe.indexOf(Qe);Fe=Fe.slice(Ze+1)}setTimeout(()=>ye(Fe)),de.preventDefault()}})})})})})})});fO.displayName=kZ;var DZ="SelectItemAlignedPosition",pO=w.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=na(al,n),a=ra(al,n),[u,h]=w.useState(null),[f,m]=w.useState(null),y=at(e,P=>m(P)),v=Wg(n),E=w.useRef(!1),I=w.useRef(!0),{viewport:S,selectedItem:T,selectedItemText:N,focusSelectedItem:j}=a,k=w.useCallback(()=>{if(o.trigger&&o.valueNode&&u&&f&&S&&T&&N){const P=o.trigger.getBoundingClientRect(),R=f.getBoundingClientRect(),D=o.valueNode.getBoundingClientRect(),V=N.getBoundingClientRect();if(o.dir!=="rtl"){const Qe=V.left-R.left,Ze=D.left-Qe,jt=P.left-Ze,gn=P.width+jt,cs=Math.max(gn,R.width),vr=window.innerWidth-Kr,nr=JI(Ze,[Kr,Math.max(Kr,vr-cs)]);u.style.minWidth=gn+"px",u.style.left=nr+"px"}else{const Qe=R.right-V.right,Ze=window.innerWidth-D.right-Qe,jt=window.innerWidth-P.right-Ze,gn=P.width+jt,cs=Math.max(gn,R.width),vr=window.innerWidth-Kr,nr=JI(Ze,[Kr,Math.max(Kr,vr-cs)]);u.style.minWidth=gn+"px",u.style.right=nr+"px"}const F=v(),z=window.innerHeight-Kr*2,L=S.scrollHeight,me=window.getComputedStyle(f),Ie=parseInt(me.borderTopWidth,10),ye=parseInt(me.paddingTop,10),ae=parseInt(me.borderBottomWidth,10),J=parseInt(me.paddingBottom,10),K=Ie+ye+L+J+ae,ne=Math.min(T.offsetHeight*5,K),H=window.getComputedStyle(S),te=parseInt(H.paddingTop,10),_e=parseInt(H.paddingBottom,10),Te=P.top+P.height/2-Kr,Ve=z-Te,je=T.offsetHeight/2,de=T.offsetTop+je,be=Ie+ye+de,Ae=K-be;if(be<=Te){const Qe=F.length>0&&T===F[F.length-1].ref.current;u.style.bottom="0px";const Ze=f.clientHeight-S.offsetTop-S.offsetHeight,jt=Math.max(Ve,je+(Qe?_e:0)+Ze+ae),gn=be+jt;u.style.height=gn+"px"}else{const Qe=F.length>0&&T===F[0].ref.current;u.style.top="0px";const jt=Math.max(Te,Ie+S.offsetTop+(Qe?te:0)+je)+Ae;u.style.height=jt+"px",S.scrollTop=be-Te+S.offsetTop}u.style.margin=`${Kr}px 0`,u.style.minHeight=ne+"px",u.style.maxHeight=z+"px",r==null||r(),requestAnimationFrame(()=>E.current=!0)}},[v,o.trigger,o.valueNode,u,f,S,T,N,o.dir,r]);an(()=>k(),[k]);const[$,B]=w.useState();an(()=>{f&&B(window.getComputedStyle(f).zIndex)},[f]);const W=w.useCallback(P=>{P&&I.current===!0&&(k(),j==null||j(),I.current=!1)},[k,j]);return c.jsx(OZ,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:E,onScrollButtonChange:W,children:c.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:$},children:c.jsx($e.div,{...s,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});pO.displayName=DZ;var MZ="SelectPopperPosition",jx=w.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Kr,...o}=t,a=Hg(n);return c.jsx(Sj,{...a,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});jx.displayName=MZ;var[OZ,Tb]=uu(al,{}),Dx="SelectViewport",mO=w.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=ra(Dx,n),a=Tb(Dx,n),u=at(e,o.onViewportChange),h=w.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx($g.Slot,{scope:n,children:c.jsx($e.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Se(s.onScroll,f=>{const m=f.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:v}=a;if(v!=null&&v.current&&y){const E=Math.abs(h.current-m.scrollTop);if(E>0){const I=window.innerHeight-Kr*2,S=parseFloat(y.style.minHeight),T=parseFloat(y.style.height),N=Math.max(S,T);if(N<I){const j=N+E,k=Math.min(I,j),$=j-k;y.style.height=k+"px",y.style.bottom==="0px"&&(m.scrollTop=$>0?$:0,y.style.justifyContent="flex-end")}}}h.current=m.scrollTop})})})]})});mO.displayName=Dx;var gO="SelectGroup",[LZ,VZ]=uu(gO),FZ=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=$s();return c.jsx(LZ,{scope:n,id:s,children:c.jsx($e.div,{role:"group","aria-labelledby":s,...r,ref:e})})});FZ.displayName=gO;var yO="SelectLabel",vO=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=VZ(yO,n);return c.jsx($e.div,{id:s.id,...r,ref:e})});vO.displayName=yO;var jm="SelectItem",[UZ,xO]=uu(jm),wO=w.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...a}=t,u=na(jm,n),h=ra(jm,n),f=u.value===r,[m,y]=w.useState(o??""),[v,E]=w.useState(!1),I=at(e,j=>{var k;return(k=h.itemRefCallback)==null?void 0:k.call(h,j,r,s)}),S=$s(),T=w.useRef("touch"),N=()=>{s||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(UZ,{scope:n,value:r,disabled:s,textId:S,isSelected:f,onItemTextChange:w.useCallback(j=>{y(k=>k||((j==null?void 0:j.textContent)??"").trim())},[]),children:c.jsx($g.ItemSlot,{scope:n,value:r,disabled:s,textValue:m,children:c.jsx($e.div,{role:"option","aria-labelledby":S,"data-highlighted":v?"":void 0,"aria-selected":f&&v,"data-state":f?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:I,onFocus:Se(a.onFocus,()=>E(!0)),onBlur:Se(a.onBlur,()=>E(!1)),onClick:Se(a.onClick,()=>{T.current!=="mouse"&&N()}),onPointerUp:Se(a.onPointerUp,()=>{T.current==="mouse"&&N()}),onPointerDown:Se(a.onPointerDown,j=>{T.current=j.pointerType}),onPointerMove:Se(a.onPointerMove,j=>{var k;T.current=j.pointerType,s?(k=h.onItemLeave)==null||k.call(h):T.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Se(a.onPointerLeave,j=>{var k;j.currentTarget===document.activeElement&&((k=h.onItemLeave)==null||k.call(h))}),onKeyDown:Se(a.onKeyDown,j=>{var $;(($=h.searchRef)==null?void 0:$.current)!==""&&j.key===" "||(SZ.includes(j.key)&&N(),j.key===" "&&j.preventDefault())})})})})});wO.displayName=jm;var _d="SelectItemText",_O=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,a=na(_d,n),u=ra(_d,n),h=xO(_d,n),f=AZ(_d,n),[m,y]=w.useState(null),v=at(e,N=>y(N),h.onItemTextChange,N=>{var j;return(j=u.itemTextRefCallback)==null?void 0:j.call(u,N,h.value,h.disabled)}),E=m==null?void 0:m.textContent,I=w.useMemo(()=>c.jsx("option",{value:h.value,disabled:h.disabled,children:E},h.value),[h.disabled,h.value,E]),{onNativeOptionAdd:S,onNativeOptionRemove:T}=f;return an(()=>(S(I),()=>T(I)),[S,T,I]),c.jsxs(c.Fragment,{children:[c.jsx($e.span,{id:h.textId,...o,ref:v}),h.isSelected&&a.valueNode&&!a.valueNodeHasChildren?hh.createPortal(o.children,a.valueNode):null]})});_O.displayName=_d;var bO="SelectItemIndicator",EO=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return xO(bO,n).isSelected?c.jsx($e.span,{"aria-hidden":!0,...r,ref:e}):null});EO.displayName=bO;var Mx="SelectScrollUpButton",TO=w.forwardRef((t,e)=>{const n=ra(Mx,t.__scopeSelect),r=Tb(Mx,t.__scopeSelect),[s,o]=w.useState(!1),a=at(e,r.onScrollButtonChange);return an(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=h.scrollTop>0;o(f)};const h=n.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),s?c.jsx(CO,{...t,ref:a,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=n;u&&h&&(u.scrollTop=u.scrollTop-h.offsetHeight)}}):null});TO.displayName=Mx;var Ox="SelectScrollDownButton",SO=w.forwardRef((t,e)=>{const n=ra(Ox,t.__scopeSelect),r=Tb(Ox,t.__scopeSelect),[s,o]=w.useState(!1),a=at(e,r.onScrollButtonChange);return an(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=h.scrollHeight-h.clientHeight,m=Math.ceil(h.scrollTop)<f;o(m)};const h=n.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),s?c.jsx(CO,{...t,ref:a,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=n;u&&h&&(u.scrollTop=u.scrollTop+h.offsetHeight)}}):null});SO.displayName=Ox;var CO=w.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=ra("SelectScrollButton",n),a=w.useRef(null),u=Wg(n),h=w.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return w.useEffect(()=>()=>h(),[h]),an(()=>{var m;const f=u().find(y=>y.ref.current===document.activeElement);(m=f==null?void 0:f.ref.current)==null||m.scrollIntoView({block:"nearest"})},[u]),c.jsx($e.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Se(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Se(s.onPointerMove,()=>{var f;(f=o.onItemLeave)==null||f.call(o),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Se(s.onPointerLeave,()=>{h()})})}),BZ="SelectSeparator",IO=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return c.jsx($e.div,{"aria-hidden":!0,...r,ref:e})});IO.displayName=BZ;var Lx="SelectArrow",zZ=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Hg(n),o=na(Lx,n),a=ra(Lx,n);return o.open&&a.position==="popper"?c.jsx(Cj,{...s,...r,ref:e}):null});zZ.displayName=Lx;var $Z="SelectBubbleInput",NO=w.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=w.useRef(null),o=at(r,s),a=QM(e);return w.useEffect(()=>{const u=s.current;if(!u)return;const h=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(h,"value").set;if(a!==e&&m){const y=new Event("change",{bubbles:!0});m.call(u,e),u.dispatchEvent(y)}},[a,e]),c.jsx($e.select,{...n,style:{...rO,...n.style},ref:o,defaultValue:e})});NO.displayName=$Z;function AO(t){return t===""||t===void 0}function RO(t){const e=ns(t),n=w.useRef(""),r=w.useRef(0),s=w.useCallback(a=>{const u=n.current+a;e(u),function h(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>h(""),1e3))}(u)},[e]),o=w.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function PO(t,e,n){const s=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let a=WZ(t,Math.max(o,0));s.length===1&&(a=a.filter(f=>f!==n));const h=a.find(f=>f.textValue.toLowerCase().startsWith(s.toLowerCase()));return h!==n?h:void 0}function WZ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var HZ=sO,kO=oO,qZ=lO,GZ=cO,KZ=uO,jO=dO,YZ=mO,DO=vO,MO=wO,QZ=_O,XZ=EO,OO=TO,LO=SO,VO=IO;const Dm=HZ,Mm=qZ,uh=w.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(kO,{ref:r,className:pe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 dark:[&>span]:text-white/70",t),...n,children:[e,c.jsx(GZ,{asChild:!0,children:c.jsx(TN,{className:"h-4 w-4 opacity-50"})})]}));uh.displayName=kO.displayName;const FO=w.forwardRef(({className:t,...e},n)=>c.jsx(OO,{ref:n,className:pe("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(t5,{className:"h-4 w-4"})}));FO.displayName=OO.displayName;const UO=w.forwardRef(({className:t,...e},n)=>c.jsx(LO,{ref:n,className:pe("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(TN,{className:"h-4 w-4"})}));UO.displayName=LO.displayName;const dh=w.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>c.jsx(KZ,{children:c.jsxs(jO,{ref:s,className:pe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[c.jsx(FO,{}),c.jsx(YZ,{className:pe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(UO,{})]})}));dh.displayName=jO.displayName;const JZ=w.forwardRef(({className:t,...e},n)=>c.jsx(DO,{ref:n,className:pe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));JZ.displayName=DO.displayName;const fr=w.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(MO,{ref:r,className:pe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(XZ,{children:c.jsx(Up,{className:"h-4 w-4"})})}),c.jsx(QZ,{children:e})]}));fr.displayName=MO.displayName;const ZZ=w.forwardRef(({className:t,...e},n)=>c.jsx(VO,{ref:n,className:pe("-mx-1 my-1 h-px bg-muted",t),...e}));ZZ.displayName=VO.displayName;function eee(){const{setTheme:t,theme:e}=is(),n=Ht(),[r,s]=w.useState(null),[o,a]=w.useState(!0),[u,h]=w.useState({name:"",email:"",avatar:""}),[f,m]=w.useState({notifications:!0,emailUpdates:!1,fontSize:"medium",language:"en"}),[y,v]=w.useState(""),[E,I]=w.useState(!1);w.useEffect(()=>{if(!on()){n("/login");return}const N=Or();s(N),N&&h({name:N.name,email:N.email,avatar:N.avatar||""}),a(!1)},[n]),w.useEffect(()=>{const T=localStorage.getItem("sitePreferences");T&&m(JSON.parse(T))},[]),w.useEffect(()=>{(async()=>{if(r!=null&&r.id)try{const N=await uK(r.id);if(N&&N.notificationPreferences){const j=N.notificationPreferences,k={...f,notifications:j.pushNotifications??f.notifications,emailUpdates:j.emailUpdates??f.emailUpdates};m(k),localStorage.setItem("sitePreferences",JSON.stringify(k))}}catch(N){console.warn("Could not load notification preferences",N)}})()},[r==null?void 0:r.id]);const S=async(T,N)=>{v("");const j={...f,[T]:N};if(m(j),localStorage.setItem("sitePreferences",JSON.stringify(j)),!(r!=null&&r.id))return;const k={pushNotifications:T==="notifications"?N:j.notifications,emailUpdates:T==="emailUpdates"?N:j.emailUpdates};try{I(!0),await dK(r.id,k)}catch($){const B=($==null?void 0:$.message)||"Could not save notification preference.";v(B);const W={...j,[T]:!N};m(W),localStorage.setItem("sitePreferences",JSON.stringify(W))}finally{I(!1)}};return o?c.jsx("div",{className:"pt-16 min-h-screen flex items-center justify-center",children:c.jsx(M.div,{animate:{rotate:360},transition:{duration:1,repeat:Number.POSITIVE_INFINITY,ease:"linear"},className:"h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):c.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"container mx-auto px-4 py-8",children:c.jsxs("section",{className:"py-20 bg-background relative overflow-hidden",children:[c.jsx(M.div,{className:"absolute top-0 right-0 w-96 h-96 bg-primary/5 rounded-full blur-3xl",animate:{x:[50,100,50],y:[0,50,0],scale:[1,1.1,1]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),c.jsx(M.div,{className:"absolute bottom-0 left-0 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl",animate:{x:[0,-50,0],y:[0,50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:c.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-2xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx(M.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},className:pe("text-3xl font-bold mb-2",e==="dark"?"text-white":"text-black"),children:"Preferences"}),c.jsx(M.p,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:pe(e==="dark"?"text-white":"text-black"),children:"Customize your experience with appearance, language, and notification settings"})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs($t,{children:[c.jsxs(nn,{children:[c.jsx(rn,{children:"Appearance"}),c.jsx(jr,{children:"Customize how the website looks and feels"})]}),c.jsxs(Wt,{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(dt,{children:"Theme"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Switch between light and dark mode"})]}),c.jsx(ke,{variant:"outline",size:"icon",onClick:()=>t(e==="dark"?"light":"dark"),className:pe("hover:bg-[#30D5C8] hover:text-white border-[#30D5C8]",e==="dark"?"text-white":"text-black bg-[#30D5C8]"),children:e==="dark"?c.jsx(m5,{className:"h-5 w-5"}):c.jsx(u5,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(dt,{children:"Font Size"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Adjust the text size"})]}),c.jsxs(Dm,{value:f.fontSize,onValueChange:T=>{S("fontSize",T);const N=document.documentElement;T==="small"?N.style.fontSize="90%":T==="large"?N.style.fontSize="110%":N.style.fontSize="100%"},children:[c.jsx(uh,{className:pe("w-[120px] border-[#30D5C8]",e==="dark"?"text-white":"text-black bg-[#30D5C8] hover:bg-[#30D5C8]/90"),children:c.jsx(Mm,{})}),c.jsxs(dh,{className:pe("border-[#30D5C8]",e==="dark"?"text-white":"text-black bg-[#30D5C8]"),children:[c.jsx(fr,{value:"small",className:"hover:bg-[#30D5C8]/90",children:"Small"}),c.jsx(fr,{value:"medium",className:"hover:bg-[#30D5C8]/90",children:"Medium"}),c.jsx(fr,{value:"large",className:"hover:bg-[#30D5C8]/90",children:"Large"})]})]})]})]})]}),c.jsxs($t,{children:[c.jsxs(nn,{children:[c.jsx(rn,{children:"Language & Region"}),c.jsx(jr,{children:"Choose your preferred language and regional settings"})]}),c.jsx(Wt,{className:"space-y-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(dt,{children:"Language"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Select your preferred language"})]}),c.jsxs(Dm,{value:f.language,onValueChange:T=>S("language",T),children:[c.jsx(uh,{className:pe("w-[120px] border-[#30D5C8]",e==="dark"?"text-white":"text-black bg-[#30D5C8] hover:bg-[#30D5C8]/90"),children:c.jsx(Mm,{})}),c.jsxs(dh,{className:pe("border-[#30D5C8]",e==="dark"?"text-white":"text-black bg-[#30D5C8]"),children:[c.jsx(fr,{value:"en",className:"hover:bg-[#30D5C8]/90",children:"English"}),c.jsx(fr,{value:"es",className:"hover:bg-[#30D5C8]/90",children:"Spanish"}),c.jsx(fr,{value:"fr",className:"hover:bg-[#30D5C8]/90",children:"French"})]})]})]})})]}),c.jsxs($t,{children:[c.jsxs(nn,{children:[c.jsx(rn,{children:"Notifications"}),c.jsx(jr,{children:"Manage your notification preferences"})]}),c.jsxs(Wt,{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(dt,{children:"Push Notifications"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications about appointments and updates"})]}),c.jsx(km,{checked:f.notifications,onCheckedChange:T=>S("notifications",T),className:pe("border-[#30D5C8] [&>span]:text-white",e==="dark"?"":"bg-[#30D5C8] data-[state=checked]:bg-[#30D5C8]")})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(dt,{children:"Email Updates"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive email notifications about new features and updates"})]}),c.jsx(km,{checked:f.emailUpdates,onCheckedChange:T=>S("emailUpdates",T),className:pe("border-[#30D5C8] [&>span]:text-white",e==="dark"?"":"bg-[#30D5C8] data-[state=checked]:bg-[#30D5C8]")})]}),y&&c.jsx("p",{className:"text-sm text-red-500",children:y}),E&&c.jsx("p",{className:"text-sm text-muted-foreground",children:"Saving preferences..."})]})]})]})]})})]})})}function tee(){return c.jsx("div",{className:"pt-16",children:c.jsxs("section",{className:"py-20 bg-background relative overflow-hidden",children:[c.jsx(M.div,{className:"absolute top-0 right-0 w-96 h-96 bg-primary/5 rounded-full blur-3xl",animate:{x:[50,100,50],y:[0,50,0],scale:[1,1.1,1]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),c.jsx(M.div,{className:"absolute bottom-0 left-0 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl",animate:{x:[0,-50,0],y:[0,50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:c.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-4xl mx-auto bg-card p-8 rounded-lg shadow-md border",children:[c.jsxs(M.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},className:"text-center mb-8",children:[c.jsx("h1",{className:"text-4xl font-bold text-[white] mb-4",children:"Privacy Policy"}),c.jsxs("p",{className:"text-lg text-muted-foreground",children:["Last updated: ",new Date().toLocaleDateString()]})]}),c.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"space-y-6 text-muted-foreground",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"1. Introduction"}),c.jsx("p",{children:'Cemar Counseling ("we," "our," or "us") is committed to protecting the privacy, confidentiality, and security of personal information entrusted to us. This Privacy Policy explains how we collect, use, disclose, store, and protect your information when you access our website, book appointments, or receive counseling services.'}),c.jsx("p",{children:"We handle personal information in accordance with applicable privacy laws, professional ethical standards, and best practices for counseling services."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"2. Information We Collect"}),c.jsx("p",{children:"We may collect and store the following categories of information:"}),c.jsxs("div",{className:"ml-4 space-y-3",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"a. Personal Information"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[c.jsx("li",{children:"Full name"}),c.jsx("li",{children:"Email address"}),c.jsx("li",{children:"Phone number"}),c.jsx("li",{children:"Appointment and scheduling details"})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"b. Counseling-Related Information"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[c.jsx("li",{children:"Information voluntarily provided during intake or sessions"}),c.jsx("li",{children:"Session-related notes or administrative records (where applicable)"})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"c. Payment Information"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[c.jsx("li",{children:"Payment details processed securely through third-party providers such as Stripe or PayPal"}),c.jsx("li",{children:"Billing history and transaction records"})]}),c.jsx("p",{className:"text-xs mt-2",children:"Note: We do not store full credit card numbers on our servers."})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"d. Website & Technical Information"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[c.jsx("li",{children:"IP address"}),c.jsx("li",{children:"Browser type and device information"}),c.jsx("li",{children:"Website usage data and cookies"})]})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"3. How We Use Your Information"}),c.jsx("p",{children:"Your information is used for the following purposes:"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[c.jsx("li",{children:"To provide and manage counseling services"}),c.jsx("li",{children:"To schedule, confirm, and administer appointments"}),c.jsx("li",{children:"To process payments and maintain financial records"}),c.jsx("li",{children:"To communicate regarding services, policies, or updates"}),c.jsx("li",{children:"To improve website functionality and service quality"}),c.jsx("li",{children:"To comply with legal, ethical, and professional obligations"})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"4. Confidentiality and Disclosure"}),c.jsx("p",{children:"We respect the confidential nature of counseling services. Personal information will not be disclosed without your consent except where disclosure is required or permitted by law, including but not limited to:"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[c.jsx("li",{children:"Risk of serious harm to yourself or others"}),c.jsx("li",{children:"Suspected abuse or neglect of a child, elderly person, or vulnerable individual"}),c.jsx("li",{children:"Court orders, subpoenas, or other legal obligations"})]}),c.jsx("p",{children:"Only the minimum necessary information will be disclosed in such cases."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"5. Information Storage and Security"}),c.jsx("p",{children:"We implement reasonable administrative, technical, and physical safeguards to protect your information, including:"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[c.jsx("li",{children:"Secure data storage systems"}),c.jsx("li",{children:"Encryption of sensitive information where appropriate"}),c.jsx("li",{children:"Restricted access to authorized personnel only"}),c.jsx("li",{children:"Regular review of security practices"})]}),c.jsx("p",{className:"text-sm italic",children:"While we take reasonable steps to protect your information, no system can be guaranteed to be 100% secure."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"6. Third-Party Services"}),c.jsx("p",{children:"We may use trusted third-party service providers to support our operations, including:"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[c.jsx("li",{children:"Online scheduling platforms (e.g., Calendly)"}),c.jsx("li",{children:"Payment processors (e.g., Stripe, PayPal)"}),c.jsx("li",{children:"Secure communication and form tools"})]}),c.jsx("p",{children:"These providers have their own privacy policies and are responsible for safeguarding information processed through their systems."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"7. Your Rights"}),c.jsx("p",{children:"You have the right to:"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[c.jsx("li",{children:"Request access to your personal information"}),c.jsx("li",{children:"Request corrections to inaccurate or incomplete information"}),c.jsx("li",{children:"Request deletion of your information, subject to legal and professional obligations"}),c.jsx("li",{children:"Withdraw consent where applicable"}),c.jsx("li",{children:"File a complaint regarding privacy practices"})]}),c.jsx("p",{className:"text-sm",children:"Requests may be subject to verification and legal limitations."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"8. Retention of Information"}),c.jsx("p",{children:"Personal information is retained only for as long as necessary to fulfill the purposes outlined in this policy or as required by law, professional regulations, or insurance requirements."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"9. Cookies and Website Analytics"}),c.jsx("p",{children:"Our website may use cookies or similar technologies to improve functionality and user experience. You may adjust your browser settings to manage or disable cookies; however, this may affect site performance."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"10. Changes to This Privacy Policy"}),c.jsx("p",{children:'We may update this Privacy Policy from time to time. Updates will be posted on our website with a revised "Last updated" date. Continued use of our services constitutes acceptance of the updated policy.'})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"11. Contact Information"}),c.jsx("p",{children:"If you have questions, concerns, or requests regarding this Privacy Policy or our data practices, please contact:"}),c.jsxs("div",{className:"bg-card p-4 rounded-lg border mt-4",children:[c.jsx("p",{className:"font-semibold",children:"Cemar Counseling"}),c.jsx("p",{children:" Email: info@cemarcounseling.com"}),c.jsx("p",{children:" Phone: (905) 909-2400"})]})]})]}),c.jsx(M.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"mt-8 text-center",children:c.jsx(ke,{asChild:!0,className:"bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90",children:c.jsx(jn,{to:"/",children:"Back to Home"})})})]})})]})})}function nee(){const t=Ht(),e=()=>{window.print()},n={hidden:{opacity:0,y:20},visible:s=>({opacity:1,y:0,transition:{delay:s*.05,duration:.5}})},r=[{number:"1",title:"Purpose of Counseling",content:`Counseling at Cemar Counseling is a professional service intended to support personal growth, emotional well-being, and coping strategies for life challenges. Counseling may involve discussion of personal issues, emotions, behaviors, relationships, and past experiences.

While counseling can be highly beneficial, outcomes cannot be guaranteed. Progress depends on many factors, including client participation, honesty, and commitment to the process.`},{number:"2",title:"Nature of Counseling Services",content:`Counseling services may include, but are not limited to:

 Individual counseling sessions
 Emotional and psychological support
 Goal setting and problem-solving strategies
 Psychoeducation and coping skills

Counseling is not a substitute for medical care, psychiatric treatment, or emergency services.`},{number:"3",title:"Not a Medical or Emergency Service",content:`Cemar Counseling does not provide:

 Emergency mental health services
 Crisis intervention
 Medical diagnosis or treatment

If you are experiencing thoughts of self-harm, harm to others, or are in immediate danger, do not book an appointment. Instead, contact your local emergency number or a crisis hotline immediately.`},{number:"4",title:"Client Responsibilities",content:`As a client, you agree to:

 Provide accurate and truthful information
 Participate actively and respectfully in sessions
 Communicate openly about concerns, expectations, or discomfort
 Take responsibility for your own decisions, actions, and outcomes

You understand that counseling involves personal effort and that progress may take time.`},{number:"5",title:"Risks and Benefits of Counseling",content:`Potential Benefits:
 Increased self-awareness
 Improved coping skills
 Emotional relief
 Better communication and relationships

Potential Risks:
 Emotional discomfort
 Temporary increase in distress when discussing difficult topics
 Unresolved issues may surface during the process

You acknowledge that these risks are a normal part of counseling.`},{number:"6",title:"Confidentiality",content:`Your privacy is taken seriously. Information shared during counseling is treated as confidential and will not be disclosed without your consent, except where disclosure is required or permitted by law, including but not limited to:

 Risk of serious harm to yourself or others
 Suspected abuse or neglect of a child, elderly person, or vulnerable individual
 Court orders or legal requirements

Electronic communication and online services carry inherent risks, and absolute confidentiality cannot be guaranteed.`},{number:"7",title:"Records and Documentation",content:`Cemar Counseling may maintain limited records related to scheduling, billing, and administrative purposes. Clinical notes, if kept, are stored securely and accessed only by authorized personnel.

You have the right to request information about records in accordance with applicable laws.`},{number:"8",title:"Fees and Payment Policy",content:` Payment is required in full prior to confirming an appointment unless otherwise stated
 Accepted payment methods include Stripe and PayPal
 Fees will be clearly displayed at the time of booking
 Failure to complete payment will result in the appointment not being confirmed.`},{number:"9",title:"Cancellation, Rescheduling, and No-Show Policy",content:` Appointments must be canceled or rescheduled at least 24 hours in advance
 Late cancellations or no-shows may be charged the full session fee
 Exceptions may be made at the discretion of Cemar Counseling

This policy respects the counselor's time and availability.`},{number:"10",title:"Technology and Virtual Sessions",content:`If sessions are conducted virtually:

 You are responsible for ensuring a private, secure environment
 Technical issues may occasionally occur
 Cemar Counseling is not responsible for interruptions beyond its control`},{number:"11",title:"Professional Boundaries",content:"Counseling sessions are strictly professional. Dual relationships, inappropriate contact, or communication outside agreed professional channels are not permitted."},{number:"12",title:"Consent to Services",content:`By booking an appointment and checking the consent box, you confirm that:

 You are at least 18 years of age (or have legal guardian consent)
 You understand the nature and limits of counseling services
 You voluntarily consent to receive counseling services from Cemar Counseling`}];return c.jsxs("div",{className:"pt-16",children:[c.jsx("section",{className:"py-12 bg-gradient-to-r from-[#30D5C8]/10 to-[#008080]/10 border-b border-[#30D5C8]/20",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs(M.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-black dark:text-white mb-2",children:"Informed Consent & Policies"}),c.jsx("p",{className:"text-base text-black/70 dark:text-white/70",children:"Cemar Counseling  Professional Counseling Services"}),c.jsx("p",{className:"text-sm text-black/60 dark:text-white/60 mt-2",children:"Effective Date: January 2026 | Last Updated: January 2026"})]}),c.jsxs(M.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"flex flex-col gap-2",children:[c.jsxs(ke,{onClick:e,className:"bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90 flex items-center gap-2",children:[c.jsx(r5,{className:"h-4 w-4"}),"Print / Save as PDF"]}),c.jsxs(ke,{variant:"outline",onClick:()=>t("/"),className:"flex items-center gap-2 text-black dark:text-white",children:[c.jsx(o5,{className:"h-4 w-4"}),"Return Home"]})]})]})})}),c.jsx("section",{className:"py-8 bg-yellow-50 dark:bg-yellow-900/20 border-y border-yellow-200 dark:border-yellow-800/50",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs(M.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.1},className:"bg-white dark:bg-slate-900 rounded-lg p-6 border-l-4 border-yellow-500",children:[c.jsx("p",{className:"text-base font-semibold text-black dark:text-white mb-2",children:" Important Notice"}),c.jsx("p",{className:"text-sm text-black/80 dark:text-white/80 leading-relaxed",children:"By booking an appointment with Cemar Counseling, you acknowledge that you have read, understood, and agree to all terms outlined in this document. Please read this document carefully before proceeding with your appointment booking."})]})})}),c.jsx("section",{className:"py-16 bg-background",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[c.jsxs(M.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:n,custom:0,className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-6 mb-12 border border-red-200 dark:border-red-800",children:[c.jsx("h2",{className:"text-xl font-bold text-red-700 dark:text-red-400 mb-3",children:" Crisis & Emergency Disclaimer"}),c.jsx("p",{className:"text-sm text-red-900 dark:text-red-200 leading-relaxed mb-3",children:"If you are experiencing thoughts of self-harm, suicidal ideation, or harm to others, or if you are in immediate danger, please do NOT use this service. Instead:"}),c.jsxs("ul",{className:"text-sm text-red-900 dark:text-red-200 space-y-2 ml-4 list-disc",children:[c.jsx("li",{children:"Call your local emergency number (911 in the US)"}),c.jsx("li",{children:"Contact the National Suicide Prevention Lifeline: 988 (call or text)"}),c.jsx("li",{children:"Go to your nearest emergency room"}),c.jsx("li",{children:"Contact the Crisis Text Line: Text HOME to 741741"})]})]}),c.jsx("div",{className:"space-y-10",children:r.map((s,o)=>c.jsx(M.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},variants:n,custom:o+1,className:"print:page-break-inside-avoid",children:c.jsxs("div",{className:"flex gap-4",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"flex items-center justify-center h-10 w-10 rounded-full bg-[#30D5C8] text-black font-bold text-lg",children:s.number})}),c.jsxs("div",{className:"flex-grow",children:[c.jsx("h2",{className:"text-2xl font-semibold text-black dark:text-white mb-4",children:s.title}),c.jsx("p",{className:"text-base text-black/80 dark:text-white/80 leading-relaxed whitespace-pre-wrap",children:s.content})]})]})},s.number))}),c.jsxs(M.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},variants:n,custom:r.length+1,className:"mt-16 bg-[#30D5C8]/10 rounded-lg p-8 border-2 border-[#30D5C8]/30 print:page-break-inside-avoid",children:[c.jsx("h2",{className:"text-2xl font-bold text-black dark:text-white mb-6",children:"Final Acknowledgment"}),c.jsxs("div",{className:"space-y-4 text-base text-black/80 dark:text-white/80 leading-relaxed",children:[c.jsx("p",{children:"By proceeding with booking an appointment with Cemar Counseling, you acknowledge that:"}),c.jsxs("ul",{className:"space-y-3 ml-6 list-disc",children:[c.jsx("li",{children:"You have read this informed consent document in full"}),c.jsx("li",{children:"You understand its contents and implications"}),c.jsx("li",{children:"You voluntarily agree to abide by all policies described"}),c.jsx("li",{children:"You understand the risks and benefits of counseling"}),c.jsx("li",{children:"You are not in crisis or experiencing an emergency"}),c.jsx("li",{children:"You will seek appropriate emergency services if needed"})]}),c.jsx("p",{className:"mt-6 font-semibold text-black dark:text-white",children:"If you have any questions or concerns about this document or our services, please contact Cemar Counseling before booking your appointment."})]})]}),c.jsxs(M.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:n,custom:r.length+2,className:"mt-12 text-center text-sm text-black/60 dark:text-white/60 border-t border-black/10 dark:border-white/10 pt-8",children:[c.jsx("p",{className:"font-semibold text-black dark:text-white mb-2",children:"Cemar Counseling"}),c.jsx("p",{children:"Professional Counseling Services"}),c.jsxs("p",{className:"mt-3",children:["Phone: ",c.jsx("a",{href:"tel:+19059092400",className:"text-[#30D5C8] hover:underline",children:"(905) 909-2400"})]}),c.jsx("p",{className:"mt-6 text-xs text-black/50 dark:text-white/50",children:" 2026 Cemar Counseling. All rights reserved."})]})]})}),c.jsx("style",{children:`
        @media print {
          body {
            background: white;
            color: black;
          }

          .no-print {
            display: none !important;
          }

          section {
            page-break-inside: avoid;
            margin: 0;
            padding: 0.5in;
          }

          h1, h2, h3 {
            page-break-after: avoid;
            page-break-inside: avoid;
          }

          p {
            page-break-inside: avoid;
            orphans: 3;
            widows: 3;
          }

          a {
            text-decoration: none;
            color: #333;
          }

          .print\\:page-break-inside-avoid {
            page-break-inside: avoid;
          }

          /* Hide buttons and interactive elements when printing */
          button {
            display: none !important;
          }

          /* Ensure proper margins */
          @page {
            margin: 0.75in;
          }
        }
      `})]})}const h0=({children:t})=>{const e=Ht(),n=Xo();return w.useEffect(()=>{on()||e(`/login?returnUrl=${encodeURIComponent(n.pathname)}`)},[e,n]),on()?c.jsx(c.Fragment,{children:t}):null};function hd({children:t,requiredRole:e="therapist"}){const n=Ht(),[r,s]=w.useState(!0),[o,a]=w.useState(!1);return w.useEffect(()=>{(async()=>{if(!on()){n("/login");return}const h=Or();if(!(h!=null&&h.id)){n("/login");return}try{const f=await nu(Un(Ct,"users",h.id));if(!f.exists()){console.log("User doc not found, redirecting to profile setup"),n("/");return}const m=f.data(),y=m==null?void 0:m.role;if(e&&y!==e){console.log(`User is ${y}, but ${e} role required`),n("/");return}a(!0)}catch(f){console.error("Error checking authorization:",f),n("/login")}finally{s(!1)}})()},[n,e]),r?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Checking permissions..."})]})}):o?c.jsx(c.Fragment,{children:t}):c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:"Access Denied"}),c.jsx("p",{className:"text-muted-foreground",children:"You don't have permission to access this page."})]})})}const ree=async(t,e,n)=>{const r=Un(Ct,"appointments",t);await ru(r,{internalStatus:e,internalNotes:n,updatedAt:st.now()})},see=async(t,e)=>{const n=Un(Ct,"appointments",t);await ru(n,{sessionNotes:e,updatedAt:st.now()})},iee=t=>`https://calendly.com/reschedule/${t.externalEventId}`,oee=t=>`https://calendly.com/cancel/${t.externalEventId}`,aee=async t=>{const e=Ri(Fs(Ct,"appointments"),zs("therapistId","==",t)),n=await Vc(e),r=new Map;for(const s of n.docs){const o=s.data(),a=o.clientId;if(!r.has(a)){const h=await nu(Un(Ct,"clients",a));let f;h.exists()?f={id:h.id,...h.data()}:(f={id:a,email:o.clientEmail,name:o.clientName,externalInviteeIds:[o.externalInviteeId],totalSessions:0,createdAt:st.now(),updatedAt:st.now()},await Fc(Un(Ct,"clients",a),f)),r.set(a,f)}const u=r.get(a);u.totalSessions++,(!u.lastAppointment||o.startTime>u.lastAppointment)&&(u.lastAppointment=o.startTime)}return Array.from(r.values())},lee=async(t,e)=>{const n=Un(Ct,"clients",t);await ru(n,{...e,updatedAt:st.now()})},cee=async(t,e)=>{var o;const n=Un(Ct,"clients",t),s=((o=(await nu(n)).data())==null?void 0:o.internalNotes)||"";await ru(n,{internalNotes:s+`

`+new Date().toISOString()+": "+e,updatedAt:st.now()})},uee=async t=>{const e=Un(Ct,"therapists",t),n=await nu(e);if(!n.exists())return null;const r=n.data();return{calendlyToken:r.calendlyToken,calendlyOrganizationId:r.calendlyOrganizationId,eventTypeMappings:r.eventTypeMappings||{},lastSync:r.lastSync,syncEnabled:r.syncEnabled??!1,syncFrequencyMinutes:r.syncFrequencyMinutes??10}},dee=async(t,e)=>{const n=Un(Ct,"therapists",t);await ru(n,{...e,updatedAt:st.now()})};function hee({appointment:t,isOpen:e,onClose:n}){var S,T;const[r,s]=w.useState(t.internalStatus||"confirmed"),[o,a]=w.useState(t.internalNotes||""),[u,h]=w.useState(t.sessionNotes||""),[f,m]=w.useState(!1);if(!e)return null;const y=async N=>{m(!0);try{await ree(t.id,N,o),s(N)}catch(j){console.error("Error updating status:",j)}finally{m(!1)}},v=async()=>{m(!0);try{await see(t.id,u)}catch(N){console.error("Error saving notes:",N)}finally{m(!1)}},E=()=>{const N=iee(t);window.open(N,"_blank")},I=()=>{const N=oee(t);window.open(N,"_blank")};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-end",children:c.jsxs("div",{className:"bg-white w-96 h-full overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Appointment Details"}),c.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-md",children:c.jsx(DN,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs($t,{children:[c.jsx(nn,{className:"pb-3",children:c.jsxs(rn,{className:"text-sm font-medium flex items-center",children:[c.jsx(kN,{className:"w-4 h-4 mr-2"}),"Client Information"]})}),c.jsxs(Wt,{className:"space-y-2",children:[c.jsxs("div",{className:"text-sm",children:[c.jsx("span",{className:"font-medium",children:"Name:"})," ",t.clientName||"Not provided"]}),c.jsxs("div",{className:"text-sm",children:[c.jsx("span",{className:"font-medium",children:"Email:"})," ",t.clientEmail]}),c.jsx(ke,{variant:"outline",size:"sm",className:"w-full mt-3",onClick:()=>window.open(`/therapist/clients/${t.clientId}`,"_blank"),children:"Open Client Profile"})]})]}),c.jsxs($t,{children:[c.jsx(nn,{className:"pb-3",children:c.jsxs(rn,{className:"text-sm font-medium flex items-center",children:[c.jsx(Ha,{className:"w-4 h-4 mr-2"}),"Appointment Details"]})}),c.jsxs(Wt,{className:"space-y-2",children:[c.jsxs("div",{className:"text-sm",children:[c.jsx("span",{className:"font-medium",children:"Service:"})," ",t.serviceType]}),c.jsxs("div",{className:"text-sm flex items-center",children:[c.jsx(CN,{className:"w-4 h-4 mr-1"}),c.jsx("span",{className:"font-medium",children:"Time:"})," ",(S=t.startTime)==null?void 0:S.toDate().toLocaleString()," - ",(T=t.endTime)==null?void 0:T.toDate().toLocaleTimeString()]}),c.jsxs("div",{className:"text-sm",children:[c.jsx("span",{className:"font-medium",children:"Status:"})," ",c.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${t.status==="scheduled"?"bg-green-100 text-green-800":t.status==="completed"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:t.status})]}),t.meetingUrl&&c.jsxs("div",{className:"text-sm",children:[c.jsx("span",{className:"font-medium",children:"Meeting:"})," ",c.jsxs("a",{href:t.meetingUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center",children:["Join Meeting ",c.jsx(IN,{className:"w-3 h-3 ml-1"})]})]})]})]}),c.jsxs($t,{children:[c.jsx(nn,{className:"pb-3",children:c.jsx(rn,{className:"text-sm font-medium",children:"Internal Status"})}),c.jsxs(Wt,{className:"space-y-3",children:[c.jsxs(Dm,{value:r,onValueChange:y,disabled:f,children:[c.jsx(uh,{children:c.jsx(Mm,{})}),c.jsxs(dh,{children:[c.jsx(fr,{value:"confirmed",children:"Confirmed"}),c.jsx(fr,{value:"completed",children:"Completed"}),c.jsx(fr,{value:"no-show",children:"No Show"}),c.jsx(fr,{value:"rescheduled",children:"Rescheduled"})]})]}),c.jsx(ch,{placeholder:"Internal notes...",value:o,onChange:N=>a(N.target.value),onBlur:()=>y(r),disabled:f,rows:3})]})]}),c.jsxs($t,{children:[c.jsx(nn,{className:"pb-3",children:c.jsxs(rn,{className:"text-sm font-medium flex items-center",children:[c.jsx(NN,{className:"w-4 h-4 mr-2"}),"Session Notes"]})}),c.jsx(Wt,{children:c.jsx(ch,{placeholder:"Add session notes...",value:u,onChange:N=>h(N.target.value),onBlur:v,disabled:f,rows:4})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs(ke,{onClick:E,className:"w-full",variant:"outline",children:[c.jsx(Ha,{className:"w-4 h-4 mr-2"}),"Reschedule via Calendly"]}),c.jsx(ke,{onClick:I,className:"w-full",variant:"destructive",children:"Cancel via Calendly"})]}),c.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 p-3 rounded",children:[c.jsx("div",{className:"font-medium mb-1",children:"Calendly Integration"}),c.jsxs("div",{children:["Event ID: ",t.externalEventId]}),c.jsxs("div",{children:["Invitee ID: ",t.externalInviteeId]}),c.jsxs("div",{children:["Source: ",t.source]})]})]})]})})}function ZI(){const t=Ht(),{theme:e}=is(),[n,r]=w.useState(null),[s,o]=w.useState([]),[a,u]=w.useState(!0),[h,f]=w.useState(null),[m,y]=w.useState("week"),[v,E]=w.useState(new Date),[I,S]=w.useState(null),[T,N]=w.useState("");w.useEffect(()=>{if(!on()){t("/login?tab=signup");return}const W=Or();if(!W||W.role!=="therapist"){t("/login");return}r(W),u(!1)},[t]),w.useEffect(()=>{if(!(n!=null&&n.id))return;const B=Ri(Fs(Ct,"appointments"),zs("therapistId","==",n.id)),W=N_(B,P=>{const R=P.docs.map(D=>({id:D.id,...D.data()}));o(R)},P=>{f(P.message)});return()=>W()},[n==null?void 0:n.id]);const j=s.filter(B=>{var W,P,R;return T===""||((W=B.clientName)==null?void 0:W.toLowerCase().includes(T.toLowerCase()))||((P=B.clientEmail)==null?void 0:P.toLowerCase().includes(T.toLowerCase()))||((R=B.serviceType)==null?void 0:R.toLowerCase().includes(T.toLowerCase()))}),k=B=>{const W=new Date(v);m==="day"?W.setDate(W.getDate()+(B==="next"?1:-1)):m==="week"&&W.setDate(W.getDate()+(B==="next"?7:-7)),E(W)},$=()=>{E(new Date)};return a?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):c.jsxs("div",{className:"flex h-screen bg-gray-50",children:[c.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 flex flex-col",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Therapist Portal"})}),c.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[c.jsxs("button",{onClick:()=>t("/therapist/schedule"),className:"w-full flex items-center px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-md",children:[c.jsx(Ha,{className:"w-5 h-5 mr-3"}),"Schedule"]}),c.jsxs("button",{onClick:()=>t("/therapist/clients"),className:"w-full flex items-center px-3 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 rounded-md",children:[c.jsx(qa,{className:"w-5 h-5 mr-3"}),"Clients"]}),c.jsxs("button",{onClick:()=>t("/therapist/settings"),className:"w-full flex items-center px-3 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 rounded-md",children:[c.jsx(Hc,{className:"w-5 h-5 mr-3"}),"Settings"]})]})]}),c.jsxs("div",{className:"flex-1 flex flex-col",children:[c.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("h2",{className:"text-lg font-medium text-gray-900",children:[m==="day"&&"Today",m==="week"&&"This Week",m==="agenda"&&"Agenda"]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>k("prev"),className:"p-1 rounded-md hover:bg-gray-100",children:c.jsx(e5,{className:"w-5 h-5"})}),c.jsx("button",{onClick:$,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Today"}),c.jsx("button",{onClick:()=>k("next"),className:"p-1 rounded-md hover:bg-gray-100",children:c.jsx(SN,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(PN,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search appointments...",value:T,onChange:B=>N(B.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{className:"flex rounded-md border border-gray-300",children:[c.jsx("button",{onClick:()=>y("day"),className:`px-3 py-2 text-sm font-medium ${m==="day"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-50"} rounded-l-md`,children:"Day"}),c.jsx("button",{onClick:()=>y("week"),className:`px-3 py-2 text-sm font-medium ${m==="week"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-50"}`,children:"Week"}),c.jsx("button",{onClick:()=>y("agenda"),className:`px-3 py-2 text-sm font-medium ${m==="agenda"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-50"} rounded-r-md`,children:"Agenda"})]})]})]})}),c.jsxs("div",{className:"flex-1 p-6 overflow-auto",children:[m==="week"&&c.jsx("div",{className:"grid grid-cols-7 gap-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((B,W)=>{const P=new Date(v);P.setDate(v.getDate()-v.getDay()+W);const R=j.filter(D=>{var F;const V=(F=D.startTime)==null?void 0:F.toDate();return V&&V.toDateString()===P.toDateString()});return c.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[c.jsxs("h3",{className:"font-medium text-gray-900 mb-3",children:[B," ",P.getDate()]}),c.jsxs("div",{className:"space-y-2",children:[R.map(D=>{var V;return c.jsxs("button",{onClick:()=>S(D),className:"w-full text-left p-2 bg-blue-50 hover:bg-blue-100 rounded border-l-4 border-blue-600",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:(V=D.startTime)==null?void 0:V.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),c.jsx("div",{className:"text-sm text-gray-600 truncate",children:D.clientName||D.clientEmail}),c.jsx("div",{className:"text-xs text-gray-500",children:D.serviceType})]},D.id)}),R.length===0&&c.jsx("div",{className:"text-sm text-gray-400 py-4",children:"No appointments"})]})]},B)})}),m==="agenda"&&c.jsxs("div",{className:"space-y-4",children:[j.sort((B,W)=>{var P,R;return(((P=B.startTime)==null?void 0:P.toMillis())||0)-(((R=W.startTime)==null?void 0:R.toMillis())||0)}).map(B=>{var W,P;return c.jsx($t,{className:"cursor-pointer hover:shadow-md transition-shadow",children:c.jsx(Wt,{className:"p-4",onClick:()=>S(B),children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[(W=B.startTime)==null?void 0:W.toDate().toLocaleDateString()," at ",(P=B.startTime)==null?void 0:P.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),c.jsx("div",{className:"text-sm text-gray-600",children:B.clientName||B.clientEmail}),c.jsx("div",{className:"text-sm text-gray-500",children:B.serviceType})]}),c.jsx("div",{className:"flex items-center space-x-2",children:c.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${B.status==="scheduled"?"bg-green-100 text-green-800":B.status==="completed"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:B.status})})]})})},B.id)}),j.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Ha,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No appointments found"}),c.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or date range."})]})]})]})]}),I&&c.jsx(hee,{appointment:I,isOpen:!!I,onClose:()=>S(null)})]})}function fee(){const t=Ht(),[e,n]=w.useState(null),[r,s]=w.useState([]),[o,a]=w.useState(!0),[u,h]=w.useState(null),[f,m]=w.useState("");w.useEffect(()=>{if(!on()){t("/login?tab=signup");return}const E=Or();if(!E||E.role!=="therapist"){t("/login");return}n(E)},[t]),w.useEffect(()=>{if(!(e!=null&&e.id))return;(async()=>{try{const E=await aee(e.id);s(E)}catch(E){console.error("Error loading clients:",E),h("Failed to load clients")}finally{a(!1)}})()},[e==null?void 0:e.id]);const y=r.filter(v=>{var E,I;return f===""||((E=v.name)==null?void 0:E.toLowerCase().includes(f.toLowerCase()))||((I=v.email)==null?void 0:I.toLowerCase().includes(f.toLowerCase()))});return o?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):c.jsxs("div",{className:"flex h-screen bg-gray-50",children:[c.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 flex flex-col",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Therapist Portal"})}),c.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[c.jsxs("button",{onClick:()=>t("/therapist/schedule"),className:"w-full flex items-center px-3 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 rounded-md",children:[c.jsx(Ha,{className:"w-5 h-5 mr-3"}),"Schedule"]}),c.jsxs("button",{onClick:()=>t("/therapist/clients"),className:"w-full flex items-center px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-md",children:[c.jsx(qa,{className:"w-5 h-5 mr-3"}),"Clients"]}),c.jsxs("button",{onClick:()=>t("/therapist/settings"),className:"w-full flex items-center px-3 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 rounded-md",children:[c.jsx(Hc,{className:"w-5 h-5 mr-3"}),"Settings"]})]})]}),c.jsxs("div",{className:"flex-1 flex flex-col",children:[c.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Clients"}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(PN,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),c.jsx(Et,{type:"text",placeholder:"Search clients...",value:f,onChange:v=>m(v.target.value),className:"pl-10 w-64"})]}),c.jsxs(ke,{children:[c.jsx(d5,{className:"w-4 h-4 mr-2"}),"Add Client"]})]})]})}),c.jsx("div",{className:"flex-1 p-6 overflow-auto",children:y.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(qa,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No clients found"}),c.jsx("p",{className:"text-gray-500",children:f?"Try adjusting your search.":"Clients will appear here after their first appointment."})]}):c.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sessions"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Appointment"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:y.map(v=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:c.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-500 flex items-center justify-center",children:c.jsx("span",{className:"text-sm font-medium text-white",children:(v.name||v.email).charAt(0).toUpperCase()})})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.name||"Unnamed Client"}),c.jsx("div",{className:"text-sm text-gray-500",children:v.email})]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:c.jsx(AN,{className:"w-4 h-4"})}),v.phone&&c.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:c.jsx(RN,{className:"w-4 h-4"})})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v.totalSessions}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v.lastAppointment?v.lastAppointment.toDate().toLocaleDateString():"Never"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:c.jsx(ke,{variant:"outline",size:"sm",onClick:()=>t(`/therapist/clients/${v.id}`),children:"View Profile"})})]},v.id))})]})})})]})]})}function pee(){const t=Ht(),[e,n]=w.useState(null),[r,s]=w.useState({eventTypeMappings:{},syncEnabled:!1,syncFrequencyMinutes:10}),[o,a]=w.useState(!0),[u,h]=w.useState(!1);w.useEffect(()=>{if(!on()){t("/login?tab=signup");return}const v=Or();if(!v||v.role!=="therapist"){t("/login");return}n(v)},[t]),w.useEffect(()=>{if(!(e!=null&&e.id))return;(async()=>{try{const v=await uee(e.id);v&&s(v)}catch(v){console.error("Error loading settings:",v)}finally{a(!1)}})()},[e==null?void 0:e.id]);const f=async()=>{if(e!=null&&e.id){h(!0);try{await dee(e.id,r)}catch(y){console.error("Error saving settings:",y)}finally{h(!1)}}},m=()=>{alert("Calendly OAuth integration would go here")};return o?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):c.jsxs("div",{className:"flex h-screen bg-gray-50",children:[c.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 flex flex-col",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Therapist Portal"})}),c.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[c.jsxs("button",{onClick:()=>t("/therapist/schedule"),className:"w-full flex items-center px-3 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 rounded-md",children:[c.jsx(Ha,{className:"w-5 h-5 mr-3"}),"Schedule"]}),c.jsxs("button",{onClick:()=>t("/therapist/clients"),className:"w-full flex items-center px-3 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 rounded-md",children:[c.jsx(qa,{className:"w-5 h-5 mr-3"}),"Clients"]}),c.jsxs("button",{onClick:()=>t("/therapist/settings"),className:"w-full flex items-center px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-md",children:[c.jsx(Hc,{className:"w-5 h-5 mr-3"}),"Settings"]})]})]}),c.jsx("div",{className:"flex-1 p-6 overflow-auto",children:c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),c.jsx("p",{className:"text-gray-600",children:"Configure your Calendly integration and preferences"})]}),c.jsxs($t,{children:[c.jsxs(nn,{children:[c.jsxs(rn,{className:"flex items-center",children:[c.jsx(IN,{className:"w-5 h-5 mr-2"}),"Calendly Integration"]}),c.jsx(jr,{children:"Connect your Calendly account to automatically sync appointments"})]}),c.jsxs(Wt,{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:"Calendly Account"}),c.jsx("div",{className:"text-sm text-gray-500",children:r.calendlyToken?"Connected":"Not connected"})]}),c.jsxs(ke,{onClick:m,variant:"outline",children:[r.calendlyToken?"Reconnect":"Connect"," Calendly"]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(dt,{htmlFor:"syncEnabled",children:"Auto Sync"}),c.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[c.jsx(km,{id:"syncEnabled",checked:r.syncEnabled,onCheckedChange:y=>s(v=>({...v,syncEnabled:y}))}),c.jsx("span",{className:"text-sm text-gray-600",children:r.syncEnabled?"Enabled":"Disabled"})]})]}),c.jsxs("div",{children:[c.jsx(dt,{htmlFor:"syncFrequency",children:"Sync Frequency (minutes)"}),c.jsx(Et,{id:"syncFrequency",type:"number",value:r.syncFrequencyMinutes,onChange:y=>s(v=>({...v,syncFrequencyMinutes:parseInt(y.target.value)||10})),className:"mt-2",min:"5",max:"60"})]})]}),r.lastSync&&c.jsxs("div",{className:"text-sm text-gray-600",children:["Last sync: ",r.lastSync.toDate().toLocaleString()]})]})]}),c.jsxs($t,{children:[c.jsxs(nn,{children:[c.jsx(rn,{children:"Event Type Mappings"}),c.jsx(jr,{children:"Map your Calendly event types to internal service types"})]}),c.jsx(Wt,{children:c.jsxs("div",{className:"space-y-4",children:[Object.entries(r.eventTypeMappings).map(([y,v])=>c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx(dt,{children:"Calendly Event Type ID"}),c.jsx(Et,{value:y,readOnly:!0,className:"mt-1"})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx(dt,{children:"Service Type"}),c.jsx(Et,{value:v,onChange:E=>{const I={...r.eventTypeMappings};I[y]=E.target.value,s(S=>({...S,eventTypeMappings:I}))},className:"mt-1",placeholder:"e.g., Individual Therapy"})]}),c.jsx(ke,{variant:"outline",size:"sm",onClick:()=>{const E={...r.eventTypeMappings};delete E[y],s(I=>({...I,eventTypeMappings:E}))},className:"mt-6",children:"Remove"})]},y)),c.jsx(ke,{variant:"outline",onClick:()=>{const y={...r.eventTypeMappings},v=`event_${Date.now()}`;y[v]="",s(E=>({...E,eventTypeMappings:y}))},children:"Add Mapping"})]})})]}),c.jsx("div",{className:"flex justify-end",children:c.jsx(ke,{onClick:f,disabled:u,children:u?c.jsxs(c.Fragment,{children:[c.jsx(h5,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Save Settings"})})]})})]})}function mee(){const t=Ht(),{theme:e}=is(),[n,r]=w.useState(null),[s,o]=w.useState(!0),[a,u]=w.useState(!1),[h,f]=w.useState(null),[m,y]=w.useState(!1),[v,E]=w.useState({name:"",phone:"",specialization:"",bio:""});w.useEffect(()=>{if(!on()){t("/login?tab=signup");return}const N=Or();if(!N){t("/login");return}r(N),E(j=>({...j,name:N.name||""})),o(!1)},[t]);const I=T=>{const{name:N,value:j}=T.target;E(k=>({...k,[N]:j}))},S=async T=>{if(T.preventDefault(),!!(n!=null&&n.id)){f(null),u(!0);try{const N={uid:n.id,email:n.email,role:"therapist",name:v.name||n.name,createdAt:No(),updatedAt:No()};await Fc(Un(Ct,"users",n.id),N,{merge:!0});const j={uid:n.id,email:n.email,name:v.name||n.name,phone:v.phone,specialization:v.specialization,bio:v.bio,active:!0,createdAt:No(),updatedAt:No()};await Fc(Un(Ct,"therapists",n.id),j),y(!0),setTimeout(()=>{t("/therapist/dashboard")},2e3)}catch(N){const j=(N==null?void 0:N.message)||"Failed to complete setup. Please try again.";f(j)}finally{u(!1)}}};return s?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20 pt-20 pb-20 px-4",children:c.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-2xl mx-auto",children:[m?c.jsx($t,{className:"border-emerald-200 bg-emerald-50/50 dark:bg-emerald-950/20 dark:border-emerald-900",children:c.jsx(Wt,{className:"pt-8",children:c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("div",{className:"flex justify-center",children:c.jsx(Z4,{className:"w-16 h-16 text-emerald-600 dark:text-emerald-400"})}),c.jsx("h2",{className:"text-2xl font-bold text-emerald-900 dark:text-emerald-100",children:"Setup Complete!"}),c.jsx("p",{className:"text-emerald-800 dark:text-emerald-200",children:"Your therapist profile has been created successfully."}),c.jsx("p",{className:"text-sm text-emerald-700 dark:text-emerald-300",children:"Redirecting to your dashboard..."})]})})}):c.jsxs($t,{children:[c.jsxs(nn,{children:[c.jsx(rn,{children:"Complete Your Therapist Profile"}),c.jsx(jr,{children:"Set up your therapist account to start managing your appointments and clients"})]}),c.jsxs(Wt,{children:[h&&c.jsxs(M.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-900 rounded-lg flex gap-3",children:[c.jsx(Q4,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),c.jsx("div",{className:"text-sm text-red-800 dark:text-red-200",children:h})]}),c.jsxs("form",{onSubmit:S,className:"space-y-6",children:[c.jsxs(M.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"space-y-2",children:[c.jsx(dt,{htmlFor:"name",className:"text-base font-medium",children:"Full Name"}),c.jsx(Et,{id:"name",name:"name",type:"text",placeholder:"Dr. Jane Smith",value:v.name,onChange:I,required:!0,className:"h-10"})]}),c.jsxs(M.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15},className:"space-y-2",children:[c.jsx(dt,{htmlFor:"phone",className:"text-base font-medium",children:"Phone Number (Optional)"}),c.jsx(Et,{id:"phone",name:"phone",type:"tel",placeholder:"+1 (555) 000-0000",value:v.phone,onChange:I,className:"h-10"})]}),c.jsxs(M.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-2",children:[c.jsx(dt,{htmlFor:"specialization",className:"text-base font-medium",children:"Specialization (Optional)"}),c.jsx(Et,{id:"specialization",name:"specialization",type:"text",placeholder:"e.g., Cognitive Behavioral Therapy, Anxiety",value:v.specialization,onChange:I,className:"h-10"})]}),c.jsxs(M.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},className:"space-y-2",children:[c.jsx(dt,{htmlFor:"bio",className:"text-base font-medium",children:"Bio / About You (Optional)"}),c.jsx("textarea",{id:"bio",name:"bio",placeholder:"Tell clients about your approach and experience...",value:v.bio,onChange:I,rows:4,className:"w-full px-3 py-2 border border-input rounded-md bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),c.jsxs(M.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"p-4 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-900 rounded-lg",children:[c.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Important"}),c.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:["Make sure your Calendly account email matches ",c.jsx("strong",{children:n==null?void 0:n.email}),". The system will sync your Calendly appointments every 10 minutes."]})]}),c.jsx(M.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.35},className:"flex gap-3 pt-4",children:c.jsx(ke,{type:"submit",disabled:a,className:"flex-1 h-11",children:a?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Completing Setup..."]}):"Complete Setup"})})]})]})]}),c.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-8 p-6 bg-card border border-border rounded-lg",children:[c.jsx("h3",{className:"font-semibold mb-3 text-foreground",children:"What's Next?"}),c.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[c.jsxs("li",{className:"flex gap-2",children:[c.jsx("span",{className:"text-primary font-bold",children:"1."}),c.jsx("span",{children:"Connect your Calendly account (email must match)"})]}),c.jsxs("li",{className:"flex gap-2",children:[c.jsx("span",{className:"text-primary font-bold",children:"2."}),c.jsx("span",{children:"Appointments will appear in your dashboard automatically"})]}),c.jsxs("li",{className:"flex gap-2",children:[c.jsx("span",{className:"text-primary font-bold",children:"3."}),c.jsx("span",{children:"Start managing clients and tracking sessions"})]})]})]})]})})}function gee(){const t=Ht(),{clientId:e}=jV(),[n,r]=w.useState(null),[s,o]=w.useState(null),[a,u]=w.useState([]),[h,f]=w.useState(!0),[m,y]=w.useState(!1),[v,E]=w.useState("");w.useEffect(()=>{if(!on()){t("/login?tab=signup");return}const N=Or();if(!N||N.role!=="therapist"){t("/login");return}r(N)},[t]),w.useEffect(()=>{if(!(n!=null&&n.id)||!e)return;(async()=>{try{const N=await Vc(Ri(Fs(Ct,"clients"),zs("__name__","==",e)));if(!N.empty){const B={id:N.docs[0].id,...N.docs[0].data()};o(B)}const j=Ri(Fs(Ct,"appointments"),zs("therapistId","==",n.id),zs("clientId","==",e)),$=(await Vc(j)).docs.map(B=>({id:B.id,...B.data()}));u($.sort((B,W)=>W.startTime.toMillis()-B.startTime.toMillis()))}catch(N){console.error("Error loading client data:",N)}finally{f(!1)}})()},[n==null?void 0:n.id,e]);const I=async()=>{if(s){y(!0);try{await lee(s.id,{name:s.name,phone:s.phone,preferredContactMethod:s.preferredContactMethod,tags:s.tags})}catch(T){console.error("Error saving client:",T)}finally{y(!1)}}},S=async()=>{if(!(!s||!v.trim())){y(!0);try{await cee(s.id,v),E("");const T={...s};T.internalNotes=(s.internalNotes||"")+`

`+new Date().toISOString()+": "+v,o(T)}catch(T){console.error("Error adding note:",T)}finally{y(!1)}}};return h?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):s?c.jsxs("div",{className:"flex h-screen bg-gray-50",children:[c.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 flex flex-col",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Therapist Portal"})}),c.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[c.jsxs("button",{onClick:()=>t("/therapist/schedule"),className:"w-full flex items-center px-3 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 rounded-md",children:[c.jsx(Ha,{className:"w-5 h-5 mr-3"}),"Schedule"]}),c.jsxs("button",{onClick:()=>t("/therapist/clients"),className:"w-full flex items-center px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-md",children:[c.jsx(qa,{className:"w-5 h-5 mr-3"}),"Clients"]}),c.jsxs("button",{onClick:()=>t("/therapist/settings"),className:"w-full flex items-center px-3 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 rounded-md",children:[c.jsx(Hc,{className:"w-5 h-5 mr-3"}),"Settings"]})]})]}),c.jsxs("div",{className:"flex-1 flex flex-col",children:[c.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs(ke,{variant:"ghost",size:"sm",onClick:()=>t("/therapist/clients"),children:[c.jsx(X4,{className:"w-4 h-4 mr-2"}),"Back to Clients"]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-medium text-gray-900",children:s.name||"Unnamed Client"}),c.jsx("p",{className:"text-sm text-gray-500",children:s.email})]})]})}),c.jsx("div",{className:"flex-1 p-6 overflow-auto",children:c.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[c.jsxs($t,{children:[c.jsx(nn,{children:c.jsx(rn,{children:"Contact Information"})}),c.jsxs(Wt,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(dt,{htmlFor:"name",children:"Full Name"}),c.jsx(Et,{id:"name",value:s.name||"",onChange:T=>o(N=>N?{...N,name:T.target.value}:null),placeholder:"Client's full name"})]}),c.jsxs("div",{children:[c.jsx(dt,{htmlFor:"email",children:"Email"}),c.jsx(Et,{id:"email",value:s.email,readOnly:!0,className:"bg-gray-50"})]}),c.jsxs("div",{children:[c.jsx(dt,{htmlFor:"phone",children:"Phone"}),c.jsx(Et,{id:"phone",value:s.phone||"",onChange:T=>o(N=>N?{...N,phone:T.target.value}:null),placeholder:"Phone number"})]}),c.jsxs("div",{children:[c.jsx(dt,{htmlFor:"contactMethod",children:"Preferred Contact"}),c.jsxs(Dm,{value:s.preferredContactMethod||"email",onValueChange:T=>o(N=>N?{...N,preferredContactMethod:T}:null),children:[c.jsx(uh,{children:c.jsx(Mm,{})}),c.jsxs(dh,{children:[c.jsx(fr,{value:"email",children:"Email"}),c.jsx(fr,{value:"phone",children:"Phone"})]})]})]}),c.jsx(ke,{onClick:I,disabled:m,className:"w-full",children:m?"Saving...":"Save Changes"})]})]}),c.jsxs($t,{children:[c.jsx(nn,{children:c.jsx(rn,{children:"Quick Stats"})}),c.jsxs(Wt,{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Total Sessions"}),c.jsx("span",{className:"font-medium",children:s.totalSessions})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Last Appointment"}),c.jsx("span",{className:"font-medium",children:s.lastAppointment?s.lastAppointment.toDate().toLocaleDateString():"Never"})]})]})]})]}),c.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c.jsxs($t,{children:[c.jsx(nn,{children:c.jsxs(rn,{className:"flex items-center",children:[c.jsx(CN,{className:"w-5 h-5 mr-2"}),"Appointment History"]})}),c.jsx(Wt,{children:a.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No appointments yet"}):c.jsx("div",{className:"space-y-4",children:a.map(T=>c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"font-medium",children:[T.startTime.toDate().toLocaleDateString()," at"," ",T.startTime.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),c.jsx("div",{className:"text-sm text-gray-600",children:T.serviceType})]}),c.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${T.status==="completed"?"bg-green-100 text-green-800":T.status==="scheduled"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:T.status})]}),T.sessionNotes&&c.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-sm",children:[c.jsx("strong",{children:"Session Notes:"})," ",T.sessionNotes]}),T.internalNotes&&c.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 rounded text-sm",children:[c.jsx("strong",{children:"Internal Notes:"})," ",T.internalNotes]})]},T.id))})})]}),c.jsxs($t,{children:[c.jsxs(nn,{children:[c.jsxs(rn,{className:"flex items-center",children:[c.jsx(NN,{className:"w-5 h-5 mr-2"}),"Internal Notes"]}),c.jsx(jr,{children:"Private notes visible only to you"})]}),c.jsxs(Wt,{className:"space-y-4",children:[c.jsx(ch,{value:v,onChange:T=>E(T.target.value),placeholder:"Add a new note...",rows:3}),c.jsx(ke,{onClick:S,disabled:m||!v.trim(),children:m?"Adding...":"Add Note"}),s.internalNotes&&c.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[c.jsx("h4",{className:"font-medium mb-2",children:"Note History"}),c.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-line",children:s.internalNotes})]})]})]})]})]})})]})]}):c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Client Not Found"}),c.jsx(ke,{onClick:()=>t("/therapist/clients"),children:"Back to Clients"})]})})}function yee(){return c.jsx(c4,{defaultTheme:"light",enableSystem:!0,disableTransitionOnChange:!0,children:c.jsxs("div",{className:"flex min-h-screen flex-col",children:[c.jsx(mJ,{}),c.jsx("main",{className:"flex-1",children:c.jsxs(YV,{children:[c.jsx(Kt,{path:"/",element:c.jsx(wJ,{})}),c.jsx(Kt,{path:"/about",element:c.jsx(_J,{})}),c.jsx(Kt,{path:"/services",element:c.jsx(bJ,{})}),c.jsx(Kt,{path:"/contact",element:c.jsx(EJ,{})}),c.jsx(Kt,{path:"/booking",element:c.jsx(TJ,{})}),c.jsx(Kt,{path:"/login",element:c.jsx(kJ,{})}),c.jsx(Kt,{path:"/terms",element:c.jsx(jJ,{})}),c.jsx(Kt,{path:"/privacy",element:c.jsx(tee,{})}),c.jsx(Kt,{path:"/informed-consent",element:c.jsx(nee,{})}),c.jsx(Kt,{path:"/forgot-password",element:c.jsx(DJ,{})}),c.jsx(Kt,{path:"/profile",element:c.jsx(h0,{children:c.jsx(OJ,{})})}),c.jsx(Kt,{path:"/account-settings",element:c.jsx(h0,{children:c.jsx(gZ,{})})}),c.jsx(Kt,{path:"/preferences",element:c.jsx(h0,{children:c.jsx(eee,{})})}),c.jsx(Kt,{path:"/therapist/schedule",element:c.jsx(hd,{requiredRole:"therapist",children:c.jsx(ZI,{})})}),c.jsx(Kt,{path:"/therapist/dashboard",element:c.jsx(hd,{requiredRole:"therapist",children:c.jsx(ZI,{})})}),c.jsx(Kt,{path:"/therapist/clients",element:c.jsx(hd,{requiredRole:"therapist",children:c.jsx(fee,{})})}),c.jsx(Kt,{path:"/therapist/settings",element:c.jsx(hd,{requiredRole:"therapist",children:c.jsx(pee,{})})}),c.jsx(Kt,{path:"/therapist/setup",element:c.jsx(mee,{})}),c.jsx(Kt,{path:"/therapist/clients/:clientId",element:c.jsx(hd,{requiredRole:"therapist",children:c.jsx(gee,{})})})]})}),c.jsx(yJ,{})]})})}nV.createRoot(document.getElementById("root")).render(c.jsx(mi.StrictMode,{children:c.jsx(r4,{children:c.jsx(yee,{})})}));
