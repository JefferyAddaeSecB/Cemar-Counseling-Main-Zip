function wL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function g0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Uy={exports:{}},zu={},By={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var db;function xL(){if(db)return We;db=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function _($){return $===null||typeof $!="object"?null:($=y&&$[y]||$["@@iterator"],typeof $=="function"?$:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,b={};function C($,te,Ae){this.props=$,this.context=te,this.refs=b,this.updater=Ae||T}C.prototype.isReactComponent={},C.prototype.setState=function($,te){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,te,"setState")},C.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function R(){}R.prototype=C.prototype;function O($,te,Ae){this.props=$,this.context=te,this.refs=b,this.updater=Ae||T}var M=O.prototype=new R;M.constructor=O,I(M,C.prototype),M.isPureReactComponent=!0;var W=Array.isArray,q=Object.prototype.hasOwnProperty,Y={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function A($,te,Ae){var Se,Le={},ke=null,ue=null;if(te!=null)for(Se in te.ref!==void 0&&(ue=te.ref),te.key!==void 0&&(ke=""+te.key),te)q.call(te,Se)&&!P.hasOwnProperty(Se)&&(Le[Se]=te[Se]);var xe=arguments.length-2;if(xe===1)Le.children=Ae;else if(1<xe){for(var Ne=Array(xe),Ve=0;Ve<xe;Ve++)Ne[Ve]=arguments[Ve+2];Le.children=Ne}if($&&$.defaultProps)for(Se in xe=$.defaultProps,xe)Le[Se]===void 0&&(Le[Se]=xe[Se]);return{$$typeof:t,type:$,key:ke,ref:ue,props:Le,_owner:Y.current}}function k($,te){return{$$typeof:t,type:$.type,key:te,ref:$.ref,props:$.props,_owner:$._owner}}function V($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function U($){var te={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(Ae){return te[Ae]})}var B=/\/+/g;function L($,te){return typeof $=="object"&&$!==null&&$.key!=null?U(""+$.key):te.toString(36)}function ye($,te,Ae,Se,Le){var ke=typeof $;(ke==="undefined"||ke==="boolean")&&($=null);var ue=!1;if($===null)ue=!0;else switch(ke){case"string":case"number":ue=!0;break;case"object":switch($.$$typeof){case t:case e:ue=!0}}if(ue)return ue=$,Le=Le(ue),$=Se===""?"."+L(ue,0):Se,W(Le)?(Ae="",$!=null&&(Ae=$.replace(B,"$&/")+"/"),ye(Le,te,Ae,"",function(Ve){return Ve})):Le!=null&&(V(Le)&&(Le=k(Le,Ae+(!Le.key||ue&&ue.key===Le.key?"":(""+Le.key).replace(B,"$&/")+"/")+$)),te.push(Le)),1;if(ue=0,Se=Se===""?".":Se+":",W($))for(var xe=0;xe<$.length;xe++){ke=$[xe];var Ne=Se+L(ke,xe);ue+=ye(ke,te,Ae,Ne,Le)}else if(Ne=_($),typeof Ne=="function")for($=Ne.call($),xe=0;!(ke=$.next()).done;)ke=ke.value,Ne=Se+L(ke,xe++),ue+=ye(ke,te,Ae,Ne,Le);else if(ke==="object")throw te=String($),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return ue}function Ie($,te,Ae){if($==null)return $;var Se=[],Le=0;return ye($,Se,"","",function(ke){return te.call(Ae,ke,Le++)}),Se}function _e($){if($._status===-1){var te=$._result;te=te(),te.then(function(Ae){($._status===0||$._status===-1)&&($._status=1,$._result=Ae)},function(Ae){($._status===0||$._status===-1)&&($._status=2,$._result=Ae)}),$._status===-1&&($._status=0,$._result=te)}if($._status===1)return $._result.default;throw $._result}var he={current:null},Z={transition:null},ee={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:Z,ReactCurrentOwner:Y};function se(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:Ie,forEach:function($,te,Ae){Ie($,function(){te.apply(this,arguments)},Ae)},count:function($){var te=0;return Ie($,function(){te++}),te},toArray:function($){return Ie($,function(te){return te})||[]},only:function($){if(!V($))throw Error("React.Children.only expected to receive a single React element child.");return $}},We.Component=C,We.Fragment=n,We.Profiler=s,We.PureComponent=O,We.StrictMode=r,We.Suspense=d,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,We.act=se,We.cloneElement=function($,te,Ae){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Se=I({},$.props),Le=$.key,ke=$.ref,ue=$._owner;if(te!=null){if(te.ref!==void 0&&(ke=te.ref,ue=Y.current),te.key!==void 0&&(Le=""+te.key),$.type&&$.type.defaultProps)var xe=$.type.defaultProps;for(Ne in te)q.call(te,Ne)&&!P.hasOwnProperty(Ne)&&(Se[Ne]=te[Ne]===void 0&&xe!==void 0?xe[Ne]:te[Ne])}var Ne=arguments.length-2;if(Ne===1)Se.children=Ae;else if(1<Ne){xe=Array(Ne);for(var Ve=0;Ve<Ne;Ve++)xe[Ve]=arguments[Ve+2];Se.children=xe}return{$$typeof:t,type:$.type,key:Le,ref:ke,props:Se,_owner:ue}},We.createContext=function($){return $={$$typeof:a,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:o,_context:$},$.Consumer=$},We.createElement=A,We.createFactory=function($){var te=A.bind(null,$);return te.type=$,te},We.createRef=function(){return{current:null}},We.forwardRef=function($){return{$$typeof:c,render:$}},We.isValidElement=V,We.lazy=function($){return{$$typeof:m,_payload:{_status:-1,_result:$},_init:_e}},We.memo=function($,te){return{$$typeof:f,type:$,compare:te===void 0?null:te}},We.startTransition=function($){var te=Z.transition;Z.transition={};try{$()}finally{Z.transition=te}},We.unstable_act=se,We.useCallback=function($,te){return he.current.useCallback($,te)},We.useContext=function($){return he.current.useContext($)},We.useDebugValue=function(){},We.useDeferredValue=function($){return he.current.useDeferredValue($)},We.useEffect=function($,te){return he.current.useEffect($,te)},We.useId=function(){return he.current.useId()},We.useImperativeHandle=function($,te,Ae){return he.current.useImperativeHandle($,te,Ae)},We.useInsertionEffect=function($,te){return he.current.useInsertionEffect($,te)},We.useLayoutEffect=function($,te){return he.current.useLayoutEffect($,te)},We.useMemo=function($,te){return he.current.useMemo($,te)},We.useReducer=function($,te,Ae){return he.current.useReducer($,te,Ae)},We.useRef=function($){return he.current.useRef($)},We.useState=function($){return he.current.useState($)},We.useSyncExternalStore=function($,te,Ae){return he.current.useSyncExternalStore($,te,Ae)},We.useTransition=function(){return he.current.useTransition()},We.version="18.3.1",We}var hb;function hm(){return hb||(hb=1,By.exports=xL()),By.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fb;function EL(){if(fb)return zu;fb=1;var t=hm(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(c,d,f){var m,y={},_=null,T=null;f!==void 0&&(_=""+f),d.key!==void 0&&(_=""+d.key),d.ref!==void 0&&(T=d.ref);for(m in d)r.call(d,m)&&!o.hasOwnProperty(m)&&(y[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)y[m]===void 0&&(y[m]=d[m]);return{$$typeof:e,type:c,key:_,ref:T,props:y,_owner:s.current}}return zu.Fragment=n,zu.jsx=a,zu.jsxs=a,zu}var pb;function TL(){return pb||(pb=1,Uy.exports=EL()),Uy.exports}var h=TL(),E=hm();const ti=g0(E),y0=wL({__proto__:null,default:ti},[E]);var Mf={},zy={exports:{}},zn={},$y={exports:{}},Wy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mb;function bL(){return mb||(mb=1,function(t){function e(Z,ee){var se=Z.length;Z.push(ee);e:for(;0<se;){var $=se-1>>>1,te=Z[$];if(0<s(te,ee))Z[$]=ee,Z[se]=te,se=$;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var ee=Z[0],se=Z.pop();if(se!==ee){Z[0]=se;e:for(var $=0,te=Z.length,Ae=te>>>1;$<Ae;){var Se=2*($+1)-1,Le=Z[Se],ke=Se+1,ue=Z[ke];if(0>s(Le,se))ke<te&&0>s(ue,Le)?(Z[$]=ue,Z[ke]=se,$=ke):(Z[$]=Le,Z[Se]=se,$=Se);else if(ke<te&&0>s(ue,se))Z[$]=ue,Z[ke]=se,$=ke;else break e}}return ee}function s(Z,ee){var se=Z.sortIndex-ee.sortIndex;return se!==0?se:Z.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var d=[],f=[],m=1,y=null,_=3,T=!1,I=!1,b=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(Z){for(var ee=n(f);ee!==null;){if(ee.callback===null)r(f);else if(ee.startTime<=Z)r(f),ee.sortIndex=ee.expirationTime,e(d,ee);else break;ee=n(f)}}function W(Z){if(b=!1,M(Z),!I)if(n(d)!==null)I=!0,_e(q);else{var ee=n(f);ee!==null&&he(W,ee.startTime-Z)}}function q(Z,ee){I=!1,b&&(b=!1,R(A),A=-1),T=!0;var se=_;try{for(M(ee),y=n(d);y!==null&&(!(y.expirationTime>ee)||Z&&!U());){var $=y.callback;if(typeof $=="function"){y.callback=null,_=y.priorityLevel;var te=$(y.expirationTime<=ee);ee=t.unstable_now(),typeof te=="function"?y.callback=te:y===n(d)&&r(d),M(ee)}else r(d);y=n(d)}if(y!==null)var Ae=!0;else{var Se=n(f);Se!==null&&he(W,Se.startTime-ee),Ae=!1}return Ae}finally{y=null,_=se,T=!1}}var Y=!1,P=null,A=-1,k=5,V=-1;function U(){return!(t.unstable_now()-V<k)}function B(){if(P!==null){var Z=t.unstable_now();V=Z;var ee=!0;try{ee=P(!0,Z)}finally{ee?L():(Y=!1,P=null)}}else Y=!1}var L;if(typeof O=="function")L=function(){O(B)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,Ie=ye.port2;ye.port1.onmessage=B,L=function(){Ie.postMessage(null)}}else L=function(){C(B,0)};function _e(Z){P=Z,Y||(Y=!0,L())}function he(Z,ee){A=C(function(){Z(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){I||T||(I=!0,_e(q))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(Z){switch(_){case 1:case 2:case 3:var ee=3;break;default:ee=_}var se=_;_=ee;try{return Z()}finally{_=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,ee){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var se=_;_=Z;try{return ee()}finally{_=se}},t.unstable_scheduleCallback=function(Z,ee,se){var $=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?$+se:$):se=$,Z){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=se+te,Z={id:m++,callback:ee,priorityLevel:Z,startTime:se,expirationTime:te,sortIndex:-1},se>$?(Z.sortIndex=se,e(f,Z),n(d)===null&&Z===n(f)&&(b?(R(A),A=-1):b=!0,he(W,se-$))):(Z.sortIndex=te,e(d,Z),I||T||(I=!0,_e(q))),Z},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(Z){var ee=_;return function(){var se=_;_=ee;try{return Z.apply(this,arguments)}finally{_=se}}}}(Wy)),Wy}var gb;function SL(){return gb||(gb=1,$y.exports=bL()),$y.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yb;function CL(){if(yb)return zn;yb=1;var t=hm(),e=SL();function n(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,l){a(i,l),a(i+"Capture",l)}function a(i,l){for(s[i]=l,i=0;i<l.length;i++)r.add(l[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function _(i){return d.call(y,i)?!0:d.call(m,i)?!1:f.test(i)?y[i]=!0:(m[i]=!0,!1)}function T(i,l,u,g){if(u!==null&&u.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function I(i,l,u,g){if(l===null||typeof l>"u"||T(i,l,u,g))return!0;if(g)return!1;if(u!==null)switch(u.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function b(i,l,u,g,v,w,N){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=v,this.mustUseProperty=u,this.propertyName=i,this.type=l,this.sanitizeURL=w,this.removeEmptyString=N}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new b(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];C[l]=new b(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new b(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new b(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new b(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new b(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new b(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new b(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new b(i,5,!1,i.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function O(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(R,O);C[l]=new b(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(R,O);C[l]=new b(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(R,O);C[l]=new b(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new b(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new b(i,1,!1,i.toLowerCase(),null,!0,!0)});function M(i,l,u,g){var v=C.hasOwnProperty(l)?C[l]:null;(v!==null?v.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(I(l,u,v,g)&&(u=null),g||v===null?_(l)&&(u===null?i.removeAttribute(l):i.setAttribute(l,""+u)):v.mustUseProperty?i[v.propertyName]=u===null?v.type===3?!1:"":u:(l=v.attributeName,g=v.attributeNamespace,u===null?i.removeAttribute(l):(v=v.type,u=v===3||v===4&&u===!0?"":""+u,g?i.setAttributeNS(g,l,u):i.setAttribute(l,u))))}var W=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),Y=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),U=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),Ie=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),Z=Symbol.iterator;function ee(i){return i===null||typeof i!="object"?null:(i=Z&&i[Z]||i["@@iterator"],typeof i=="function"?i:null)}var se=Object.assign,$;function te(i){if($===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);$=l&&l[1]||""}return`
`+$+i}var Ae=!1;function Se(i,l){if(!i||Ae)return"";Ae=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(X){var g=X}Reflect.construct(i,[],l)}else{try{l.call()}catch(X){g=X}i.call(l.prototype)}else{try{throw Error()}catch(X){g=X}i()}}catch(X){if(X&&g&&typeof X.stack=="string"){for(var v=X.stack.split(`
`),w=g.stack.split(`
`),N=v.length-1,F=w.length-1;1<=N&&0<=F&&v[N]!==w[F];)F--;for(;1<=N&&0<=F;N--,F--)if(v[N]!==w[F]){if(N!==1||F!==1)do if(N--,F--,0>F||v[N]!==w[F]){var z=`
`+v[N].replace(" at new "," at ");return i.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",i.displayName)),z}while(1<=N&&0<=F);break}}}finally{Ae=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?te(i):""}function Le(i){switch(i.tag){case 5:return te(i.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return i=Se(i.type,!1),i;case 11:return i=Se(i.type.render,!1),i;case 1:return i=Se(i.type,!0),i;default:return""}}function ke(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case Y:return"Portal";case k:return"Profiler";case A:return"StrictMode";case L:return"Suspense";case ye:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case U:return(i.displayName||"Context")+".Consumer";case V:return(i._context.displayName||"Context")+".Provider";case B:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ie:return l=i.displayName||null,l!==null?l:ke(i.type)||"Memo";case _e:l=i._payload,i=i._init;try{return ke(i(l))}catch{}}return null}function ue(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(l);case 8:return l===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function xe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ne(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ve(i){var l=Ne(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),g=""+i[l];if(!i.hasOwnProperty(l)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,w=u.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return v.call(this)},set:function(N){g=""+N,w.call(this,N)}}),Object.defineProperty(i,l,{enumerable:u.enumerable}),{getValue:function(){return g},setValue:function(N){g=""+N},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Ye(i){i._valueTracker||(i._valueTracker=Ve(i))}function Je(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var u=l.getValue(),g="";return i&&(g=Ne(i)?i.checked?"true":"false":i.value),i=g,i!==u?(l.setValue(i),!0):!1}function At(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function on(i,l){var u=l.checked;return se({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Xr(i,l){var u=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;u=xe(l.value!=null?l.value:u),i._wrapperState={initialChecked:g,initialValue:u,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function lr(i,l){l=l.checked,l!=null&&M(i,"checked",l,!1)}function Kn(i,l){lr(i,l);var u=xe(l.value),g=l.type;if(u!=null)g==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?mt(i,l.type,u):l.hasOwnProperty("defaultValue")&&mt(i,l.type,xe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function Wo(i,l,u){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,u||l===i.value||(i.value=l),i.defaultValue=l}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function mt(i,l,u){(l!=="number"||At(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Dt=Array.isArray;function Cr(i,l,u,g){if(i=i.options,l){l={};for(var v=0;v<u.length;v++)l["$"+u[v]]=!0;for(u=0;u<i.length;u++)v=l.hasOwnProperty("$"+i[u].value),i[u].selected!==v&&(i[u].selected=v),v&&g&&(i[u].defaultSelected=!0)}else{for(u=""+xe(u),l=null,v=0;v<i.length;v++){if(i[v].value===u){i[v].selected=!0,g&&(i[v].defaultSelected=!0);return}l!==null||i[v].disabled||(l=i[v])}l!==null&&(l.selected=!0)}}function Qc(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return se({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Xc(i,l){var u=l.value;if(u==null){if(u=l.children,l=l.defaultValue,u!=null){if(l!=null)throw Error(n(92));if(Dt(u)){if(1<u.length)throw Error(n(93));u=u[0]}l=u}l==null&&(l=""),u=l}i._wrapperState={initialValue:xe(u)}}function _h(i,l){var u=xe(l.value),g=xe(l.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),l.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),g!=null&&(i.defaultValue=""+g)}function Si(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function Jc(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ol(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?Jc(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ci,wh=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,u,g,v){MSApp.execUnsafeLocalFunction(function(){return i(l,u,g,v)})}:i}(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(Ci=Ci||document.createElement("div"),Ci.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Ci.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function Ho(i,l){if(l){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=l;return}}i.textContent=l}var Ii={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xh=["Webkit","ms","Moz","O"];Object.keys(Ii).forEach(function(i){xh.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),Ii[l]=Ii[i]})});function Ni(i,l,u){return l==null||typeof l=="boolean"||l===""?"":u||typeof l!="number"||l===0||Ii.hasOwnProperty(i)&&Ii[i]?(""+l).trim():l+"px"}function al(i,l){i=i.style;for(var u in l)if(l.hasOwnProperty(u)){var g=u.indexOf("--")===0,v=Ni(u,l[u],g);u==="float"&&(u="cssFloat"),g?i.setProperty(u,v):i[u]=v}}var Zc=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ir(i,l){if(l){if(Zc[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function ll(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ai=null;function cl(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ms=null,js=null,Rt=null;function eu(i){if(i=Iu(i)){if(typeof Ms!="function")throw Error(n(280));var l=i.stateNode;l&&(l=Kh(l),Ms(i.stateNode,i.type,l))}}function Ri(i){js?Rt?Rt.push(i):Rt=[i]:js=i}function Pi(){if(js){var i=js,l=Rt;if(Rt=js=null,eu(i),l)for(i=0;i<l.length;i++)eu(l[i])}}function Eh(i,l){return i(l)}function Th(){}var Jr=!1;function bh(i,l,u){if(Jr)return i(l,u);Jr=!0;try{return Eh(i,l,u)}finally{Jr=!1,(js!==null||Rt!==null)&&(Th(),Pi())}}function qo(i,l){var u=i.stateNode;if(u===null)return null;var g=Kh(u);if(g===null)return null;u=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,l,typeof u));return u}var ki=!1;if(c)try{var Di={};Object.defineProperty(Di,"passive",{get:function(){ki=!0}}),window.addEventListener("test",Di,Di),window.removeEventListener("test",Di,Di)}catch{ki=!1}function Sh(i,l,u,g,v,w,N,F,z){var X=Array.prototype.slice.call(arguments,3);try{l.apply(u,X)}catch(oe){this.onError(oe)}}var Os=!1,Zr=null,ul=!1,cr=null,Ch={onError:function(i){Os=!0,Zr=i}};function Ih(i,l,u,g,v,w,N,F,z){Os=!1,Zr=null,Sh.apply(Ch,arguments)}function tu(i,l,u,g,v,w,N,F,z){if(Ih.apply(this,arguments),Os){if(Os){var X=Zr;Os=!1,Zr=null}else throw Error(n(198));ul||(ul=!0,cr=X)}}function Nr(i){var l=i,u=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(u=l.return),i=l.return;while(i)}return l.tag===3?u:null}function nu(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function Nh(i){if(Nr(i)!==i)throw Error(n(188))}function Ah(i){var l=i.alternate;if(!l){if(l=Nr(i),l===null)throw Error(n(188));return l!==i?null:i}for(var u=i,g=l;;){var v=u.return;if(v===null)break;var w=v.alternate;if(w===null){if(g=v.return,g!==null){u=g;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===u)return Nh(v),i;if(w===g)return Nh(v),l;w=w.sibling}throw Error(n(188))}if(u.return!==g.return)u=v,g=w;else{for(var N=!1,F=v.child;F;){if(F===u){N=!0,u=v,g=w;break}if(F===g){N=!0,g=v,u=w;break}F=F.sibling}if(!N){for(F=w.child;F;){if(F===u){N=!0,u=w,g=v;break}if(F===g){N=!0,g=w,u=v;break}F=F.sibling}if(!N)throw Error(n(189))}}if(u.alternate!==g)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:l}function Rh(i){return i=Ah(i),i!==null?Go(i):null}function Go(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=Go(i);if(l!==null)return l;i=i.sibling}return null}var ru=e.unstable_scheduleCallback,dl=e.unstable_cancelCallback,Ko=e.unstable_shouldYield,Ls=e.unstable_requestPaint,gt=e.unstable_now,yg=e.unstable_getCurrentPriorityLevel,hl=e.unstable_ImmediatePriority,su=e.unstable_UserBlockingPriority,Yo=e.unstable_NormalPriority,iu=e.unstable_LowPriority,fl=e.unstable_IdlePriority,Qo=null,Yn=null;function Ph(i){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(Qo,i,void 0,(i.current.flags&128)===128)}catch{}}var Qn=Math.clz32?Math.clz32:Xo,es=Math.log,ur=Math.LN2;function Xo(i){return i>>>=0,i===0?32:31-(es(i)/ur|0)|0}var ts=64,Mi=4194304;function st(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Vs(i,l){var u=i.pendingLanes;if(u===0)return 0;var g=0,v=i.suspendedLanes,w=i.pingedLanes,N=u&268435455;if(N!==0){var F=N&~v;F!==0?g=st(F):(w&=N,w!==0&&(g=st(w)))}else N=u&~v,N!==0?g=st(N):w!==0&&(g=st(w));if(g===0)return 0;if(l!==0&&l!==g&&(l&v)===0&&(v=g&-g,w=l&-l,v>=w||v===16&&(w&4194240)!==0))return l;if((g&4)!==0&&(g|=u&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=g;0<l;)u=31-Qn(l),v=1<<u,g|=i[u],l&=~v;return g}function Jo(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zo(i,l){for(var u=i.suspendedLanes,g=i.pingedLanes,v=i.expirationTimes,w=i.pendingLanes;0<w;){var N=31-Qn(w),F=1<<N,z=v[N];z===-1?((F&u)===0||(F&g)!==0)&&(v[N]=Jo(F,l)):z<=l&&(i.expiredLanes|=F),w&=~F}}function ou(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function au(){var i=ts;return ts<<=1,(ts&4194240)===0&&(ts=64),i}function lu(i){for(var l=[],u=0;31>u;u++)l.push(i);return l}function ea(i,l,u){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-Qn(l),i[l]=u}function vg(i,l){var u=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<u;){var v=31-Qn(u),w=1<<v;l[v]=0,g[v]=-1,i[v]=-1,u&=~w}}function cu(i,l){var u=i.entangledLanes|=l;for(i=i.entanglements;u;){var g=31-Qn(u),v=1<<g;v&l|i[g]&l&&(i[g]|=l),u&=~v}}var Qe=0;function ns(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var uu,pl,du,hu,fu,rs=!1,ml=[],ss=null,is=null,an=null,ta=new Map,Fs=new Map,Xn=[],kh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ji(i,l){switch(i){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":is=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":ta.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fs.delete(l.pointerId)}}function Ar(i,l,u,g,v,w){return i===null||i.nativeEvent!==w?(i={blockedOn:l,domEventName:u,eventSystemFlags:g,nativeEvent:w,targetContainers:[v]},l!==null&&(l=Iu(l),l!==null&&pl(l)),i):(i.eventSystemFlags|=g,l=i.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),i)}function Dh(i,l,u,g,v){switch(l){case"focusin":return ss=Ar(ss,i,l,u,g,v),!0;case"dragenter":return is=Ar(is,i,l,u,g,v),!0;case"mouseover":return an=Ar(an,i,l,u,g,v),!0;case"pointerover":var w=v.pointerId;return ta.set(w,Ar(ta.get(w)||null,i,l,u,g,v)),!0;case"gotpointercapture":return w=v.pointerId,Fs.set(w,Ar(Fs.get(w)||null,i,l,u,g,v)),!0}return!1}function gl(i){var l=ia(i.target);if(l!==null){var u=Nr(l);if(u!==null){if(l=u.tag,l===13){if(l=nu(u),l!==null){i.blockedOn=l,fu(i.priority,function(){du(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function dt(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var u=yl(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var g=new u.constructor(u.type,u);Ai=g,u.target.dispatchEvent(g),Ai=null}else return l=Iu(u),l!==null&&pl(l),i.blockedOn=u,!1;l.shift()}return!0}function Mh(i,l,u){dt(i)&&u.delete(l)}function _g(){rs=!1,ss!==null&&dt(ss)&&(ss=null),is!==null&&dt(is)&&(is=null),an!==null&&dt(an)&&(an=null),ta.forEach(Mh),Fs.forEach(Mh)}function Oi(i,l){i.blockedOn===l&&(i.blockedOn=null,rs||(rs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,_g)))}function Li(i){function l(v){return Oi(v,i)}if(0<ml.length){Oi(ml[0],i);for(var u=1;u<ml.length;u++){var g=ml[u];g.blockedOn===i&&(g.blockedOn=null)}}for(ss!==null&&Oi(ss,i),is!==null&&Oi(is,i),an!==null&&Oi(an,i),ta.forEach(l),Fs.forEach(l),u=0;u<Xn.length;u++)g=Xn[u],g.blockedOn===i&&(g.blockedOn=null);for(;0<Xn.length&&(u=Xn[0],u.blockedOn===null);)gl(u),u.blockedOn===null&&Xn.shift()}var Us=W.ReactCurrentBatchConfig,Bs=!0;function os(i,l,u,g){var v=Qe,w=Us.transition;Us.transition=null;try{Qe=1,pu(i,l,u,g)}finally{Qe=v,Us.transition=w}}function jh(i,l,u,g){var v=Qe,w=Us.transition;Us.transition=null;try{Qe=4,pu(i,l,u,g)}finally{Qe=v,Us.transition=w}}function pu(i,l,u,g){if(Bs){var v=yl(i,l,u,g);if(v===null)Rg(i,l,g,as,u),ji(i,g);else if(Dh(v,i,l,u,g))g.stopPropagation();else if(ji(i,g),l&4&&-1<kh.indexOf(i)){for(;v!==null;){var w=Iu(v);if(w!==null&&uu(w),w=yl(i,l,u,g),w===null&&Rg(i,l,g,as,u),w===v)break;v=w}v!==null&&g.stopPropagation()}else Rg(i,l,g,null,u)}}var as=null;function yl(i,l,u,g){if(as=null,i=cl(g),i=ia(i),i!==null)if(l=Nr(i),l===null)i=null;else if(u=l.tag,u===13){if(i=nu(l),i!==null)return i;i=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return as=i,null}function vl(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yg()){case hl:return 1;case su:return 4;case Yo:case iu:return 16;case fl:return 536870912;default:return 16}default:return 16}}var Jn=null,_l=null,zs=null;function Oh(){if(zs)return zs;var i,l=_l,u=l.length,g,v="value"in Jn?Jn.value:Jn.textContent,w=v.length;for(i=0;i<u&&l[i]===v[i];i++);var N=u-i;for(g=1;g<=N&&l[u-g]===v[w-g];g++);return zs=v.slice(i,1<g?1-g:void 0)}function na(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function ls(){return!0}function mu(){return!1}function gn(i){function l(u,g,v,w,N){this._reactName=u,this._targetInst=v,this.type=g,this.nativeEvent=w,this.target=N,this.currentTarget=null;for(var F in i)i.hasOwnProperty(F)&&(u=i[F],this[F]=u?u(w):w[F]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ls:mu,this.isPropagationStopped=mu,this}return se(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),l}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ra=gn(cs),Vi=se({},cs,{view:0,detail:0}),wl=gn(Vi),xl,El,Zn,sa=se({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ue,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Zn&&(Zn&&i.type==="mousemove"?(xl=i.screenX-Zn.screenX,El=i.screenY-Zn.screenY):El=xl=0,Zn=i),xl)},movementY:function(i){return"movementY"in i?i.movementY:El}}),gu=gn(sa),Lh=se({},sa,{dataTransfer:0}),Vh=gn(Lh),Tl=se({},Vi,{relatedTarget:0}),ln=gn(Tl),Fh=se({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),Uh=gn(Fh),Fi=se({},cs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),p=gn(Fi),x=se({},cs,{data:0}),S=gn(x),D={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ce(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=J[i])?!!l[i]:!1}function Ue(){return ce}var Mt=se({},Vi,{key:function(i){if(i.key){var l=D[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=na(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?K[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ue,charCode:function(i){return i.type==="keypress"?na(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?na(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),lt=gn(Mt),Ft=se({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),er=gn(Ft),$s=se({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ue}),us=gn($s),ds=se({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),bl=gn(ds),yu=se({},sa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),pO=gn(yu),mO=[9,13,27,32],wg=c&&"CompositionEvent"in window,vu=null;c&&"documentMode"in document&&(vu=document.documentMode);var gO=c&&"TextEvent"in window&&!vu,rE=c&&(!wg||vu&&8<vu&&11>=vu),sE=" ",iE=!1;function oE(i,l){switch(i){case"keyup":return mO.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aE(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Sl=!1;function yO(i,l){switch(i){case"compositionend":return aE(l);case"keypress":return l.which!==32?null:(iE=!0,sE);case"textInput":return i=l.data,i===sE&&iE?null:i;default:return null}}function vO(i,l){if(Sl)return i==="compositionend"||!wg&&oE(i,l)?(i=Oh(),zs=_l=Jn=null,Sl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return rE&&l.locale!=="ko"?null:l.data;default:return null}}var _O={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lE(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!_O[i.type]:l==="textarea"}function cE(i,l,u,g){Ri(g),l=Hh(l,"onChange"),0<l.length&&(u=new ra("onChange","change",null,u,g),i.push({event:u,listeners:l}))}var _u=null,wu=null;function wO(i){IE(i,0)}function Bh(i){var l=Rl(i);if(Je(l))return i}function xO(i,l){if(i==="change")return l}var uE=!1;if(c){var xg;if(c){var Eg="oninput"in document;if(!Eg){var dE=document.createElement("div");dE.setAttribute("oninput","return;"),Eg=typeof dE.oninput=="function"}xg=Eg}else xg=!1;uE=xg&&(!document.documentMode||9<document.documentMode)}function hE(){_u&&(_u.detachEvent("onpropertychange",fE),wu=_u=null)}function fE(i){if(i.propertyName==="value"&&Bh(wu)){var l=[];cE(l,wu,i,cl(i)),bh(wO,l)}}function EO(i,l,u){i==="focusin"?(hE(),_u=l,wu=u,_u.attachEvent("onpropertychange",fE)):i==="focusout"&&hE()}function TO(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Bh(wu)}function bO(i,l){if(i==="click")return Bh(l)}function SO(i,l){if(i==="input"||i==="change")return Bh(l)}function CO(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var Rr=typeof Object.is=="function"?Object.is:CO;function xu(i,l){if(Rr(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var u=Object.keys(i),g=Object.keys(l);if(u.length!==g.length)return!1;for(g=0;g<u.length;g++){var v=u[g];if(!d.call(l,v)||!Rr(i[v],l[v]))return!1}return!0}function pE(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function mE(i,l){var u=pE(i);i=0;for(var g;u;){if(u.nodeType===3){if(g=i+u.textContent.length,i<=l&&g>=l)return{node:u,offset:l-i};i=g}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=pE(u)}}function gE(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?gE(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function yE(){for(var i=window,l=At();l instanceof i.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)i=l.contentWindow;else break;l=At(i.document)}return l}function Tg(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function IO(i){var l=yE(),u=i.focusedElem,g=i.selectionRange;if(l!==u&&u&&u.ownerDocument&&gE(u.ownerDocument.documentElement,u)){if(g!==null&&Tg(u)){if(l=g.start,i=g.end,i===void 0&&(i=l),"selectionStart"in u)u.selectionStart=l,u.selectionEnd=Math.min(i,u.value.length);else if(i=(l=u.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var v=u.textContent.length,w=Math.min(g.start,v);g=g.end===void 0?w:Math.min(g.end,v),!i.extend&&w>g&&(v=g,g=w,w=v),v=mE(u,w);var N=mE(u,g);v&&N&&(i.rangeCount!==1||i.anchorNode!==v.node||i.anchorOffset!==v.offset||i.focusNode!==N.node||i.focusOffset!==N.offset)&&(l=l.createRange(),l.setStart(v.node,v.offset),i.removeAllRanges(),w>g?(i.addRange(l),i.extend(N.node,N.offset)):(l.setEnd(N.node,N.offset),i.addRange(l)))}}for(l=[],i=u;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<l.length;u++)i=l[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var NO=c&&"documentMode"in document&&11>=document.documentMode,Cl=null,bg=null,Eu=null,Sg=!1;function vE(i,l,u){var g=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Sg||Cl==null||Cl!==At(g)||(g=Cl,"selectionStart"in g&&Tg(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Eu&&xu(Eu,g)||(Eu=g,g=Hh(bg,"onSelect"),0<g.length&&(l=new ra("onSelect","select",null,l,u),i.push({event:l,listeners:g}),l.target=Cl)))}function zh(i,l){var u={};return u[i.toLowerCase()]=l.toLowerCase(),u["Webkit"+i]="webkit"+l,u["Moz"+i]="moz"+l,u}var Il={animationend:zh("Animation","AnimationEnd"),animationiteration:zh("Animation","AnimationIteration"),animationstart:zh("Animation","AnimationStart"),transitionend:zh("Transition","TransitionEnd")},Cg={},_E={};c&&(_E=document.createElement("div").style,"AnimationEvent"in window||(delete Il.animationend.animation,delete Il.animationiteration.animation,delete Il.animationstart.animation),"TransitionEvent"in window||delete Il.transitionend.transition);function $h(i){if(Cg[i])return Cg[i];if(!Il[i])return i;var l=Il[i],u;for(u in l)if(l.hasOwnProperty(u)&&u in _E)return Cg[i]=l[u];return i}var wE=$h("animationend"),xE=$h("animationiteration"),EE=$h("animationstart"),TE=$h("transitionend"),bE=new Map,SE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ui(i,l){bE.set(i,l),o(l,[i])}for(var Ig=0;Ig<SE.length;Ig++){var Ng=SE[Ig],AO=Ng.toLowerCase(),RO=Ng[0].toUpperCase()+Ng.slice(1);Ui(AO,"on"+RO)}Ui(wE,"onAnimationEnd"),Ui(xE,"onAnimationIteration"),Ui(EE,"onAnimationStart"),Ui("dblclick","onDoubleClick"),Ui("focusin","onFocus"),Ui("focusout","onBlur"),Ui(TE,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tu));function CE(i,l,u){var g=i.type||"unknown-event";i.currentTarget=u,tu(g,l,void 0,i),i.currentTarget=null}function IE(i,l){l=(l&4)!==0;for(var u=0;u<i.length;u++){var g=i[u],v=g.event;g=g.listeners;e:{var w=void 0;if(l)for(var N=g.length-1;0<=N;N--){var F=g[N],z=F.instance,X=F.currentTarget;if(F=F.listener,z!==w&&v.isPropagationStopped())break e;CE(v,F,X),w=z}else for(N=0;N<g.length;N++){if(F=g[N],z=F.instance,X=F.currentTarget,F=F.listener,z!==w&&v.isPropagationStopped())break e;CE(v,F,X),w=z}}}if(ul)throw i=cr,ul=!1,cr=null,i}function yt(i,l){var u=l[Og];u===void 0&&(u=l[Og]=new Set);var g=i+"__bubble";u.has(g)||(NE(l,i,2,!1),u.add(g))}function Ag(i,l,u){var g=0;l&&(g|=4),NE(u,i,g,l)}var Wh="_reactListening"+Math.random().toString(36).slice(2);function bu(i){if(!i[Wh]){i[Wh]=!0,r.forEach(function(u){u!=="selectionchange"&&(PO.has(u)||Ag(u,!1,i),Ag(u,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Wh]||(l[Wh]=!0,Ag("selectionchange",!1,l))}}function NE(i,l,u,g){switch(vl(l)){case 1:var v=os;break;case 4:v=jh;break;default:v=pu}u=v.bind(null,l,u,i),v=void 0,!ki||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),g?v!==void 0?i.addEventListener(l,u,{capture:!0,passive:v}):i.addEventListener(l,u,!0):v!==void 0?i.addEventListener(l,u,{passive:v}):i.addEventListener(l,u,!1)}function Rg(i,l,u,g,v){var w=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var N=g.tag;if(N===3||N===4){var F=g.stateNode.containerInfo;if(F===v||F.nodeType===8&&F.parentNode===v)break;if(N===4)for(N=g.return;N!==null;){var z=N.tag;if((z===3||z===4)&&(z=N.stateNode.containerInfo,z===v||z.nodeType===8&&z.parentNode===v))return;N=N.return}for(;F!==null;){if(N=ia(F),N===null)return;if(z=N.tag,z===5||z===6){g=w=N;continue e}F=F.parentNode}}g=g.return}bh(function(){var X=w,oe=cl(u),ae=[];e:{var ie=bE.get(i);if(ie!==void 0){var pe=ra,we=i;switch(i){case"keypress":if(na(u)===0)break e;case"keydown":case"keyup":pe=lt;break;case"focusin":we="focus",pe=ln;break;case"focusout":we="blur",pe=ln;break;case"beforeblur":case"afterblur":pe=ln;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=gu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Vh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=us;break;case wE:case xE:case EE:pe=Uh;break;case TE:pe=bl;break;case"scroll":pe=wl;break;case"wheel":pe=pO;break;case"copy":case"cut":case"paste":pe=p;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=er}var Ee=(l&4)!==0,jt=!Ee&&i==="scroll",G=Ee?ie!==null?ie+"Capture":null:ie;Ee=[];for(var H=X,Q;H!==null;){Q=H;var le=Q.stateNode;if(Q.tag===5&&le!==null&&(Q=le,G!==null&&(le=qo(H,G),le!=null&&Ee.push(Su(H,le,Q)))),jt)break;H=H.return}0<Ee.length&&(ie=new pe(ie,we,null,u,oe),ae.push({event:ie,listeners:Ee}))}}if((l&7)===0){e:{if(ie=i==="mouseover"||i==="pointerover",pe=i==="mouseout"||i==="pointerout",ie&&u!==Ai&&(we=u.relatedTarget||u.fromElement)&&(ia(we)||we[Ws]))break e;if((pe||ie)&&(ie=oe.window===oe?oe:(ie=oe.ownerDocument)?ie.defaultView||ie.parentWindow:window,pe?(we=u.relatedTarget||u.toElement,pe=X,we=we?ia(we):null,we!==null&&(jt=Nr(we),we!==jt||we.tag!==5&&we.tag!==6)&&(we=null)):(pe=null,we=X),pe!==we)){if(Ee=gu,le="onMouseLeave",G="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(Ee=er,le="onPointerLeave",G="onPointerEnter",H="pointer"),jt=pe==null?ie:Rl(pe),Q=we==null?ie:Rl(we),ie=new Ee(le,H+"leave",pe,u,oe),ie.target=jt,ie.relatedTarget=Q,le=null,ia(oe)===X&&(Ee=new Ee(G,H+"enter",we,u,oe),Ee.target=Q,Ee.relatedTarget=jt,le=Ee),jt=le,pe&&we)t:{for(Ee=pe,G=we,H=0,Q=Ee;Q;Q=Nl(Q))H++;for(Q=0,le=G;le;le=Nl(le))Q++;for(;0<H-Q;)Ee=Nl(Ee),H--;for(;0<Q-H;)G=Nl(G),Q--;for(;H--;){if(Ee===G||G!==null&&Ee===G.alternate)break t;Ee=Nl(Ee),G=Nl(G)}Ee=null}else Ee=null;pe!==null&&AE(ae,ie,pe,Ee,!1),we!==null&&jt!==null&&AE(ae,jt,we,Ee,!0)}}e:{if(ie=X?Rl(X):window,pe=ie.nodeName&&ie.nodeName.toLowerCase(),pe==="select"||pe==="input"&&ie.type==="file")var be=xO;else if(lE(ie))if(uE)be=SO;else{be=TO;var Re=EO}else(pe=ie.nodeName)&&pe.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(be=bO);if(be&&(be=be(i,X))){cE(ae,be,u,oe);break e}Re&&Re(i,ie,X),i==="focusout"&&(Re=ie._wrapperState)&&Re.controlled&&ie.type==="number"&&mt(ie,"number",ie.value)}switch(Re=X?Rl(X):window,i){case"focusin":(lE(Re)||Re.contentEditable==="true")&&(Cl=Re,bg=X,Eu=null);break;case"focusout":Eu=bg=Cl=null;break;case"mousedown":Sg=!0;break;case"contextmenu":case"mouseup":case"dragend":Sg=!1,vE(ae,u,oe);break;case"selectionchange":if(NO)break;case"keydown":case"keyup":vE(ae,u,oe)}var Pe;if(wg)e:{switch(i){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Sl?oE(i,u)&&(Oe="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Oe="onCompositionStart");Oe&&(rE&&u.locale!=="ko"&&(Sl||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Sl&&(Pe=Oh()):(Jn=oe,_l="value"in Jn?Jn.value:Jn.textContent,Sl=!0)),Re=Hh(X,Oe),0<Re.length&&(Oe=new S(Oe,i,null,u,oe),ae.push({event:Oe,listeners:Re}),Pe?Oe.data=Pe:(Pe=aE(u),Pe!==null&&(Oe.data=Pe)))),(Pe=gO?yO(i,u):vO(i,u))&&(X=Hh(X,"onBeforeInput"),0<X.length&&(oe=new S("onBeforeInput","beforeinput",null,u,oe),ae.push({event:oe,listeners:X}),oe.data=Pe))}IE(ae,l)})}function Su(i,l,u){return{instance:i,listener:l,currentTarget:u}}function Hh(i,l){for(var u=l+"Capture",g=[];i!==null;){var v=i,w=v.stateNode;v.tag===5&&w!==null&&(v=w,w=qo(i,u),w!=null&&g.unshift(Su(i,w,v)),w=qo(i,l),w!=null&&g.push(Su(i,w,v))),i=i.return}return g}function Nl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function AE(i,l,u,g,v){for(var w=l._reactName,N=[];u!==null&&u!==g;){var F=u,z=F.alternate,X=F.stateNode;if(z!==null&&z===g)break;F.tag===5&&X!==null&&(F=X,v?(z=qo(u,w),z!=null&&N.unshift(Su(u,z,F))):v||(z=qo(u,w),z!=null&&N.push(Su(u,z,F)))),u=u.return}N.length!==0&&i.push({event:l,listeners:N})}var kO=/\r\n?/g,DO=/\u0000|\uFFFD/g;function RE(i){return(typeof i=="string"?i:""+i).replace(kO,`
`).replace(DO,"")}function qh(i,l,u){if(l=RE(l),RE(i)!==l&&u)throw Error(n(425))}function Gh(){}var Pg=null,kg=null;function Dg(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Mg=typeof setTimeout=="function"?setTimeout:void 0,MO=typeof clearTimeout=="function"?clearTimeout:void 0,PE=typeof Promise=="function"?Promise:void 0,jO=typeof queueMicrotask=="function"?queueMicrotask:typeof PE<"u"?function(i){return PE.resolve(null).then(i).catch(OO)}:Mg;function OO(i){setTimeout(function(){throw i})}function jg(i,l){var u=l,g=0;do{var v=u.nextSibling;if(i.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(g===0){i.removeChild(v),Li(l);return}g--}else u!=="$"&&u!=="$?"&&u!=="$!"||g++;u=v}while(u);Li(l)}function Bi(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function kE(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return i;l--}else u==="/$"&&l++}i=i.previousSibling}return null}var Al=Math.random().toString(36).slice(2),hs="__reactFiber$"+Al,Cu="__reactProps$"+Al,Ws="__reactContainer$"+Al,Og="__reactEvents$"+Al,LO="__reactListeners$"+Al,VO="__reactHandles$"+Al;function ia(i){var l=i[hs];if(l)return l;for(var u=i.parentNode;u;){if(l=u[Ws]||u[hs]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(i=kE(i);i!==null;){if(u=i[hs])return u;i=kE(i)}return l}i=u,u=i.parentNode}return null}function Iu(i){return i=i[hs]||i[Ws],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Rl(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Kh(i){return i[Cu]||null}var Lg=[],Pl=-1;function zi(i){return{current:i}}function vt(i){0>Pl||(i.current=Lg[Pl],Lg[Pl]=null,Pl--)}function ht(i,l){Pl++,Lg[Pl]=i.current,i.current=l}var $i={},yn=zi($i),Ln=zi(!1),oa=$i;function kl(i,l){var u=i.type.contextTypes;if(!u)return $i;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var v={},w;for(w in u)v[w]=l[w];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=v),v}function Vn(i){return i=i.childContextTypes,i!=null}function Yh(){vt(Ln),vt(yn)}function DE(i,l,u){if(yn.current!==$i)throw Error(n(168));ht(yn,l),ht(Ln,u)}function ME(i,l,u){var g=i.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return u;g=g.getChildContext();for(var v in g)if(!(v in l))throw Error(n(108,ue(i)||"Unknown",v));return se({},u,g)}function Qh(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||$i,oa=yn.current,ht(yn,i),ht(Ln,Ln.current),!0}function jE(i,l,u){var g=i.stateNode;if(!g)throw Error(n(169));u?(i=ME(i,l,oa),g.__reactInternalMemoizedMergedChildContext=i,vt(Ln),vt(yn),ht(yn,i)):vt(Ln),ht(Ln,u)}var Hs=null,Xh=!1,Vg=!1;function OE(i){Hs===null?Hs=[i]:Hs.push(i)}function FO(i){Xh=!0,OE(i)}function Wi(){if(!Vg&&Hs!==null){Vg=!0;var i=0,l=Qe;try{var u=Hs;for(Qe=1;i<u.length;i++){var g=u[i];do g=g(!0);while(g!==null)}Hs=null,Xh=!1}catch(v){throw Hs!==null&&(Hs=Hs.slice(i+1)),ru(hl,Wi),v}finally{Qe=l,Vg=!1}}return null}var Dl=[],Ml=0,Jh=null,Zh=0,dr=[],hr=0,aa=null,qs=1,Gs="";function la(i,l){Dl[Ml++]=Zh,Dl[Ml++]=Jh,Jh=i,Zh=l}function LE(i,l,u){dr[hr++]=qs,dr[hr++]=Gs,dr[hr++]=aa,aa=i;var g=qs;i=Gs;var v=32-Qn(g)-1;g&=~(1<<v),u+=1;var w=32-Qn(l)+v;if(30<w){var N=v-v%5;w=(g&(1<<N)-1).toString(32),g>>=N,v-=N,qs=1<<32-Qn(l)+v|u<<v|g,Gs=w+i}else qs=1<<w|u<<v|g,Gs=i}function Fg(i){i.return!==null&&(la(i,1),LE(i,1,0))}function Ug(i){for(;i===Jh;)Jh=Dl[--Ml],Dl[Ml]=null,Zh=Dl[--Ml],Dl[Ml]=null;for(;i===aa;)aa=dr[--hr],dr[hr]=null,Gs=dr[--hr],dr[hr]=null,qs=dr[--hr],dr[hr]=null}var tr=null,nr=null,Tt=!1,Pr=null;function VE(i,l){var u=gr(5,null,null,0);u.elementType="DELETED",u.stateNode=l,u.return=i,l=i.deletions,l===null?(i.deletions=[u],i.flags|=16):l.push(u)}function FE(i,l){switch(i.tag){case 5:var u=i.type;return l=l.nodeType!==1||u.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,tr=i,nr=Bi(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,tr=i,nr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(u=aa!==null?{id:qs,overflow:Gs}:null,i.memoizedState={dehydrated:l,treeContext:u,retryLane:1073741824},u=gr(18,null,null,0),u.stateNode=l,u.return=i,i.child=u,tr=i,nr=null,!0):!1;default:return!1}}function Bg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function zg(i){if(Tt){var l=nr;if(l){var u=l;if(!FE(i,l)){if(Bg(i))throw Error(n(418));l=Bi(u.nextSibling);var g=tr;l&&FE(i,l)?VE(g,u):(i.flags=i.flags&-4097|2,Tt=!1,tr=i)}}else{if(Bg(i))throw Error(n(418));i.flags=i.flags&-4097|2,Tt=!1,tr=i}}}function UE(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;tr=i}function ef(i){if(i!==tr)return!1;if(!Tt)return UE(i),Tt=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!Dg(i.type,i.memoizedProps)),l&&(l=nr)){if(Bg(i))throw BE(),Error(n(418));for(;l;)VE(i,l),l=Bi(l.nextSibling)}if(UE(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(l===0){nr=Bi(i.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++}i=i.nextSibling}nr=null}}else nr=tr?Bi(i.stateNode.nextSibling):null;return!0}function BE(){for(var i=nr;i;)i=Bi(i.nextSibling)}function jl(){nr=tr=null,Tt=!1}function $g(i){Pr===null?Pr=[i]:Pr.push(i)}var UO=W.ReactCurrentBatchConfig;function Nu(i,l,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var g=u.stateNode}if(!g)throw Error(n(147,i));var v=g,w=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===w?l.ref:(l=function(N){var F=v.refs;N===null?delete F[w]:F[w]=N},l._stringRef=w,l)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function tf(i,l){throw i=Object.prototype.toString.call(l),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function zE(i){var l=i._init;return l(i._payload)}function $E(i){function l(G,H){if(i){var Q=G.deletions;Q===null?(G.deletions=[H],G.flags|=16):Q.push(H)}}function u(G,H){if(!i)return null;for(;H!==null;)l(G,H),H=H.sibling;return null}function g(G,H){for(G=new Map;H!==null;)H.key!==null?G.set(H.key,H):G.set(H.index,H),H=H.sibling;return G}function v(G,H){return G=Ji(G,H),G.index=0,G.sibling=null,G}function w(G,H,Q){return G.index=Q,i?(Q=G.alternate,Q!==null?(Q=Q.index,Q<H?(G.flags|=2,H):Q):(G.flags|=2,H)):(G.flags|=1048576,H)}function N(G){return i&&G.alternate===null&&(G.flags|=2),G}function F(G,H,Q,le){return H===null||H.tag!==6?(H=My(Q,G.mode,le),H.return=G,H):(H=v(H,Q),H.return=G,H)}function z(G,H,Q,le){var be=Q.type;return be===P?oe(G,H,Q.props.children,le,Q.key):H!==null&&(H.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===_e&&zE(be)===H.type)?(le=v(H,Q.props),le.ref=Nu(G,H,Q),le.return=G,le):(le=Cf(Q.type,Q.key,Q.props,null,G.mode,le),le.ref=Nu(G,H,Q),le.return=G,le)}function X(G,H,Q,le){return H===null||H.tag!==4||H.stateNode.containerInfo!==Q.containerInfo||H.stateNode.implementation!==Q.implementation?(H=jy(Q,G.mode,le),H.return=G,H):(H=v(H,Q.children||[]),H.return=G,H)}function oe(G,H,Q,le,be){return H===null||H.tag!==7?(H=ga(Q,G.mode,le,be),H.return=G,H):(H=v(H,Q),H.return=G,H)}function ae(G,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number")return H=My(""+H,G.mode,Q),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case q:return Q=Cf(H.type,H.key,H.props,null,G.mode,Q),Q.ref=Nu(G,null,H),Q.return=G,Q;case Y:return H=jy(H,G.mode,Q),H.return=G,H;case _e:var le=H._init;return ae(G,le(H._payload),Q)}if(Dt(H)||ee(H))return H=ga(H,G.mode,Q,null),H.return=G,H;tf(G,H)}return null}function ie(G,H,Q,le){var be=H!==null?H.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return be!==null?null:F(G,H,""+Q,le);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case q:return Q.key===be?z(G,H,Q,le):null;case Y:return Q.key===be?X(G,H,Q,le):null;case _e:return be=Q._init,ie(G,H,be(Q._payload),le)}if(Dt(Q)||ee(Q))return be!==null?null:oe(G,H,Q,le,null);tf(G,Q)}return null}function pe(G,H,Q,le,be){if(typeof le=="string"&&le!==""||typeof le=="number")return G=G.get(Q)||null,F(H,G,""+le,be);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case q:return G=G.get(le.key===null?Q:le.key)||null,z(H,G,le,be);case Y:return G=G.get(le.key===null?Q:le.key)||null,X(H,G,le,be);case _e:var Re=le._init;return pe(G,H,Q,Re(le._payload),be)}if(Dt(le)||ee(le))return G=G.get(Q)||null,oe(H,G,le,be,null);tf(H,le)}return null}function we(G,H,Q,le){for(var be=null,Re=null,Pe=H,Oe=H=0,Jt=null;Pe!==null&&Oe<Q.length;Oe++){Pe.index>Oe?(Jt=Pe,Pe=null):Jt=Pe.sibling;var rt=ie(G,Pe,Q[Oe],le);if(rt===null){Pe===null&&(Pe=Jt);break}i&&Pe&&rt.alternate===null&&l(G,Pe),H=w(rt,H,Oe),Re===null?be=rt:Re.sibling=rt,Re=rt,Pe=Jt}if(Oe===Q.length)return u(G,Pe),Tt&&la(G,Oe),be;if(Pe===null){for(;Oe<Q.length;Oe++)Pe=ae(G,Q[Oe],le),Pe!==null&&(H=w(Pe,H,Oe),Re===null?be=Pe:Re.sibling=Pe,Re=Pe);return Tt&&la(G,Oe),be}for(Pe=g(G,Pe);Oe<Q.length;Oe++)Jt=pe(Pe,G,Oe,Q[Oe],le),Jt!==null&&(i&&Jt.alternate!==null&&Pe.delete(Jt.key===null?Oe:Jt.key),H=w(Jt,H,Oe),Re===null?be=Jt:Re.sibling=Jt,Re=Jt);return i&&Pe.forEach(function(Zi){return l(G,Zi)}),Tt&&la(G,Oe),be}function Ee(G,H,Q,le){var be=ee(Q);if(typeof be!="function")throw Error(n(150));if(Q=be.call(Q),Q==null)throw Error(n(151));for(var Re=be=null,Pe=H,Oe=H=0,Jt=null,rt=Q.next();Pe!==null&&!rt.done;Oe++,rt=Q.next()){Pe.index>Oe?(Jt=Pe,Pe=null):Jt=Pe.sibling;var Zi=ie(G,Pe,rt.value,le);if(Zi===null){Pe===null&&(Pe=Jt);break}i&&Pe&&Zi.alternate===null&&l(G,Pe),H=w(Zi,H,Oe),Re===null?be=Zi:Re.sibling=Zi,Re=Zi,Pe=Jt}if(rt.done)return u(G,Pe),Tt&&la(G,Oe),be;if(Pe===null){for(;!rt.done;Oe++,rt=Q.next())rt=ae(G,rt.value,le),rt!==null&&(H=w(rt,H,Oe),Re===null?be=rt:Re.sibling=rt,Re=rt);return Tt&&la(G,Oe),be}for(Pe=g(G,Pe);!rt.done;Oe++,rt=Q.next())rt=pe(Pe,G,Oe,rt.value,le),rt!==null&&(i&&rt.alternate!==null&&Pe.delete(rt.key===null?Oe:rt.key),H=w(rt,H,Oe),Re===null?be=rt:Re.sibling=rt,Re=rt);return i&&Pe.forEach(function(_L){return l(G,_L)}),Tt&&la(G,Oe),be}function jt(G,H,Q,le){if(typeof Q=="object"&&Q!==null&&Q.type===P&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case q:e:{for(var be=Q.key,Re=H;Re!==null;){if(Re.key===be){if(be=Q.type,be===P){if(Re.tag===7){u(G,Re.sibling),H=v(Re,Q.props.children),H.return=G,G=H;break e}}else if(Re.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===_e&&zE(be)===Re.type){u(G,Re.sibling),H=v(Re,Q.props),H.ref=Nu(G,Re,Q),H.return=G,G=H;break e}u(G,Re);break}else l(G,Re);Re=Re.sibling}Q.type===P?(H=ga(Q.props.children,G.mode,le,Q.key),H.return=G,G=H):(le=Cf(Q.type,Q.key,Q.props,null,G.mode,le),le.ref=Nu(G,H,Q),le.return=G,G=le)}return N(G);case Y:e:{for(Re=Q.key;H!==null;){if(H.key===Re)if(H.tag===4&&H.stateNode.containerInfo===Q.containerInfo&&H.stateNode.implementation===Q.implementation){u(G,H.sibling),H=v(H,Q.children||[]),H.return=G,G=H;break e}else{u(G,H);break}else l(G,H);H=H.sibling}H=jy(Q,G.mode,le),H.return=G,G=H}return N(G);case _e:return Re=Q._init,jt(G,H,Re(Q._payload),le)}if(Dt(Q))return we(G,H,Q,le);if(ee(Q))return Ee(G,H,Q,le);tf(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,H!==null&&H.tag===6?(u(G,H.sibling),H=v(H,Q),H.return=G,G=H):(u(G,H),H=My(Q,G.mode,le),H.return=G,G=H),N(G)):u(G,H)}return jt}var Ol=$E(!0),WE=$E(!1),nf=zi(null),rf=null,Ll=null,Wg=null;function Hg(){Wg=Ll=rf=null}function qg(i){var l=nf.current;vt(nf),i._currentValue=l}function Gg(i,l,u){for(;i!==null;){var g=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),i===u)break;i=i.return}}function Vl(i,l){rf=i,Wg=Ll=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(Fn=!0),i.firstContext=null)}function fr(i){var l=i._currentValue;if(Wg!==i)if(i={context:i,memoizedValue:l,next:null},Ll===null){if(rf===null)throw Error(n(308));Ll=i,rf.dependencies={lanes:0,firstContext:i}}else Ll=Ll.next=i;return l}var ca=null;function Kg(i){ca===null?ca=[i]:ca.push(i)}function HE(i,l,u,g){var v=l.interleaved;return v===null?(u.next=u,Kg(l)):(u.next=v.next,v.next=u),l.interleaved=u,Ks(i,g)}function Ks(i,l){i.lanes|=l;var u=i.alternate;for(u!==null&&(u.lanes|=l),u=i,i=i.return;i!==null;)i.childLanes|=l,u=i.alternate,u!==null&&(u.childLanes|=l),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Hi=!1;function Yg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qE(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Ys(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function qi(i,l,u){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(nt&2)!==0){var v=g.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),g.pending=l,Ks(i,u)}return v=g.interleaved,v===null?(l.next=l,Kg(g)):(l.next=v.next,v.next=l),g.interleaved=l,Ks(i,u)}function sf(i,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194240)!==0)){var g=l.lanes;g&=i.pendingLanes,u|=g,l.lanes=u,cu(i,u)}}function GE(i,l){var u=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,u===g)){var v=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var N={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?v=w=N:w=w.next=N,u=u.next}while(u!==null);w===null?v=w=l:w=w.next=l}else v=w=l;u={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:g.shared,effects:g.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=l:i.next=l,u.lastBaseUpdate=l}function of(i,l,u,g){var v=i.updateQueue;Hi=!1;var w=v.firstBaseUpdate,N=v.lastBaseUpdate,F=v.shared.pending;if(F!==null){v.shared.pending=null;var z=F,X=z.next;z.next=null,N===null?w=X:N.next=X,N=z;var oe=i.alternate;oe!==null&&(oe=oe.updateQueue,F=oe.lastBaseUpdate,F!==N&&(F===null?oe.firstBaseUpdate=X:F.next=X,oe.lastBaseUpdate=z))}if(w!==null){var ae=v.baseState;N=0,oe=X=z=null,F=w;do{var ie=F.lane,pe=F.eventTime;if((g&ie)===ie){oe!==null&&(oe=oe.next={eventTime:pe,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var we=i,Ee=F;switch(ie=l,pe=u,Ee.tag){case 1:if(we=Ee.payload,typeof we=="function"){ae=we.call(pe,ae,ie);break e}ae=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Ee.payload,ie=typeof we=="function"?we.call(pe,ae,ie):we,ie==null)break e;ae=se({},ae,ie);break e;case 2:Hi=!0}}F.callback!==null&&F.lane!==0&&(i.flags|=64,ie=v.effects,ie===null?v.effects=[F]:ie.push(F))}else pe={eventTime:pe,lane:ie,tag:F.tag,payload:F.payload,callback:F.callback,next:null},oe===null?(X=oe=pe,z=ae):oe=oe.next=pe,N|=ie;if(F=F.next,F===null){if(F=v.shared.pending,F===null)break;ie=F,F=ie.next,ie.next=null,v.lastBaseUpdate=ie,v.shared.pending=null}}while(!0);if(oe===null&&(z=ae),v.baseState=z,v.firstBaseUpdate=X,v.lastBaseUpdate=oe,l=v.shared.interleaved,l!==null){v=l;do N|=v.lane,v=v.next;while(v!==l)}else w===null&&(v.shared.lanes=0);ha|=N,i.lanes=N,i.memoizedState=ae}}function KE(i,l,u){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var g=i[l],v=g.callback;if(v!==null){if(g.callback=null,g=u,typeof v!="function")throw Error(n(191,v));v.call(g)}}}var Au={},fs=zi(Au),Ru=zi(Au),Pu=zi(Au);function ua(i){if(i===Au)throw Error(n(174));return i}function Qg(i,l){switch(ht(Pu,l),ht(Ru,i),ht(fs,Au),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:ol(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=ol(l,i)}vt(fs),ht(fs,l)}function Fl(){vt(fs),vt(Ru),vt(Pu)}function YE(i){ua(Pu.current);var l=ua(fs.current),u=ol(l,i.type);l!==u&&(ht(Ru,i),ht(fs,u))}function Xg(i){Ru.current===i&&(vt(fs),vt(Ru))}var bt=zi(0);function af(i){for(var l=i;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Jg=[];function Zg(){for(var i=0;i<Jg.length;i++)Jg[i]._workInProgressVersionPrimary=null;Jg.length=0}var lf=W.ReactCurrentDispatcher,ey=W.ReactCurrentBatchConfig,da=0,St=null,qt=null,Qt=null,cf=!1,ku=!1,Du=0,BO=0;function vn(){throw Error(n(321))}function ty(i,l){if(l===null)return!1;for(var u=0;u<l.length&&u<i.length;u++)if(!Rr(i[u],l[u]))return!1;return!0}function ny(i,l,u,g,v,w){if(da=w,St=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,lf.current=i===null||i.memoizedState===null?HO:qO,i=u(g,v),ku){w=0;do{if(ku=!1,Du=0,25<=w)throw Error(n(301));w+=1,Qt=qt=null,l.updateQueue=null,lf.current=GO,i=u(g,v)}while(ku)}if(lf.current=hf,l=qt!==null&&qt.next!==null,da=0,Qt=qt=St=null,cf=!1,l)throw Error(n(300));return i}function ry(){var i=Du!==0;return Du=0,i}function ps(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?St.memoizedState=Qt=i:Qt=Qt.next=i,Qt}function pr(){if(qt===null){var i=St.alternate;i=i!==null?i.memoizedState:null}else i=qt.next;var l=Qt===null?St.memoizedState:Qt.next;if(l!==null)Qt=l,qt=i;else{if(i===null)throw Error(n(310));qt=i,i={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Qt===null?St.memoizedState=Qt=i:Qt=Qt.next=i}return Qt}function Mu(i,l){return typeof l=="function"?l(i):l}function sy(i){var l=pr(),u=l.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var g=qt,v=g.baseQueue,w=u.pending;if(w!==null){if(v!==null){var N=v.next;v.next=w.next,w.next=N}g.baseQueue=v=w,u.pending=null}if(v!==null){w=v.next,g=g.baseState;var F=N=null,z=null,X=w;do{var oe=X.lane;if((da&oe)===oe)z!==null&&(z=z.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),g=X.hasEagerState?X.eagerState:i(g,X.action);else{var ae={lane:oe,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};z===null?(F=z=ae,N=g):z=z.next=ae,St.lanes|=oe,ha|=oe}X=X.next}while(X!==null&&X!==w);z===null?N=g:z.next=F,Rr(g,l.memoizedState)||(Fn=!0),l.memoizedState=g,l.baseState=N,l.baseQueue=z,u.lastRenderedState=g}if(i=u.interleaved,i!==null){v=i;do w=v.lane,St.lanes|=w,ha|=w,v=v.next;while(v!==i)}else v===null&&(u.lanes=0);return[l.memoizedState,u.dispatch]}function iy(i){var l=pr(),u=l.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var g=u.dispatch,v=u.pending,w=l.memoizedState;if(v!==null){u.pending=null;var N=v=v.next;do w=i(w,N.action),N=N.next;while(N!==v);Rr(w,l.memoizedState)||(Fn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),u.lastRenderedState=w}return[w,g]}function QE(){}function XE(i,l){var u=St,g=pr(),v=l(),w=!Rr(g.memoizedState,v);if(w&&(g.memoizedState=v,Fn=!0),g=g.queue,oy(eT.bind(null,u,g,i),[i]),g.getSnapshot!==l||w||Qt!==null&&Qt.memoizedState.tag&1){if(u.flags|=2048,ju(9,ZE.bind(null,u,g,v,l),void 0,null),Xt===null)throw Error(n(349));(da&30)!==0||JE(u,l,v)}return v}function JE(i,l,u){i.flags|=16384,i={getSnapshot:l,value:u},l=St.updateQueue,l===null?(l={lastEffect:null,stores:null},St.updateQueue=l,l.stores=[i]):(u=l.stores,u===null?l.stores=[i]:u.push(i))}function ZE(i,l,u,g){l.value=u,l.getSnapshot=g,tT(l)&&nT(i)}function eT(i,l,u){return u(function(){tT(l)&&nT(i)})}function tT(i){var l=i.getSnapshot;i=i.value;try{var u=l();return!Rr(i,u)}catch{return!0}}function nT(i){var l=Ks(i,1);l!==null&&jr(l,i,1,-1)}function rT(i){var l=ps();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mu,lastRenderedState:i},l.queue=i,i=i.dispatch=WO.bind(null,St,i),[l.memoizedState,i]}function ju(i,l,u,g){return i={tag:i,create:l,destroy:u,deps:g,next:null},l=St.updateQueue,l===null?(l={lastEffect:null,stores:null},St.updateQueue=l,l.lastEffect=i.next=i):(u=l.lastEffect,u===null?l.lastEffect=i.next=i:(g=u.next,u.next=i,i.next=g,l.lastEffect=i)),i}function sT(){return pr().memoizedState}function uf(i,l,u,g){var v=ps();St.flags|=i,v.memoizedState=ju(1|l,u,void 0,g===void 0?null:g)}function df(i,l,u,g){var v=pr();g=g===void 0?null:g;var w=void 0;if(qt!==null){var N=qt.memoizedState;if(w=N.destroy,g!==null&&ty(g,N.deps)){v.memoizedState=ju(l,u,w,g);return}}St.flags|=i,v.memoizedState=ju(1|l,u,w,g)}function iT(i,l){return uf(8390656,8,i,l)}function oy(i,l){return df(2048,8,i,l)}function oT(i,l){return df(4,2,i,l)}function aT(i,l){return df(4,4,i,l)}function lT(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function cT(i,l,u){return u=u!=null?u.concat([i]):null,df(4,4,lT.bind(null,l,i),u)}function ay(){}function uT(i,l){var u=pr();l=l===void 0?null:l;var g=u.memoizedState;return g!==null&&l!==null&&ty(l,g[1])?g[0]:(u.memoizedState=[i,l],i)}function dT(i,l){var u=pr();l=l===void 0?null:l;var g=u.memoizedState;return g!==null&&l!==null&&ty(l,g[1])?g[0]:(i=i(),u.memoizedState=[i,l],i)}function hT(i,l,u){return(da&21)===0?(i.baseState&&(i.baseState=!1,Fn=!0),i.memoizedState=u):(Rr(u,l)||(u=au(),St.lanes|=u,ha|=u,i.baseState=!0),l)}function zO(i,l){var u=Qe;Qe=u!==0&&4>u?u:4,i(!0);var g=ey.transition;ey.transition={};try{i(!1),l()}finally{Qe=u,ey.transition=g}}function fT(){return pr().memoizedState}function $O(i,l,u){var g=Qi(i);if(u={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null},pT(i))mT(l,u);else if(u=HE(i,l,u,g),u!==null){var v=Pn();jr(u,i,g,v),gT(u,l,g)}}function WO(i,l,u){var g=Qi(i),v={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null};if(pT(i))mT(l,v);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var N=l.lastRenderedState,F=w(N,u);if(v.hasEagerState=!0,v.eagerState=F,Rr(F,N)){var z=l.interleaved;z===null?(v.next=v,Kg(l)):(v.next=z.next,z.next=v),l.interleaved=v;return}}catch{}finally{}u=HE(i,l,v,g),u!==null&&(v=Pn(),jr(u,i,g,v),gT(u,l,g))}}function pT(i){var l=i.alternate;return i===St||l!==null&&l===St}function mT(i,l){ku=cf=!0;var u=i.pending;u===null?l.next=l:(l.next=u.next,u.next=l),i.pending=l}function gT(i,l,u){if((u&4194240)!==0){var g=l.lanes;g&=i.pendingLanes,u|=g,l.lanes=u,cu(i,u)}}var hf={readContext:fr,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useInsertionEffect:vn,useLayoutEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useMutableSource:vn,useSyncExternalStore:vn,useId:vn,unstable_isNewReconciler:!1},HO={readContext:fr,useCallback:function(i,l){return ps().memoizedState=[i,l===void 0?null:l],i},useContext:fr,useEffect:iT,useImperativeHandle:function(i,l,u){return u=u!=null?u.concat([i]):null,uf(4194308,4,lT.bind(null,l,i),u)},useLayoutEffect:function(i,l){return uf(4194308,4,i,l)},useInsertionEffect:function(i,l){return uf(4,2,i,l)},useMemo:function(i,l){var u=ps();return l=l===void 0?null:l,i=i(),u.memoizedState=[i,l],i},useReducer:function(i,l,u){var g=ps();return l=u!==void 0?u(l):l,g.memoizedState=g.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},g.queue=i,i=i.dispatch=$O.bind(null,St,i),[g.memoizedState,i]},useRef:function(i){var l=ps();return i={current:i},l.memoizedState=i},useState:rT,useDebugValue:ay,useDeferredValue:function(i){return ps().memoizedState=i},useTransition:function(){var i=rT(!1),l=i[0];return i=zO.bind(null,i[1]),ps().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,u){var g=St,v=ps();if(Tt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=l(),Xt===null)throw Error(n(349));(da&30)!==0||JE(g,l,u)}v.memoizedState=u;var w={value:u,getSnapshot:l};return v.queue=w,iT(eT.bind(null,g,w,i),[i]),g.flags|=2048,ju(9,ZE.bind(null,g,w,u,l),void 0,null),u},useId:function(){var i=ps(),l=Xt.identifierPrefix;if(Tt){var u=Gs,g=qs;u=(g&~(1<<32-Qn(g)-1)).toString(32)+u,l=":"+l+"R"+u,u=Du++,0<u&&(l+="H"+u.toString(32)),l+=":"}else u=BO++,l=":"+l+"r"+u.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},qO={readContext:fr,useCallback:uT,useContext:fr,useEffect:oy,useImperativeHandle:cT,useInsertionEffect:oT,useLayoutEffect:aT,useMemo:dT,useReducer:sy,useRef:sT,useState:function(){return sy(Mu)},useDebugValue:ay,useDeferredValue:function(i){var l=pr();return hT(l,qt.memoizedState,i)},useTransition:function(){var i=sy(Mu)[0],l=pr().memoizedState;return[i,l]},useMutableSource:QE,useSyncExternalStore:XE,useId:fT,unstable_isNewReconciler:!1},GO={readContext:fr,useCallback:uT,useContext:fr,useEffect:oy,useImperativeHandle:cT,useInsertionEffect:oT,useLayoutEffect:aT,useMemo:dT,useReducer:iy,useRef:sT,useState:function(){return iy(Mu)},useDebugValue:ay,useDeferredValue:function(i){var l=pr();return qt===null?l.memoizedState=i:hT(l,qt.memoizedState,i)},useTransition:function(){var i=iy(Mu)[0],l=pr().memoizedState;return[i,l]},useMutableSource:QE,useSyncExternalStore:XE,useId:fT,unstable_isNewReconciler:!1};function kr(i,l){if(i&&i.defaultProps){l=se({},l),i=i.defaultProps;for(var u in i)l[u]===void 0&&(l[u]=i[u]);return l}return l}function ly(i,l,u,g){l=i.memoizedState,u=u(g,l),u=u==null?l:se({},l,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var ff={isMounted:function(i){return(i=i._reactInternals)?Nr(i)===i:!1},enqueueSetState:function(i,l,u){i=i._reactInternals;var g=Pn(),v=Qi(i),w=Ys(g,v);w.payload=l,u!=null&&(w.callback=u),l=qi(i,w,v),l!==null&&(jr(l,i,v,g),sf(l,i,v))},enqueueReplaceState:function(i,l,u){i=i._reactInternals;var g=Pn(),v=Qi(i),w=Ys(g,v);w.tag=1,w.payload=l,u!=null&&(w.callback=u),l=qi(i,w,v),l!==null&&(jr(l,i,v,g),sf(l,i,v))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var u=Pn(),g=Qi(i),v=Ys(u,g);v.tag=2,l!=null&&(v.callback=l),l=qi(i,v,g),l!==null&&(jr(l,i,g,u),sf(l,i,g))}};function yT(i,l,u,g,v,w,N){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,w,N):l.prototype&&l.prototype.isPureReactComponent?!xu(u,g)||!xu(v,w):!0}function vT(i,l,u){var g=!1,v=$i,w=l.contextType;return typeof w=="object"&&w!==null?w=fr(w):(v=Vn(l)?oa:yn.current,g=l.contextTypes,w=(g=g!=null)?kl(i,v):$i),l=new l(u,w),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=ff,i.stateNode=l,l._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=v,i.__reactInternalMemoizedMaskedChildContext=w),l}function _T(i,l,u,g){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,g),l.state!==i&&ff.enqueueReplaceState(l,l.state,null)}function cy(i,l,u,g){var v=i.stateNode;v.props=u,v.state=i.memoizedState,v.refs={},Yg(i);var w=l.contextType;typeof w=="object"&&w!==null?v.context=fr(w):(w=Vn(l)?oa:yn.current,v.context=kl(i,w)),v.state=i.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(ly(i,l,w,u),v.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(l=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),l!==v.state&&ff.enqueueReplaceState(v,v.state,null),of(i,u,v,g),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308)}function Ul(i,l){try{var u="",g=l;do u+=Le(g),g=g.return;while(g);var v=u}catch(w){v=`
Error generating stack: `+w.message+`
`+w.stack}return{value:i,source:l,stack:v,digest:null}}function uy(i,l,u){return{value:i,source:null,stack:u??null,digest:l??null}}function dy(i,l){try{console.error(l.value)}catch(u){setTimeout(function(){throw u})}}var KO=typeof WeakMap=="function"?WeakMap:Map;function wT(i,l,u){u=Ys(-1,u),u.tag=3,u.payload={element:null};var g=l.value;return u.callback=function(){wf||(wf=!0,Cy=g),dy(i,l)},u}function xT(i,l,u){u=Ys(-1,u),u.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var v=l.value;u.payload=function(){return g(v)},u.callback=function(){dy(i,l)}}var w=i.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){dy(i,l),typeof g!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var N=l.stack;this.componentDidCatch(l.value,{componentStack:N!==null?N:""})}),u}function ET(i,l,u){var g=i.pingCache;if(g===null){g=i.pingCache=new KO;var v=new Set;g.set(l,v)}else v=g.get(l),v===void 0&&(v=new Set,g.set(l,v));v.has(u)||(v.add(u),i=lL.bind(null,i,l,u),l.then(i,i))}function TT(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function bT(i,l,u,g,v){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(l=Ys(-1,1),l.tag=2,qi(u,l,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=v,i)}var YO=W.ReactCurrentOwner,Fn=!1;function Rn(i,l,u,g){l.child=i===null?WE(l,null,u,g):Ol(l,i.child,u,g)}function ST(i,l,u,g,v){u=u.render;var w=l.ref;return Vl(l,v),g=ny(i,l,u,g,w,v),u=ry(),i!==null&&!Fn?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~v,Qs(i,l,v)):(Tt&&u&&Fg(l),l.flags|=1,Rn(i,l,g,v),l.child)}function CT(i,l,u,g,v){if(i===null){var w=u.type;return typeof w=="function"&&!Dy(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(l.tag=15,l.type=w,IT(i,l,w,g,v)):(i=Cf(u.type,null,g,l,l.mode,v),i.ref=l.ref,i.return=l,l.child=i)}if(w=i.child,(i.lanes&v)===0){var N=w.memoizedProps;if(u=u.compare,u=u!==null?u:xu,u(N,g)&&i.ref===l.ref)return Qs(i,l,v)}return l.flags|=1,i=Ji(w,g),i.ref=l.ref,i.return=l,l.child=i}function IT(i,l,u,g,v){if(i!==null){var w=i.memoizedProps;if(xu(w,g)&&i.ref===l.ref)if(Fn=!1,l.pendingProps=g=w,(i.lanes&v)!==0)(i.flags&131072)!==0&&(Fn=!0);else return l.lanes=i.lanes,Qs(i,l,v)}return hy(i,l,u,g,v)}function NT(i,l,u){var g=l.pendingProps,v=g.children,w=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(zl,rr),rr|=u;else{if((u&1073741824)===0)return i=w!==null?w.baseLanes|u:u,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,ht(zl,rr),rr|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=w!==null?w.baseLanes:u,ht(zl,rr),rr|=g}else w!==null?(g=w.baseLanes|u,l.memoizedState=null):g=u,ht(zl,rr),rr|=g;return Rn(i,l,v,u),l.child}function AT(i,l){var u=l.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(l.flags|=512,l.flags|=2097152)}function hy(i,l,u,g,v){var w=Vn(u)?oa:yn.current;return w=kl(l,w),Vl(l,v),u=ny(i,l,u,g,w,v),g=ry(),i!==null&&!Fn?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~v,Qs(i,l,v)):(Tt&&g&&Fg(l),l.flags|=1,Rn(i,l,u,v),l.child)}function RT(i,l,u,g,v){if(Vn(u)){var w=!0;Qh(l)}else w=!1;if(Vl(l,v),l.stateNode===null)mf(i,l),vT(l,u,g),cy(l,u,g,v),g=!0;else if(i===null){var N=l.stateNode,F=l.memoizedProps;N.props=F;var z=N.context,X=u.contextType;typeof X=="object"&&X!==null?X=fr(X):(X=Vn(u)?oa:yn.current,X=kl(l,X));var oe=u.getDerivedStateFromProps,ae=typeof oe=="function"||typeof N.getSnapshotBeforeUpdate=="function";ae||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(F!==g||z!==X)&&_T(l,N,g,X),Hi=!1;var ie=l.memoizedState;N.state=ie,of(l,g,N,v),z=l.memoizedState,F!==g||ie!==z||Ln.current||Hi?(typeof oe=="function"&&(ly(l,u,oe,g),z=l.memoizedState),(F=Hi||yT(l,u,F,g,ie,z,X))?(ae||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(l.flags|=4194308)):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=z),N.props=g,N.state=z,N.context=X,g=F):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{N=l.stateNode,qE(i,l),F=l.memoizedProps,X=l.type===l.elementType?F:kr(l.type,F),N.props=X,ae=l.pendingProps,ie=N.context,z=u.contextType,typeof z=="object"&&z!==null?z=fr(z):(z=Vn(u)?oa:yn.current,z=kl(l,z));var pe=u.getDerivedStateFromProps;(oe=typeof pe=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(F!==ae||ie!==z)&&_T(l,N,g,z),Hi=!1,ie=l.memoizedState,N.state=ie,of(l,g,N,v);var we=l.memoizedState;F!==ae||ie!==we||Ln.current||Hi?(typeof pe=="function"&&(ly(l,u,pe,g),we=l.memoizedState),(X=Hi||yT(l,u,X,g,ie,we,z)||!1)?(oe||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(g,we,z),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(g,we,z)),typeof N.componentDidUpdate=="function"&&(l.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof N.componentDidUpdate!="function"||F===i.memoizedProps&&ie===i.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||F===i.memoizedProps&&ie===i.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=we),N.props=g,N.state=we,N.context=z,g=X):(typeof N.componentDidUpdate!="function"||F===i.memoizedProps&&ie===i.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||F===i.memoizedProps&&ie===i.memoizedState||(l.flags|=1024),g=!1)}return fy(i,l,u,g,w,v)}function fy(i,l,u,g,v,w){AT(i,l);var N=(l.flags&128)!==0;if(!g&&!N)return v&&jE(l,u,!1),Qs(i,l,w);g=l.stateNode,YO.current=l;var F=N&&typeof u.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,i!==null&&N?(l.child=Ol(l,i.child,null,w),l.child=Ol(l,null,F,w)):Rn(i,l,F,w),l.memoizedState=g.state,v&&jE(l,u,!0),l.child}function PT(i){var l=i.stateNode;l.pendingContext?DE(i,l.pendingContext,l.pendingContext!==l.context):l.context&&DE(i,l.context,!1),Qg(i,l.containerInfo)}function kT(i,l,u,g,v){return jl(),$g(v),l.flags|=256,Rn(i,l,u,g),l.child}var py={dehydrated:null,treeContext:null,retryLane:0};function my(i){return{baseLanes:i,cachePool:null,transitions:null}}function DT(i,l,u){var g=l.pendingProps,v=bt.current,w=!1,N=(l.flags&128)!==0,F;if((F=N)||(F=i!==null&&i.memoizedState===null?!1:(v&2)!==0),F?(w=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(v|=1),ht(bt,v&1),i===null)return zg(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(N=g.children,i=g.fallback,w?(g=l.mode,w=l.child,N={mode:"hidden",children:N},(g&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=N):w=If(N,g,0,null),i=ga(i,g,u,null),w.return=l,i.return=l,w.sibling=i,l.child=w,l.child.memoizedState=my(u),l.memoizedState=py,i):gy(l,N));if(v=i.memoizedState,v!==null&&(F=v.dehydrated,F!==null))return QO(i,l,N,g,F,v,u);if(w){w=g.fallback,N=l.mode,v=i.child,F=v.sibling;var z={mode:"hidden",children:g.children};return(N&1)===0&&l.child!==v?(g=l.child,g.childLanes=0,g.pendingProps=z,l.deletions=null):(g=Ji(v,z),g.subtreeFlags=v.subtreeFlags&14680064),F!==null?w=Ji(F,w):(w=ga(w,N,u,null),w.flags|=2),w.return=l,g.return=l,g.sibling=w,l.child=g,g=w,w=l.child,N=i.child.memoizedState,N=N===null?my(u):{baseLanes:N.baseLanes|u,cachePool:null,transitions:N.transitions},w.memoizedState=N,w.childLanes=i.childLanes&~u,l.memoizedState=py,g}return w=i.child,i=w.sibling,g=Ji(w,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=u),g.return=l,g.sibling=null,i!==null&&(u=l.deletions,u===null?(l.deletions=[i],l.flags|=16):u.push(i)),l.child=g,l.memoizedState=null,g}function gy(i,l){return l=If({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function pf(i,l,u,g){return g!==null&&$g(g),Ol(l,i.child,null,u),i=gy(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function QO(i,l,u,g,v,w,N){if(u)return l.flags&256?(l.flags&=-257,g=uy(Error(n(422))),pf(i,l,N,g)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(w=g.fallback,v=l.mode,g=If({mode:"visible",children:g.children},v,0,null),w=ga(w,v,N,null),w.flags|=2,g.return=l,w.return=l,g.sibling=w,l.child=g,(l.mode&1)!==0&&Ol(l,i.child,null,N),l.child.memoizedState=my(N),l.memoizedState=py,w);if((l.mode&1)===0)return pf(i,l,N,null);if(v.data==="$!"){if(g=v.nextSibling&&v.nextSibling.dataset,g)var F=g.dgst;return g=F,w=Error(n(419)),g=uy(w,g,void 0),pf(i,l,N,g)}if(F=(N&i.childLanes)!==0,Fn||F){if(g=Xt,g!==null){switch(N&-N){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(g.suspendedLanes|N))!==0?0:v,v!==0&&v!==w.retryLane&&(w.retryLane=v,Ks(i,v),jr(g,i,v,-1))}return ky(),g=uy(Error(n(421))),pf(i,l,N,g)}return v.data==="$?"?(l.flags|=128,l.child=i.child,l=cL.bind(null,i),v._reactRetry=l,null):(i=w.treeContext,nr=Bi(v.nextSibling),tr=l,Tt=!0,Pr=null,i!==null&&(dr[hr++]=qs,dr[hr++]=Gs,dr[hr++]=aa,qs=i.id,Gs=i.overflow,aa=l),l=gy(l,g.children),l.flags|=4096,l)}function MT(i,l,u){i.lanes|=l;var g=i.alternate;g!==null&&(g.lanes|=l),Gg(i.return,l,u)}function yy(i,l,u,g,v){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:u,tailMode:v}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=g,w.tail=u,w.tailMode=v)}function jT(i,l,u){var g=l.pendingProps,v=g.revealOrder,w=g.tail;if(Rn(i,l,g.children,u),g=bt.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&MT(i,u,l);else if(i.tag===19)MT(i,u,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(ht(bt,g),(l.mode&1)===0)l.memoizedState=null;else switch(v){case"forwards":for(u=l.child,v=null;u!==null;)i=u.alternate,i!==null&&af(i)===null&&(v=u),u=u.sibling;u=v,u===null?(v=l.child,l.child=null):(v=u.sibling,u.sibling=null),yy(l,!1,v,u,w);break;case"backwards":for(u=null,v=l.child,l.child=null;v!==null;){if(i=v.alternate,i!==null&&af(i)===null){l.child=v;break}i=v.sibling,v.sibling=u,u=v,v=i}yy(l,!0,u,null,w);break;case"together":yy(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function mf(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function Qs(i,l,u){if(i!==null&&(l.dependencies=i.dependencies),ha|=l.lanes,(u&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(n(153));if(l.child!==null){for(i=l.child,u=Ji(i,i.pendingProps),l.child=u,u.return=l;i.sibling!==null;)i=i.sibling,u=u.sibling=Ji(i,i.pendingProps),u.return=l;u.sibling=null}return l.child}function XO(i,l,u){switch(l.tag){case 3:PT(l),jl();break;case 5:YE(l);break;case 1:Vn(l.type)&&Qh(l);break;case 4:Qg(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,v=l.memoizedProps.value;ht(nf,g._currentValue),g._currentValue=v;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(ht(bt,bt.current&1),l.flags|=128,null):(u&l.child.childLanes)!==0?DT(i,l,u):(ht(bt,bt.current&1),i=Qs(i,l,u),i!==null?i.sibling:null);ht(bt,bt.current&1);break;case 19:if(g=(u&l.childLanes)!==0,(i.flags&128)!==0){if(g)return jT(i,l,u);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ht(bt,bt.current),g)break;return null;case 22:case 23:return l.lanes=0,NT(i,l,u)}return Qs(i,l,u)}var OT,vy,LT,VT;OT=function(i,l){for(var u=l.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},vy=function(){},LT=function(i,l,u,g){var v=i.memoizedProps;if(v!==g){i=l.stateNode,ua(fs.current);var w=null;switch(u){case"input":v=on(i,v),g=on(i,g),w=[];break;case"select":v=se({},v,{value:void 0}),g=se({},g,{value:void 0}),w=[];break;case"textarea":v=Qc(i,v),g=Qc(i,g),w=[];break;default:typeof v.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=Gh)}Ir(u,g);var N;u=null;for(X in v)if(!g.hasOwnProperty(X)&&v.hasOwnProperty(X)&&v[X]!=null)if(X==="style"){var F=v[X];for(N in F)F.hasOwnProperty(N)&&(u||(u={}),u[N]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(s.hasOwnProperty(X)?w||(w=[]):(w=w||[]).push(X,null));for(X in g){var z=g[X];if(F=v!=null?v[X]:void 0,g.hasOwnProperty(X)&&z!==F&&(z!=null||F!=null))if(X==="style")if(F){for(N in F)!F.hasOwnProperty(N)||z&&z.hasOwnProperty(N)||(u||(u={}),u[N]="");for(N in z)z.hasOwnProperty(N)&&F[N]!==z[N]&&(u||(u={}),u[N]=z[N])}else u||(w||(w=[]),w.push(X,u)),u=z;else X==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,F=F?F.__html:void 0,z!=null&&F!==z&&(w=w||[]).push(X,z)):X==="children"?typeof z!="string"&&typeof z!="number"||(w=w||[]).push(X,""+z):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(s.hasOwnProperty(X)?(z!=null&&X==="onScroll"&&yt("scroll",i),w||F===z||(w=[])):(w=w||[]).push(X,z))}u&&(w=w||[]).push("style",u);var X=w;(l.updateQueue=X)&&(l.flags|=4)}},VT=function(i,l,u,g){u!==g&&(l.flags|=4)};function Ou(i,l){if(!Tt)switch(i.tailMode){case"hidden":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function _n(i){var l=i.alternate!==null&&i.alternate.child===i.child,u=0,g=0;if(l)for(var v=i.child;v!==null;)u|=v.lanes|v.childLanes,g|=v.subtreeFlags&14680064,g|=v.flags&14680064,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)u|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=g,i.childLanes=u,l}function JO(i,l,u){var g=l.pendingProps;switch(Ug(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(l),null;case 1:return Vn(l.type)&&Yh(),_n(l),null;case 3:return g=l.stateNode,Fl(),vt(Ln),vt(yn),Zg(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(ef(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Pr!==null&&(Ay(Pr),Pr=null))),vy(i,l),_n(l),null;case 5:Xg(l);var v=ua(Pu.current);if(u=l.type,i!==null&&l.stateNode!=null)LT(i,l,u,g,v),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(n(166));return _n(l),null}if(i=ua(fs.current),ef(l)){g=l.stateNode,u=l.type;var w=l.memoizedProps;switch(g[hs]=l,g[Cu]=w,i=(l.mode&1)!==0,u){case"dialog":yt("cancel",g),yt("close",g);break;case"iframe":case"object":case"embed":yt("load",g);break;case"video":case"audio":for(v=0;v<Tu.length;v++)yt(Tu[v],g);break;case"source":yt("error",g);break;case"img":case"image":case"link":yt("error",g),yt("load",g);break;case"details":yt("toggle",g);break;case"input":Xr(g,w),yt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!w.multiple},yt("invalid",g);break;case"textarea":Xc(g,w),yt("invalid",g)}Ir(u,w),v=null;for(var N in w)if(w.hasOwnProperty(N)){var F=w[N];N==="children"?typeof F=="string"?g.textContent!==F&&(w.suppressHydrationWarning!==!0&&qh(g.textContent,F,i),v=["children",F]):typeof F=="number"&&g.textContent!==""+F&&(w.suppressHydrationWarning!==!0&&qh(g.textContent,F,i),v=["children",""+F]):s.hasOwnProperty(N)&&F!=null&&N==="onScroll"&&yt("scroll",g)}switch(u){case"input":Ye(g),Wo(g,w,!0);break;case"textarea":Ye(g),Si(g);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(g.onclick=Gh)}g=v,l.updateQueue=g,g!==null&&(l.flags|=4)}else{N=v.nodeType===9?v:v.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Jc(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=N.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=N.createElement(u,{is:g.is}):(i=N.createElement(u),u==="select"&&(N=i,g.multiple?N.multiple=!0:g.size&&(N.size=g.size))):i=N.createElementNS(i,u),i[hs]=l,i[Cu]=g,OT(i,l,!1,!1),l.stateNode=i;e:{switch(N=ll(u,g),u){case"dialog":yt("cancel",i),yt("close",i),v=g;break;case"iframe":case"object":case"embed":yt("load",i),v=g;break;case"video":case"audio":for(v=0;v<Tu.length;v++)yt(Tu[v],i);v=g;break;case"source":yt("error",i),v=g;break;case"img":case"image":case"link":yt("error",i),yt("load",i),v=g;break;case"details":yt("toggle",i),v=g;break;case"input":Xr(i,g),v=on(i,g),yt("invalid",i);break;case"option":v=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},v=se({},g,{value:void 0}),yt("invalid",i);break;case"textarea":Xc(i,g),v=Qc(i,g),yt("invalid",i);break;default:v=g}Ir(u,v),F=v;for(w in F)if(F.hasOwnProperty(w)){var z=F[w];w==="style"?al(i,z):w==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&wh(i,z)):w==="children"?typeof z=="string"?(u!=="textarea"||z!=="")&&Ho(i,z):typeof z=="number"&&Ho(i,""+z):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?z!=null&&w==="onScroll"&&yt("scroll",i):z!=null&&M(i,w,z,N))}switch(u){case"input":Ye(i),Wo(i,g,!1);break;case"textarea":Ye(i),Si(i);break;case"option":g.value!=null&&i.setAttribute("value",""+xe(g.value));break;case"select":i.multiple=!!g.multiple,w=g.value,w!=null?Cr(i,!!g.multiple,w,!1):g.defaultValue!=null&&Cr(i,!!g.multiple,g.defaultValue,!0);break;default:typeof v.onClick=="function"&&(i.onclick=Gh)}switch(u){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return _n(l),null;case 6:if(i&&l.stateNode!=null)VT(i,l,i.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(n(166));if(u=ua(Pu.current),ua(fs.current),ef(l)){if(g=l.stateNode,u=l.memoizedProps,g[hs]=l,(w=g.nodeValue!==u)&&(i=tr,i!==null))switch(i.tag){case 3:qh(g.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&qh(g.nodeValue,u,(i.mode&1)!==0)}w&&(l.flags|=4)}else g=(u.nodeType===9?u:u.ownerDocument).createTextNode(g),g[hs]=l,l.stateNode=g}return _n(l),null;case 13:if(vt(bt),g=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Tt&&nr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)BE(),jl(),l.flags|=98560,w=!1;else if(w=ef(l),g!==null&&g.dehydrated!==null){if(i===null){if(!w)throw Error(n(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[hs]=l}else jl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;_n(l),w=!1}else Pr!==null&&(Ay(Pr),Pr=null),w=!0;if(!w)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=u,l):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||(bt.current&1)!==0?Gt===0&&(Gt=3):ky())),l.updateQueue!==null&&(l.flags|=4),_n(l),null);case 4:return Fl(),vy(i,l),i===null&&bu(l.stateNode.containerInfo),_n(l),null;case 10:return qg(l.type._context),_n(l),null;case 17:return Vn(l.type)&&Yh(),_n(l),null;case 19:if(vt(bt),w=l.memoizedState,w===null)return _n(l),null;if(g=(l.flags&128)!==0,N=w.rendering,N===null)if(g)Ou(w,!1);else{if(Gt!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(N=af(i),N!==null){for(l.flags|=128,Ou(w,!1),g=N.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=u,u=l.child;u!==null;)w=u,i=g,w.flags&=14680066,N=w.alternate,N===null?(w.childLanes=0,w.lanes=i,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=N.childLanes,w.lanes=N.lanes,w.child=N.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=N.memoizedProps,w.memoizedState=N.memoizedState,w.updateQueue=N.updateQueue,w.type=N.type,i=N.dependencies,w.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return ht(bt,bt.current&1|2),l.child}i=i.sibling}w.tail!==null&&gt()>$l&&(l.flags|=128,g=!0,Ou(w,!1),l.lanes=4194304)}else{if(!g)if(i=af(N),i!==null){if(l.flags|=128,g=!0,u=i.updateQueue,u!==null&&(l.updateQueue=u,l.flags|=4),Ou(w,!0),w.tail===null&&w.tailMode==="hidden"&&!N.alternate&&!Tt)return _n(l),null}else 2*gt()-w.renderingStartTime>$l&&u!==1073741824&&(l.flags|=128,g=!0,Ou(w,!1),l.lanes=4194304);w.isBackwards?(N.sibling=l.child,l.child=N):(u=w.last,u!==null?u.sibling=N:l.child=N,w.last=N)}return w.tail!==null?(l=w.tail,w.rendering=l,w.tail=l.sibling,w.renderingStartTime=gt(),l.sibling=null,u=bt.current,ht(bt,g?u&1|2:u&1),l):(_n(l),null);case 22:case 23:return Py(),g=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(rr&1073741824)!==0&&(_n(l),l.subtreeFlags&6&&(l.flags|=8192)):_n(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function ZO(i,l){switch(Ug(l),l.tag){case 1:return Vn(l.type)&&Yh(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Fl(),vt(Ln),vt(yn),Zg(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return Xg(l),null;case 13:if(vt(bt),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(n(340));jl()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return vt(bt),null;case 4:return Fl(),null;case 10:return qg(l.type._context),null;case 22:case 23:return Py(),null;case 24:return null;default:return null}}var gf=!1,wn=!1,eL=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Bl(i,l){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(g){Pt(i,l,g)}else u.current=null}function _y(i,l,u){try{u()}catch(g){Pt(i,l,g)}}var FT=!1;function tL(i,l){if(Pg=Bs,i=yE(),Tg(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var g=u.getSelection&&u.getSelection();if(g&&g.rangeCount!==0){u=g.anchorNode;var v=g.anchorOffset,w=g.focusNode;g=g.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var N=0,F=-1,z=-1,X=0,oe=0,ae=i,ie=null;t:for(;;){for(var pe;ae!==u||v!==0&&ae.nodeType!==3||(F=N+v),ae!==w||g!==0&&ae.nodeType!==3||(z=N+g),ae.nodeType===3&&(N+=ae.nodeValue.length),(pe=ae.firstChild)!==null;)ie=ae,ae=pe;for(;;){if(ae===i)break t;if(ie===u&&++X===v&&(F=N),ie===w&&++oe===g&&(z=N),(pe=ae.nextSibling)!==null)break;ae=ie,ie=ae.parentNode}ae=pe}u=F===-1||z===-1?null:{start:F,end:z}}else u=null}u=u||{start:0,end:0}}else u=null;for(kg={focusedElem:i,selectionRange:u},Bs=!1,ve=l;ve!==null;)if(l=ve,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,ve=i;else for(;ve!==null;){l=ve;try{var we=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Ee=we.memoizedProps,jt=we.memoizedState,G=l.stateNode,H=G.getSnapshotBeforeUpdate(l.elementType===l.type?Ee:kr(l.type,Ee),jt);G.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var Q=l.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(le){Pt(l,l.return,le)}if(i=l.sibling,i!==null){i.return=l.return,ve=i;break}ve=l.return}return we=FT,FT=!1,we}function Lu(i,l,u){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var v=g=g.next;do{if((v.tag&i)===i){var w=v.destroy;v.destroy=void 0,w!==void 0&&_y(l,u,w)}v=v.next}while(v!==g)}}function yf(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&i)===i){var g=u.create;u.destroy=g()}u=u.next}while(u!==l)}}function wy(i){var l=i.ref;if(l!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof l=="function"?l(i):l.current=i}}function UT(i){var l=i.alternate;l!==null&&(i.alternate=null,UT(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[hs],delete l[Cu],delete l[Og],delete l[LO],delete l[VO])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function BT(i){return i.tag===5||i.tag===3||i.tag===4}function zT(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||BT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function xy(i,l,u){var g=i.tag;if(g===5||g===6)i=i.stateNode,l?u.nodeType===8?u.parentNode.insertBefore(i,l):u.insertBefore(i,l):(u.nodeType===8?(l=u.parentNode,l.insertBefore(i,u)):(l=u,l.appendChild(i)),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=Gh));else if(g!==4&&(i=i.child,i!==null))for(xy(i,l,u),i=i.sibling;i!==null;)xy(i,l,u),i=i.sibling}function Ey(i,l,u){var g=i.tag;if(g===5||g===6)i=i.stateNode,l?u.insertBefore(i,l):u.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(Ey(i,l,u),i=i.sibling;i!==null;)Ey(i,l,u),i=i.sibling}var cn=null,Dr=!1;function Gi(i,l,u){for(u=u.child;u!==null;)$T(i,l,u),u=u.sibling}function $T(i,l,u){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(Qo,u)}catch{}switch(u.tag){case 5:wn||Bl(u,l);case 6:var g=cn,v=Dr;cn=null,Gi(i,l,u),cn=g,Dr=v,cn!==null&&(Dr?(i=cn,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):cn.removeChild(u.stateNode));break;case 18:cn!==null&&(Dr?(i=cn,u=u.stateNode,i.nodeType===8?jg(i.parentNode,u):i.nodeType===1&&jg(i,u),Li(i)):jg(cn,u.stateNode));break;case 4:g=cn,v=Dr,cn=u.stateNode.containerInfo,Dr=!0,Gi(i,l,u),cn=g,Dr=v;break;case 0:case 11:case 14:case 15:if(!wn&&(g=u.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){v=g=g.next;do{var w=v,N=w.destroy;w=w.tag,N!==void 0&&((w&2)!==0||(w&4)!==0)&&_y(u,l,N),v=v.next}while(v!==g)}Gi(i,l,u);break;case 1:if(!wn&&(Bl(u,l),g=u.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=u.memoizedProps,g.state=u.memoizedState,g.componentWillUnmount()}catch(F){Pt(u,l,F)}Gi(i,l,u);break;case 21:Gi(i,l,u);break;case 22:u.mode&1?(wn=(g=wn)||u.memoizedState!==null,Gi(i,l,u),wn=g):Gi(i,l,u);break;default:Gi(i,l,u)}}function WT(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new eL),l.forEach(function(g){var v=uL.bind(null,i,g);u.has(g)||(u.add(g),g.then(v,v))})}}function Mr(i,l){var u=l.deletions;if(u!==null)for(var g=0;g<u.length;g++){var v=u[g];try{var w=i,N=l,F=N;e:for(;F!==null;){switch(F.tag){case 5:cn=F.stateNode,Dr=!1;break e;case 3:cn=F.stateNode.containerInfo,Dr=!0;break e;case 4:cn=F.stateNode.containerInfo,Dr=!0;break e}F=F.return}if(cn===null)throw Error(n(160));$T(w,N,v),cn=null,Dr=!1;var z=v.alternate;z!==null&&(z.return=null),v.return=null}catch(X){Pt(v,l,X)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)HT(l,i),l=l.sibling}function HT(i,l){var u=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Mr(l,i),ms(i),g&4){try{Lu(3,i,i.return),yf(3,i)}catch(Ee){Pt(i,i.return,Ee)}try{Lu(5,i,i.return)}catch(Ee){Pt(i,i.return,Ee)}}break;case 1:Mr(l,i),ms(i),g&512&&u!==null&&Bl(u,u.return);break;case 5:if(Mr(l,i),ms(i),g&512&&u!==null&&Bl(u,u.return),i.flags&32){var v=i.stateNode;try{Ho(v,"")}catch(Ee){Pt(i,i.return,Ee)}}if(g&4&&(v=i.stateNode,v!=null)){var w=i.memoizedProps,N=u!==null?u.memoizedProps:w,F=i.type,z=i.updateQueue;if(i.updateQueue=null,z!==null)try{F==="input"&&w.type==="radio"&&w.name!=null&&lr(v,w),ll(F,N);var X=ll(F,w);for(N=0;N<z.length;N+=2){var oe=z[N],ae=z[N+1];oe==="style"?al(v,ae):oe==="dangerouslySetInnerHTML"?wh(v,ae):oe==="children"?Ho(v,ae):M(v,oe,ae,X)}switch(F){case"input":Kn(v,w);break;case"textarea":_h(v,w);break;case"select":var ie=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!w.multiple;var pe=w.value;pe!=null?Cr(v,!!w.multiple,pe,!1):ie!==!!w.multiple&&(w.defaultValue!=null?Cr(v,!!w.multiple,w.defaultValue,!0):Cr(v,!!w.multiple,w.multiple?[]:"",!1))}v[Cu]=w}catch(Ee){Pt(i,i.return,Ee)}}break;case 6:if(Mr(l,i),ms(i),g&4){if(i.stateNode===null)throw Error(n(162));v=i.stateNode,w=i.memoizedProps;try{v.nodeValue=w}catch(Ee){Pt(i,i.return,Ee)}}break;case 3:if(Mr(l,i),ms(i),g&4&&u!==null&&u.memoizedState.isDehydrated)try{Li(l.containerInfo)}catch(Ee){Pt(i,i.return,Ee)}break;case 4:Mr(l,i),ms(i);break;case 13:Mr(l,i),ms(i),v=i.child,v.flags&8192&&(w=v.memoizedState!==null,v.stateNode.isHidden=w,!w||v.alternate!==null&&v.alternate.memoizedState!==null||(Sy=gt())),g&4&&WT(i);break;case 22:if(oe=u!==null&&u.memoizedState!==null,i.mode&1?(wn=(X=wn)||oe,Mr(l,i),wn=X):Mr(l,i),ms(i),g&8192){if(X=i.memoizedState!==null,(i.stateNode.isHidden=X)&&!oe&&(i.mode&1)!==0)for(ve=i,oe=i.child;oe!==null;){for(ae=ve=oe;ve!==null;){switch(ie=ve,pe=ie.child,ie.tag){case 0:case 11:case 14:case 15:Lu(4,ie,ie.return);break;case 1:Bl(ie,ie.return);var we=ie.stateNode;if(typeof we.componentWillUnmount=="function"){g=ie,u=ie.return;try{l=g,we.props=l.memoizedProps,we.state=l.memoizedState,we.componentWillUnmount()}catch(Ee){Pt(g,u,Ee)}}break;case 5:Bl(ie,ie.return);break;case 22:if(ie.memoizedState!==null){KT(ae);continue}}pe!==null?(pe.return=ie,ve=pe):KT(ae)}oe=oe.sibling}e:for(oe=null,ae=i;;){if(ae.tag===5){if(oe===null){oe=ae;try{v=ae.stateNode,X?(w=v.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(F=ae.stateNode,z=ae.memoizedProps.style,N=z!=null&&z.hasOwnProperty("display")?z.display:null,F.style.display=Ni("display",N))}catch(Ee){Pt(i,i.return,Ee)}}}else if(ae.tag===6){if(oe===null)try{ae.stateNode.nodeValue=X?"":ae.memoizedProps}catch(Ee){Pt(i,i.return,Ee)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===i)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===i)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===i)break e;oe===ae&&(oe=null),ae=ae.return}oe===ae&&(oe=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Mr(l,i),ms(i),g&4&&WT(i);break;case 21:break;default:Mr(l,i),ms(i)}}function ms(i){var l=i.flags;if(l&2){try{e:{for(var u=i.return;u!==null;){if(BT(u)){var g=u;break e}u=u.return}throw Error(n(160))}switch(g.tag){case 5:var v=g.stateNode;g.flags&32&&(Ho(v,""),g.flags&=-33);var w=zT(i);Ey(i,w,v);break;case 3:case 4:var N=g.stateNode.containerInfo,F=zT(i);xy(i,F,N);break;default:throw Error(n(161))}}catch(z){Pt(i,i.return,z)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function nL(i,l,u){ve=i,qT(i)}function qT(i,l,u){for(var g=(i.mode&1)!==0;ve!==null;){var v=ve,w=v.child;if(v.tag===22&&g){var N=v.memoizedState!==null||gf;if(!N){var F=v.alternate,z=F!==null&&F.memoizedState!==null||wn;F=gf;var X=wn;if(gf=N,(wn=z)&&!X)for(ve=v;ve!==null;)N=ve,z=N.child,N.tag===22&&N.memoizedState!==null?YT(v):z!==null?(z.return=N,ve=z):YT(v);for(;w!==null;)ve=w,qT(w),w=w.sibling;ve=v,gf=F,wn=X}GT(i)}else(v.subtreeFlags&8772)!==0&&w!==null?(w.return=v,ve=w):GT(i)}}function GT(i){for(;ve!==null;){var l=ve;if((l.flags&8772)!==0){var u=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:wn||yf(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!wn)if(u===null)g.componentDidMount();else{var v=l.elementType===l.type?u.memoizedProps:kr(l.type,u.memoizedProps);g.componentDidUpdate(v,u.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var w=l.updateQueue;w!==null&&KE(l,w,g);break;case 3:var N=l.updateQueue;if(N!==null){if(u=null,l.child!==null)switch(l.child.tag){case 5:u=l.child.stateNode;break;case 1:u=l.child.stateNode}KE(l,N,u)}break;case 5:var F=l.stateNode;if(u===null&&l.flags&4){u=F;var z=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&u.focus();break;case"img":z.src&&(u.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var X=l.alternate;if(X!==null){var oe=X.memoizedState;if(oe!==null){var ae=oe.dehydrated;ae!==null&&Li(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}wn||l.flags&512&&wy(l)}catch(ie){Pt(l,l.return,ie)}}if(l===i){ve=null;break}if(u=l.sibling,u!==null){u.return=l.return,ve=u;break}ve=l.return}}function KT(i){for(;ve!==null;){var l=ve;if(l===i){ve=null;break}var u=l.sibling;if(u!==null){u.return=l.return,ve=u;break}ve=l.return}}function YT(i){for(;ve!==null;){var l=ve;try{switch(l.tag){case 0:case 11:case 15:var u=l.return;try{yf(4,l)}catch(z){Pt(l,u,z)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var v=l.return;try{g.componentDidMount()}catch(z){Pt(l,v,z)}}var w=l.return;try{wy(l)}catch(z){Pt(l,w,z)}break;case 5:var N=l.return;try{wy(l)}catch(z){Pt(l,N,z)}}}catch(z){Pt(l,l.return,z)}if(l===i){ve=null;break}var F=l.sibling;if(F!==null){F.return=l.return,ve=F;break}ve=l.return}}var rL=Math.ceil,vf=W.ReactCurrentDispatcher,Ty=W.ReactCurrentOwner,mr=W.ReactCurrentBatchConfig,nt=0,Xt=null,Ut=null,un=0,rr=0,zl=zi(0),Gt=0,Vu=null,ha=0,_f=0,by=0,Fu=null,Un=null,Sy=0,$l=1/0,Xs=null,wf=!1,Cy=null,Ki=null,xf=!1,Yi=null,Ef=0,Uu=0,Iy=null,Tf=-1,bf=0;function Pn(){return(nt&6)!==0?gt():Tf!==-1?Tf:Tf=gt()}function Qi(i){return(i.mode&1)===0?1:(nt&2)!==0&&un!==0?un&-un:UO.transition!==null?(bf===0&&(bf=au()),bf):(i=Qe,i!==0||(i=window.event,i=i===void 0?16:vl(i.type)),i)}function jr(i,l,u,g){if(50<Uu)throw Uu=0,Iy=null,Error(n(185));ea(i,u,g),((nt&2)===0||i!==Xt)&&(i===Xt&&((nt&2)===0&&(_f|=u),Gt===4&&Xi(i,un)),Bn(i,g),u===1&&nt===0&&(l.mode&1)===0&&($l=gt()+500,Xh&&Wi()))}function Bn(i,l){var u=i.callbackNode;Zo(i,l);var g=Vs(i,i===Xt?un:0);if(g===0)u!==null&&dl(u),i.callbackNode=null,i.callbackPriority=0;else if(l=g&-g,i.callbackPriority!==l){if(u!=null&&dl(u),l===1)i.tag===0?FO(XT.bind(null,i)):OE(XT.bind(null,i)),jO(function(){(nt&6)===0&&Wi()}),u=null;else{switch(ns(g)){case 1:u=hl;break;case 4:u=su;break;case 16:u=Yo;break;case 536870912:u=fl;break;default:u=Yo}u=ib(u,QT.bind(null,i))}i.callbackPriority=l,i.callbackNode=u}}function QT(i,l){if(Tf=-1,bf=0,(nt&6)!==0)throw Error(n(327));var u=i.callbackNode;if(Wl()&&i.callbackNode!==u)return null;var g=Vs(i,i===Xt?un:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||l)l=Sf(i,g);else{l=g;var v=nt;nt|=2;var w=ZT();(Xt!==i||un!==l)&&(Xs=null,$l=gt()+500,pa(i,l));do try{oL();break}catch(F){JT(i,F)}while(!0);Hg(),vf.current=w,nt=v,Ut!==null?l=0:(Xt=null,un=0,l=Gt)}if(l!==0){if(l===2&&(v=ou(i),v!==0&&(g=v,l=Ny(i,v))),l===1)throw u=Vu,pa(i,0),Xi(i,g),Bn(i,gt()),u;if(l===6)Xi(i,g);else{if(v=i.current.alternate,(g&30)===0&&!sL(v)&&(l=Sf(i,g),l===2&&(w=ou(i),w!==0&&(g=w,l=Ny(i,w))),l===1))throw u=Vu,pa(i,0),Xi(i,g),Bn(i,gt()),u;switch(i.finishedWork=v,i.finishedLanes=g,l){case 0:case 1:throw Error(n(345));case 2:ma(i,Un,Xs);break;case 3:if(Xi(i,g),(g&130023424)===g&&(l=Sy+500-gt(),10<l)){if(Vs(i,0)!==0)break;if(v=i.suspendedLanes,(v&g)!==g){Pn(),i.pingedLanes|=i.suspendedLanes&v;break}i.timeoutHandle=Mg(ma.bind(null,i,Un,Xs),l);break}ma(i,Un,Xs);break;case 4:if(Xi(i,g),(g&4194240)===g)break;for(l=i.eventTimes,v=-1;0<g;){var N=31-Qn(g);w=1<<N,N=l[N],N>v&&(v=N),g&=~w}if(g=v,g=gt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*rL(g/1960))-g,10<g){i.timeoutHandle=Mg(ma.bind(null,i,Un,Xs),g);break}ma(i,Un,Xs);break;case 5:ma(i,Un,Xs);break;default:throw Error(n(329))}}}return Bn(i,gt()),i.callbackNode===u?QT.bind(null,i):null}function Ny(i,l){var u=Fu;return i.current.memoizedState.isDehydrated&&(pa(i,l).flags|=256),i=Sf(i,l),i!==2&&(l=Un,Un=u,l!==null&&Ay(l)),i}function Ay(i){Un===null?Un=i:Un.push.apply(Un,i)}function sL(i){for(var l=i;;){if(l.flags&16384){var u=l.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var g=0;g<u.length;g++){var v=u[g],w=v.getSnapshot;v=v.value;try{if(!Rr(w(),v))return!1}catch{return!1}}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Xi(i,l){for(l&=~by,l&=~_f,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var u=31-Qn(l),g=1<<u;i[u]=-1,l&=~g}}function XT(i){if((nt&6)!==0)throw Error(n(327));Wl();var l=Vs(i,0);if((l&1)===0)return Bn(i,gt()),null;var u=Sf(i,l);if(i.tag!==0&&u===2){var g=ou(i);g!==0&&(l=g,u=Ny(i,g))}if(u===1)throw u=Vu,pa(i,0),Xi(i,l),Bn(i,gt()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,ma(i,Un,Xs),Bn(i,gt()),null}function Ry(i,l){var u=nt;nt|=1;try{return i(l)}finally{nt=u,nt===0&&($l=gt()+500,Xh&&Wi())}}function fa(i){Yi!==null&&Yi.tag===0&&(nt&6)===0&&Wl();var l=nt;nt|=1;var u=mr.transition,g=Qe;try{if(mr.transition=null,Qe=1,i)return i()}finally{Qe=g,mr.transition=u,nt=l,(nt&6)===0&&Wi()}}function Py(){rr=zl.current,vt(zl)}function pa(i,l){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,MO(u)),Ut!==null)for(u=Ut.return;u!==null;){var g=u;switch(Ug(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Yh();break;case 3:Fl(),vt(Ln),vt(yn),Zg();break;case 5:Xg(g);break;case 4:Fl();break;case 13:vt(bt);break;case 19:vt(bt);break;case 10:qg(g.type._context);break;case 22:case 23:Py()}u=u.return}if(Xt=i,Ut=i=Ji(i.current,null),un=rr=l,Gt=0,Vu=null,by=_f=ha=0,Un=Fu=null,ca!==null){for(l=0;l<ca.length;l++)if(u=ca[l],g=u.interleaved,g!==null){u.interleaved=null;var v=g.next,w=u.pending;if(w!==null){var N=w.next;w.next=v,g.next=N}u.pending=g}ca=null}return i}function JT(i,l){do{var u=Ut;try{if(Hg(),lf.current=hf,cf){for(var g=St.memoizedState;g!==null;){var v=g.queue;v!==null&&(v.pending=null),g=g.next}cf=!1}if(da=0,Qt=qt=St=null,ku=!1,Du=0,Ty.current=null,u===null||u.return===null){Gt=1,Vu=l,Ut=null;break}e:{var w=i,N=u.return,F=u,z=l;if(l=un,F.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var X=z,oe=F,ae=oe.tag;if((oe.mode&1)===0&&(ae===0||ae===11||ae===15)){var ie=oe.alternate;ie?(oe.updateQueue=ie.updateQueue,oe.memoizedState=ie.memoizedState,oe.lanes=ie.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var pe=TT(N);if(pe!==null){pe.flags&=-257,bT(pe,N,F,w,l),pe.mode&1&&ET(w,X,l),l=pe,z=X;var we=l.updateQueue;if(we===null){var Ee=new Set;Ee.add(z),l.updateQueue=Ee}else we.add(z);break e}else{if((l&1)===0){ET(w,X,l),ky();break e}z=Error(n(426))}}else if(Tt&&F.mode&1){var jt=TT(N);if(jt!==null){(jt.flags&65536)===0&&(jt.flags|=256),bT(jt,N,F,w,l),$g(Ul(z,F));break e}}w=z=Ul(z,F),Gt!==4&&(Gt=2),Fu===null?Fu=[w]:Fu.push(w),w=N;do{switch(w.tag){case 3:w.flags|=65536,l&=-l,w.lanes|=l;var G=wT(w,z,l);GE(w,G);break e;case 1:F=z;var H=w.type,Q=w.stateNode;if((w.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Ki===null||!Ki.has(Q)))){w.flags|=65536,l&=-l,w.lanes|=l;var le=xT(w,F,l);GE(w,le);break e}}w=w.return}while(w!==null)}tb(u)}catch(be){l=be,Ut===u&&u!==null&&(Ut=u=u.return);continue}break}while(!0)}function ZT(){var i=vf.current;return vf.current=hf,i===null?hf:i}function ky(){(Gt===0||Gt===3||Gt===2)&&(Gt=4),Xt===null||(ha&268435455)===0&&(_f&268435455)===0||Xi(Xt,un)}function Sf(i,l){var u=nt;nt|=2;var g=ZT();(Xt!==i||un!==l)&&(Xs=null,pa(i,l));do try{iL();break}catch(v){JT(i,v)}while(!0);if(Hg(),nt=u,vf.current=g,Ut!==null)throw Error(n(261));return Xt=null,un=0,Gt}function iL(){for(;Ut!==null;)eb(Ut)}function oL(){for(;Ut!==null&&!Ko();)eb(Ut)}function eb(i){var l=sb(i.alternate,i,rr);i.memoizedProps=i.pendingProps,l===null?tb(i):Ut=l,Ty.current=null}function tb(i){var l=i;do{var u=l.alternate;if(i=l.return,(l.flags&32768)===0){if(u=JO(u,l,rr),u!==null){Ut=u;return}}else{if(u=ZO(u,l),u!==null){u.flags&=32767,Ut=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Gt=6,Ut=null;return}}if(l=l.sibling,l!==null){Ut=l;return}Ut=l=i}while(l!==null);Gt===0&&(Gt=5)}function ma(i,l,u){var g=Qe,v=mr.transition;try{mr.transition=null,Qe=1,aL(i,l,u,g)}finally{mr.transition=v,Qe=g}return null}function aL(i,l,u,g){do Wl();while(Yi!==null);if((nt&6)!==0)throw Error(n(327));u=i.finishedWork;var v=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var w=u.lanes|u.childLanes;if(vg(i,w),i===Xt&&(Ut=Xt=null,un=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||xf||(xf=!0,ib(Yo,function(){return Wl(),null})),w=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||w){w=mr.transition,mr.transition=null;var N=Qe;Qe=1;var F=nt;nt|=4,Ty.current=null,tL(i,u),HT(u,i),IO(kg),Bs=!!Pg,kg=Pg=null,i.current=u,nL(u),Ls(),nt=F,Qe=N,mr.transition=w}else i.current=u;if(xf&&(xf=!1,Yi=i,Ef=v),w=i.pendingLanes,w===0&&(Ki=null),Ph(u.stateNode),Bn(i,gt()),l!==null)for(g=i.onRecoverableError,u=0;u<l.length;u++)v=l[u],g(v.value,{componentStack:v.stack,digest:v.digest});if(wf)throw wf=!1,i=Cy,Cy=null,i;return(Ef&1)!==0&&i.tag!==0&&Wl(),w=i.pendingLanes,(w&1)!==0?i===Iy?Uu++:(Uu=0,Iy=i):Uu=0,Wi(),null}function Wl(){if(Yi!==null){var i=ns(Ef),l=mr.transition,u=Qe;try{if(mr.transition=null,Qe=16>i?16:i,Yi===null)var g=!1;else{if(i=Yi,Yi=null,Ef=0,(nt&6)!==0)throw Error(n(331));var v=nt;for(nt|=4,ve=i.current;ve!==null;){var w=ve,N=w.child;if((ve.flags&16)!==0){var F=w.deletions;if(F!==null){for(var z=0;z<F.length;z++){var X=F[z];for(ve=X;ve!==null;){var oe=ve;switch(oe.tag){case 0:case 11:case 15:Lu(8,oe,w)}var ae=oe.child;if(ae!==null)ae.return=oe,ve=ae;else for(;ve!==null;){oe=ve;var ie=oe.sibling,pe=oe.return;if(UT(oe),oe===X){ve=null;break}if(ie!==null){ie.return=pe,ve=ie;break}ve=pe}}}var we=w.alternate;if(we!==null){var Ee=we.child;if(Ee!==null){we.child=null;do{var jt=Ee.sibling;Ee.sibling=null,Ee=jt}while(Ee!==null)}}ve=w}}if((w.subtreeFlags&2064)!==0&&N!==null)N.return=w,ve=N;else e:for(;ve!==null;){if(w=ve,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Lu(9,w,w.return)}var G=w.sibling;if(G!==null){G.return=w.return,ve=G;break e}ve=w.return}}var H=i.current;for(ve=H;ve!==null;){N=ve;var Q=N.child;if((N.subtreeFlags&2064)!==0&&Q!==null)Q.return=N,ve=Q;else e:for(N=H;ve!==null;){if(F=ve,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:yf(9,F)}}catch(be){Pt(F,F.return,be)}if(F===N){ve=null;break e}var le=F.sibling;if(le!==null){le.return=F.return,ve=le;break e}ve=F.return}}if(nt=v,Wi(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(Qo,i)}catch{}g=!0}return g}finally{Qe=u,mr.transition=l}}return!1}function nb(i,l,u){l=Ul(u,l),l=wT(i,l,1),i=qi(i,l,1),l=Pn(),i!==null&&(ea(i,1,l),Bn(i,l))}function Pt(i,l,u){if(i.tag===3)nb(i,i,u);else for(;l!==null;){if(l.tag===3){nb(l,i,u);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ki===null||!Ki.has(g))){i=Ul(u,i),i=xT(l,i,1),l=qi(l,i,1),i=Pn(),l!==null&&(ea(l,1,i),Bn(l,i));break}}l=l.return}}function lL(i,l,u){var g=i.pingCache;g!==null&&g.delete(l),l=Pn(),i.pingedLanes|=i.suspendedLanes&u,Xt===i&&(un&u)===u&&(Gt===4||Gt===3&&(un&130023424)===un&&500>gt()-Sy?pa(i,0):by|=u),Bn(i,l)}function rb(i,l){l===0&&((i.mode&1)===0?l=1:(l=Mi,Mi<<=1,(Mi&130023424)===0&&(Mi=4194304)));var u=Pn();i=Ks(i,l),i!==null&&(ea(i,l,u),Bn(i,u))}function cL(i){var l=i.memoizedState,u=0;l!==null&&(u=l.retryLane),rb(i,u)}function uL(i,l){var u=0;switch(i.tag){case 13:var g=i.stateNode,v=i.memoizedState;v!==null&&(u=v.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(l),rb(i,u)}var sb;sb=function(i,l,u){if(i!==null)if(i.memoizedProps!==l.pendingProps||Ln.current)Fn=!0;else{if((i.lanes&u)===0&&(l.flags&128)===0)return Fn=!1,XO(i,l,u);Fn=(i.flags&131072)!==0}else Fn=!1,Tt&&(l.flags&1048576)!==0&&LE(l,Zh,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;mf(i,l),i=l.pendingProps;var v=kl(l,yn.current);Vl(l,u),v=ny(null,l,g,i,v,u);var w=ry();return l.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Vn(g)?(w=!0,Qh(l)):w=!1,l.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Yg(l),v.updater=ff,l.stateNode=v,v._reactInternals=l,cy(l,g,i,u),l=fy(null,l,g,!0,w,u)):(l.tag=0,Tt&&w&&Fg(l),Rn(null,l,v,u),l=l.child),l;case 16:g=l.elementType;e:{switch(mf(i,l),i=l.pendingProps,v=g._init,g=v(g._payload),l.type=g,v=l.tag=hL(g),i=kr(g,i),v){case 0:l=hy(null,l,g,i,u);break e;case 1:l=RT(null,l,g,i,u);break e;case 11:l=ST(null,l,g,i,u);break e;case 14:l=CT(null,l,g,kr(g.type,i),u);break e}throw Error(n(306,g,""))}return l;case 0:return g=l.type,v=l.pendingProps,v=l.elementType===g?v:kr(g,v),hy(i,l,g,v,u);case 1:return g=l.type,v=l.pendingProps,v=l.elementType===g?v:kr(g,v),RT(i,l,g,v,u);case 3:e:{if(PT(l),i===null)throw Error(n(387));g=l.pendingProps,w=l.memoizedState,v=w.element,qE(i,l),of(l,g,null,u);var N=l.memoizedState;if(g=N.element,w.isDehydrated)if(w={element:g,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){v=Ul(Error(n(423)),l),l=kT(i,l,g,u,v);break e}else if(g!==v){v=Ul(Error(n(424)),l),l=kT(i,l,g,u,v);break e}else for(nr=Bi(l.stateNode.containerInfo.firstChild),tr=l,Tt=!0,Pr=null,u=WE(l,null,g,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(jl(),g===v){l=Qs(i,l,u);break e}Rn(i,l,g,u)}l=l.child}return l;case 5:return YE(l),i===null&&zg(l),g=l.type,v=l.pendingProps,w=i!==null?i.memoizedProps:null,N=v.children,Dg(g,v)?N=null:w!==null&&Dg(g,w)&&(l.flags|=32),AT(i,l),Rn(i,l,N,u),l.child;case 6:return i===null&&zg(l),null;case 13:return DT(i,l,u);case 4:return Qg(l,l.stateNode.containerInfo),g=l.pendingProps,i===null?l.child=Ol(l,null,g,u):Rn(i,l,g,u),l.child;case 11:return g=l.type,v=l.pendingProps,v=l.elementType===g?v:kr(g,v),ST(i,l,g,v,u);case 7:return Rn(i,l,l.pendingProps,u),l.child;case 8:return Rn(i,l,l.pendingProps.children,u),l.child;case 12:return Rn(i,l,l.pendingProps.children,u),l.child;case 10:e:{if(g=l.type._context,v=l.pendingProps,w=l.memoizedProps,N=v.value,ht(nf,g._currentValue),g._currentValue=N,w!==null)if(Rr(w.value,N)){if(w.children===v.children&&!Ln.current){l=Qs(i,l,u);break e}}else for(w=l.child,w!==null&&(w.return=l);w!==null;){var F=w.dependencies;if(F!==null){N=w.child;for(var z=F.firstContext;z!==null;){if(z.context===g){if(w.tag===1){z=Ys(-1,u&-u),z.tag=2;var X=w.updateQueue;if(X!==null){X=X.shared;var oe=X.pending;oe===null?z.next=z:(z.next=oe.next,oe.next=z),X.pending=z}}w.lanes|=u,z=w.alternate,z!==null&&(z.lanes|=u),Gg(w.return,u,l),F.lanes|=u;break}z=z.next}}else if(w.tag===10)N=w.type===l.type?null:w.child;else if(w.tag===18){if(N=w.return,N===null)throw Error(n(341));N.lanes|=u,F=N.alternate,F!==null&&(F.lanes|=u),Gg(N,u,l),N=w.sibling}else N=w.child;if(N!==null)N.return=w;else for(N=w;N!==null;){if(N===l){N=null;break}if(w=N.sibling,w!==null){w.return=N.return,N=w;break}N=N.return}w=N}Rn(i,l,v.children,u),l=l.child}return l;case 9:return v=l.type,g=l.pendingProps.children,Vl(l,u),v=fr(v),g=g(v),l.flags|=1,Rn(i,l,g,u),l.child;case 14:return g=l.type,v=kr(g,l.pendingProps),v=kr(g.type,v),CT(i,l,g,v,u);case 15:return IT(i,l,l.type,l.pendingProps,u);case 17:return g=l.type,v=l.pendingProps,v=l.elementType===g?v:kr(g,v),mf(i,l),l.tag=1,Vn(g)?(i=!0,Qh(l)):i=!1,Vl(l,u),vT(l,g,v),cy(l,g,v,u),fy(null,l,g,!0,i,u);case 19:return jT(i,l,u);case 22:return NT(i,l,u)}throw Error(n(156,l.tag))};function ib(i,l){return ru(i,l)}function dL(i,l,u,g){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(i,l,u,g){return new dL(i,l,u,g)}function Dy(i){return i=i.prototype,!(!i||!i.isReactComponent)}function hL(i){if(typeof i=="function")return Dy(i)?1:0;if(i!=null){if(i=i.$$typeof,i===B)return 11;if(i===Ie)return 14}return 2}function Ji(i,l){var u=i.alternate;return u===null?(u=gr(i.tag,l,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=l,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,l=i.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Cf(i,l,u,g,v,w){var N=2;if(g=i,typeof i=="function")Dy(i)&&(N=1);else if(typeof i=="string")N=5;else e:switch(i){case P:return ga(u.children,v,w,l);case A:N=8,v|=8;break;case k:return i=gr(12,u,l,v|2),i.elementType=k,i.lanes=w,i;case L:return i=gr(13,u,l,v),i.elementType=L,i.lanes=w,i;case ye:return i=gr(19,u,l,v),i.elementType=ye,i.lanes=w,i;case he:return If(u,v,w,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:N=10;break e;case U:N=9;break e;case B:N=11;break e;case Ie:N=14;break e;case _e:N=16,g=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return l=gr(N,u,l,v),l.elementType=i,l.type=g,l.lanes=w,l}function ga(i,l,u,g){return i=gr(7,i,g,l),i.lanes=u,i}function If(i,l,u,g){return i=gr(22,i,g,l),i.elementType=he,i.lanes=u,i.stateNode={isHidden:!1},i}function My(i,l,u){return i=gr(6,i,null,l),i.lanes=u,i}function jy(i,l,u){return l=gr(4,i.children!==null?i.children:[],i.key,l),l.lanes=u,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function fL(i,l,u,g,v){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lu(0),this.expirationTimes=lu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lu(0),this.identifierPrefix=g,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Oy(i,l,u,g,v,w,N,F,z){return i=new fL(i,l,u,F,z),l===1?(l=1,w===!0&&(l|=8)):l=0,w=gr(3,null,null,l),i.current=w,w.stateNode=i,w.memoizedState={element:g,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yg(w),i}function pL(i,l,u){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:g==null?null:""+g,children:i,containerInfo:l,implementation:u}}function ob(i){if(!i)return $i;i=i._reactInternals;e:{if(Nr(i)!==i||i.tag!==1)throw Error(n(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Vn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(Vn(u))return ME(i,u,l)}return l}function ab(i,l,u,g,v,w,N,F,z){return i=Oy(u,g,!0,i,v,w,N,F,z),i.context=ob(null),u=i.current,g=Pn(),v=Qi(u),w=Ys(g,v),w.callback=l??null,qi(u,w,v),i.current.lanes=v,ea(i,v,g),Bn(i,g),i}function Nf(i,l,u,g){var v=l.current,w=Pn(),N=Qi(v);return u=ob(u),l.context===null?l.context=u:l.pendingContext=u,l=Ys(w,N),l.payload={element:i},g=g===void 0?null:g,g!==null&&(l.callback=g),i=qi(v,l,N),i!==null&&(jr(i,v,N,w),sf(i,v,N)),N}function Af(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function lb(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<l?u:l}}function Ly(i,l){lb(i,l),(i=i.alternate)&&lb(i,l)}function mL(){return null}var cb=typeof reportError=="function"?reportError:function(i){console.error(i)};function Vy(i){this._internalRoot=i}Rf.prototype.render=Vy.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(n(409));Nf(i,l,null,null)},Rf.prototype.unmount=Vy.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;fa(function(){Nf(null,i,null,null)}),l[Ws]=null}};function Rf(i){this._internalRoot=i}Rf.prototype.unstable_scheduleHydration=function(i){if(i){var l=hu();i={blockedOn:null,target:i,priority:l};for(var u=0;u<Xn.length&&l!==0&&l<Xn[u].priority;u++);Xn.splice(u,0,i),u===0&&gl(i)}};function Fy(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Pf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function ub(){}function gL(i,l,u,g,v){if(v){if(typeof g=="function"){var w=g;g=function(){var X=Af(N);w.call(X)}}var N=ab(l,g,i,0,null,!1,!1,"",ub);return i._reactRootContainer=N,i[Ws]=N.current,bu(i.nodeType===8?i.parentNode:i),fa(),N}for(;v=i.lastChild;)i.removeChild(v);if(typeof g=="function"){var F=g;g=function(){var X=Af(z);F.call(X)}}var z=Oy(i,0,!1,null,null,!1,!1,"",ub);return i._reactRootContainer=z,i[Ws]=z.current,bu(i.nodeType===8?i.parentNode:i),fa(function(){Nf(l,z,u,g)}),z}function kf(i,l,u,g,v){var w=u._reactRootContainer;if(w){var N=w;if(typeof v=="function"){var F=v;v=function(){var z=Af(N);F.call(z)}}Nf(l,N,i,v)}else N=gL(u,l,i,v,g);return Af(N)}uu=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var u=st(l.pendingLanes);u!==0&&(cu(l,u|1),Bn(l,gt()),(nt&6)===0&&($l=gt()+500,Wi()))}break;case 13:fa(function(){var g=Ks(i,1);if(g!==null){var v=Pn();jr(g,i,1,v)}}),Ly(i,1)}},pl=function(i){if(i.tag===13){var l=Ks(i,134217728);if(l!==null){var u=Pn();jr(l,i,134217728,u)}Ly(i,134217728)}},du=function(i){if(i.tag===13){var l=Qi(i),u=Ks(i,l);if(u!==null){var g=Pn();jr(u,i,l,g)}Ly(i,l)}},hu=function(){return Qe},fu=function(i,l){var u=Qe;try{return Qe=i,l()}finally{Qe=u}},Ms=function(i,l,u){switch(l){case"input":if(Kn(i,u),l=u.name,u.type==="radio"&&l!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<u.length;l++){var g=u[l];if(g!==i&&g.form===i.form){var v=Kh(g);if(!v)throw Error(n(90));Je(g),Kn(g,v)}}}break;case"textarea":_h(i,u);break;case"select":l=u.value,l!=null&&Cr(i,!!u.multiple,l,!1)}},Eh=Ry,Th=fa;var yL={usingClientEntryPoint:!1,Events:[Iu,Rl,Kh,Ri,Pi,Ry]},Bu={findFiberByHostInstance:ia,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vL={bundleType:Bu.bundleType,version:Bu.version,rendererPackageName:Bu.rendererPackageName,rendererConfig:Bu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Rh(i),i===null?null:i.stateNode},findFiberByHostInstance:Bu.findFiberByHostInstance||mL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Df.isDisabled&&Df.supportsFiber)try{Qo=Df.inject(vL),Yn=Df}catch{}}return zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yL,zn.createPortal=function(i,l){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fy(l))throw Error(n(200));return pL(i,l,null,u)},zn.createRoot=function(i,l){if(!Fy(i))throw Error(n(299));var u=!1,g="",v=cb;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(v=l.onRecoverableError)),l=Oy(i,1,!1,null,null,u,!1,g,v),i[Ws]=l.current,bu(i.nodeType===8?i.parentNode:i),new Vy(l)},zn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Rh(l),i=i===null?null:i.stateNode,i},zn.flushSync=function(i){return fa(i)},zn.hydrate=function(i,l,u){if(!Pf(l))throw Error(n(200));return kf(null,i,l,!0,u)},zn.hydrateRoot=function(i,l,u){if(!Fy(i))throw Error(n(405));var g=u!=null&&u.hydratedSources||null,v=!1,w="",N=cb;if(u!=null&&(u.unstable_strictMode===!0&&(v=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(N=u.onRecoverableError)),l=ab(l,null,i,1,u??null,v,!1,w,N),i[Ws]=l.current,bu(i),g)for(i=0;i<g.length;i++)u=g[i],v=u._getVersion,v=v(u._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[u,v]:l.mutableSourceEagerHydrationData.push(u,v);return new Rf(l)},zn.render=function(i,l,u){if(!Pf(l))throw Error(n(200));return kf(null,i,l,!1,u)},zn.unmountComponentAtNode=function(i){if(!Pf(i))throw Error(n(40));return i._reactRootContainer?(fa(function(){kf(null,null,i,!1,function(){i._reactRootContainer=null,i[Ws]=null})}),!0):!1},zn.unstable_batchedUpdates=Ry,zn.unstable_renderSubtreeIntoContainer=function(i,l,u,g){if(!Pf(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return kf(i,l,u,!1,g)},zn.version="18.3.1-next-f1338f8080-20240426",zn}var vb;function M1(){if(vb)return zy.exports;vb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zy.exports=CL(),zy.exports}var _b;function IL(){if(_b)return Mf;_b=1;var t=M1();return Mf.createRoot=t.createRoot,Mf.hydrateRoot=t.hydrateRoot,Mf}var NL=IL();const AL=g0(NL);var qd=M1();const RL=g0(qd);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xd(){return xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xd.apply(this,arguments)}var co;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(co||(co={}));const wb="popstate";function PL(t){t===void 0&&(t={});function e(r,s){let{pathname:o,search:a,hash:c}=r.location;return Vv("",{pathname:o,search:a,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:wp(s)}return DL(e,n,null,t)}function Wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function j1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kL(){return Math.random().toString(36).substr(2,8)}function xb(t,e){return{usr:t.state,key:t.key,idx:e}}function Vv(t,e,n,r){return n===void 0&&(n=null),xd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?kc(e):e,{state:n,key:e&&e.key||r||kL()})}function wp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function kc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function DL(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,a=s.history,c=co.Pop,d=null,f=m();f==null&&(f=0,a.replaceState(xd({},a.state,{idx:f}),""));function m(){return(a.state||{idx:null}).idx}function y(){c=co.Pop;let C=m(),R=C==null?null:C-f;f=C,d&&d({action:c,location:b.location,delta:R})}function _(C,R){c=co.Push;let O=Vv(b.location,C,R);f=m()+1;let M=xb(O,f),W=b.createHref(O);try{a.pushState(M,"",W)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;s.location.assign(W)}o&&d&&d({action:c,location:b.location,delta:1})}function T(C,R){c=co.Replace;let O=Vv(b.location,C,R);f=m();let M=xb(O,f),W=b.createHref(O);a.replaceState(M,"",W),o&&d&&d({action:c,location:b.location,delta:0})}function I(C){let R=s.location.origin!=="null"?s.location.origin:s.location.href,O=typeof C=="string"?C:wp(C);return O=O.replace(/ $/,"%20"),Wt(R,"No window.location.(origin|href) available to create URL for href: "+O),new URL(O,R)}let b={get action(){return c},get location(){return t(s,a)},listen(C){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(wb,y),d=C,()=>{s.removeEventListener(wb,y),d=null}},createHref(C){return e(s,C)},createURL:I,encodeLocation(C){let R=I(C);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:_,replace:T,go(C){return a.go(C)}};return b}var Eb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Eb||(Eb={}));function ML(t,e,n){return n===void 0&&(n="/"),jL(t,e,n)}function jL(t,e,n,r){let s=typeof e=="string"?kc(e):e,o=v0(s.pathname||"/",n);if(o==null)return null;let a=O1(t);OL(a);let c=null;for(let d=0;c==null&&d<a.length;++d){let f=KL(o);c=HL(a[d],f)}return c}function O1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,a,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};d.relativePath.startsWith("/")&&(Wt(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let f=ho([r,d.relativePath]),m=n.concat(d);o.children&&o.children.length>0&&(Wt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),O1(o.children,e,m,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:$L(f,o.index),routesMeta:m})};return t.forEach((o,a)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,a);else for(let d of L1(o.path))s(o,a,d)}),e}function L1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let a=L1(r.join("/")),c=[];return c.push(...a.map(d=>d===""?o:[o,d].join("/"))),s&&c.push(...a),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function OL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:WL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const LL=/^:[\w-]+$/,VL=3,FL=2,UL=1,BL=10,zL=-2,Tb=t=>t==="*";function $L(t,e){let n=t.split("/"),r=n.length;return n.some(Tb)&&(r+=zL),e&&(r+=FL),n.filter(s=>!Tb(s)).reduce((s,o)=>s+(LL.test(o)?VL:o===""?UL:BL),r)}function WL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function HL(t,e,n){let{routesMeta:r}=t,s={},o="/",a=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=qL({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),_=d.route;if(!y)return null;Object.assign(s,y.params),a.push({params:s,pathname:ho([o,y.pathname]),pathnameBase:JL(ho([o,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(o=ho([o,y.pathnameBase]))}return a}function qL(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=GL(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((f,m,y)=>{let{paramName:_,isOptional:T}=m;if(_==="*"){let b=c[y]||"";a=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const I=c[y];return T&&!I?f[_]=void 0:f[_]=(I||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:a,pattern:t}}function GL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),j1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function KL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return j1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function v0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function YL(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?kc(t):t;return{pathname:n?n.startsWith("/")?n:QL(n,e):e,search:ZL(r),hash:eV(s)}}function QL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Hy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function XL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function V1(t,e){let n=XL(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function F1(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=kc(t):(s=xd({},t),Wt(!s.pathname||!s.pathname.includes("?"),Hy("?","pathname","search",s)),Wt(!s.pathname||!s.pathname.includes("#"),Hy("#","pathname","hash",s)),Wt(!s.search||!s.search.includes("#"),Hy("#","search","hash",s)));let o=t===""||s.pathname==="",a=o?"/":s.pathname,c;if(a==null)c=n;else{let y=e.length-1;if(!r&&a.startsWith("..")){let _=a.split("/");for(;_[0]==="..";)_.shift(),y-=1;s.pathname=_.join("/")}c=y>=0?e[y]:"/"}let d=YL(s,c),f=a&&a!=="/"&&a.endsWith("/"),m=(o||a===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}const ho=t=>t.join("/").replace(/\/\/+/g,"/"),JL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ZL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,eV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function tV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const U1=["post","put","patch","delete"];new Set(U1);const nV=["get",...U1];new Set(nV);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ed(){return Ed=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ed.apply(this,arguments)}const _0=E.createContext(null),rV=E.createContext(null),Ka=E.createContext(null),fm=E.createContext(null),Ya=E.createContext({outlet:null,matches:[],isDataRoute:!1}),B1=E.createContext(null);function sV(t,e){let{relative:n}=e===void 0?{}:e;Gd()||Wt(!1);let{basename:r,navigator:s}=E.useContext(Ka),{hash:o,pathname:a,search:c}=$1(t,{relative:n}),d=a;return r!=="/"&&(d=a==="/"?r:ho([r,a])),s.createHref({pathname:d,search:c,hash:o})}function Gd(){return E.useContext(fm)!=null}function Lo(){return Gd()||Wt(!1),E.useContext(fm).location}function z1(t){E.useContext(Ka).static||E.useLayoutEffect(t)}function jn(){let{isDataRoute:t}=E.useContext(Ya);return t?yV():iV()}function iV(){Gd()||Wt(!1);let t=E.useContext(_0),{basename:e,future:n,navigator:r}=E.useContext(Ka),{matches:s}=E.useContext(Ya),{pathname:o}=Lo(),a=JSON.stringify(V1(s,n.v7_relativeSplatPath)),c=E.useRef(!1);return z1(()=>{c.current=!0}),E.useCallback(function(f,m){if(m===void 0&&(m={}),!c.current)return;if(typeof f=="number"){r.go(f);return}let y=F1(f,JSON.parse(a),o,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ho([e,y.pathname])),(m.replace?r.replace:r.push)(y,m.state,m)},[e,r,a,o,t])}function $1(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=E.useContext(Ka),{matches:s}=E.useContext(Ya),{pathname:o}=Lo(),a=JSON.stringify(V1(s,r.v7_relativeSplatPath));return E.useMemo(()=>F1(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function oV(t,e){return aV(t,e)}function aV(t,e,n,r){Gd()||Wt(!1);let{navigator:s}=E.useContext(Ka),{matches:o}=E.useContext(Ya),a=o[o.length-1],c=a?a.params:{};a&&a.pathname;let d=a?a.pathnameBase:"/";a&&a.route;let f=Lo(),m;if(e){var y;let C=typeof e=="string"?kc(e):e;d==="/"||(y=C.pathname)!=null&&y.startsWith(d)||Wt(!1),m=C}else m=f;let _=m.pathname||"/",T=_;if(d!=="/"){let C=d.replace(/^\//,"").split("/");T="/"+_.replace(/^\//,"").split("/").slice(C.length).join("/")}let I=ML(t,{pathname:T}),b=hV(I&&I.map(C=>Object.assign({},C,{params:Object.assign({},c,C.params),pathname:ho([d,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:ho([d,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,n,r);return e&&b?E.createElement(fm.Provider,{value:{location:Ed({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:co.Pop}},b):b}function lV(){let t=gV(),e=tV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:s},n):null,null)}const cV=E.createElement(lV,null);class uV extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?E.createElement(Ya.Provider,{value:this.props.routeContext},E.createElement(B1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dV(t){let{routeContext:e,match:n,children:r}=t,s=E.useContext(_0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Ya.Provider,{value:e},r)}function hV(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,c=(s=n)==null?void 0:s.errors;if(c!=null){let m=a.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);m>=0||Wt(!1),a=a.slice(0,Math.min(a.length,m+1))}let d=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<a.length;m++){let y=a[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=m),y.route.id){let{loaderData:_,errors:T}=n,I=y.route.loader&&_[y.route.id]===void 0&&(!T||T[y.route.id]===void 0);if(y.route.lazy||I){d=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,y,_)=>{let T,I=!1,b=null,C=null;n&&(T=c&&y.route.id?c[y.route.id]:void 0,b=y.route.errorElement||cV,d&&(f<0&&_===0?(vV("route-fallback"),I=!0,C=null):f===_&&(I=!0,C=y.route.hydrateFallbackElement||null)));let R=e.concat(a.slice(0,_+1)),O=()=>{let M;return T?M=b:I?M=C:y.route.Component?M=E.createElement(y.route.Component,null):y.route.element?M=y.route.element:M=m,E.createElement(dV,{match:y,routeContext:{outlet:m,matches:R,isDataRoute:n!=null},children:M})};return n&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?E.createElement(uV,{location:n.location,revalidation:n.revalidation,component:b,error:T,children:O(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):O()},null)}var W1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(W1||{}),H1=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(H1||{});function fV(t){let e=E.useContext(_0);return e||Wt(!1),e}function pV(t){let e=E.useContext(rV);return e||Wt(!1),e}function mV(t){let e=E.useContext(Ya);return e||Wt(!1),e}function q1(t){let e=mV(),n=e.matches[e.matches.length-1];return n.route.id||Wt(!1),n.route.id}function gV(){var t;let e=E.useContext(B1),n=pV(),r=q1();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function yV(){let{router:t}=fV(W1.UseNavigateStable),e=q1(H1.UseNavigateStable),n=E.useRef(!1);return z1(()=>{n.current=!0}),E.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ed({fromRouteId:e},o)))},[t,e])}const bb={};function vV(t,e,n){bb[t]||(bb[t]=!0)}function _V(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function $n(t){Wt(!1)}function wV(t){let{basename:e="/",children:n=null,location:r,navigationType:s=co.Pop,navigator:o,static:a=!1,future:c}=t;Gd()&&Wt(!1);let d=e.replace(/^\/*/,"/"),f=E.useMemo(()=>({basename:d,navigator:o,static:a,future:Ed({v7_relativeSplatPath:!1},c)}),[d,c,o,a]);typeof r=="string"&&(r=kc(r));let{pathname:m="/",search:y="",hash:_="",state:T=null,key:I="default"}=r,b=E.useMemo(()=>{let C=v0(m,d);return C==null?null:{location:{pathname:C,search:y,hash:_,state:T,key:I},navigationType:s}},[d,m,y,_,T,I,s]);return b==null?null:E.createElement(Ka.Provider,{value:f},E.createElement(fm.Provider,{children:n,value:b}))}function xV(t){let{children:e,location:n}=t;return oV(Fv(e),n)}new Promise(()=>{});function Fv(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,s)=>{if(!E.isValidElement(r))return;let o=[...e,s];if(r.type===E.Fragment){n.push.apply(n,Fv(r.props.children,o));return}r.type!==$n&&Wt(!1),!r.props.index||!r.props.children||Wt(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Fv(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uv(){return Uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uv.apply(this,arguments)}function EV(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function TV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bV(t,e){return t.button===0&&(!e||e==="_self")&&!TV(t)}function Bv(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function SV(t,e){let n=Bv(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(o=>{n.append(s,o)})}),n}const CV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],IV="6";try{window.__reactRouterVersion=IV}catch{}const NV="startTransition",Sb=y0[NV];function AV(t){let{basename:e,children:n,future:r,window:s}=t,o=E.useRef();o.current==null&&(o.current=PL({window:s,v5Compat:!0}));let a=o.current,[c,d]=E.useState({action:a.action,location:a.location}),{v7_startTransition:f}=r||{},m=E.useCallback(y=>{f&&Sb?Sb(()=>d(y)):d(y)},[d,f]);return E.useLayoutEffect(()=>a.listen(m),[a,m]),E.useEffect(()=>_V(r),[r]),E.createElement(wV,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:a,future:r})}const RV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kn=E.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:o,replace:a,state:c,target:d,to:f,preventScrollReset:m,viewTransition:y}=e,_=EV(e,CV),{basename:T}=E.useContext(Ka),I,b=!1;if(typeof f=="string"&&PV.test(f)&&(I=f,RV))try{let M=new URL(window.location.href),W=f.startsWith("//")?new URL(M.protocol+f):new URL(f),q=v0(W.pathname,T);W.origin===M.origin&&q!=null?f=q+W.search+W.hash:b=!0}catch{}let C=sV(f,{relative:s}),R=kV(f,{replace:a,state:c,target:d,preventScrollReset:m,relative:s,viewTransition:y});function O(M){r&&r(M),M.defaultPrevented||R(M)}return E.createElement("a",Uv({},_,{href:I||C,onClick:b||o?r:O,ref:n,target:d}))});var Cb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Cb||(Cb={}));var Ib;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ib||(Ib={}));function kV(t,e){let{target:n,replace:r,state:s,preventScrollReset:o,relative:a,viewTransition:c}=e===void 0?{}:e,d=jn(),f=Lo(),m=$1(t,{relative:a});return E.useCallback(y=>{if(bV(y,n)){y.preventDefault();let _=r!==void 0?r:wp(f)===wp(m);d(t,{replace:_,state:s,preventScrollReset:o,relative:a,viewTransition:c})}},[f,d,m,r,s,n,t,o,a,c])}function DV(t){let e=E.useRef(Bv(t)),n=E.useRef(!1),r=Lo(),s=E.useMemo(()=>SV(r.search,n.current?null:e.current),[r.search]),o=jn(),a=E.useCallback((c,d)=>{const f=Bv(typeof c=="function"?c(s):c);n.current=!0,o("?"+f,d)},[o,s]);return[s,a]}const MV={theme:"system",setTheme:()=>null},G1=E.createContext(MV);function jV({children:t,defaultTheme:e="system",enableSystem:n=!0,disableTransitionOnChange:r=!1}){const[s,o]=E.useState(e);E.useEffect(()=>{const c=window.document.documentElement;if(c.classList.remove("light","dark"),s==="system"&&n){const d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";c.classList.add(d);return}c.classList.add(s)},[s,n]);const a={theme:s,setTheme:c=>{r&&(document.documentElement.style.transition="none",setTimeout(()=>{document.documentElement.style.transition=""},0)),o(c)}};return h.jsx(G1.Provider,{value:a,children:t})}const _i=()=>{const t=E.useContext(G1);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function Nb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function pm(...t){return e=>{let n=!1;const r=t.map(s=>{const o=Nb(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():Nb(t[s],null)}}}}function it(...t){return E.useCallback(pm(...t),t)}function ka(t){const e=LV(t),n=E.forwardRef((r,s)=>{const{children:o,...a}=r,c=E.Children.toArray(o),d=c.find(FV);if(d){const f=d.props.children,m=c.map(y=>y===d?E.Children.count(f)>1?E.Children.only(null):E.isValidElement(f)?f.props.children:null:y);return h.jsx(e,{...a,ref:s,children:E.isValidElement(f)?E.cloneElement(f,void 0,m):null})}return h.jsx(e,{...a,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}var OV=ka("Slot");function LV(t){const e=E.forwardRef((n,r)=>{const{children:s,...o}=n;if(E.isValidElement(s)){const a=BV(s),c=UV(o,s.props);return s.type!==E.Fragment&&(c.ref=r?pm(r,a):a),E.cloneElement(s,c)}return E.Children.count(s)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var K1=Symbol("radix.slottable");function VV(t){const e=({children:n})=>h.jsx(h.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=K1,e}function FV(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===K1}function UV(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function BV(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Y1(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Y1(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Q1(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Y1(t))&&(r&&(r+=" "),r+=e);return r}const Ab=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Rb=Q1,X1=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Rb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,a=Object.keys(s).map(f=>{const m=n==null?void 0:n[f],y=o==null?void 0:o[f];if(m===null)return null;const _=Ab(m)||Ab(y);return s[f][_]}),c=n&&Object.entries(n).reduce((f,m)=>{let[y,_]=m;return _===void 0||(f[y]=_),f},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((f,m)=>{let{class:y,className:_,...T}=m;return Object.entries(T).every(I=>{let[b,C]=I;return Array.isArray(C)?C.includes({...o,...c}[b]):{...o,...c}[b]===C})?[...f,y,_]:f},[]);return Rb(t,a,d,n==null?void 0:n.class,n==null?void 0:n.className)},w0="-",zV=t=>{const e=WV(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const c=a.split(w0);return c[0]===""&&c.length!==1&&c.shift(),J1(c,e)||$V(a)},getConflictingClassGroupIds:(a,c)=>{const d=n[a]||[];return c&&r[a]?[...d,...r[a]]:d}}},J1=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?J1(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(w0);return(a=e.validators.find(({validator:c})=>c(o)))==null?void 0:a.classGroupId},Pb=/^\[(.+)\]$/,$V=t=>{if(Pb.test(t)){const e=Pb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},WV=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return qV(Object.entries(t.classGroups),n).forEach(([o,a])=>{zv(a,r,o,e)}),r},zv=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:kb(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(HV(s)){zv(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,a])=>{zv(a,kb(e,o),n,r)})})},kb=(t,e)=>{let n=t;return e.split(w0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},HV=t=>t.isThemeGetter,qV=(t,e)=>e?t.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,c])=>[e+a,c])):o);return[n,s]}):t,GV=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(o,a)=>{n.set(o,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return s(o,a),a},set(o,a){n.has(o)?n.set(o,a):s(o,a)}}},Z1="!",KV=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],o=e.length,a=c=>{const d=[];let f=0,m=0,y;for(let C=0;C<c.length;C++){let R=c[C];if(f===0){if(R===s&&(r||c.slice(C,C+o)===e)){d.push(c.slice(m,C)),m=C+o;continue}if(R==="/"){y=C;continue}}R==="["?f++:R==="]"&&f--}const _=d.length===0?c:c.substring(m),T=_.startsWith(Z1),I=T?_.substring(1):_,b=y&&y>m?y-m:void 0;return{modifiers:d,hasImportantModifier:T,baseClassName:I,maybePostfixModifierPosition:b}};return n?c=>n({className:c,parseClassName:a}):a},YV=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},QV=t=>({cache:GV(t.cacheSize),parseClassName:KV(t),...zV(t)}),XV=/\s+/,JV=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,o=[],a=t.trim().split(XV);let c="";for(let d=a.length-1;d>=0;d-=1){const f=a[d],{modifiers:m,hasImportantModifier:y,baseClassName:_,maybePostfixModifierPosition:T}=n(f);let I=!!T,b=r(I?_.substring(0,T):_);if(!b){if(!I){c=f+(c.length>0?" "+c:c);continue}if(b=r(_),!b){c=f+(c.length>0?" "+c:c);continue}I=!1}const C=YV(m).join(":"),R=y?C+Z1:C,O=R+b;if(o.includes(O))continue;o.push(O);const M=s(b,I);for(let W=0;W<M.length;++W){const q=M[W];o.push(R+q)}c=f+(c.length>0?" "+c:c)}return c};function ZV(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=eN(e))&&(r&&(r+=" "),r+=n);return r}const eN=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=eN(t[r]))&&(n&&(n+=" "),n+=e);return n};function e4(t,...e){let n,r,s,o=a;function a(d){const f=e.reduce((m,y)=>y(m),t());return n=QV(f),r=n.cache.get,s=n.cache.set,o=c,c(d)}function c(d){const f=r(d);if(f)return f;const m=JV(d,n);return s(d,m),m}return function(){return o(ZV.apply(null,arguments))}}const _t=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},tN=/^\[(?:([a-z-]+):)?(.+)\]$/i,t4=/^\d+\/\d+$/,n4=new Set(["px","full","screen"]),r4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,s4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,i4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,o4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,a4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Js=t=>lc(t)||n4.has(t)||t4.test(t),eo=t=>Dc(t,"length",m4),lc=t=>!!t&&!Number.isNaN(Number(t)),qy=t=>Dc(t,"number",lc),$u=t=>!!t&&Number.isInteger(Number(t)),l4=t=>t.endsWith("%")&&lc(t.slice(0,-1)),$e=t=>tN.test(t),to=t=>r4.test(t),c4=new Set(["length","size","percentage"]),u4=t=>Dc(t,c4,nN),d4=t=>Dc(t,"position",nN),h4=new Set(["image","url"]),f4=t=>Dc(t,h4,y4),p4=t=>Dc(t,"",g4),Wu=()=>!0,Dc=(t,e,n)=>{const r=tN.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},m4=t=>s4.test(t)&&!i4.test(t),nN=()=>!1,g4=t=>o4.test(t),y4=t=>a4.test(t),v4=()=>{const t=_t("colors"),e=_t("spacing"),n=_t("blur"),r=_t("brightness"),s=_t("borderColor"),o=_t("borderRadius"),a=_t("borderSpacing"),c=_t("borderWidth"),d=_t("contrast"),f=_t("grayscale"),m=_t("hueRotate"),y=_t("invert"),_=_t("gap"),T=_t("gradientColorStops"),I=_t("gradientColorStopPositions"),b=_t("inset"),C=_t("margin"),R=_t("opacity"),O=_t("padding"),M=_t("saturate"),W=_t("scale"),q=_t("sepia"),Y=_t("skew"),P=_t("space"),A=_t("translate"),k=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",$e,e],B=()=>[$e,e],L=()=>["",Js,eo],ye=()=>["auto",lc,$e],Ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_e=()=>["solid","dashed","dotted","double","none"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Z=()=>["start","end","center","between","around","evenly","stretch"],ee=()=>["","0",$e],se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[lc,$e];return{cacheSize:500,separator:":",theme:{colors:[Wu],spacing:[Js,eo],blur:["none","",to,$e],brightness:$(),borderColor:[t],borderRadius:["none","","full",to,$e],borderSpacing:B(),borderWidth:L(),contrast:$(),grayscale:ee(),hueRotate:$(),invert:ee(),gap:B(),gradientColorStops:[t],gradientColorStopPositions:[l4,eo],inset:U(),margin:U(),opacity:$(),padding:B(),saturate:$(),scale:$(),sepia:ee(),skew:$(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",$e]}],container:["container"],columns:[{columns:[to]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ie(),$e]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$u,$e]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$e]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",$u,$e]}],"grid-cols":[{"grid-cols":[Wu]}],"col-start-end":[{col:["auto",{span:["full",$u,$e]},$e]}],"col-start":[{"col-start":ye()}],"col-end":[{"col-end":ye()}],"grid-rows":[{"grid-rows":[Wu]}],"row-start-end":[{row:["auto",{span:[$u,$e]},$e]}],"row-start":[{"row-start":ye()}],"row-end":[{"row-end":ye()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$e]}],gap:[{gap:[_]}],"gap-x":[{"gap-x":[_]}],"gap-y":[{"gap-y":[_]}],"justify-content":[{justify:["normal",...Z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[O]}],px:[{px:[O]}],py:[{py:[O]}],ps:[{ps:[O]}],pe:[{pe:[O]}],pt:[{pt:[O]}],pr:[{pr:[O]}],pb:[{pb:[O]}],pl:[{pl:[O]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$e,e]}],"min-w":[{"min-w":[$e,e,"min","max","fit"]}],"max-w":[{"max-w":[$e,e,"none","full","min","max","fit","prose",{screen:[to]},to]}],h:[{h:[$e,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$e,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$e,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$e,e,"auto","min","max","fit"]}],"font-size":[{text:["base",to,eo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qy]}],"font-family":[{font:[Wu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$e]}],"line-clamp":[{"line-clamp":["none",lc,qy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Js,$e]}],"list-image":[{"list-image":["none",$e]}],"list-style-type":[{list:["none","disc","decimal",$e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[R]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[R]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._e(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Js,eo]}],"underline-offset":[{"underline-offset":["auto",Js,$e]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[R]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ie(),d4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",u4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},f4]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[I]}],"gradient-via-pos":[{via:[I]}],"gradient-to-pos":[{to:[I]}],"gradient-from":[{from:[T]}],"gradient-via":[{via:[T]}],"gradient-to":[{to:[T]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[R]}],"border-style":[{border:[..._e(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[R]}],"divide-style":[{divide:_e()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",..._e()]}],"outline-offset":[{"outline-offset":[Js,$e]}],"outline-w":[{outline:[Js,eo]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[R]}],"ring-offset-w":[{"ring-offset":[Js,eo]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",to,p4]}],"shadow-color":[{shadow:[Wu]}],opacity:[{opacity:[R]}],"mix-blend":[{"mix-blend":[...he(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":he()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",to,$e]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[y]}],saturate:[{saturate:[M]}],sepia:[{sepia:[q]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[R]}],"backdrop-saturate":[{"backdrop-saturate":[M]}],"backdrop-sepia":[{"backdrop-sepia":[q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$e]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",$e]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",$e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[W]}],"scale-x":[{"scale-x":[W]}],"scale-y":[{"scale-y":[W]}],rotate:[{rotate:[$u,$e]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[Y]}],"skew-y":[{"skew-y":[Y]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$e]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Js,eo,qy]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_4=e4(v4);function fe(...t){return _4(Q1(t))}const x0=X1("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Ge=E.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},o)=>{const a=r?OV:"button";return h.jsx(a,{className:fe(x0({variant:e,size:n,className:t})),ref:o,...s})});Ge.displayName="Button";/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var w4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ut=(t,e)=>{const n=E.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:c="",children:d,...f},m)=>E.createElement("svg",{ref:m,...w4,width:s,height:s,stroke:r,strokeWidth:a?Number(o)*24/Number(s):o,className:["lucide",`lucide-${x4(t)}`,c].join(" "),...f},[...e.map(([y,_])=>E.createElement(y,_)),...Array.isArray(d)?d:[d]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=ut("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=ut("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=ut("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=ut("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=ut("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=ut("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=ut("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=ut("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=ut("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=ut("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=ut("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=ut("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=ut("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=ut("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=ut("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=ut("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=ut("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=ut("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=ut("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=ut("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=ut("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=ut("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=ut("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=ut("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=ut("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=ut("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=ut("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=ut("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),b0=E.createContext({});function S0(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const C0=typeof window<"u",lN=C0?E.useLayoutEffect:E.useEffect,mm=E.createContext(null);function I0(t,e){t.indexOf(e)===-1&&t.push(e)}function N0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ui=(t,e,n)=>n>e?e:n<t?t:n;let A0=()=>{};const di={},cN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function uN(t){return typeof t=="object"&&t!==null}const dN=t=>/^0[^.\s]+$/u.test(t);function R0(t){let e;return()=>(e===void 0&&(e=t()),e)}const Er=t=>t,z4=(t,e)=>n=>e(t(n)),Kd=(...t)=>t.reduce(z4),Td=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class P0{constructor(){this.subscriptions=[]}add(e){return I0(this.subscriptions,e),()=>N0(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const a=this.subscriptions[o];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _s=t=>t*1e3,ws=t=>t/1e3;function hN(t,e){return e?t*(1e3/e):0}const fN=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,$4=1e-7,W4=12;function H4(t,e,n,r,s){let o,a,c=0;do a=e+(n-e)/2,o=fN(a,r,s)-t,o>0?n=a:e=a;while(Math.abs(o)>$4&&++c<W4);return a}function Yd(t,e,n,r){if(t===e&&n===r)return Er;const s=o=>H4(o,0,1,t,n);return o=>o===0||o===1?o:fN(s(o),e,r)}const pN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,mN=t=>e=>1-t(1-e),gN=Yd(.33,1.53,.69,.99),k0=mN(gN),yN=pN(k0),vN=t=>(t*=2)<1?.5*k0(t):.5*(2-Math.pow(2,-10*(t-1))),D0=t=>1-Math.sin(Math.acos(t)),_N=mN(D0),wN=pN(D0),q4=Yd(.42,0,1,1),G4=Yd(0,0,.58,1),xN=Yd(.42,0,.58,1),K4=t=>Array.isArray(t)&&typeof t[0]!="number",EN=t=>Array.isArray(t)&&typeof t[0]=="number",Y4={linear:Er,easeIn:q4,easeInOut:xN,easeOut:G4,circIn:D0,circInOut:wN,circOut:_N,backIn:k0,backInOut:yN,backOut:gN,anticipate:vN},Q4=t=>typeof t=="string",Db=t=>{if(EN(t)){A0(t.length===4);const[e,n,r,s]=t;return Yd(e,n,r,s)}else if(Q4(t))return Y4[t];return t},jf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Mb={value:null};function X4(t,e){let n=new Set,r=new Set,s=!1,o=!1;const a=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},d=0;function f(y){a.has(y)&&(m.schedule(y),t()),d++,y(c)}const m={schedule:(y,_=!1,T=!1)=>{const b=T&&s?n:r;return _&&a.add(y),b.has(y)||b.add(y),y},cancel:y=>{r.delete(y),a.delete(y)},process:y=>{if(c=y,s){o=!0;return}s=!0,[n,r]=[r,n],n.forEach(f),e&&Mb.value&&Mb.value.frameloop[e].push(d),d=0,n.clear(),s=!1,o&&(o=!1,m.process(y))}};return m}const J4=40;function TN(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=jf.reduce((M,W)=>(M[W]=X4(o,e?W:void 0),M),{}),{setup:c,read:d,resolveKeyframes:f,preUpdate:m,update:y,preRender:_,render:T,postRender:I}=a,b=()=>{const M=di.useManualTiming?s.timestamp:performance.now();n=!1,di.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(M-s.timestamp,J4),1)),s.timestamp=M,s.isProcessing=!0,c.process(s),d.process(s),f.process(s),m.process(s),y.process(s),_.process(s),T.process(s),I.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(b))},C=()=>{n=!0,r=!0,s.isProcessing||t(b)};return{schedule:jf.reduce((M,W)=>{const q=a[W];return M[W]=(Y,P=!1,A=!1)=>(n||C(),q.schedule(Y,P,A)),M},{}),cancel:M=>{for(let W=0;W<jf.length;W++)a[jf[W]].cancel(M)},state:s,steps:a}}const{schedule:Nt,cancel:bo,state:dn,steps:Gy}=TN(typeof requestAnimationFrame<"u"?requestAnimationFrame:Er,!0);let tp;function Z4(){tp=void 0}const qn={now:()=>(tp===void 0&&qn.set(dn.isProcessing||di.useManualTiming?dn.timestamp:performance.now()),tp),set:t=>{tp=t,queueMicrotask(Z4)}},bN=t=>e=>typeof e=="string"&&e.startsWith(t),M0=bN("--"),eF=bN("var(--"),j0=t=>eF(t)?tF.test(t.split("/*")[0].trim()):!1,tF=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Mc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},bd={...Mc,transform:t=>ui(0,1,t)},Of={...Mc,default:1},od=t=>Math.round(t*1e5)/1e5,O0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nF(t){return t==null}const rF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,L0=(t,e)=>n=>!!(typeof n=="string"&&rF.test(n)&&n.startsWith(t)||e&&!nF(n)&&Object.prototype.hasOwnProperty.call(n,e)),SN=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,o,a,c]=r.match(O0);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},sF=t=>ui(0,255,t),Ky={...Mc,transform:t=>Math.round(sF(t))},Ea={test:L0("rgb","red"),parse:SN("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Ky.transform(t)+", "+Ky.transform(e)+", "+Ky.transform(n)+", "+od(bd.transform(r))+")"};function iF(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const $v={test:L0("#"),parse:iF,transform:Ea.transform},Qd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),so=Qd("deg"),xs=Qd("%"),je=Qd("px"),oF=Qd("vh"),aF=Qd("vw"),jb={...xs,parse:t=>xs.parse(t)/100,transform:t=>xs.transform(t*100)},tc={test:L0("hsl","hue"),parse:SN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+xs.transform(od(e))+", "+xs.transform(od(n))+", "+od(bd.transform(r))+")"},En={test:t=>Ea.test(t)||$v.test(t)||tc.test(t),parse:t=>Ea.test(t)?Ea.parse(t):tc.test(t)?tc.parse(t):$v.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ea.transform(t):tc.transform(t)},lF=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function cF(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(O0))==null?void 0:e.length)||0)+(((n=t.match(lF))==null?void 0:n.length)||0)>0}const CN="number",IN="color",uF="var",dF="var(",Ob="${}",hF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Sd(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const c=e.replace(hF,d=>(En.test(d)?(r.color.push(o),s.push(IN),n.push(En.parse(d))):d.startsWith(dF)?(r.var.push(o),s.push(uF),n.push(d)):(r.number.push(o),s.push(CN),n.push(parseFloat(d))),++o,Ob)).split(Ob);return{values:n,split:c,indexes:r,types:s}}function NN(t){return Sd(t).values}function AN(t){const{split:e,types:n}=Sd(t),r=e.length;return s=>{let o="";for(let a=0;a<r;a++)if(o+=e[a],s[a]!==void 0){const c=n[a];c===CN?o+=od(s[a]):c===IN?o+=En.transform(s[a]):o+=s[a]}return o}}const fF=t=>typeof t=="number"?0:t;function pF(t){const e=NN(t);return AN(t)(e.map(fF))}const So={test:cF,parse:NN,createTransformer:AN,getAnimatableNone:pF};function Yy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function mF({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,a=0;if(!e)s=o=a=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;s=Yy(d,c,t+1/3),o=Yy(d,c,t),a=Yy(d,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}function Ep(t,e){return n=>n>0?e:t}const It=(t,e,n)=>t+(e-t)*n,Qy=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},gF=[$v,Ea,tc],yF=t=>gF.find(e=>e.test(t));function Lb(t){const e=yF(t);if(!e)return!1;let n=e.parse(t);return e===tc&&(n=mF(n)),n}const Vb=(t,e)=>{const n=Lb(t),r=Lb(e);if(!n||!r)return Ep(t,e);const s={...n};return o=>(s.red=Qy(n.red,r.red,o),s.green=Qy(n.green,r.green,o),s.blue=Qy(n.blue,r.blue,o),s.alpha=It(n.alpha,r.alpha,o),Ea.transform(s))},Wv=new Set(["none","hidden"]);function vF(t,e){return Wv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function _F(t,e){return n=>It(t,e,n)}function V0(t){return typeof t=="number"?_F:typeof t=="string"?j0(t)?Ep:En.test(t)?Vb:EF:Array.isArray(t)?RN:typeof t=="object"?En.test(t)?Vb:wF:Ep}function RN(t,e){const n=[...t],r=n.length,s=t.map((o,a)=>V0(o)(o,e[a]));return o=>{for(let a=0;a<r;a++)n[a]=s[a](o);return n}}function wF(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=V0(t[s])(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function xF(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][r[o]],c=t.values[a]??0;n[s]=c,r[o]++}return n}const EF=(t,e)=>{const n=So.createTransformer(e),r=Sd(t),s=Sd(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Wv.has(t)&&!s.values.length||Wv.has(e)&&!r.values.length?vF(t,e):Kd(RN(xF(r,s),s.values),n):Ep(t,e)};function PN(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?It(t,e,n):V0(t)(t,e)}const TF=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Nt.update(e,n),stop:()=>bo(e),now:()=>dn.isProcessing?dn.timestamp:qn.now()}},kN=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)r+=t(o/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Tp=2e4;function F0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Tp;)e+=n,r=t.next(e);return e>=Tp?1/0:e}function bF(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(F0(r),Tp);return{type:"keyframes",ease:o=>r.next(s*o).value/e,duration:ws(s)}}const SF=5;function DN(t,e,n){const r=Math.max(e-SF,0);return hN(n-t(r),e-r)}const kt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Fb=.001;function CF({duration:t=kt.duration,bounce:e=kt.bounce,velocity:n=kt.velocity,mass:r=kt.mass}){let s,o,a=1-e;a=ui(kt.minDamping,kt.maxDamping,a),t=ui(kt.minDuration,kt.maxDuration,ws(t)),a<1?(s=f=>{const m=f*a,y=m*t,_=m-n,T=Hv(f,a),I=Math.exp(-y);return Fb-_/T*I},o=f=>{const y=f*a*t,_=y*n+n,T=Math.pow(a,2)*Math.pow(f,2)*t,I=Math.exp(-y),b=Hv(Math.pow(f,2),a);return(-s(f)+Fb>0?-1:1)*((_-T)*I)/b}):(s=f=>{const m=Math.exp(-f*t),y=(f-n)*t+1;return-.001+m*y},o=f=>{const m=Math.exp(-f*t),y=(n-f)*(t*t);return m*y});const c=5/t,d=NF(s,o,c);if(t=_s(t),isNaN(d))return{stiffness:kt.stiffness,damping:kt.damping,duration:t};{const f=Math.pow(d,2)*r;return{stiffness:f,damping:a*2*Math.sqrt(r*f),duration:t}}}const IF=12;function NF(t,e,n){let r=n;for(let s=1;s<IF;s++)r=r-t(r)/e(r);return r}function Hv(t,e){return t*Math.sqrt(1-e*e)}const AF=["duration","bounce"],RF=["stiffness","damping","mass"];function Ub(t,e){return e.some(n=>t[n]!==void 0)}function PF(t){let e={velocity:kt.velocity,stiffness:kt.stiffness,damping:kt.damping,mass:kt.mass,isResolvedFromDuration:!1,...t};if(!Ub(t,RF)&&Ub(t,AF))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,o=2*ui(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:kt.mass,stiffness:s,damping:o}}else{const n=CF(t);e={...e,...n,mass:kt.mass},e.isResolvedFromDuration=!0}return e}function bp(t=kt.visualDuration,e=kt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:d,damping:f,mass:m,duration:y,velocity:_,isResolvedFromDuration:T}=PF({...n,velocity:-ws(n.velocity||0)}),I=_||0,b=f/(2*Math.sqrt(d*m)),C=a-o,R=ws(Math.sqrt(d/m)),O=Math.abs(C)<5;r||(r=O?kt.restSpeed.granular:kt.restSpeed.default),s||(s=O?kt.restDelta.granular:kt.restDelta.default);let M;if(b<1){const q=Hv(R,b);M=Y=>{const P=Math.exp(-b*R*Y);return a-P*((I+b*R*C)/q*Math.sin(q*Y)+C*Math.cos(q*Y))}}else if(b===1)M=q=>a-Math.exp(-R*q)*(C+(I+R*C)*q);else{const q=R*Math.sqrt(b*b-1);M=Y=>{const P=Math.exp(-b*R*Y),A=Math.min(q*Y,300);return a-P*((I+b*R*C)*Math.sinh(A)+q*C*Math.cosh(A))/q}}const W={calculatedDuration:T&&y||null,next:q=>{const Y=M(q);if(T)c.done=q>=y;else{let P=q===0?I:0;b<1&&(P=q===0?_s(I):DN(M,q,Y));const A=Math.abs(P)<=r,k=Math.abs(a-Y)<=s;c.done=A&&k}return c.value=c.done?a:Y,c},toString:()=>{const q=Math.min(F0(W),Tp),Y=kN(P=>W.next(q*P).value,q,30);return q+"ms "+Y},toTransition:()=>{}};return W}bp.applyToOptions=t=>{const e=bF(t,100,bp);return t.ease=e.ease,t.duration=_s(e.duration),t.type="keyframes",t};function qv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:c,max:d,restDelta:f=.5,restSpeed:m}){const y=t[0],_={done:!1,value:y},T=A=>c!==void 0&&A<c||d!==void 0&&A>d,I=A=>c===void 0?d:d===void 0||Math.abs(c-A)<Math.abs(d-A)?c:d;let b=n*e;const C=y+b,R=a===void 0?C:a(C);R!==C&&(b=R-y);const O=A=>-b*Math.exp(-A/r),M=A=>R+O(A),W=A=>{const k=O(A),V=M(A);_.done=Math.abs(k)<=f,_.value=_.done?R:V};let q,Y;const P=A=>{T(_.value)&&(q=A,Y=bp({keyframes:[_.value,I(_.value)],velocity:DN(M,A,_.value),damping:s,stiffness:o,restDelta:f,restSpeed:m}))};return P(0),{calculatedDuration:null,next:A=>{let k=!1;return!Y&&q===void 0&&(k=!0,W(A),P(A)),q!==void 0&&A>=q?Y.next(A-q):(!k&&W(A),_)}}}function kF(t,e,n){const r=[],s=n||di.mix||PN,o=t.length-1;for(let a=0;a<o;a++){let c=s(t[a],t[a+1]);if(e){const d=Array.isArray(e)?e[a]||Er:e;c=Kd(d,c)}r.push(c)}return r}function DF(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(A0(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=kF(e,r,s),d=c.length,f=m=>{if(a&&m<t[0])return e[0];let y=0;if(d>1)for(;y<t.length-2&&!(m<t[y+1]);y++);const _=Td(t[y],t[y+1],m);return c[y](_)};return n?m=>f(ui(t[0],t[o-1],m)):f}function MF(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Td(0,e,r);t.push(It(n,1,s))}}function jF(t){const e=[0];return MF(e,t.length-1),e}function OF(t,e){return t.map(n=>n*e)}function LF(t,e){return t.map(()=>e||xN).splice(0,t.length-1)}function ad({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=K4(r)?r.map(Db):Db(r),o={done:!1,value:e[0]},a=OF(n&&n.length===e.length?n:jF(e),t),c=DF(a,e,{ease:Array.isArray(s)?s:LF(e,s)});return{calculatedDuration:t,next:d=>(o.value=c(d),o.done=d>=t,o)}}const VF=t=>t!==null;function U0(t,{repeat:e,repeatType:n="loop"},r,s=1){const o=t.filter(VF),c=s<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!c||r===void 0?o[c]:r}const FF={decay:qv,inertia:qv,tween:ad,keyframes:ad,spring:bp};function MN(t){typeof t.type=="string"&&(t.type=FF[t.type])}class B0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const UF=t=>t/100;class z0 extends B0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==qn.now()&&this.tick(qn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;MN(e);const{type:n=ad,repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:a=0}=e;let{keyframes:c}=e;const d=n||ad;d!==ad&&typeof c[0]!="number"&&(this.mixKeyframes=Kd(UF,PN(c[0],c[1])),c=[0,100]);const f=d({...e,keyframes:c});o==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-a})),f.calculatedDuration===null&&(f.calculatedDuration=F0(f));const{calculatedDuration:m}=f;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:o,mirroredGenerator:a,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:m,repeat:y,repeatType:_,repeatDelay:T,type:I,onUpdate:b,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const R=this.currentTime-f*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?R<0:R>s;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let M=this.currentTime,W=r;if(y){const A=Math.min(this.currentTime,s)/c;let k=Math.floor(A),V=A%1;!V&&A>=1&&(V=1),V===1&&k--,k=Math.min(k,y+1),!!(k%2)&&(_==="reverse"?(V=1-V,T&&(V-=T/c)):_==="mirror"&&(W=a)),M=ui(0,1,V)*c}const q=O?{done:!1,value:m[0]}:W.next(M);o&&(q.value=o(q.value));let{done:Y}=q;!O&&d!==null&&(Y=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Y);return P&&I!==qv&&(q.value=U0(m,this.options,C,this.speed)),b&&b(q.value),P&&this.finish(),q}then(e,n){return this.finished.then(e,n)}get duration(){return ws(this.calculatedDuration)}get time(){return ws(this.currentTime)}set time(e){var n;e=_s(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(qn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ws(this.currentTime))}play(){var s,o;if(this.isStopped)return;const{driver:e=TF,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(o=(s=this.options).onPlay)==null||o.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(qn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function BF(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ta=t=>t*180/Math.PI,Gv=t=>{const e=Ta(Math.atan2(t[1],t[0]));return Kv(e)},zF={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Gv,rotateZ:Gv,skewX:t=>Ta(Math.atan(t[1])),skewY:t=>Ta(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Kv=t=>(t=t%360,t<0&&(t+=360),t),Bb=Gv,zb=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),$b=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),$F={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:zb,scaleY:$b,scale:t=>(zb(t)+$b(t))/2,rotateX:t=>Kv(Ta(Math.atan2(t[6],t[5]))),rotateY:t=>Kv(Ta(Math.atan2(-t[2],t[0]))),rotateZ:Bb,rotate:Bb,skewX:t=>Ta(Math.atan(t[4])),skewY:t=>Ta(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Yv(t){return t.includes("scale")?1:0}function Qv(t,e){if(!t||t==="none")return Yv(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=$F,s=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=zF,s=c}if(!s)return Yv(e);const o=r[e],a=s[1].split(",").map(HF);return typeof o=="function"?o(a):a[o]}const WF=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Qv(n,e)};function HF(t){return parseFloat(t.trim())}const jc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Oc=new Set(jc),Wb=t=>t===Mc||t===je,qF=new Set(["x","y","z"]),GF=jc.filter(t=>!qF.has(t));function KF(t){const e=[];return GF.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ia={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Qv(e,"x"),y:(t,{transform:e})=>Qv(e,"y")};Ia.translateX=Ia.x;Ia.translateY=Ia.y;const Na=new Set;let Xv=!1,Jv=!1,Zv=!1;function jN(){if(Jv){const t=Array.from(Na).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=KF(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,a])=>{var c;(c=r.getValue(o))==null||c.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Jv=!1,Xv=!1,Na.forEach(t=>t.complete(Zv)),Na.clear()}function ON(){Na.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Jv=!0)})}function YF(){Zv=!0,ON(),jN(),Zv=!1}class $0{constructor(e,n,r,s,o,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Na.add(this),Xv||(Xv=!0,Nt.read(ON),Nt.resolveKeyframes(jN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const c=r.readValue(n,a);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}BF(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Na.delete(this)}cancel(){this.state==="scheduled"&&(Na.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const QF=t=>t.startsWith("--");function XF(t,e,n){QF(e)?t.style.setProperty(e,n):t.style[e]=n}const JF=R0(()=>window.ScrollTimeline!==void 0),ZF={};function e5(t,e){const n=R0(t);return()=>ZF[e]??n()}const LN=e5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Xu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Hb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xu([0,.65,.55,1]),circOut:Xu([.55,0,1,.45]),backIn:Xu([.31,.01,.66,-.59]),backOut:Xu([.33,1.53,.69,.99])};function VN(t,e){if(t)return typeof t=="function"?LN()?kN(t,e):"ease-out":EN(t)?Xu(t):Array.isArray(t)?t.map(n=>VN(n,e)||Hb.easeOut):Hb[t]}function t5(t,e,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:a="loop",ease:c="easeOut",times:d}={},f=void 0){const m={[e]:n};d&&(m.offset=d);const y=VN(c,s);Array.isArray(y)&&(m.easing=y);const _={delay:r,duration:s,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"};return f&&(_.pseudoElement=f),t.animate(m,_)}function FN(t){return typeof t=="function"&&"applyToOptions"in t}function n5({type:t,...e}){return FN(t)&&LN()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class r5 extends B0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:o,allowFlatten:a=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!o,this.allowFlatten=a,this.options=e,A0(typeof e.type!="string");const f=n5(e);this.animation=t5(n,r,s,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const m=U0(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):XF(n,r,m),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return ws(Number(e))}get time(){return ws(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=_s(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&JF()?(this.animation.timeline=e,Er):n(this)}}const UN={anticipate:vN,backInOut:yN,circInOut:wN};function s5(t){return t in UN}function i5(t){typeof t.ease=="string"&&s5(t.ease)&&(t.ease=UN[t.ease])}const qb=10;class o5 extends r5{constructor(e){i5(e),MN(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:o,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new z0({...a,autoplay:!1}),d=_s(this.finishedTime??this.time);n.setWithVelocity(c.sample(d-qb).value,c.sample(d).value,qb),c.stop()}}const Gb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(So.test(t)||t==="0")&&!t.startsWith("url("));function a5(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function l5(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],a=Gb(s,e),c=Gb(o,e);return!a||!c?!1:a5(t)||(n==="spring"||FN(n))&&r}function W0(t){return uN(t)&&"offsetHeight"in t}const c5=new Set(["opacity","clipPath","filter","transform"]),u5=R0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function d5(t){var f;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:o,type:a}=t;if(!W0((f=e==null?void 0:e.owner)==null?void 0:f.current))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return u5()&&n&&c5.has(n)&&(n!=="transform"||!d)&&!c&&!r&&s!=="mirror"&&o!==0&&a!=="inertia"}const h5=40;class f5 extends B0{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",keyframes:c,name:d,motionValue:f,element:m,...y}){var I;super(),this.stop=()=>{var b,C;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(C=this.keyframeResolver)==null||C.cancel()},this.createdAt=qn.now();const _={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:a,name:d,motionValue:f,element:m,...y},T=(m==null?void 0:m.KeyframeResolver)||$0;this.keyframeResolver=new T(c,(b,C,R)=>this.onKeyframesResolved(b,C,_,!R),d,f,m),(I=this.keyframeResolver)==null||I.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:o,type:a,velocity:c,delay:d,isHandoff:f,onUpdate:m}=r;this.resolvedAt=qn.now(),l5(e,o,a,c)||((di.instantAnimations||!d)&&(m==null||m(U0(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const _={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>h5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},T=!f&&d5(_)?new o5({..._,element:_.motionValue.owner.current}):new z0(_);T.finished.then(()=>this.notifyFinished()).catch(Er),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),YF()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const p5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function m5(t){const e=p5.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function BN(t,e,n=1){const[r,s]=m5(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const a=o.trim();return cN(a)?parseFloat(a):a}return j0(s)?BN(s,e,n+1):s}function H0(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const zN=new Set(["width","height","top","left","right","bottom",...jc]),g5={test:t=>t==="auto",parse:t=>t},$N=t=>e=>e.test(t),WN=[Mc,je,xs,so,aF,oF,g5],Kb=t=>WN.find($N(t));function y5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||dN(t):!0}const v5=new Set(["brightness","contrast","saturate","opacity"]);function _5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(O0)||[];if(!r)return t;const s=n.replace(r,"");let o=v5.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const w5=/\b([a-z-]*)\(.*?\)/gu,e_={...So,getAnimatableNone:t=>{const e=t.match(w5);return e?e.map(_5).join(" "):t}},Yb={...Mc,transform:Math.round},x5={rotate:so,rotateX:so,rotateY:so,rotateZ:so,scale:Of,scaleX:Of,scaleY:Of,scaleZ:Of,skew:so,skewX:so,skewY:so,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:bd,originX:jb,originY:jb,originZ:je},q0={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,radius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,top:je,right:je,bottom:je,left:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,backgroundPositionX:je,backgroundPositionY:je,...x5,zIndex:Yb,fillOpacity:bd,strokeOpacity:bd,numOctaves:Yb},E5={...q0,color:En,backgroundColor:En,outlineColor:En,fill:En,stroke:En,borderColor:En,borderTopColor:En,borderRightColor:En,borderBottomColor:En,borderLeftColor:En,filter:e_,WebkitFilter:e_},HN=t=>E5[t];function qN(t,e){let n=HN(t);return n!==e_&&(n=So),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const T5=new Set(["auto","none","0"]);function b5(t,e,n){let r=0,s;for(;r<t.length&&!s;){const o=t[r];typeof o=="string"&&!T5.has(o)&&Sd(o).values.length&&(s=t[r]),r++}if(s&&n)for(const o of e)t[o]=qN(n,s)}class S5 extends $0{constructor(e,n,r,s,o){super(e,n,r,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let f=e[d];if(typeof f=="string"&&(f=f.trim(),j0(f))){const m=BN(f,n.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!zN.has(r)||e.length!==2)return;const[s,o]=e,a=Kb(s),c=Kb(o);if(a!==c)if(Wb(a)&&Wb(c))for(let d=0;d<e.length;d++){const f=e[d];typeof f=="string"&&(e[d]=parseFloat(f))}else Ia[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||y5(e[s]))&&r.push(s);r.length&&b5(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ia[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var c;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=Ia[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([d,f])=>{e.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function C5(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const GN=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Qb=30,I5=t=>!isNaN(parseFloat(t));class N5{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var a,c;const o=qn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty();s&&((c=this.events.renderRequest)==null||c.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=qn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=I5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new P0);const r=this.events[e].add(n);return e==="change"?()=>{r(),Nt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=qn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Qb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Qb);return hN(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _c(t,e){return new N5(t,e)}const{schedule:G0}=TN(queueMicrotask,!1),Or={x:!1,y:!1};function KN(){return Or.x||Or.y}function A5(t){return t==="x"||t==="y"?Or[t]?null:(Or[t]=!0,()=>{Or[t]=!1}):Or.x||Or.y?null:(Or.x=Or.y=!0,()=>{Or.x=Or.y=!1})}function YN(t,e){const n=C5(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function Xb(t){return!(t.pointerType==="touch"||KN())}function R5(t,e,n={}){const[r,s,o]=YN(t,n),a=c=>{if(!Xb(c))return;const{target:d}=c,f=e(d,c);if(typeof f!="function"||!d)return;const m=y=>{Xb(y)&&(f(y),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,s)};return r.forEach(c=>{c.addEventListener("pointerenter",a,s)}),o}const QN=(t,e)=>e?t===e?!0:QN(t,e.parentElement):!1,K0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,P5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function k5(t){return P5.has(t.tagName)||t.tabIndex!==-1}const np=new WeakSet;function Jb(t){return e=>{e.key==="Enter"&&t(e)}}function Xy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const D5=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Jb(()=>{if(np.has(n))return;Xy(n,"down");const s=Jb(()=>{Xy(n,"up")}),o=()=>Xy(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Zb(t){return K0(t)&&!KN()}function M5(t,e,n={}){const[r,s,o]=YN(t,n),a=c=>{const d=c.currentTarget;if(!Zb(c))return;np.add(d);const f=e(d,c),m=(T,I)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",_),np.has(d)&&np.delete(d),Zb(T)&&typeof f=="function"&&f(T,{success:I})},y=T=>{m(T,d===window||d===document||n.useGlobalTarget||QN(d,T.target))},_=T=>{m(T,!1)};window.addEventListener("pointerup",y,s),window.addEventListener("pointercancel",_,s)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",a,s),W0(c)&&(c.addEventListener("focus",f=>D5(f,s)),!k5(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function XN(t){return uN(t)&&"ownerSVGElement"in t}function j5(t){return XN(t)&&t.tagName==="svg"}const In=t=>!!(t&&t.getVelocity),O5=[...WN,En,So],L5=t=>O5.find($N(t)),Y0=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class V5 extends E.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=W0(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function F5({children:t,isPresent:e,anchorX:n}){const r=E.useId(),s=E.useRef(null),o=E.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=E.useContext(Y0);return E.useInsertionEffect(()=>{const{width:c,height:d,top:f,left:m,right:y}=o.current;if(e||!s.current||!c||!d)return;const _=n==="left"?`left: ${m}`:`right: ${y}`;s.current.dataset.motionPopId=r;const T=document.createElement("style");return a&&(T.nonce=a),document.head.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${_}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.contains(T)&&document.head.removeChild(T)}},[e]),h.jsx(V5,{isPresent:e,childRef:s,sizeRef:o,children:E.cloneElement(t,{ref:s})})}const U5=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:a,anchorX:c})=>{const d=S0(B5),f=E.useId();let m=!0,y=E.useMemo(()=>(m=!1,{id:f,initial:e,isPresent:n,custom:s,onExitComplete:_=>{d.set(_,!0);for(const T of d.values())if(!T)return;r&&r()},register:_=>(d.set(_,!1),()=>d.delete(_))}),[n,d,r]);return o&&m&&(y={...y}),E.useMemo(()=>{d.forEach((_,T)=>d.set(T,!1))},[n]),E.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),a==="popLayout"&&(t=h.jsx(F5,{isPresent:n,anchorX:c,children:t})),h.jsx(mm.Provider,{value:y,children:t})};function B5(){return new Map}function JN(t=!0){const e=E.useContext(mm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,o=E.useId();E.useEffect(()=>{if(t)return s(o)},[t]);const a=E.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,a]:[!0]}const Lf=t=>t.key||"";function eS(t){const e=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&e.push(n)}),e}const Q0=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:o="sync",propagate:a=!1,anchorX:c="left"})=>{const[d,f]=JN(a),m=E.useMemo(()=>eS(t),[t]),y=a&&!d?[]:m.map(Lf),_=E.useRef(!0),T=E.useRef(m),I=S0(()=>new Map),[b,C]=E.useState(m),[R,O]=E.useState(m);lN(()=>{_.current=!1,T.current=m;for(let q=0;q<R.length;q++){const Y=Lf(R[q]);y.includes(Y)?I.delete(Y):I.get(Y)!==!0&&I.set(Y,!1)}},[R,y.length,y.join("-")]);const M=[];if(m!==b){let q=[...m];for(let Y=0;Y<R.length;Y++){const P=R[Y],A=Lf(P);y.includes(A)||(q.splice(Y,0,P),M.push(P))}return o==="wait"&&M.length&&(q=M),O(eS(q)),C(m),null}const{forceRender:W}=E.useContext(b0);return h.jsx(h.Fragment,{children:R.map(q=>{const Y=Lf(q),P=a&&!d?!1:m===R||y.includes(Y),A=()=>{if(I.has(Y))I.set(Y,!0);else return;let k=!0;I.forEach(V=>{V||(k=!1)}),k&&(W==null||W(),O(T.current),a&&(f==null||f()),r&&r())};return h.jsx(U5,{isPresent:P,initial:!_.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:o,onExitComplete:P?void 0:A,anchorX:c,children:q},Y)})})},ZN=E.createContext({strict:!1}),tS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wc={};for(const t in tS)wc[t]={isEnabled:e=>tS[t].some(n=>!!e[n])};function z5(t){for(const e in t)wc[e]={...wc[e],...t[e]}}const $5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||$5.has(t)}let eA=t=>!Sp(t);function W5(t){t&&(eA=e=>e.startsWith("on")?!Sp(e):t(e))}try{W5(require("@emotion/is-prop-valid").default)}catch{}function H5(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(eA(s)||n===!0&&Sp(s)||!e&&!Sp(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function q5(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const gm=E.createContext({});function ym(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Cd(t){return typeof t=="string"||Array.isArray(t)}const X0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],J0=["initial",...X0];function vm(t){return ym(t.animate)||J0.some(e=>Cd(t[e]))}function tA(t){return!!(vm(t)||t.variants)}function G5(t,e){if(vm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Cd(n)?n:void 0,animate:Cd(r)?r:void 0}}return t.inherit!==!1?e:{}}function K5(t){const{initial:e,animate:n}=G5(t,E.useContext(gm));return E.useMemo(()=>({initial:e,animate:n}),[nS(e),nS(n)])}function nS(t){return Array.isArray(t)?t.join(" "):t}const Y5=Symbol.for("motionComponentSymbol");function nc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Q5(t,e,n){return E.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):nc(n)&&(n.current=r))},[e])}const Z0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),X5="framerAppearId",nA="data-"+Z0(X5),rA=E.createContext({});function J5(t,e,n,r,s){var b,C;const{visualElement:o}=E.useContext(gm),a=E.useContext(ZN),c=E.useContext(mm),d=E.useContext(Y0).reducedMotion,f=E.useRef(null);r=r||a.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const m=f.current,y=E.useContext(rA);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&Z5(f.current,n,s,y);const _=E.useRef(!1);E.useInsertionEffect(()=>{m&&_.current&&m.update(n,c)});const T=n[nA],I=E.useRef(!!T&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,T))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,T)));return lN(()=>{m&&(_.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),G0.render(m.render),I.current&&m.animationState&&m.animationState.animateChanges())}),E.useEffect(()=>{m&&(!I.current&&m.animationState&&m.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var R;(R=window.MotionHandoffMarkAsComplete)==null||R.call(window,T)}),I.current=!1))}),m}function Z5(t,e,n,r){const{layoutId:s,layout:o,drag:a,dragConstraints:c,layoutScroll:d,layoutRoot:f,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:sA(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!a||c&&nc(c),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:d,layoutRoot:f})}function sA(t){if(t)return t.options.allowProjection!==!1?t.projection:sA(t.parent)}function e3({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&z5(t);function o(c,d){let f;const m={...E.useContext(Y0),...c,layoutId:t3(c)},{isStatic:y}=m,_=K5(c),T=r(c,y);if(!y&&C0){n3();const I=r3(m);f=I.MeasureLayout,_.visualElement=J5(s,T,m,e,I.ProjectionNode)}return h.jsxs(gm.Provider,{value:_,children:[f&&_.visualElement?h.jsx(f,{visualElement:_.visualElement,...m}):null,n(s,c,Q5(T,_.visualElement,d),T,y,_.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const a=E.forwardRef(o);return a[Y5]=s,a}function t3({layoutId:t}){const e=E.useContext(b0).id;return e&&t!==void 0?e+"-"+t:t}function n3(t,e){E.useContext(ZN).strict}function r3(t){const{drag:e,layout:n}=wc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Id={};function s3(t){for(const e in t)Id[e]=t[e],M0(e)&&(Id[e].isCSSVariable=!0)}function iA(t,{layout:e,layoutId:n}){return Oc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Id[t]||t==="opacity")}const i3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},o3=jc.length;function a3(t,e,n){let r="",s=!0;for(let o=0;o<o3;o++){const a=jc[o],c=t[a];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(a.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const f=GN(c,q0[a]);if(!d){s=!1;const m=i3[a]||a;r+=`${m}(${f}) `}n&&(e[a]=f)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function ew(t,e,n){const{style:r,vars:s,transformOrigin:o}=t;let a=!1,c=!1;for(const d in e){const f=e[d];if(Oc.has(d)){a=!0;continue}else if(M0(d)){s[d]=f;continue}else{const m=GN(f,q0[d]);d.startsWith("origin")?(c=!0,o[d]=m):r[d]=m}}if(e.transform||(a||n?r.transform=a3(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:m=0}=o;r.transformOrigin=`${d} ${f} ${m}`}}const tw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function oA(t,e,n){for(const r in e)!In(e[r])&&!iA(r,n)&&(t[r]=e[r])}function l3({transformTemplate:t},e){return E.useMemo(()=>{const n=tw();return ew(n,e,t),Object.assign({},n.vars,n.style)},[e])}function c3(t,e){const n=t.style||{},r={};return oA(r,n,t),Object.assign(r,l3(t,e)),r}function u3(t,e){const n={},r=c3(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const d3={offset:"stroke-dashoffset",array:"stroke-dasharray"},h3={offset:"strokeDashoffset",array:"strokeDasharray"};function f3(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?d3:h3;t[o.offset]=je.transform(-r);const a=je.transform(e),c=je.transform(n);t[o.array]=`${a} ${c}`}function aA(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...c},d,f,m){if(ew(t,c,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:_}=t;y.transform&&(_.transform=y.transform,delete y.transform),(_.transform||y.transformOrigin)&&(_.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),_.transform&&(_.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),s!==void 0&&f3(y,s,o,a,!1)}const lA=()=>({...tw(),attrs:{}}),cA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function p3(t,e,n,r){const s=E.useMemo(()=>{const o=lA();return aA(o,e,cA(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};oA(o,t.style,t),s.style={...o,...s.style}}return s}const m3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function nw(t){return typeof t!="string"||t.includes("-")?!1:!!(m3.indexOf(t)>-1||/[A-Z]/u.test(t))}function g3(t=!1){return(n,r,s,{latestValues:o},a)=>{const d=(nw(n)?p3:u3)(r,o,a,n),f=H5(r,typeof n=="string",t),m=n!==E.Fragment?{...f,...d,ref:s}:{},{children:y}=r,_=E.useMemo(()=>In(y)?y.get():y,[y]);return E.createElement(n,{...m,children:_})}}function rS(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function rw(t,e,n,r){if(typeof e=="function"){const[s,o]=rS(r);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=rS(r);e=e(n!==void 0?n:t.custom,s,o)}return e}function rp(t){return In(t)?t.get():t}function y3({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:v3(n,r,s,t),renderState:e()}}const uA=t=>(e,n)=>{const r=E.useContext(gm),s=E.useContext(mm),o=()=>y3(t,e,r,s);return n?o():S0(o)};function v3(t,e,n,r){const s={},o=r(t,{});for(const _ in o)s[_]=rp(o[_]);let{initial:a,animate:c}=t;const d=vm(t),f=tA(t);e&&f&&!d&&t.inherit!==!1&&(a===void 0&&(a=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||a===!1;const y=m?c:a;if(y&&typeof y!="boolean"&&!ym(y)){const _=Array.isArray(y)?y:[y];for(let T=0;T<_.length;T++){const I=rw(t,_[T]);if(I){const{transitionEnd:b,transition:C,...R}=I;for(const O in R){let M=R[O];if(Array.isArray(M)){const W=m?M.length-1:0;M=M[W]}M!==null&&(s[O]=M)}for(const O in b)s[O]=b[O]}}}return s}function sw(t,e,n){var o;const{style:r}=t,s={};for(const a in r)(In(r[a])||e.style&&In(e.style[a])||iA(a,t)||((o=n==null?void 0:n.getValue(a))==null?void 0:o.liveStyle)!==void 0)&&(s[a]=r[a]);return s}const _3={useVisualState:uA({scrapeMotionValuesFromProps:sw,createRenderState:tw})};function dA(t,e,n){const r=sw(t,e,n);for(const s in t)if(In(t[s])||In(e[s])){const o=jc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=t[s]}return r}const w3={useVisualState:uA({scrapeMotionValuesFromProps:dA,createRenderState:lA})};function x3(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...nw(r)?w3:_3,preloadedFeatures:t,useRender:g3(s),createVisualElement:e,Component:r};return e3(a)}}function Nd(t,e,n){const r=t.getProps();return rw(r,e,n!==void 0?n:r.custom,t)}const t_=t=>Array.isArray(t);function E3(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,_c(n))}function T3(t){return t_(t)?t[t.length-1]||0:t}function b3(t,e){const n=Nd(t,e);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const a in o){const c=T3(o[a]);E3(t,a,c)}}function S3(t){return!!(In(t)&&t.add)}function n_(t,e){const n=t.getValue("willChange");if(S3(n))return n.add(e);if(!n&&di.WillChange){const r=new di.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function hA(t){return t.props[nA]}const C3=t=>t!==null;function I3(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(C3),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[o]}const N3={type:"spring",stiffness:500,damping:25,restSpeed:10},A3=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),R3={type:"keyframes",duration:.8},P3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},k3=(t,{keyframes:e})=>e.length>2?R3:Oc.has(t)?t.startsWith("scale")?A3(e[1]):N3:P3;function D3({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:a,repeatDelay:c,from:d,elapsed:f,...m}){return!!Object.keys(m).length}const iw=(t,e,n,r={},s,o)=>a=>{const c=H0(r,t)||{},d=c.delay||r.delay||0;let{elapsed:f=0}=r;f=f-_s(d);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:_=>{e.set(_),c.onUpdate&&c.onUpdate(_)},onComplete:()=>{a(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:o?void 0:s};D3(c)||Object.assign(m,k3(t,m)),m.duration&&(m.duration=_s(m.duration)),m.repeatDelay&&(m.repeatDelay=_s(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(y=!0)),(di.instantAnimations||di.skipAnimations)&&(y=!0,m.duration=0,m.delay=0),m.allowFlatten=!c.type&&!c.ease,y&&!o&&e.get()!==void 0){const _=I3(m.keyframes,c);if(_!==void 0){Nt.update(()=>{m.onUpdate(_),m.onComplete()});return}}return c.isSync?new z0(m):new f5(m)};function M3({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function fA(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:a,...c}=e;r&&(o=r);const d=[],f=s&&t.animationState&&t.animationState.getState()[s];for(const m in c){const y=t.getValue(m,t.latestValues[m]??null),_=c[m];if(_===void 0||f&&M3(f,m))continue;const T={delay:n,...H0(o||{},m)},I=y.get();if(I!==void 0&&!y.isAnimating&&!Array.isArray(_)&&_===I&&!T.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const R=hA(t);if(R){const O=window.MotionHandoffAnimation(R,m,Nt);O!==null&&(T.startTime=O,b=!0)}}n_(t,m),y.start(iw(m,y,_,t.shouldReduceMotion&&zN.has(m)?{type:!1}:T,t,b));const C=y.animation;C&&d.push(C)}return a&&Promise.all(d).then(()=>{Nt.update(()=>{a&&b3(t,a)})}),d}function r_(t,e,n={}){var d;const r=Nd(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(fA(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:_}=s;return j3(t,e,m+f,y,_,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[f,m]=c==="beforeChildren"?[o,a]:[a,o];return f().then(()=>m())}else return Promise.all([o(),a(n.delay)])}function j3(t,e,n=0,r=0,s=1,o){const a=[],c=(t.variantChildren.size-1)*r,d=s===1?(f=0)=>f*r:(f=0)=>c-f*r;return Array.from(t.variantChildren).sort(O3).forEach((f,m)=>{f.notify("AnimationStart",e),a.push(r_(f,e,{...o,delay:n+d(m)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(a)}function O3(t,e){return t.sortNodePosition(e)}function L3(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>r_(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=r_(t,e,n);else{const s=typeof e=="function"?Nd(t,e,n.custom):e;r=Promise.all(fA(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function pA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const V3=J0.length;function mA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?mA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<V3;n++){const r=J0[n],s=t.props[r];(Cd(s)||s===!1)&&(e[r]=s)}return e}const F3=[...X0].reverse(),U3=X0.length;function B3(t){return e=>Promise.all(e.map(({animation:n,options:r})=>L3(t,n,r)))}function z3(t){let e=B3(t),n=sS(),r=!0;const s=d=>(f,m)=>{var _;const y=Nd(t,m,d==="exit"?(_=t.presenceContext)==null?void 0:_.custom:void 0);if(y){const{transition:T,transitionEnd:I,...b}=y;f={...f,...b,...I}}return f};function o(d){e=d(t)}function a(d){const{props:f}=t,m=mA(t.parent)||{},y=[],_=new Set;let T={},I=1/0;for(let C=0;C<U3;C++){const R=F3[C],O=n[R],M=f[R]!==void 0?f[R]:m[R],W=Cd(M),q=R===d?O.isActive:null;q===!1&&(I=C);let Y=M===m[R]&&M!==f[R]&&W;if(Y&&r&&t.manuallyAnimateOnMount&&(Y=!1),O.protectedKeys={...T},!O.isActive&&q===null||!M&&!O.prevProp||ym(M)||typeof M=="boolean")continue;const P=$3(O.prevProp,M);let A=P||R===d&&O.isActive&&!Y&&W||C>I&&W,k=!1;const V=Array.isArray(M)?M:[M];let U=V.reduce(s(R),{});q===!1&&(U={});const{prevResolvedValues:B={}}=O,L={...B,...U},ye=he=>{A=!0,_.has(he)&&(k=!0,_.delete(he)),O.needsAnimating[he]=!0;const Z=t.getValue(he);Z&&(Z.liveStyle=!1)};for(const he in L){const Z=U[he],ee=B[he];if(T.hasOwnProperty(he))continue;let se=!1;t_(Z)&&t_(ee)?se=!pA(Z,ee):se=Z!==ee,se?Z!=null?ye(he):_.add(he):Z!==void 0&&_.has(he)?ye(he):O.protectedKeys[he]=!0}O.prevProp=M,O.prevResolvedValues=U,O.isActive&&(T={...T,...U}),r&&t.blockInitialAnimation&&(A=!1),A&&(!(Y&&P)||k)&&y.push(...V.map(he=>({animation:he,options:{type:R}})))}if(_.size){const C={};if(typeof f.initial!="boolean"){const R=Nd(t,Array.isArray(f.initial)?f.initial[0]:f.initial);R&&R.transition&&(C.transition=R.transition)}_.forEach(R=>{const O=t.getBaseTarget(R),M=t.getValue(R);M&&(M.liveStyle=!0),C[R]=O??null}),y.push({animation:C})}let b=!!y.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(y):Promise.resolve()}function c(d,f){var y;if(n[d].isActive===f)return Promise.resolve();(y=t.variantChildren)==null||y.forEach(_=>{var T;return(T=_.animationState)==null?void 0:T.setActive(d,f)}),n[d].isActive=f;const m=a(d);for(const _ in n)n[_].protectedKeys={};return m}return{animateChanges:a,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=sS(),r=!0}}}function $3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!pA(e,t):!1}function ya(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sS(){return{animate:ya(!0),whileInView:ya(),whileHover:ya(),whileTap:ya(),whileDrag:ya(),whileFocus:ya(),exit:ya()}}class Vo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class W3 extends Vo{constructor(e){super(e),e.animationState||(e.animationState=z3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ym(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let H3=0;class q3 extends Vo{constructor(){super(...arguments),this.id=H3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const G3={animation:{Feature:W3},exit:{Feature:q3}};function Ad(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Xd(t){return{point:{x:t.pageX,y:t.pageY}}}const K3=t=>e=>K0(e)&&t(e,Xd(e));function ld(t,e,n,r){return Ad(t,e,K3(n),r)}function gA({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Y3({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Q3(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const yA=1e-4,X3=1-yA,J3=1+yA,vA=.01,Z3=0-vA,e6=0+vA;function Mn(t){return t.max-t.min}function t6(t,e,n){return Math.abs(t-e)<=n}function iS(t,e,n,r=.5){t.origin=r,t.originPoint=It(e.min,e.max,t.origin),t.scale=Mn(n)/Mn(e),t.translate=It(n.min,n.max,t.origin)-t.originPoint,(t.scale>=X3&&t.scale<=J3||isNaN(t.scale))&&(t.scale=1),(t.translate>=Z3&&t.translate<=e6||isNaN(t.translate))&&(t.translate=0)}function cd(t,e,n,r){iS(t.x,e.x,n.x,r?r.originX:void 0),iS(t.y,e.y,n.y,r?r.originY:void 0)}function oS(t,e,n){t.min=n.min+e.min,t.max=t.min+Mn(e)}function n6(t,e,n){oS(t.x,e.x,n.x),oS(t.y,e.y,n.y)}function aS(t,e,n){t.min=e.min-n.min,t.max=t.min+Mn(e)}function ud(t,e,n){aS(t.x,e.x,n.x),aS(t.y,e.y,n.y)}const lS=()=>({translate:0,scale:1,origin:0,originPoint:0}),rc=()=>({x:lS(),y:lS()}),cS=()=>({min:0,max:0}),Ot=()=>({x:cS(),y:cS()});function vr(t){return[t("x"),t("y")]}function Jy(t){return t===void 0||t===1}function s_({scale:t,scaleX:e,scaleY:n}){return!Jy(t)||!Jy(e)||!Jy(n)}function va(t){return s_(t)||_A(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function _A(t){return uS(t.x)||uS(t.y)}function uS(t){return t&&t!=="0%"}function Cp(t,e,n){const r=t-n,s=e*r;return n+s}function dS(t,e,n,r,s){return s!==void 0&&(t=Cp(t,s,r)),Cp(t,n,r)+e}function i_(t,e=0,n=1,r,s){t.min=dS(t.min,e,n,r,s),t.max=dS(t.max,e,n,r,s)}function wA(t,{x:e,y:n}){i_(t.x,e.translate,e.scale,e.originPoint),i_(t.y,n.translate,n.scale,n.originPoint)}const hS=.999999999999,fS=1.0000000000001;function r6(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,a;for(let c=0;c<s;c++){o=n[c],a=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ic(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,wA(t,a)),r&&va(o.latestValues)&&ic(t,o.latestValues))}e.x<fS&&e.x>hS&&(e.x=1),e.y<fS&&e.y>hS&&(e.y=1)}function sc(t,e){t.min=t.min+e,t.max=t.max+e}function pS(t,e,n,r,s=.5){const o=It(t.min,t.max,s);i_(t,e,n,o,r)}function ic(t,e){pS(t.x,e.x,e.scaleX,e.scale,e.originX),pS(t.y,e.y,e.scaleY,e.scale,e.originY)}function xA(t,e){return gA(Q3(t.getBoundingClientRect(),e))}function s6(t,e,n){const r=xA(t,n),{scroll:s}=e;return s&&(sc(r.x,s.offset.x),sc(r.y,s.offset.y)),r}const EA=({current:t})=>t?t.ownerDocument.defaultView:null,mS=(t,e)=>Math.abs(t-e);function i6(t,e){const n=mS(t.x,e.x),r=mS(t.y,e.y);return Math.sqrt(n**2+r**2)}class TA{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=ev(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,T=i6(y.offset,{x:0,y:0})>=3;if(!_&&!T)return;const{point:I}=y,{timestamp:b}=dn;this.history.push({...I,timestamp:b});const{onStart:C,onMove:R}=this.handlers;_||(C&&C(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,y)},this.handlePointerMove=(y,_)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Zy(_,this.transformPagePoint),Nt.update(this.updatePoint,!0)},this.handlePointerUp=(y,_)=>{this.end();const{onEnd:T,onSessionEnd:I,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=ev(y.type==="pointercancel"?this.lastMoveEventInfo:Zy(_,this.transformPagePoint),this.history);this.startEvent&&T&&T(y,C),I&&I(y,C)},!K0(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=Xd(e),c=Zy(a,this.transformPagePoint),{point:d}=c,{timestamp:f}=dn;this.history=[{...d,timestamp:f}];const{onSessionStart:m}=n;m&&m(e,ev(c,this.history)),this.removeListeners=Kd(ld(this.contextWindow,"pointermove",this.handlePointerMove),ld(this.contextWindow,"pointerup",this.handlePointerUp),ld(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),bo(this.updatePoint)}}function Zy(t,e){return e?{point:e(t.point)}:t}function gS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ev({point:t},e){return{point:t,delta:gS(t,bA(e)),offset:gS(t,o6(e)),velocity:a6(e,.1)}}function o6(t){return t[0]}function bA(t){return t[t.length-1]}function a6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=bA(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>_s(e)));)n--;if(!r)return{x:0,y:0};const o=ws(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const a={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function l6(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?It(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?It(n,t,r.max):Math.min(t,n)),t}function yS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function c6(t,{top:e,left:n,bottom:r,right:s}){return{x:yS(t.x,n,s),y:yS(t.y,e,r)}}function vS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function u6(t,e){return{x:vS(t.x,e.x),y:vS(t.y,e.y)}}function d6(t,e){let n=.5;const r=Mn(t),s=Mn(e);return s>r?n=Td(e.min,e.max-r,t.min):r>s&&(n=Td(t.min,t.max-s,e.min)),ui(0,1,n)}function h6(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const o_=.35;function f6(t=o_){return t===!1?t=0:t===!0&&(t=o_),{x:_S(t,"left","right"),y:_S(t,"top","bottom")}}function _S(t,e,n){return{min:wS(t,e),max:wS(t,n)}}function wS(t,e){return typeof t=="number"?t:t[e]||0}const p6=new WeakMap;class m6{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ot(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Xd(m).point)},o=(m,y)=>{const{drag:_,dragPropagation:T,onDragStart:I}=this.getProps();if(_&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=A5(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vr(C=>{let R=this.getAxisMotionValue(C).get()||0;if(xs.test(R)){const{projection:O}=this.visualElement;if(O&&O.layout){const M=O.layout.layoutBox[C];M&&(R=Mn(M)*(parseFloat(R)/100))}}this.originPoint[C]=R}),I&&Nt.postRender(()=>I(m,y)),n_(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(m,y)=>{const{dragPropagation:_,dragDirectionLock:T,onDirectionLock:I,onDrag:b}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:C}=y;if(T&&this.currentDirection===null){this.currentDirection=g6(C),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",y.point,C),this.updateAxis("y",y.point,C),this.visualElement.render(),b&&b(m,y)},c=(m,y)=>this.stop(m,y),d=()=>vr(m=>{var y;return this.getAnimationState(m)==="paused"&&((y=this.getAxisMotionValue(m).animation)==null?void 0:y.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new TA(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:EA(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Nt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Vf(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=l6(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,s=this.constraints;e&&nc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=c6(r.layoutBox,e):this.constraints=!1,this.elastic=f6(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&vr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=h6(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!nc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=s6(r,s.root,this.visualElement.getTransformPagePoint());let a=u6(s.layout.layoutBox,o);if(n){const c=n(Y3(a));this.hasMutatedConstraints=!!c,c&&(a=gA(c))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},f=vr(m=>{if(!Vf(m,n,this.currentDirection))return;let y=d&&d[m]||{};a&&(y={min:0,max:0});const _=s?200:1e6,T=s?40:1e7,I={type:"inertia",velocity:r?e[m]:0,bounceStiffness:_,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...o,...y};return this.startAxisValueAnimation(m,I)});return Promise.all(f).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return n_(this.visualElement,e),r.start(iw(e,r,0,n,this.visualElement,!1))}stopAnimation(){vr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){vr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){vr(n=>{const{drag:r}=this.getProps();if(!Vf(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:c}=s.layout.layoutBox[n];o.set(e[n]-It(a,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!nc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};vr(a=>{const c=this.getAxisMotionValue(a);if(c&&this.constraints!==!1){const d=c.get();s[a]=d6({min:d,max:d},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),vr(a=>{if(!Vf(a,e,null))return;const c=this.getAxisMotionValue(a),{min:d,max:f}=this.constraints[a];c.set(It(d,f,s[a]))})}addListeners(){if(!this.visualElement.current)return;p6.set(this.visualElement,this);const e=this.visualElement.current,n=ld(e,"pointerdown",d=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();nc(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Nt.read(r);const a=Ad(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(vr(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=d[m].translate,y.set(y.get()+d[m].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:a=o_,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:a,dragMomentum:c}}}function Vf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function g6(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class y6 extends Vo{constructor(e){super(e),this.removeGroupControls=Er,this.removeListeners=Er,this.controls=new m6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Er}unmount(){this.removeGroupControls(),this.removeListeners()}}const xS=t=>(e,n)=>{t&&Nt.postRender(()=>t(e,n))};class v6 extends Vo{constructor(){super(...arguments),this.removePointerDownListener=Er}onPointerDown(e){this.session=new TA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:EA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:xS(e),onStart:xS(n),onMove:r,onEnd:(o,a)=>{delete this.session,s&&Nt.postRender(()=>s(o,a))}}}mount(){this.removePointerDownListener=ld(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const sp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ES(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Hu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(je.test(t))t=parseFloat(t);else return t;const n=ES(t,e.target.x),r=ES(t,e.target.y);return`${n}% ${r}%`}},_6={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=So.parse(t);if(s.length>5)return r;const o=So.createTransformer(t),a=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;s[0+a]/=c,s[1+a]/=d;const f=It(c,d,.5);return typeof s[2+a]=="number"&&(s[2+a]/=f),typeof s[3+a]=="number"&&(s[3+a]/=f),o(s)}};class w6 extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;s3(x6),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),sp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,{projection:a}=r;return a&&(a.isPresent=o,s||e.layoutDependency!==n||n===void 0||e.isPresent!==o?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||Nt.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),G0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function SA(t){const[e,n]=JN(),r=E.useContext(b0);return h.jsx(w6,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(rA),isPresent:e,safeToRemove:n})}const x6={borderRadius:{...Hu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Hu,borderTopRightRadius:Hu,borderBottomLeftRadius:Hu,borderBottomRightRadius:Hu,boxShadow:_6};function E6(t,e,n){const r=In(t)?t:_c(t);return r.start(iw("",r,e,n)),r.animation}const T6=(t,e)=>t.depth-e.depth;class b6{constructor(){this.children=[],this.isDirty=!1}add(e){I0(this.children,e),this.isDirty=!0}remove(e){N0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(T6),this.isDirty=!1,this.children.forEach(e)}}function S6(t,e){const n=qn.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(bo(r),t(o-e))};return Nt.setup(r,!0),()=>bo(r)}const CA=["TopLeft","TopRight","BottomLeft","BottomRight"],C6=CA.length,TS=t=>typeof t=="string"?parseFloat(t):t,bS=t=>typeof t=="number"||je.test(t);function I6(t,e,n,r,s,o){s?(t.opacity=It(0,n.opacity??1,N6(r)),t.opacityExit=It(e.opacity??1,0,A6(r))):o&&(t.opacity=It(e.opacity??1,n.opacity??1,r));for(let a=0;a<C6;a++){const c=`border${CA[a]}Radius`;let d=SS(e,c),f=SS(n,c);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||bS(d)===bS(f)?(t[c]=Math.max(It(TS(d),TS(f),r),0),(xs.test(f)||xs.test(d))&&(t[c]+="%")):t[c]=f}(e.rotate||n.rotate)&&(t.rotate=It(e.rotate||0,n.rotate||0,r))}function SS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const N6=IA(0,.5,_N),A6=IA(.5,.95,Er);function IA(t,e,n){return r=>r<t?0:r>e?1:n(Td(t,e,r))}function CS(t,e){t.min=e.min,t.max=e.max}function yr(t,e){CS(t.x,e.x),CS(t.y,e.y)}function IS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function NS(t,e,n,r,s){return t-=e,t=Cp(t,1/n,r),s!==void 0&&(t=Cp(t,1/s,r)),t}function R6(t,e=0,n=1,r=.5,s,o=t,a=t){if(xs.test(e)&&(e=parseFloat(e),e=It(a.min,a.max,e/100)-a.min),typeof e!="number")return;let c=It(o.min,o.max,r);t===o&&(c-=e),t.min=NS(t.min,e,n,c,s),t.max=NS(t.max,e,n,c,s)}function AS(t,e,[n,r,s],o,a){R6(t,e[n],e[r],e[s],e.scale,o,a)}const P6=["x","scaleX","originX"],k6=["y","scaleY","originY"];function RS(t,e,n,r){AS(t.x,e,P6,n?n.x:void 0,r?r.x:void 0),AS(t.y,e,k6,n?n.y:void 0,r?r.y:void 0)}function PS(t){return t.translate===0&&t.scale===1}function NA(t){return PS(t.x)&&PS(t.y)}function kS(t,e){return t.min===e.min&&t.max===e.max}function D6(t,e){return kS(t.x,e.x)&&kS(t.y,e.y)}function DS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function AA(t,e){return DS(t.x,e.x)&&DS(t.y,e.y)}function MS(t){return Mn(t.x)/Mn(t.y)}function jS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class M6{constructor(){this.members=[]}add(e){I0(this.members,e),e.scheduleRender()}remove(e){if(N0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function j6(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((s||o||a)&&(r=`translate3d(${s}px, ${o}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:m,rotateX:y,rotateY:_,skewX:T,skewY:I}=n;f&&(r=`perspective(${f}px) ${r}`),m&&(r+=`rotate(${m}deg) `),y&&(r+=`rotateX(${y}deg) `),_&&(r+=`rotateY(${_}deg) `),T&&(r+=`skewX(${T}deg) `),I&&(r+=`skewY(${I}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const tv=["","X","Y","Z"],O6={visibility:"hidden"},L6=1e3;let V6=0;function nv(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function RA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=hA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Nt,!(s||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&RA(r)}function PA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},c=e==null?void 0:e()){this.id=V6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(B6),this.nodes.forEach(q6),this.nodes.forEach(G6),this.nodes.forEach(z6)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new b6)}addEventListener(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new P0),this.eventHandlers.get(a).add(c)}notifyListeners(a,...c){const d=this.eventHandlers.get(a);d&&d.notify(...c)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=XN(a)&&!j5(a),this.instance=a;const{layoutId:c,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let m;const y=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=S6(y,250),sp.hasAnimatedSinceResize&&(sp.hasAnimatedSinceResize=!1,this.nodes.forEach(LS))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:y,hasRelativeLayoutChanged:_,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||f.getDefaultTransition()||J6,{onLayoutAnimationStart:b,onLayoutAnimationComplete:C}=f.getProps(),R=!this.targetLayout||!AA(this.targetLayout,T),O=!y&&_;if(this.options.layoutRoot||this.resumeFrom||O||y&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const M={...H0(I,"layout"),onPlay:b,onComplete:C};(f.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M),this.setAnimationOrigin(m,O)}else y||LS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),bo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(K6),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&RA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(OS);return}this.isUpdating||this.nodes.forEach(W6),this.isUpdating=!1,this.nodes.forEach(H6),this.nodes.forEach(F6),this.nodes.forEach(U6),this.clearAllSnapshots();const c=qn.now();dn.delta=ui(0,1e3/60,c-dn.timestamp),dn.timestamp=c,dn.isProcessing=!0,Gy.update.process(dn),Gy.preRender.process(dn),Gy.render.process(dn),dn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,G0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($6),this.sharedNodes.forEach(Y6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Nt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Nt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Mn(this.snapshot.measuredBox.x)&&!Mn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ot(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(c=!1),c&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!NA(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;a&&this.instance&&(c||va(this.latestValues)||m)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return a&&(d=this.removeTransform(d)),Z6(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:a}=this.options;if(!a)return Ot();const c=a.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(eU))){const{scroll:m}=this.root;m&&(sc(c.x,m.offset.x),sc(c.y,m.offset.y))}return c}removeElementScroll(a){var d;const c=Ot();if(yr(c,a),(d=this.scroll)!=null&&d.wasRoot)return c;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:y,options:_}=m;m!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&yr(c,a),sc(c.x,y.offset.x),sc(c.y,y.offset.y))}return c}applyTransform(a,c=!1){const d=Ot();yr(d,a);for(let f=0;f<this.path.length;f++){const m=this.path[f];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&ic(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),va(m.latestValues)&&ic(d,m.latestValues)}return va(this.latestValues)&&ic(d,this.latestValues),d}removeTransform(a){const c=Ot();yr(c,a);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!va(f.latestValues))continue;s_(f.latestValues)&&f.updateSnapshot();const m=Ot(),y=f.measurePageBox();yr(m,y),RS(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return va(this.latestValues)&&RS(c,this.latestValues),c}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var _;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(a||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:y}=this.options;if(!(!this.layout||!(m||y))){if(this.resolvedRelativeTargetAt=dn.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ot(),this.relativeTargetOrigin=Ot(),ud(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ot(),this.targetWithTransforms=Ot()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),n6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yr(this.target,this.layout.layoutBox),wA(this.target,this.targetDelta)):yr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ot(),this.relativeTargetOrigin=Ot(),ud(this.relativeTargetOrigin,this.target,T.target),yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||s_(this.parent.latestValues)||_A(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var I;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let d=!0;if((this.isProjectionDirty||(I=this.parent)!=null&&I.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===dn.timestamp&&(d=!1),d)return;const{layout:f,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||m))return;yr(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,_=this.treeScale.y;r6(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ot());const{target:T}=a;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(IS(this.prevProjectionDelta.x,this.projectionDelta.x),IS(this.prevProjectionDelta.y,this.projectionDelta.y)),cd(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==_||!jS(this.projectionDelta.x,this.prevProjectionDelta.x)||!jS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),a){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rc(),this.projectionDelta=rc(),this.projectionDeltaWithTransform=rc()}setAnimationOrigin(a,c=!1){const d=this.snapshot,f=d?d.latestValues:{},m={...this.latestValues},y=rc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const _=Ot(),T=d?d.source:void 0,I=this.layout?this.layout.source:void 0,b=T!==I,C=this.getStack(),R=!C||C.members.length<=1,O=!!(b&&!R&&this.options.crossfade===!0&&!this.path.some(X6));this.animationProgress=0;let M;this.mixTargetDelta=W=>{const q=W/1e3;VS(y.x,a.x,q),VS(y.y,a.y,q),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ud(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Q6(this.relativeTarget,this.relativeTargetOrigin,_,q),M&&D6(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=Ot()),yr(M,this.relativeTarget)),b&&(this.animationValues=m,I6(m,f,this.latestValues,q,O,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var c,d,f;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(f=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||f.stop(),this.pendingAnimation&&(bo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Nt.update(()=>{sp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_c(0)),this.currentAnimation=E6(this.motionValue,[0,1e3],{...a,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),a.onUpdate&&a.onUpdate(m)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(L6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:c,target:d,layout:f,latestValues:m}=a;if(!(!c||!d||!f)){if(this!==a&&this.layout&&f&&kA(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Ot();const y=Mn(this.layout.layoutBox.x);d.x.min=a.target.x.min,d.x.max=d.x.min+y;const _=Mn(this.layout.layoutBox.y);d.y.min=a.target.y.min,d.y.max=d.y.min+_}yr(c,d),ic(c,m),cd(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(a,c){this.sharedNodes.has(a)||this.sharedNodes.set(a,new M6),this.sharedNodes.get(a).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var c;const{layoutId:a}=this.options;return a?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:a}=this.options;return a?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:c,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),a&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let c=!1;const{latestValues:d}=a;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const f={};d.z&&nv("z",a,f,this.animationValues);for(let m=0;m<tv.length;m++)nv(`rotate${tv[m]}`,a,f,this.animationValues),nv(`skew${tv[m]}`,a,f,this.animationValues);a.render();for(const m in f)a.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return O6;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=rp(a==null?void 0:a.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=rp(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!va(this.latestValues)&&(T.transform=d?d({},""):"none",this.hasProjected=!1),T}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=j6(this.projectionDeltaWithTransform,this.treeScale,m),d&&(c.transform=d(m,c.transform));const{x:y,y:_}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${_.origin*100}% 0`,f.animationValues?c.opacity=f===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const T in Id){if(m[T]===void 0)continue;const{correct:I,applyTo:b,isCSSVariable:C}=Id[T],R=c.transform==="none"?m[T]:I(m[T],f);if(b){const O=b.length;for(let M=0;M<O;M++)c[b[M]]=R}else C?this.options.visualElement.renderState.vars[T]=R:c[T]=R}return this.options.layoutId&&(c.pointerEvents=f===this?rp(a==null?void 0:a.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var c;return(c=a.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(OS),this.root.sharedNodes.clear()}}}function F6(t){t.updateLayout()}function U6(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,a=e.source!==t.layout.source;o==="size"?vr(y=>{const _=a?e.measuredBox[y]:e.layoutBox[y],T=Mn(_);_.min=r[y].min,_.max=_.min+T}):kA(o,e.layoutBox,r)&&vr(y=>{const _=a?e.measuredBox[y]:e.layoutBox[y],T=Mn(r[y]);_.max=_.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+T)});const c=rc();cd(c,r,e.layoutBox);const d=rc();a?cd(d,t.applyTransform(s,!0),e.measuredBox):cd(d,r,e.layoutBox);const f=!NA(c);let m=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:T}=y;if(_&&T){const I=Ot();ud(I,e.layoutBox,_.layoutBox);const b=Ot();ud(b,r,T.layoutBox),AA(I,b)||(m=!0),y.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=I,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function B6(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function z6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function $6(t){t.clearSnapshot()}function OS(t){t.clearMeasurements()}function W6(t){t.isLayoutDirty=!1}function H6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function LS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function q6(t){t.resolveTargetDelta()}function G6(t){t.calcProjection()}function K6(t){t.resetSkewAndRotation()}function Y6(t){t.removeLeadSnapshot()}function VS(t,e,n){t.translate=It(e.translate,0,n),t.scale=It(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function FS(t,e,n,r){t.min=It(e.min,n.min,r),t.max=It(e.max,n.max,r)}function Q6(t,e,n,r){FS(t.x,e.x,n.x,r),FS(t.y,e.y,n.y,r)}function X6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const J6={duration:.45,ease:[.4,0,.1,1]},US=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),BS=US("applewebkit/")&&!US("chrome/")?Math.round:Er;function zS(t){t.min=BS(t.min),t.max=BS(t.max)}function Z6(t){zS(t.x),zS(t.y)}function kA(t,e,n){return t==="position"||t==="preserve-aspect"&&!t6(MS(e),MS(n),.2)}function eU(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const tU=PA({attachResizeListener:(t,e)=>Ad(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rv={current:void 0},DA=PA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!rv.current){const t=new tU({});t.mount(window),t.setOptions({layoutScroll:!0}),rv.current=t}return rv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),nU={pan:{Feature:v6},drag:{Feature:y6,ProjectionNode:DA,MeasureLayout:SA}};function $S(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=r[s];o&&Nt.postRender(()=>o(e,Xd(e)))}class rU extends Vo{mount(){const{current:e}=this.node;e&&(this.unmount=R5(e,(n,r)=>($S(this.node,r,"Start"),s=>$S(this.node,s,"End"))))}unmount(){}}class sU extends Vo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kd(Ad(this.node.current,"focus",()=>this.onFocus()),Ad(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function WS(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=r[s];o&&Nt.postRender(()=>o(e,Xd(e)))}class iU extends Vo{mount(){const{current:e}=this.node;e&&(this.unmount=M5(e,(n,r)=>(WS(this.node,r,"Start"),(s,{success:o})=>WS(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const a_=new WeakMap,sv=new WeakMap,oU=t=>{const e=a_.get(t.target);e&&e(t)},aU=t=>{t.forEach(oU)};function lU({root:t,...e}){const n=t||document;sv.has(n)||sv.set(n,{});const r=sv.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(aU,{root:t,...e})),r[s]}function cU(t,e,n){const r=lU(e);return a_.set(t,n),r.observe(t),()=>{a_.delete(t),r.unobserve(t)}}const uU={some:0,all:1};class dU extends Vo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:uU[s]},c=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),_=f?m:y;_&&_(d)};return cU(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(hU(e,n))&&this.startObserver()}unmount(){}}function hU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const fU={inView:{Feature:dU},tap:{Feature:iU},focus:{Feature:sU},hover:{Feature:rU}},pU={layout:{ProjectionNode:DA,MeasureLayout:SA}},l_={current:null},MA={current:!1};function mU(){if(MA.current=!0,!!C0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>l_.current=t.matches;t.addListener(e),e()}else l_.current=!1}const gU=new WeakMap;function yU(t,e,n){for(const r in e){const s=e[r],o=n[r];if(In(s))t.addValue(r,s);else if(In(o))t.addValue(r,_c(s,{owner:t}));else if(o!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,_c(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const HS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class vU{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=qn.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Nt.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=a;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=vm(n),this.isVariantNode=tA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in y){const T=y[_];d[_]!==void 0&&In(T)&&T.set(d[_],!1)}}mount(e){this.current=e,gU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),MA.current||mU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:l_.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),bo(this.notifyUpdate),bo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Oc.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Nt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in wc){const n=wc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ot()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<HS.length;r++){const s=HS[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,a=e[o];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=yU(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=_c(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(cN(r)||dN(r))?r=parseFloat(r):!L5(r)&&So.test(n)&&(r=qN(e,n)),this.setBaseTarget(e,In(r)?r.get():r)),In(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=rw(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!In(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new P0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class jA extends vU{constructor(){super(...arguments),this.KeyframeResolver=S5}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;In(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function OA(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}function _U(t){return window.getComputedStyle(t)}class wU extends jA{constructor(){super(...arguments),this.type="html",this.renderInstance=OA}readValueFromInstance(e,n){var r;if(Oc.has(n))return(r=this.projection)!=null&&r.isProjecting?Yv(n):WF(e,n);{const s=_U(e),o=(M0(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return xA(e,n)}build(e,n,r){ew(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return sw(e,n,r)}}const LA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function xU(t,e,n,r){OA(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(LA.has(s)?s:Z0(s),e.attrs[s])}class EU extends jA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ot}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Oc.has(n)){const r=HN(n);return r&&r.default||0}return n=LA.has(n)?n:Z0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return dA(e,n,r)}build(e,n,r){aA(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){xU(e,n,r,s)}mount(e){this.isSVGTag=cA(e.tagName),super.mount(e)}}const TU=(t,e)=>nw(t)?new EU(e):new wU(e,{allowProjection:t!==E.Fragment}),bU=x3({...G3,...fU,...nU,...pU},TU),j=q5(bU),SU=()=>{};var qS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de=function(t,e){if(!t)throw Lc(e)},Lc=function(t){return new Error("Firebase Database ("+VA.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},CU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],a=t[n++],c=t[n++],d=((s&7)<<18|(o&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|a&63)}}return e.join("")},ow={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],a=s+1<t.length,c=a?t[s+1]:0,d=s+2<t.length,f=d?t[s+2]:0,m=o>>2,y=(o&3)<<4|c>>4;let _=(c&15)<<2|f>>6,T=f&63;d||(T=64,a||(_=64)),r.push(n[m],n[y],n[_],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(FA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const f=s<t.length?n[t.charAt(s)]:64;++s;const y=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||c==null||f==null||y==null)throw new IU;const _=o<<2|c>>4;if(r.push(_),f!==64){const T=c<<4&240|f>>2;if(r.push(T),y!==64){const I=f<<6&192|y;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UA=function(t){const e=FA(t);return ow.encodeByteArray(e,!0)},Ip=function(t){return UA(t).replace(/\./g,"")},Np=function(t){try{return ow.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(t){return BA(void 0,t)}function BA(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!AU(n)||(t[n]=BA(t[n],e[n]));return t}function AU(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU=()=>RU().__FIREBASE_DEFAULTS__,kU=()=>{if(typeof process>"u"||typeof qS>"u")return;const t=qS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Np(t[1]);return e&&JSON.parse(e)},_m=()=>{try{return SU()||PU()||kU()||DU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zA=t=>{var e,n;return(n=(e=_m())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},$A=t=>{const e=zA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},WA=()=>{var t;return(t=_m())==null?void 0:t.config},HA=t=>{var e;return(e=_m())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ip(JSON.stringify(n)),Ip(JSON.stringify(a)),""].join(".")}const dd={};function MU(){const t={prod:[],emulator:[]};for(const e of Object.keys(dd))dd[e]?t.emulator.push(e):t.prod.push(e);return t}function jU(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let GS=!1;function cw(t,e){if(typeof window>"u"||typeof document>"u"||!Fo(window.location.host)||dd[t]===e||dd[t]||GS)return;dd[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",o=MU().prod.length>0;function a(){const _=document.getElementById(r);_&&_.remove()}function c(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function d(_,T){_.setAttribute("width","24"),_.setAttribute("id",T),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function f(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{GS=!0,a()},_}function m(_,T){_.setAttribute("id",T),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=jU(r),T=n("text"),I=document.getElementById(T)||document.createElement("span"),b=n("learnmore"),C=document.getElementById(b)||document.createElement("a"),R=n("preprendIcon"),O=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const M=_.element;c(M),m(C,b);const W=f();d(O,R),M.append(O,I,C,W),document.body.appendChild(M)}o?(I.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(An())}function OU(){var e;const t=(e=_m())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function GA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FU(){const t=An();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function UU(){return VA.NODE_ADMIN===!0}function BU(){return!OU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zU(){try{return typeof indexedDB=="object"}catch{return!1}}function $U(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU="FirebaseError";class wi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=WU,Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jd.prototype.create)}}class Jd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],a=o?HU(o,r):"Error",c=`${this.serviceName}: ${a} (${s}).`;return new wi(s,c,r)}}function HU(t,e){return t.replace(qU,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const qU=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t){return JSON.parse(t)}function fn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=function(t){let e={},n={},r={},s="";try{const o=t.split(".");e=Rd(Np(o[0])||""),n=Rd(Np(o[1])||""),s=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},GU=function(t){const e=KA(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},KU=function(t){const e=KA(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function xc(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function c_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ap(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Co(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],a=e[s];if(KS(o)&&KS(a)){if(!Co(o,a))return!1}else if(o!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function KS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ju(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Zu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)r[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)r[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const _=r[y-3]^r[y-8]^r[y-14]^r[y-16];r[y]=(_<<1|_>>>31)&4294967295}let s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],c=this.chain_[3],d=this.chain_[4],f,m;for(let y=0;y<80;y++){y<40?y<20?(f=c^o&(a^c),m=1518500249):(f=o^a^c,m=1859775393):y<60?(f=o&a|c&(o|a),m=2400959708):(f=o^a^c,m=3395469782);const _=(s<<5|s>>>27)+f+d+m+r[y]&4294967295;d=c,c=a,a=(o<<30|o>>>2)&4294967295,o=s,s=_}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const o=this.buf_;let a=this.inbuf_;for(;s<n;){if(a===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(o[a]=e.charCodeAt(s),++a,++s,a===this.blockSize){this.compress_(o),a=0;break}}else for(;s<n;)if(o[a]=e[s],++a,++s,a===this.blockSize){this.compress_(o),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[s]>>o&255,++r;return e}}function QU(t,e){const n=new XU(t,e);return n.subscribe.bind(n)}class XU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");JU(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=iv),s.error===void 0&&(s.error=iv),s.complete===void 0&&(s.complete=iv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function iv(){}function ZU(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const o=s-55296;r++,de(r<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(r)-56320;s=65536+(o<<10)+a}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},wm=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t){return t&&t._delegate?t._delegate:t}class Io{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new aw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(r8(e))try{this.getOrInitializeService({instanceIdentifier:_a})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=_a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_a){return this.instances.has(e)}getOptions(e=_a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&a.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:n8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_a){return this.component?this.component.multipleInstances?e:_a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function n8(t){return t===_a?void 0:t}function r8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new t8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(He||(He={}));const i8={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},o8=He.INFO,a8={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},l8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=a8[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xm{constructor(e){this.name=e,this._logLevel=o8,this._logHandler=l8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?i8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const c8=(t,e)=>e.some(n=>t instanceof n);let YS,QS;function u8(){return YS||(YS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function d8(){return QS||(QS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YA=new WeakMap,u_=new WeakMap,QA=new WeakMap,ov=new WeakMap,dw=new WeakMap;function h8(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(fo(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&YA.set(n,t)}).catch(()=>{}),dw.set(e,t),e}function f8(t){if(u_.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});u_.set(t,e)}let d_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return u_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function p8(t){d_=t(d_)}function m8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(av(this),e,...n);return QA.set(r,e.sort?e.sort():[e]),fo(r)}:d8().includes(t)?function(...e){return t.apply(av(this),e),fo(YA.get(this))}:function(...e){return fo(t.apply(av(this),e))}}function g8(t){return typeof t=="function"?m8(t):(t instanceof IDBTransaction&&f8(t),c8(t,u8())?new Proxy(t,d_):t)}function fo(t){if(t instanceof IDBRequest)return h8(t);if(ov.has(t))return ov.get(t);const e=g8(t);return e!==t&&(ov.set(t,e),dw.set(e,t)),e}const av=t=>dw.get(t);function y8(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const a=indexedDB.open(t,e),c=fo(a);return r&&a.addEventListener("upgradeneeded",d=>{r(fo(a.result),d.oldVersion,d.newVersion,fo(a.transaction),d)}),n&&a.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const v8=["get","getKey","getAll","getAllKeys","count"],_8=["put","add","delete","clear"],lv=new Map;function XS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lv.get(e))return lv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=_8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||v8.includes(n)))return;const o=async function(a,...c){const d=this.transaction(a,s?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),s&&d.done]))[0]};return lv.set(e,o),o}p8(t=>({...t,get:(e,n,r)=>XS(e,n)||t.get(e,n,r),has:(e,n)=>!!XS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(x8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function x8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const h_="@firebase/app",JS="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new xm("@firebase/app"),E8="@firebase/app-compat",T8="@firebase/analytics-compat",b8="@firebase/analytics",S8="@firebase/app-check-compat",C8="@firebase/app-check",I8="@firebase/auth",N8="@firebase/auth-compat",A8="@firebase/database",R8="@firebase/data-connect",P8="@firebase/database-compat",k8="@firebase/functions",D8="@firebase/functions-compat",M8="@firebase/installations",j8="@firebase/installations-compat",O8="@firebase/messaging",L8="@firebase/messaging-compat",V8="@firebase/performance",F8="@firebase/performance-compat",U8="@firebase/remote-config",B8="@firebase/remote-config-compat",z8="@firebase/storage",$8="@firebase/storage-compat",W8="@firebase/firestore",H8="@firebase/ai",q8="@firebase/firestore-compat",G8="firebase",K8="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="[DEFAULT]",Y8={[h_]:"fire-core",[E8]:"fire-core-compat",[b8]:"fire-analytics",[T8]:"fire-analytics-compat",[C8]:"fire-app-check",[S8]:"fire-app-check-compat",[I8]:"fire-auth",[N8]:"fire-auth-compat",[A8]:"fire-rtdb",[R8]:"fire-data-connect",[P8]:"fire-rtdb-compat",[k8]:"fire-fn",[D8]:"fire-fn-compat",[M8]:"fire-iid",[j8]:"fire-iid-compat",[O8]:"fire-fcm",[L8]:"fire-fcm-compat",[V8]:"fire-perf",[F8]:"fire-perf-compat",[U8]:"fire-rc",[B8]:"fire-rc-compat",[z8]:"fire-gcs",[$8]:"fire-gcs-compat",[W8]:"fire-fst",[q8]:"fire-fst-compat",[H8]:"fire-vertex","fire-js":"fire-js",[G8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=new Map,Q8=new Map,p_=new Map;function ZS(t,e){try{t.container.addComponent(e)}catch(n){hi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Da(t){const e=t.name;if(p_.has(e))return hi.debug(`There were multiple attempts to register component ${e}.`),!1;p_.set(e,t);for(const n of Rp.values())ZS(n,t);for(const n of Q8.values())ZS(n,t);return!0}function Em(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Hn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},po=new Jd("app","Firebase",X8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw po.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=K8;function XA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:f_,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw po.create("bad-app-name",{appName:String(s)});if(n||(n=WA()),!n)throw po.create("no-options");const o=Rp.get(s);if(o){if(Co(n,o.options)&&Co(r,o.config))return o;throw po.create("duplicate-app",{appName:s})}const a=new s8(s);for(const d of p_.values())a.addComponent(d);const c=new J8(n,r,a);return Rp.set(s,c),c}function hw(t=f_){const e=Rp.get(t);if(!e&&t===f_&&WA())return XA();if(!e)throw po.create("no-app",{appName:t});return e}function Es(t,e,n){let r=Y8[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hi.warn(a.join(" "));return}Da(new Io(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8="firebase-heartbeat-database",e9=1,Pd="firebase-heartbeat-store";let cv=null;function JA(){return cv||(cv=y8(Z8,e9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pd)}catch(n){console.warn(n)}}}}).catch(t=>{throw po.create("idb-open",{originalErrorMessage:t.message})})),cv}async function t9(t){try{const n=(await JA()).transaction(Pd),r=await n.objectStore(Pd).get(ZA(t));return await n.done,r}catch(e){if(e instanceof wi)hi.warn(e.message);else{const n=po.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hi.warn(n.message)}}}async function eC(t,e){try{const r=(await JA()).transaction(Pd,"readwrite");await r.objectStore(Pd).put(e,ZA(t)),await r.done}catch(n){if(n instanceof wi)hi.warn(n.message);else{const r=po.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hi.warn(r.message)}}}function ZA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9=1024,r9=30;class s9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new o9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=tC();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>r9){const a=a9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){hi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=tC(),{heartbeatsToSend:r,unsentEntries:s}=i9(this._heartbeatsCache.heartbeats),o=Ip(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return hi.warn(n),""}}}function tC(){return new Date().toISOString().substring(0,10)}function i9(t,e=n9){const n=[];let r=t.slice();for(const s of t){const o=n.find(a=>a.agent===s.agent);if(o){if(o.dates.push(s.date),nC(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),nC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class o9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zU()?$U().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await t9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return eC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return eC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function nC(t){return Ip(JSON.stringify({version:2,heartbeats:t})).length}function a9(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(t){Da(new Io("platform-logger",e=>new w8(e),"PRIVATE")),Da(new Io("heartbeat",e=>new s9(e),"PRIVATE")),Es(h_,JS,t),Es(h_,JS,"esm2020"),Es("fire-js","")}l9("");function eR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c9=eR,tR=new Jd("auth","Firebase",eR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=new xm("@firebase/auth");function u9(t,...e){Pp.logLevel<=He.WARN&&Pp.warn(`Auth (${Qa}): ${t}`,...e)}function ip(t,...e){Pp.logLevel<=He.ERROR&&Pp.error(`Auth (${Qa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t,...e){throw pw(t,...e)}function zr(t,...e){return pw(t,...e)}function fw(t,e,n){const r={...c9(),[e]:n};return new Jd("auth","Firebase",r).create(e,{appName:t.name})}function oi(t){return fw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function d9(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&br(t,"argument-error"),fw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function pw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tR.create(t,...e)}function De(t,e,...n){if(!t)throw pw(e,...n)}function ri(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ip(e),new Error(e)}function fi(t,e){t||ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function h9(){return rC()==="http:"||rC()==="https:"}function rC(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h9()||VU()||"connection"in navigator)?navigator.onLine:!0}function p9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n){this.shortDelay=e,this.longDelay=n,fi(n>e,"Short delay should be less than long delay!"),this.isMobile=uw()||GA()}get(){return f9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(t,e){fi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],y9=new Zd(3e4,6e4);function Uo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ei(t,e,n,r,s={}){return rR(t,s,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const c=Vc({key:t.config.apiKey,...a}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:d,...o};return LU()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Fo(t.emulatorConfig.host)&&(f.credentials="include"),nR.fetch()(await sR(t,t.config.apiHost,n,c),f)})}async function rR(t,e,n){t._canInitEmulator=!1;const r={...m9,...e};try{const s=new _9(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Ff(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const c=o.ok?a.errorMessage:a.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ff(t,"credential-already-in-use",a);if(d==="EMAIL_EXISTS")throw Ff(t,"email-already-in-use",a);if(d==="USER_DISABLED")throw Ff(t,"user-disabled",a);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw fw(t,m,f);br(t,m)}}catch(s){if(s instanceof wi)throw s;br(t,"network-request-failed",{message:String(s)})}}async function eh(t,e,n,r,s={}){const o=await Ei(t,e,n,r,s);return"mfaPendingCredential"in o&&br(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function sR(t,e,n,r){const s=`${e}${n}?${r}`,o=t,a=o.config.emulator?mw(t.config,s):`${t.config.apiScheme}://${s}`;return g9.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}function v9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zr(this.auth,"network-request-failed")),y9.get())})}}function Ff(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=zr(t,e,r);return s.customData._tokenResponse=n,s}function sC(t){return t!==void 0&&t.enterprise!==void 0}class w9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return v9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function x9(t,e){return Ei(t,"GET","/v2/recaptchaConfig",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E9(t,e){return Ei(t,"POST","/v1/accounts:delete",e)}async function kp(t,e){return Ei(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function T9(t,e=!1){const n=sn(t),r=await n.getIdToken(e),s=gw(r);De(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:hd(uv(s.auth_time)),issuedAtTime:hd(uv(s.iat)),expirationTime:hd(uv(s.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function uv(t){return Number(t)*1e3}function gw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ip("JWT malformed, contained fewer than 3 sections"),null;try{const s=Np(n);return s?JSON.parse(s):(ip("Failed to decode base64 JWT payload"),null)}catch(s){return ip("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function iC(t){const e=gw(t);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ec(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof wi&&b9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function b9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hd(this.lastLoginAt),this.creationTime=hd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dp(t){var y;const e=t.auth,n=await t.getIdToken(),r=await Ec(t,kp(e,{idToken:n}));De(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=(y=s.providerUserInfo)!=null&&y.length?iR(s.providerUserInfo):[],a=I9(t.providerData,o),c=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=c?d:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new g_(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function C9(t){const e=sn(t);await Dp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function I9(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function iR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N9(t,e){const n=await rR(t,{},async()=>{const r=Vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,a=await sR(t,s,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&Fo(t.emulatorConfig.host)&&(d.credentials="include"),nR.fetch()(a,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function A9(t,e){return Ei(t,"POST","/v2/accounts:revokeToken",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){De(e.length!==0,"internal-error");const n=iC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await N9(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,a=new cc;return r&&(De(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(De(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),o&&(De(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cc,this.toJSON())}_performRefresh(){return ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(t,e){De(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new S9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new g_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ec(this,this.stsTokenManager.getToken(this.auth,e));return De(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return T9(this,e)}reload(){return C9(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Dp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(oi(this.auth));const e=await this.getIdToken();return await Ec(this,E9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,o=n.phoneNumber??void 0,a=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,f=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:y,emailVerified:_,isAnonymous:T,providerData:I,stsTokenManager:b}=n;De(y&&b,e,"internal-error");const C=cc.fromJSON(this.name,b);De(typeof y=="string",e,"internal-error"),no(r,e.name),no(s,e.name),De(typeof _=="boolean",e,"internal-error"),De(typeof T=="boolean",e,"internal-error"),no(o,e.name),no(a,e.name),no(c,e.name),no(d,e.name),no(f,e.name),no(m,e.name);const R=new Fr({uid:y,auth:e,email:s,emailVerified:_,displayName:r,isAnonymous:T,photoURL:a,phoneNumber:o,tenantId:c,stsTokenManager:C,createdAt:f,lastLoginAt:m});return I&&Array.isArray(I)&&(R.providerData=I.map(O=>({...O}))),d&&(R._redirectEventId=d),R}static async _fromIdTokenResponse(e,n,r=!1){const s=new cc;s.updateFromServerResponse(n);const o=new Fr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Dp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];De(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?iR(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),c=new cc;c.updateFromIdToken(r);const d=new Fr({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:a}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new g_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=new Map;function si(t){fi(t instanceof Function,"Expected a class definition");let e=oC.get(t);return e?(fi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,oC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}oR.type="NONE";const aC=oR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(t,e,n){return`firebase:${t}:${e}:${n}`}class uc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=op(this.userKey,s.apiKey,o),this.fullPersistenceKey=op("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kp(this.auth,{idToken:e}).catch(()=>{});return n?Fr._fromGetAccountInfoResponse(this.auth,n,e):null}return Fr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new uc(si(aC),e,r);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=s[0]||si(aC);const a=op(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const m=await f._get(a);if(m){let y;if(typeof m=="string"){const _=await kp(e,{idToken:m}).catch(()=>{});if(!_)break;y=await Fr._fromGetAccountInfoResponse(e,_,m)}else y=Fr._fromJSON(e,m);f!==o&&(c=y),o=f;break}}catch{}const d=s.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new uc(o,e,r):(o=d[0],c&&await o._set(a,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(a)}catch{}})),new uc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hR(e))return"Blackberry";if(fR(e))return"Webos";if(lR(e))return"Safari";if((e.includes("chrome/")||cR(e))&&!e.includes("edge/"))return"Chrome";if(dR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function aR(t=An()){return/firefox\//i.test(t)}function lR(t=An()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cR(t=An()){return/crios\//i.test(t)}function uR(t=An()){return/iemobile/i.test(t)}function dR(t=An()){return/android/i.test(t)}function hR(t=An()){return/blackberry/i.test(t)}function fR(t=An()){return/webos/i.test(t)}function yw(t=An()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function R9(t=An()){var e;return yw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function P9(){return FU()&&document.documentMode===10}function pR(t=An()){return yw(t)||dR(t)||fR(t)||hR(t)||/windows phone/i.test(t)||uR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(t,e=[]){let n;switch(t){case"Browser":n=lC(An());break;case"Worker":n=`${lC(An())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,c)=>{try{const d=e(o);a(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D9(t,e={}){return Ei(t,"GET","/v2/passwordPolicy",Uo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9=6;class j9{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??M9,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cC(this),this.idTokenSubscription=new cC(this),this.beforeStateQueue=new k9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=si(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await uc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kp(this,{idToken:e}),r=await Fr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Hn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(o=this.redirectUser)==null?void 0:o._redirectEventId,c=r==null?void 0:r._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===c)&&(d!=null&&d.user)&&(r=d.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=p9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(oi(this));const n=e?sn(e):null;return n&&De(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await D9(this),n=new j9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await A9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&si(e)||this._popupRedirectResolver;De(n,this,"argument-error"),this.redirectPersistenceManager=await uc.create(this,[si(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(c,this,"internal-error"),c.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{a=!0,d()}}else{const d=e.addObserver(n);return()=>{a=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&u9(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Bo(t){return sn(t)}class cC{constructor(e){this.auth=e,this.observer=null,this.addObserver=QU(n=>this.observer=n)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function L9(t){Tm=t}function gR(t){return Tm.loadJS(t)}function V9(){return Tm.recaptchaEnterpriseScript}function F9(){return Tm.gapiScript}function U9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class B9{constructor(){this.enterprise=new z9}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class z9{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const $9="recaptcha-enterprise",yR="NO_RECAPTCHA";class W9{constructor(e){this.type=$9,this.auth=Bo(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,c)=>{x9(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new w9(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,a(f.siteKey)}}).catch(d=>{c(d)})})}function s(o,a,c){const d=window.grecaptcha;sC(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{a(f)}).catch(()=>{a(yR)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new B9().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{r(this.auth).then(c=>{if(!n&&sC(window.grecaptcha))s(c,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let d=V9();d.length!==0&&(d+=c),gR(d).then(()=>{s(c,o,a)}).catch(f=>{a(f)})}}).catch(c=>{a(c)})})}}async function uC(t,e,n,r=!1,s=!1){const o=new W9(t);let a;if(s)a=yR;else try{a=await o.verify(n)}catch{a=await o.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:a}):Object.assign(c,{captchaResponse:a}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function y_(t,e,n,r,s){var o;if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await uC(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await uC(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H9(t,e){const n=Em(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Co(o,e??{}))return s;br(s,"already-initialized")}return n.initialize({options:e})}function q9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(si);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function G9(t,e,n){const r=Bo(t);De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=vR(e),{host:a,port:c}=K9(e),d=c===null?"":`:${c}`,f={url:`${o}//${a}${d}/`},m=Object.freeze({host:a,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){De(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),De(Co(f,r.config.emulator)&&Co(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Fo(a)?(lw(`${o}//${a}${d}`),cw("Auth",!0)):Y9()}function vR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function K9(t){const e=vR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:dC(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:dC(a)}}}function dC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Y9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ri("not implemented")}_getIdTokenResponse(e){return ri("not implemented")}_linkToIdToken(e,n){return ri("not implemented")}_getReauthenticationResolver(e){return ri("not implemented")}}async function Q9(t,e){return Ei(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X9(t,e){return eh(t,"POST","/v1/accounts:signInWithPassword",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J9(t,e){return eh(t,"POST","/v1/accounts:signInWithEmailLink",Uo(t,e))}async function Z9(t,e){return eh(t,"POST","/v1/accounts:signInWithEmailLink",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd extends vw{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new kd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new kd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return y_(e,n,"signInWithPassword",X9);case"emailLink":return J9(e,{email:this._email,oobCode:this._password});default:br(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return y_(e,r,"signUpPassword",Q9);case"emailLink":return Z9(e,{idToken:n,email:this._email,oobCode:this._password});default:br(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(t,e){return eh(t,"POST","/v1/accounts:signInWithIdp",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB="http://localhost";class Ma extends vw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):br("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=n;if(!r||!s)return null;const a=new Ma(r,s);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return dc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,dc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,dc(e,n)}buildRequest(){const e={requestUri:eB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nB(t){const e=Ju(Zu(t)).link,n=e?Ju(Zu(e)).deep_link_id:null,r=Ju(Zu(t)).deep_link_id;return(r?Ju(Zu(r)).link:null)||r||n||e||t}class _w{constructor(e){const n=Ju(Zu(e)),r=n.apiKey??null,s=n.oobCode??null,o=tB(n.mode??null);De(r&&s&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=nB(e);try{return new _w(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(){this.providerId=Fc.PROVIDER_ID}static credential(e,n){return kd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=_w.parseLink(n);return De(r,"argument-error"),kd._fromEmailAndCode(e,r.code,r.tenantId)}}Fc.PROVIDER_ID="password";Fc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends ww{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends th{constructor(){super("facebook.com")}static credential(e){return Ma._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.FACEBOOK_SIGN_IN_METHOD="facebook.com";oo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends th{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ma._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ni.credential(n,r)}catch{return null}}}ni.GOOGLE_SIGN_IN_METHOD="google.com";ni.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends th{constructor(){super("github.com")}static credential(e){return Ma._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.GITHUB_SIGN_IN_METHOD="github.com";ao.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends th{constructor(){super("twitter.com")}static credential(e,n){return Ma._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return lo.credential(n,r)}catch{return null}}}lo.TWITTER_SIGN_IN_METHOD="twitter.com";lo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rB(t,e){return eh(t,"POST","/v1/accounts:signUp",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await Fr._fromIdTokenResponse(e,r,s),a=hC(r);return new ja({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=hC(r);return new ja({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function hC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp extends wi{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Mp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Mp(e,n,r,s)}}function _R(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Mp._fromErrorAndOperation(t,o,e,r):o})}async function sB(t,e,n=!1){const r=await Ec(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ja._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iB(t,e,n=!1){const{auth:r}=t;if(Hn(r.app))return Promise.reject(oi(r));const s="reauthenticate";try{const o=await Ec(t,_R(r,s,e,t),n);De(o.idToken,r,"internal-error");const a=gw(o.idToken);De(a,r,"internal-error");const{sub:c}=a;return De(t.uid===c,r,"user-mismatch"),ja._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&br(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR(t,e,n=!1){if(Hn(t.app))return Promise.reject(oi(t));const r="signIn",s=await _R(t,r,e),o=await ja._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function oB(t,e){return wR(Bo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(t){const e=Bo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function aB(t,e,n){if(Hn(t.app))return Promise.reject(oi(t));const r=Bo(t),a=await y_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rB).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&xR(t),d}),c=await ja._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(c.user),c}function lB(t,e,n){return Hn(t.app)?Promise.reject(oi(t)):oB(sn(t),Fc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&xR(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cB(t,e){return Ei(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uB(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=sn(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await Ec(r,cB(r.auth,o));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const c=r.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function dB(t,e,n,r){return sn(t).onIdTokenChanged(e,n,r)}function hB(t,e,n){return sn(t).beforeAuthStateChanged(e,n)}function fB(t){return sn(t).signOut()}const jp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jp,"1"),this.storage.removeItem(jp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pB=1e3,mB=10;class TR extends ER{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,d)=>{this.notifyListeners(a,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);P9()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,mB):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},pB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}TR.type="LOCAL";const gB=TR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR extends ER{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bR.type="SESSION";const SR=bR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new bm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(a).map(async f=>f(n.origin,o)),d=await yB(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,d)=>{const f=xw("",20);s.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(y){const _=y;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(_.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(){return window}function _B(t){Ts().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(){return typeof Ts().WorkerGlobalScope<"u"&&typeof Ts().importScripts=="function"}async function wB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function EB(){return CR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="firebaseLocalStorageDb",TB=1,Op="firebaseLocalStorage",NR="fbase_key";class nh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sm(t,e){return t.transaction([Op],e?"readwrite":"readonly").objectStore(Op)}function bB(){const t=indexedDB.deleteDatabase(IR);return new nh(t).toPromise()}function v_(){const t=indexedDB.open(IR,TB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Op,{keyPath:NR})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Op)?e(r):(r.close(),await bB(),e(await v_()))})})}async function fC(t,e,n){const r=Sm(t,!0).put({[NR]:e,value:n});return new nh(r).toPromise()}async function SB(t,e){const n=Sm(t,!1).get(e),r=await new nh(n).toPromise();return r===void 0?null:r.value}function pC(t,e){const n=Sm(t,!0).delete(e);return new nh(n).toPromise()}const CB=800,IB=3;class AR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await v_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>IB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bm._getInstance(EB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await wB(),!this.activeServiceWorker)return;this.sender=new vB(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await v_();return await fC(e,jp,"1"),await pC(e,jp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>SB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Sm(s,!1).getAll();return new nh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AR.type="LOCAL";const NB=AR;new Zd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(t,e){return e?si(e):(De(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew extends vw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return dc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return dc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function AB(t){return wR(t.auth,new Ew(t),t.bypassAuthState)}function RB(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),iB(n,new Ew(t),t.bypassAuthState)}async function PB(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),sB(n,new Ew(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:a,type:c}=e;if(a){this.reject(a);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AB;case"linkViaPopup":case"linkViaRedirect":return PB;case"reauthViaPopup":case"reauthViaRedirect":return RB;default:br(this.auth,"internal-error")}}resolve(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB=new Zd(2e3,1e4);async function DB(t,e,n){if(Hn(t.app))return Promise.reject(zr(t,"operation-not-supported-in-this-environment"));const r=Bo(t);d9(t,e,ww);const s=RR(r,n);return new ba(r,"signInViaPopup",e,s).executeNotNull()}class ba extends PR{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,ba.currentPopupAction&&ba.currentPopupAction.cancel(),ba.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){fi(this.filter.length===1,"Popup operations only handle one event");const e=xw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ba.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kB.get())};e()}}ba.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB="pendingRedirect",ap=new Map;class jB extends PR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ap.get(this.auth._key());if(!e){try{const r=await OB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ap.set(this.auth._key(),e)}return this.bypassAuthState||ap.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OB(t,e){const n=FB(e),r=VB(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function LB(t,e){ap.set(t._key(),e)}function VB(t){return si(t._redirectPersistence)}function FB(t){return op(MB,t.config.apiKey,t.name)}async function UB(t,e,n=!1){if(Hn(t.app))return Promise.reject(oi(t));const r=Bo(t),s=RR(r,e),a=await new jB(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB=10*60*1e3;class zB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$B(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!kR(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(zr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BB&&this.cachedEventUids.clear(),this.cachedEventUids.has(mC(e))}saveEventToCache(e){this.cachedEventUids.add(mC(e)),this.lastProcessedEventTime=Date.now()}}function mC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $B(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WB(t,e={}){return Ei(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qB=/^https?/;async function GB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await WB(t);for(const n of e)try{if(KB(n))return}catch{}br(t,"unauthorized-domain")}function KB(t){const e=m_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!qB.test(n))return!1;if(HB.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB=new Zd(3e4,6e4);function gC(){const t=Ts().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function QB(t){return new Promise((e,n)=>{var s,o,a;function r(){gC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gC(),n(zr(t,"network-request-failed"))},timeout:YB.get()})}if((o=(s=Ts().gapi)==null?void 0:s.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((a=Ts().gapi)!=null&&a.load)r();else{const c=U9("iframefcb");return Ts()[c]=()=>{gapi.load?r():n(zr(t,"network-request-failed"))},gR(`${F9()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw lp=null,e})}let lp=null;function XB(t){return lp=lp||QB(t),lp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB=new Zd(5e3,15e3),ZB="__/auth/iframe",ez="emulator/auth/iframe",tz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rz(t){const e=t.config;De(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?mw(e,ez):`https://${t.config.authDomain}/${ZB}`,r={apiKey:e.apiKey,appName:t.name,v:Qa},s=nz.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Vc(r).slice(1)}`}async function sz(t){const e=await XB(t),n=Ts().gapi;return De(n,t,"internal-error"),e.open({where:document.body,url:rz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tz,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const a=zr(t,"network-request-failed"),c=Ts().setTimeout(()=>{o(a)},JB.get());function d(){Ts().clearTimeout(c),s(r)}r.ping(d).then(d,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oz=500,az=600,lz="_blank",cz="http://localhost";class yC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uz(t,e,n,r=oz,s=az){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...iz,width:r.toString(),height:s.toString(),top:o,left:a},f=An().toLowerCase();n&&(c=cR(f)?lz:n),aR(f)&&(e=e||cz,d.scrollbars="yes");const m=Object.entries(d).reduce((_,[T,I])=>`${_}${T}=${I},`,"");if(R9(f)&&c!=="_self")return dz(e||"",c),new yC(null);const y=window.open(e||"",c,m);De(y,t,"popup-blocked");try{y.focus()}catch{}return new yC(y)}function dz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz="__/auth/handler",fz="emulator/auth/handler",pz=encodeURIComponent("fac");async function vC(t,e,n,r,s,o){De(t.config.authDomain,t,"auth-domain-config-required"),De(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Qa,eventId:s};if(e instanceof ww){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",c_(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))a[m]=y}if(e instanceof th){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(a.scopes=m.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),f=d?`#${pz}=${encodeURIComponent(d)}`:"";return`${mz(t)}?${Vc(c).slice(1)}${f}`}function mz({config:t}){return t.emulator?mw(t,fz):`https://${t.authDomain}/${hz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="webStorageSupport";class gz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SR,this._completeRedirectFn=UB,this._overrideRedirectResult=LB}async _openPopup(e,n,r,s){var a;fi((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await vC(e,n,r,m_(),s);return uz(e,o,xw())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await vC(e,n,r,m_(),s);return _B(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(fi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await sz(e),r=new zB(e);return n.register("authEvent",s=>(De(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dv,{type:dv},s=>{var a;const o=(a=s==null?void 0:s[0])==null?void 0:a[dv];o!==void 0&&n(!!o),br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pR()||lR()||yw()}}const yz=gz;var _C="@firebase/auth",wC="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _z(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wz(t){Da(new Io("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;De(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mR(t)},f=new O9(r,s,o,d);return q9(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Da(new Io("auth-internal",e=>{const n=Bo(e.getProvider("auth").getImmediate());return(r=>new vz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Es(_C,wC,_z(t)),Es(_C,wC,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz=5*60,Ez=HA("authIdTokenMaxAge")||xz;let xC=null;const Tz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Ez)return;const s=n==null?void 0:n.token;xC!==s&&(xC=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function bz(t=hw()){const e=Em(t,"auth");if(e.isInitialized())return e.getImmediate();const n=H9(t,{popupRedirectResolver:yz,persistence:[NB,gB,SR]}),r=HA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=Tz(o.toString());hB(n,a,()=>a(n.currentUser)),dB(n,c=>a(c))}}const s=zA("auth");return s&&G9(n,`http://${s}`),n}function Sz(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}L9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=zr("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",Sz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wz("Browser");var EC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mo,DR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,A){function k(){}k.prototype=A.prototype,P.F=A.prototype,P.prototype=new k,P.prototype.constructor=P,P.D=function(V,U,B){for(var L=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)L[ye-2]=arguments[ye];return A.prototype[U].apply(V,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,A,k){k||(k=0);const V=Array(16);if(typeof A=="string")for(var U=0;U<16;++U)V[U]=A.charCodeAt(k++)|A.charCodeAt(k++)<<8|A.charCodeAt(k++)<<16|A.charCodeAt(k++)<<24;else for(U=0;U<16;++U)V[U]=A[k++]|A[k++]<<8|A[k++]<<16|A[k++]<<24;A=P.g[0],k=P.g[1],U=P.g[2];let B=P.g[3],L;L=A+(B^k&(U^B))+V[0]+3614090360&4294967295,A=k+(L<<7&4294967295|L>>>25),L=B+(U^A&(k^U))+V[1]+3905402710&4294967295,B=A+(L<<12&4294967295|L>>>20),L=U+(k^B&(A^k))+V[2]+606105819&4294967295,U=B+(L<<17&4294967295|L>>>15),L=k+(A^U&(B^A))+V[3]+3250441966&4294967295,k=U+(L<<22&4294967295|L>>>10),L=A+(B^k&(U^B))+V[4]+4118548399&4294967295,A=k+(L<<7&4294967295|L>>>25),L=B+(U^A&(k^U))+V[5]+1200080426&4294967295,B=A+(L<<12&4294967295|L>>>20),L=U+(k^B&(A^k))+V[6]+2821735955&4294967295,U=B+(L<<17&4294967295|L>>>15),L=k+(A^U&(B^A))+V[7]+4249261313&4294967295,k=U+(L<<22&4294967295|L>>>10),L=A+(B^k&(U^B))+V[8]+1770035416&4294967295,A=k+(L<<7&4294967295|L>>>25),L=B+(U^A&(k^U))+V[9]+2336552879&4294967295,B=A+(L<<12&4294967295|L>>>20),L=U+(k^B&(A^k))+V[10]+4294925233&4294967295,U=B+(L<<17&4294967295|L>>>15),L=k+(A^U&(B^A))+V[11]+2304563134&4294967295,k=U+(L<<22&4294967295|L>>>10),L=A+(B^k&(U^B))+V[12]+1804603682&4294967295,A=k+(L<<7&4294967295|L>>>25),L=B+(U^A&(k^U))+V[13]+4254626195&4294967295,B=A+(L<<12&4294967295|L>>>20),L=U+(k^B&(A^k))+V[14]+2792965006&4294967295,U=B+(L<<17&4294967295|L>>>15),L=k+(A^U&(B^A))+V[15]+1236535329&4294967295,k=U+(L<<22&4294967295|L>>>10),L=A+(U^B&(k^U))+V[1]+4129170786&4294967295,A=k+(L<<5&4294967295|L>>>27),L=B+(k^U&(A^k))+V[6]+3225465664&4294967295,B=A+(L<<9&4294967295|L>>>23),L=U+(A^k&(B^A))+V[11]+643717713&4294967295,U=B+(L<<14&4294967295|L>>>18),L=k+(B^A&(U^B))+V[0]+3921069994&4294967295,k=U+(L<<20&4294967295|L>>>12),L=A+(U^B&(k^U))+V[5]+3593408605&4294967295,A=k+(L<<5&4294967295|L>>>27),L=B+(k^U&(A^k))+V[10]+38016083&4294967295,B=A+(L<<9&4294967295|L>>>23),L=U+(A^k&(B^A))+V[15]+3634488961&4294967295,U=B+(L<<14&4294967295|L>>>18),L=k+(B^A&(U^B))+V[4]+3889429448&4294967295,k=U+(L<<20&4294967295|L>>>12),L=A+(U^B&(k^U))+V[9]+568446438&4294967295,A=k+(L<<5&4294967295|L>>>27),L=B+(k^U&(A^k))+V[14]+3275163606&4294967295,B=A+(L<<9&4294967295|L>>>23),L=U+(A^k&(B^A))+V[3]+4107603335&4294967295,U=B+(L<<14&4294967295|L>>>18),L=k+(B^A&(U^B))+V[8]+1163531501&4294967295,k=U+(L<<20&4294967295|L>>>12),L=A+(U^B&(k^U))+V[13]+2850285829&4294967295,A=k+(L<<5&4294967295|L>>>27),L=B+(k^U&(A^k))+V[2]+4243563512&4294967295,B=A+(L<<9&4294967295|L>>>23),L=U+(A^k&(B^A))+V[7]+1735328473&4294967295,U=B+(L<<14&4294967295|L>>>18),L=k+(B^A&(U^B))+V[12]+2368359562&4294967295,k=U+(L<<20&4294967295|L>>>12),L=A+(k^U^B)+V[5]+4294588738&4294967295,A=k+(L<<4&4294967295|L>>>28),L=B+(A^k^U)+V[8]+2272392833&4294967295,B=A+(L<<11&4294967295|L>>>21),L=U+(B^A^k)+V[11]+1839030562&4294967295,U=B+(L<<16&4294967295|L>>>16),L=k+(U^B^A)+V[14]+4259657740&4294967295,k=U+(L<<23&4294967295|L>>>9),L=A+(k^U^B)+V[1]+2763975236&4294967295,A=k+(L<<4&4294967295|L>>>28),L=B+(A^k^U)+V[4]+1272893353&4294967295,B=A+(L<<11&4294967295|L>>>21),L=U+(B^A^k)+V[7]+4139469664&4294967295,U=B+(L<<16&4294967295|L>>>16),L=k+(U^B^A)+V[10]+3200236656&4294967295,k=U+(L<<23&4294967295|L>>>9),L=A+(k^U^B)+V[13]+681279174&4294967295,A=k+(L<<4&4294967295|L>>>28),L=B+(A^k^U)+V[0]+3936430074&4294967295,B=A+(L<<11&4294967295|L>>>21),L=U+(B^A^k)+V[3]+3572445317&4294967295,U=B+(L<<16&4294967295|L>>>16),L=k+(U^B^A)+V[6]+76029189&4294967295,k=U+(L<<23&4294967295|L>>>9),L=A+(k^U^B)+V[9]+3654602809&4294967295,A=k+(L<<4&4294967295|L>>>28),L=B+(A^k^U)+V[12]+3873151461&4294967295,B=A+(L<<11&4294967295|L>>>21),L=U+(B^A^k)+V[15]+530742520&4294967295,U=B+(L<<16&4294967295|L>>>16),L=k+(U^B^A)+V[2]+3299628645&4294967295,k=U+(L<<23&4294967295|L>>>9),L=A+(U^(k|~B))+V[0]+4096336452&4294967295,A=k+(L<<6&4294967295|L>>>26),L=B+(k^(A|~U))+V[7]+1126891415&4294967295,B=A+(L<<10&4294967295|L>>>22),L=U+(A^(B|~k))+V[14]+2878612391&4294967295,U=B+(L<<15&4294967295|L>>>17),L=k+(B^(U|~A))+V[5]+4237533241&4294967295,k=U+(L<<21&4294967295|L>>>11),L=A+(U^(k|~B))+V[12]+1700485571&4294967295,A=k+(L<<6&4294967295|L>>>26),L=B+(k^(A|~U))+V[3]+2399980690&4294967295,B=A+(L<<10&4294967295|L>>>22),L=U+(A^(B|~k))+V[10]+4293915773&4294967295,U=B+(L<<15&4294967295|L>>>17),L=k+(B^(U|~A))+V[1]+2240044497&4294967295,k=U+(L<<21&4294967295|L>>>11),L=A+(U^(k|~B))+V[8]+1873313359&4294967295,A=k+(L<<6&4294967295|L>>>26),L=B+(k^(A|~U))+V[15]+4264355552&4294967295,B=A+(L<<10&4294967295|L>>>22),L=U+(A^(B|~k))+V[6]+2734768916&4294967295,U=B+(L<<15&4294967295|L>>>17),L=k+(B^(U|~A))+V[13]+1309151649&4294967295,k=U+(L<<21&4294967295|L>>>11),L=A+(U^(k|~B))+V[4]+4149444226&4294967295,A=k+(L<<6&4294967295|L>>>26),L=B+(k^(A|~U))+V[11]+3174756917&4294967295,B=A+(L<<10&4294967295|L>>>22),L=U+(A^(B|~k))+V[2]+718787259&4294967295,U=B+(L<<15&4294967295|L>>>17),L=k+(B^(U|~A))+V[9]+3951481745&4294967295,P.g[0]=P.g[0]+A&4294967295,P.g[1]=P.g[1]+(U+(L<<21&4294967295|L>>>11))&4294967295,P.g[2]=P.g[2]+U&4294967295,P.g[3]=P.g[3]+B&4294967295}r.prototype.v=function(P,A){A===void 0&&(A=P.length);const k=A-this.blockSize,V=this.C;let U=this.h,B=0;for(;B<A;){if(U==0)for(;B<=k;)s(this,P,B),B+=this.blockSize;if(typeof P=="string"){for(;B<A;)if(V[U++]=P.charCodeAt(B++),U==this.blockSize){s(this,V),U=0;break}}else for(;B<A;)if(V[U++]=P[B++],U==this.blockSize){s(this,V),U=0;break}}this.h=U,this.o+=A},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var A=1;A<P.length-8;++A)P[A]=0;A=this.o*8;for(var k=P.length-8;k<P.length;++k)P[k]=A&255,A/=256;for(this.v(P),P=Array(16),A=0,k=0;k<4;++k)for(let V=0;V<32;V+=8)P[A++]=this.g[k]>>>V&255;return P};function o(P,A){var k=c;return Object.prototype.hasOwnProperty.call(k,P)?k[P]:k[P]=A(P)}function a(P,A){this.h=A;const k=[];let V=!0;for(let U=P.length-1;U>=0;U--){const B=P[U]|0;V&&B==A||(k[U]=B,V=!1)}this.g=k}var c={};function d(P){return-128<=P&&P<128?o(P,function(A){return new a([A|0],A<0?-1:0)}):new a([P|0],P<0?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return y;if(P<0)return C(f(-P));const A=[];let k=1;for(let V=0;P>=k;V++)A[V]=P/k|0,k*=4294967296;return new a(A,0)}function m(P,A){if(P.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(P.charAt(0)=="-")return C(m(P.substring(1),A));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=f(Math.pow(A,8));let V=y;for(let B=0;B<P.length;B+=8){var U=Math.min(8,P.length-B);const L=parseInt(P.substring(B,B+U),A);U<8?(U=f(Math.pow(A,U)),V=V.j(U).add(f(L))):(V=V.j(k),V=V.add(f(L)))}return V}var y=d(0),_=d(1),T=d(16777216);t=a.prototype,t.m=function(){if(b(this))return-C(this).m();let P=0,A=1;for(let k=0;k<this.g.length;k++){const V=this.i(k);P+=(V>=0?V:4294967296+V)*A,A*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(I(this))return"0";if(b(this))return"-"+C(this).toString(P);const A=f(Math.pow(P,6));var k=this;let V="";for(;;){const U=W(k,A).g;k=R(k,U.j(A));let B=((k.g.length>0?k.g[0]:k.h)>>>0).toString(P);if(k=U,I(k))return B+V;for(;B.length<6;)B="0"+B;V=B+V}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function I(P){if(P.h!=0)return!1;for(let A=0;A<P.g.length;A++)if(P.g[A]!=0)return!1;return!0}function b(P){return P.h==-1}t.l=function(P){return P=R(this,P),b(P)?-1:I(P)?0:1};function C(P){const A=P.g.length,k=[];for(let V=0;V<A;V++)k[V]=~P.g[V];return new a(k,~P.h).add(_)}t.abs=function(){return b(this)?C(this):this},t.add=function(P){const A=Math.max(this.g.length,P.g.length),k=[];let V=0;for(let U=0;U<=A;U++){let B=V+(this.i(U)&65535)+(P.i(U)&65535),L=(B>>>16)+(this.i(U)>>>16)+(P.i(U)>>>16);V=L>>>16,B&=65535,L&=65535,k[U]=L<<16|B}return new a(k,k[k.length-1]&-2147483648?-1:0)};function R(P,A){return P.add(C(A))}t.j=function(P){if(I(this)||I(P))return y;if(b(this))return b(P)?C(this).j(C(P)):C(C(this).j(P));if(b(P))return C(this.j(C(P)));if(this.l(T)<0&&P.l(T)<0)return f(this.m()*P.m());const A=this.g.length+P.g.length,k=[];for(var V=0;V<2*A;V++)k[V]=0;for(V=0;V<this.g.length;V++)for(let U=0;U<P.g.length;U++){const B=this.i(V)>>>16,L=this.i(V)&65535,ye=P.i(U)>>>16,Ie=P.i(U)&65535;k[2*V+2*U]+=L*Ie,O(k,2*V+2*U),k[2*V+2*U+1]+=B*Ie,O(k,2*V+2*U+1),k[2*V+2*U+1]+=L*ye,O(k,2*V+2*U+1),k[2*V+2*U+2]+=B*ye,O(k,2*V+2*U+2)}for(P=0;P<A;P++)k[P]=k[2*P+1]<<16|k[2*P];for(P=A;P<2*A;P++)k[P]=0;return new a(k,0)};function O(P,A){for(;(P[A]&65535)!=P[A];)P[A+1]+=P[A]>>>16,P[A]&=65535,A++}function M(P,A){this.g=P,this.h=A}function W(P,A){if(I(A))throw Error("division by zero");if(I(P))return new M(y,y);if(b(P))return A=W(C(P),A),new M(C(A.g),C(A.h));if(b(A))return A=W(P,C(A)),new M(C(A.g),A.h);if(P.g.length>30){if(b(P)||b(A))throw Error("slowDivide_ only works with positive integers.");for(var k=_,V=A;V.l(P)<=0;)k=q(k),V=q(V);var U=Y(k,1),B=Y(V,1);for(V=Y(V,2),k=Y(k,2);!I(V);){var L=B.add(V);L.l(P)<=0&&(U=U.add(k),B=L),V=Y(V,1),k=Y(k,1)}return A=R(P,U.j(A)),new M(U,A)}for(U=y;P.l(A)>=0;){for(k=Math.max(1,Math.floor(P.m()/A.m())),V=Math.ceil(Math.log(k)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),B=f(k),L=B.j(A);b(L)||L.l(P)>0;)k-=V,B=f(k),L=B.j(A);I(B)&&(B=_),U=U.add(B),P=R(P,L)}return new M(U,P)}t.B=function(P){return W(this,P).h},t.and=function(P){const A=Math.max(this.g.length,P.g.length),k=[];for(let V=0;V<A;V++)k[V]=this.i(V)&P.i(V);return new a(k,this.h&P.h)},t.or=function(P){const A=Math.max(this.g.length,P.g.length),k=[];for(let V=0;V<A;V++)k[V]=this.i(V)|P.i(V);return new a(k,this.h|P.h)},t.xor=function(P){const A=Math.max(this.g.length,P.g.length),k=[];for(let V=0;V<A;V++)k[V]=this.i(V)^P.i(V);return new a(k,this.h^P.h)};function q(P){const A=P.g.length+1,k=[];for(let V=0;V<A;V++)k[V]=P.i(V)<<1|P.i(V-1)>>>31;return new a(k,P.h)}function Y(P,A){const k=A>>5;A%=32;const V=P.g.length-k,U=[];for(let B=0;B<V;B++)U[B]=A>0?P.i(B+k)>>>A|P.i(B+k+1)<<32-A:P.i(B+k);return new a(U,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,DR=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=m,mo=a}).apply(typeof EC<"u"?EC:typeof self<"u"?self:typeof window<"u"?window:{});var Uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MR,ed,jR,cp,__,OR,LR,VR;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uf=="object"&&Uf];for(var x=0;x<p.length;++x){var S=p[x];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function s(p,x){if(x)e:{var S=r;p=p.split(".");for(var D=0;D<p.length-1;D++){var K=p[D];if(!(K in S))break e;S=S[K]}p=p[p.length-1],D=S[p],x=x(D),x!=D&&x!=null&&e(S,p,{configurable:!0,writable:!0,value:x})}}s("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(p){return p||function(x){var S=[],D;for(D in x)Object.prototype.hasOwnProperty.call(x,D)&&S.push([D,x[D]]);return S}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(p){var x=typeof p;return x=="object"&&p!=null||x=="function"}function d(p,x,S){return p.call.apply(p.bind,arguments)}function f(p,x,S){return f=d,f.apply(null,arguments)}function m(p,x){var S=Array.prototype.slice.call(arguments,1);return function(){var D=S.slice();return D.push.apply(D,arguments),p.apply(this,D)}}function y(p,x){function S(){}S.prototype=x.prototype,p.Z=x.prototype,p.prototype=new S,p.prototype.constructor=p,p.Ob=function(D,K,J){for(var ce=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ce[Ue-2]=arguments[Ue];return x.prototype[K].apply(D,ce)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function T(p){const x=p.length;if(x>0){const S=Array(x);for(let D=0;D<x;D++)S[D]=p[D];return S}return[]}function I(p,x){for(let D=1;D<arguments.length;D++){const K=arguments[D];var S=typeof K;if(S=S!="object"?S:K?Array.isArray(K)?"array":S:"null",S=="array"||S=="object"&&typeof K.length=="number"){S=p.length||0;const J=K.length||0;p.length=S+J;for(let ce=0;ce<J;ce++)p[S+ce]=K[ce]}else p.push(K)}}class b{constructor(x,S){this.i=x,this.j=S,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function C(p){a.setTimeout(()=>{throw p},0)}function R(){var p=P;let x=null;return p.g&&(x=p.g,p.g=p.g.next,p.g||(p.h=null),x.next=null),x}class O{constructor(){this.h=this.g=null}add(x,S){const D=M.get();D.set(x,S),this.h?this.h.next=D:this.g=D,this.h=D}}var M=new b(()=>new W,p=>p.reset());class W{constructor(){this.next=this.g=this.h=null}set(x,S){this.h=x,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let q,Y=!1,P=new O,A=()=>{const p=Promise.resolve(void 0);q=()=>{p.then(k)}};function k(){for(var p;p=R();){try{p.h.call(p.g)}catch(S){C(S)}var x=M;x.j(p),x.h<100&&(x.h++,p.next=x.g,x.g=p)}Y=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(p,x){this.type=p,this.g=this.target=x,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var B=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var p=!1,x=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const S=()=>{};a.addEventListener("test",S,x),a.removeEventListener("test",S,x)}catch{}return p}();function L(p){return/^[\s\xa0]*$/.test(p)}function ye(p,x){U.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,x)}y(ye,U),ye.prototype.init=function(p,x){const S=this.type=p.type,D=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=x,x=p.relatedTarget,x||(S=="mouseover"?x=p.fromElement:S=="mouseout"&&(x=p.toElement)),this.relatedTarget=x,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&ye.Z.h.call(this)},ye.prototype.h=function(){ye.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),_e=0;function he(p,x,S,D,K){this.listener=p,this.proxy=null,this.src=x,this.type=S,this.capture=!!D,this.ha=K,this.key=++_e,this.da=this.fa=!1}function Z(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function ee(p,x,S){for(const D in p)x.call(S,p[D],D,p)}function se(p,x){for(const S in p)x.call(void 0,p[S],S,p)}function $(p){const x={};for(const S in p)x[S]=p[S];return x}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ae(p,x){let S,D;for(let K=1;K<arguments.length;K++){D=arguments[K];for(S in D)p[S]=D[S];for(let J=0;J<te.length;J++)S=te[J],Object.prototype.hasOwnProperty.call(D,S)&&(p[S]=D[S])}}function Se(p){this.src=p,this.g={},this.h=0}Se.prototype.add=function(p,x,S,D,K){const J=p.toString();p=this.g[J],p||(p=this.g[J]=[],this.h++);const ce=ke(p,x,D,K);return ce>-1?(x=p[ce],S||(x.fa=!1)):(x=new he(x,this.src,J,!!D,K),x.fa=S,p.push(x)),x};function Le(p,x){const S=x.type;if(S in p.g){var D=p.g[S],K=Array.prototype.indexOf.call(D,x,void 0),J;(J=K>=0)&&Array.prototype.splice.call(D,K,1),J&&(Z(x),p.g[S].length==0&&(delete p.g[S],p.h--))}}function ke(p,x,S,D){for(let K=0;K<p.length;++K){const J=p[K];if(!J.da&&J.listener==x&&J.capture==!!S&&J.ha==D)return K}return-1}var ue="closure_lm_"+(Math.random()*1e6|0),xe={};function Ne(p,x,S,D,K){if(Array.isArray(x)){for(let J=0;J<x.length;J++)Ne(p,x[J],S,D,K);return null}return S=Wo(S),p&&p[Ie]?p.J(x,S,c(D)?!!D.capture:!1,K):Ve(p,x,S,!1,D,K)}function Ve(p,x,S,D,K,J){if(!x)throw Error("Invalid event type");const ce=c(K)?!!K.capture:!!K;let Ue=lr(p);if(Ue||(p[ue]=Ue=new Se(p)),S=Ue.add(x,S,D,ce,J),S.proxy)return S;if(D=Ye(),S.proxy=D,D.src=p,D.listener=S,p.addEventListener)B||(K=ce),K===void 0&&(K=!1),p.addEventListener(x.toString(),D,K);else if(p.attachEvent)p.attachEvent(on(x.toString()),D);else if(p.addListener&&p.removeListener)p.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Ye(){function p(S){return x.call(p.src,p.listener,S)}const x=Xr;return p}function Je(p,x,S,D,K){if(Array.isArray(x))for(var J=0;J<x.length;J++)Je(p,x[J],S,D,K);else D=c(D)?!!D.capture:!!D,S=Wo(S),p&&p[Ie]?(p=p.i,J=String(x).toString(),J in p.g&&(x=p.g[J],S=ke(x,S,D,K),S>-1&&(Z(x[S]),Array.prototype.splice.call(x,S,1),x.length==0&&(delete p.g[J],p.h--)))):p&&(p=lr(p))&&(x=p.g[x.toString()],p=-1,x&&(p=ke(x,S,D,K)),(S=p>-1?x[p]:null)&&At(S))}function At(p){if(typeof p!="number"&&p&&!p.da){var x=p.src;if(x&&x[Ie])Le(x.i,p);else{var S=p.type,D=p.proxy;x.removeEventListener?x.removeEventListener(S,D,p.capture):x.detachEvent?x.detachEvent(on(S),D):x.addListener&&x.removeListener&&x.removeListener(D),(S=lr(x))?(Le(S,p),S.h==0&&(S.src=null,x[ue]=null)):Z(p)}}}function on(p){return p in xe?xe[p]:xe[p]="on"+p}function Xr(p,x){if(p.da)p=!0;else{x=new ye(x,this);const S=p.listener,D=p.ha||p.src;p.fa&&At(p),p=S.call(D,x)}return p}function lr(p){return p=p[ue],p instanceof Se?p:null}var Kn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Wo(p){return typeof p=="function"?p:(p[Kn]||(p[Kn]=function(x){return p.handleEvent(x)}),p[Kn])}function mt(){V.call(this),this.i=new Se(this),this.M=this,this.G=null}y(mt,V),mt.prototype[Ie]=!0,mt.prototype.removeEventListener=function(p,x,S,D){Je(this,p,x,S,D)};function Dt(p,x){var S,D=p.G;if(D)for(S=[];D;D=D.G)S.push(D);if(p=p.M,D=x.type||x,typeof x=="string")x=new U(x,p);else if(x instanceof U)x.target=x.target||p;else{var K=x;x=new U(D,p),Ae(x,K)}K=!0;let J,ce;if(S)for(ce=S.length-1;ce>=0;ce--)J=x.g=S[ce],K=Cr(J,D,!0,x)&&K;if(J=x.g=p,K=Cr(J,D,!0,x)&&K,K=Cr(J,D,!1,x)&&K,S)for(ce=0;ce<S.length;ce++)J=x.g=S[ce],K=Cr(J,D,!1,x)&&K}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var p=this.i;for(const x in p.g){const S=p.g[x];for(let D=0;D<S.length;D++)Z(S[D]);delete p.g[x],p.h--}}this.G=null},mt.prototype.J=function(p,x,S,D){return this.i.add(String(p),x,!1,S,D)},mt.prototype.K=function(p,x,S,D){return this.i.add(String(p),x,!0,S,D)};function Cr(p,x,S,D){if(x=p.i.g[String(x)],!x)return!0;x=x.concat();let K=!0;for(let J=0;J<x.length;++J){const ce=x[J];if(ce&&!ce.da&&ce.capture==S){const Ue=ce.listener,Mt=ce.ha||ce.src;ce.fa&&Le(p.i,ce),K=Ue.call(Mt,D)!==!1&&K}}return K&&!D.defaultPrevented}function Qc(p,x){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=f(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:a.setTimeout(p,x||0)}function Xc(p){p.g=Qc(()=>{p.g=null,p.i&&(p.i=!1,Xc(p))},p.l);const x=p.h;p.h=null,p.m.apply(null,x)}class _h extends V{constructor(x,S){super(),this.m=x,this.l=S,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Xc(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Si(p){V.call(this),this.h=p,this.g={}}y(Si,V);var Jc=[];function ol(p){ee(p.g,function(x,S){this.g.hasOwnProperty(S)&&At(x)},p),p.g={}}Si.prototype.N=function(){Si.Z.N.call(this),ol(this)},Si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ci=a.JSON.stringify,wh=a.JSON.parse,Ho=class{stringify(p){return a.JSON.stringify(p,void 0)}parse(p){return a.JSON.parse(p,void 0)}};function Ii(){}function xh(){}var Ni={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function al(){U.call(this,"d")}y(al,U);function Zc(){U.call(this,"c")}y(Zc,U);var Ir={},ll=null;function Ai(){return ll=ll||new mt}Ir.Ia="serverreachability";function cl(p){U.call(this,Ir.Ia,p)}y(cl,U);function Ms(p){const x=Ai();Dt(x,new cl(x))}Ir.STAT_EVENT="statevent";function js(p,x){U.call(this,Ir.STAT_EVENT,p),this.stat=x}y(js,U);function Rt(p){const x=Ai();Dt(x,new js(x,p))}Ir.Ja="timingevent";function eu(p,x){U.call(this,Ir.Ja,p),this.size=x}y(eu,U);function Ri(p,x){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){p()},x)}function Pi(){this.g=!0}Pi.prototype.ua=function(){this.g=!1};function Eh(p,x,S,D,K,J){p.info(function(){if(p.g)if(J){var ce="",Ue=J.split("&");for(let lt=0;lt<Ue.length;lt++){var Mt=Ue[lt].split("=");if(Mt.length>1){const Ft=Mt[0];Mt=Mt[1];const er=Ft.split("_");ce=er.length>=2&&er[1]=="type"?ce+(Ft+"="+Mt+"&"):ce+(Ft+"=redacted&")}}}else ce=null;else ce=J;return"XMLHTTP REQ ("+D+") [attempt "+K+"]: "+x+`
`+S+`
`+ce})}function Th(p,x,S,D,K,J,ce){p.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+K+"]: "+x+`
`+S+`
`+J+" "+ce})}function Jr(p,x,S,D){p.info(function(){return"XMLHTTP TEXT ("+x+"): "+qo(p,S)+(D?" "+D:"")})}function bh(p,x){p.info(function(){return"TIMEOUT: "+x})}Pi.prototype.info=function(){};function qo(p,x){if(!p.g)return x;if(!x)return null;try{const J=JSON.parse(x);if(J){for(p=0;p<J.length;p++)if(Array.isArray(J[p])){var S=J[p];if(!(S.length<2)){var D=S[1];if(Array.isArray(D)&&!(D.length<1)){var K=D[0];if(K!="noop"&&K!="stop"&&K!="close")for(let ce=1;ce<D.length;ce++)D[ce]=""}}}}return Ci(J)}catch{return x}}var ki={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Di={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Sh;function Os(){}y(Os,Ii),Os.prototype.g=function(){return new XMLHttpRequest},Sh=new Os;function Zr(p){return encodeURIComponent(String(p))}function ul(p){var x=1;p=p.split(":");const S=[];for(;x>0&&p.length;)S.push(p.shift()),x--;return p.length&&S.push(p.join(":")),S}function cr(p,x,S,D){this.j=p,this.i=x,this.l=S,this.S=D||1,this.V=new Si(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ch}function Ch(){this.i=null,this.g="",this.h=!1}var Ih={},tu={};function Nr(p,x,S){p.M=1,p.A=Vs(ur(x)),p.u=S,p.R=!0,nu(p,null)}function nu(p,x){p.F=Date.now(),Go(p),p.B=ur(p.A);var S=p.B,D=p.S;Array.isArray(D)||(D=[String(D)]),hu(S.i,"t",D),p.C=0,S=p.j.L,p.h=new Ch,p.g=Lh(p.j,S?x:null,!p.u),p.P>0&&(p.O=new _h(f(p.Y,p,p.g),p.P)),x=p.V,S=p.g,D=p.ba;var K="readystatechange";Array.isArray(K)||(K&&(Jc[0]=K.toString()),K=Jc);for(let J=0;J<K.length;J++){const ce=Ne(S,K[J],D||x.handleEvent,!1,x.h||x);if(!ce)break;x.g[ce.key]=ce}x=p.J?$(p.J):{},p.u?(p.v||(p.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,x)):(p.v="GET",p.g.ea(p.B,p.v,null,x)),Ms(),Eh(p.i,p.v,p.B,p.l,p.S,p.u)}cr.prototype.ba=function(p){p=p.target;const x=this.O;x&&os(p)==3?x.j():this.Y(p)},cr.prototype.Y=function(p){try{if(p==this.g)e:{const Ue=os(this.g),Mt=this.g.ya(),lt=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||jh(this.g)))){this.K||Ue!=4||Mt==7||(Mt==8||lt<=0?Ms(3):Ms(2)),dl(this);var x=this.g.ca();this.X=x;var S=Nh(this);if(this.o=x==200,Th(this.i,this.v,this.B,this.l,this.S,Ue,x),this.o){if(this.U&&!this.L){t:{if(this.g){var D,K=this.g;if((D=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(D)){var J=D;break t}}J=null}if(p=J)Jr(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gt(this,p);else{this.o=!1,this.m=3,Rt(12),Ls(this),Ko(this);break e}}if(this.R){p=!0;let Ft;for(;!this.K&&this.C<S.length;)if(Ft=Rh(this,S),Ft==tu){Ue==4&&(this.m=4,Rt(14),p=!1),Jr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==Ih){this.m=4,Rt(15),Jr(this.i,this.l,S,"[Invalid Chunk]"),p=!1;break}else Jr(this.i,this.l,Ft,null),gt(this,Ft);if(Ah(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||S.length!=0||this.h.h||(this.m=1,Rt(16),p=!1),this.o=this.o&&p,!p)Jr(this.i,this.l,S,"[Invalid Chunked Response]"),Ls(this),Ko(this);else if(S.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),ra(ce),ce.P=!0,Rt(11))}}else Jr(this.i,this.l,S,null),gt(this,S);Ue==4&&Ls(this),this.o&&!this.K&&(Ue==4?xl(this.j,this):(this.o=!1,Go(this)))}else pu(this.g),x==400&&S.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),Ls(this),Ko(this)}}}catch{}finally{}};function Nh(p){if(!Ah(p))return p.g.la();const x=jh(p.g);if(x==="")return"";let S="";const D=x.length,K=os(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return Ls(p),Ko(p),"";p.h.i=new a.TextDecoder}for(let J=0;J<D;J++)p.h.h=!0,S+=p.h.i.decode(x[J],{stream:!(K&&J==D-1)});return x.length=0,p.h.g+=S,p.C=0,p.h.g}function Ah(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function Rh(p,x){var S=p.C,D=x.indexOf(`
`,S);return D==-1?tu:(S=Number(x.substring(S,D)),isNaN(S)?Ih:(D+=1,D+S>x.length?tu:(x=x.slice(D,D+S),p.C=D+S,x)))}cr.prototype.cancel=function(){this.K=!0,Ls(this)};function Go(p){p.T=Date.now()+p.H,ru(p,p.H)}function ru(p,x){if(p.D!=null)throw Error("WatchDog timer not null");p.D=Ri(f(p.aa,p),x)}function dl(p){p.D&&(a.clearTimeout(p.D),p.D=null)}cr.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(bh(this.i,this.B),this.M!=2&&(Ms(),Rt(17)),Ls(this),this.m=2,Ko(this)):ru(this,this.T-p)};function Ko(p){p.j.I==0||p.K||xl(p.j,p)}function Ls(p){dl(p);var x=p.O;x&&typeof x.dispose=="function"&&x.dispose(),p.O=null,ol(p.V),p.g&&(x=p.g,p.g=null,x.abort(),x.dispose())}function gt(p,x){try{var S=p.j;if(S.I!=0&&(S.g==p||iu(S.h,p))){if(!p.L&&iu(S.h,p)&&S.I==3){try{var D=S.Ba.g.parse(x)}catch{D=null}if(Array.isArray(D)&&D.length==3){var K=D;if(K[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<p.F)wl(S),Jn(S);else break e;cs(S),Rt(18)}}else S.xa=K[1],0<S.xa-S.K&&K[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Ri(f(S.Va,S),6e3));Yo(S.h)<=1&&S.ta&&(S.ta=void 0)}else Zn(S,11)}else if((p.L||S.g==p)&&wl(S),!L(x))for(K=S.Ba.g.parse(x),x=0;x<K.length;x++){let lt=K[x];const Ft=lt[0];if(!(Ft<=S.K))if(S.K=Ft,lt=lt[1],S.I==2)if(lt[0]=="c"){S.M=lt[1],S.ba=lt[2];const er=lt[3];er!=null&&(S.ka=er,S.j.info("VER="+S.ka));const $s=lt[4];$s!=null&&(S.za=$s,S.j.info("SVER="+S.za));const us=lt[5];us!=null&&typeof us=="number"&&us>0&&(D=1.5*us,S.O=D,S.j.info("backChannelRequestTimeoutMs_="+D)),D=S;const ds=p.g;if(ds){const bl=ds.g?ds.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bl){var J=D.h;J.g||bl.indexOf("spdy")==-1&&bl.indexOf("quic")==-1&&bl.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(fl(J,J.h),J.h=null))}if(D.G){const yu=ds.g?ds.g.getResponseHeader("X-HTTP-Session-Id"):null;yu&&(D.wa=yu,st(D.J,D.G,yu))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-p.F,S.j.info("Handshake RTT: "+S.T+"ms")),D=S;var ce=p;if(D.na=gu(D,D.L?D.ba:null,D.W),ce.L){Qo(D.h,ce);var Ue=ce,Mt=D.O;Mt&&(Ue.H=Mt),Ue.D&&(dl(Ue),Go(Ue)),D.g=ce}else gn(D);S.i.length>0&&zs(S)}else lt[0]!="stop"&&lt[0]!="close"||Zn(S,7);else S.I==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?Zn(S,7):vl(S):lt[0]!="noop"&&S.l&&S.l.qa(lt),S.A=0)}}Ms(4)}catch{}}var yg=class{constructor(p,x){this.g=p,this.map=x}};function hl(p){this.l=p||10,a.PerformanceNavigationTiming?(p=a.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function su(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Yo(p){return p.h?1:p.g?p.g.size:0}function iu(p,x){return p.h?p.h==x:p.g?p.g.has(x):!1}function fl(p,x){p.g?p.g.add(x):p.h=x}function Qo(p,x){p.h&&p.h==x?p.h=null:p.g&&p.g.has(x)&&p.g.delete(x)}hl.prototype.cancel=function(){if(this.i=Yn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Yn(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let x=p.i;for(const S of p.g.values())x=x.concat(S.G);return x}return T(p.i)}var Ph=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qn(p,x){if(p){p=p.split("&");for(let S=0;S<p.length;S++){const D=p[S].indexOf("=");let K,J=null;D>=0?(K=p[S].substring(0,D),J=p[S].substring(D+1)):K=p[S],x(K,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function es(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;p instanceof es?(this.l=p.l,Xo(this,p.j),this.o=p.o,this.g=p.g,ts(this,p.u),this.h=p.h,Mi(this,fu(p.i)),this.m=p.m):p&&(x=String(p).match(Ph))?(this.l=!1,Xo(this,x[1]||"",!0),this.o=Jo(x[2]||""),this.g=Jo(x[3]||"",!0),ts(this,x[4]),this.h=Jo(x[5]||"",!0),Mi(this,x[6]||"",!0),this.m=Jo(x[7]||"")):(this.l=!1,this.i=new Qe(null,this.l))}es.prototype.toString=function(){const p=[];var x=this.j;x&&p.push(Zo(x,au,!0),":");var S=this.g;return(S||x=="file")&&(p.push("//"),(x=this.o)&&p.push(Zo(x,au,!0),"@"),p.push(Zr(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&p.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&p.push("/"),p.push(Zo(S,S.charAt(0)=="/"?ea:lu,!0))),(S=this.i.toString())&&p.push("?",S),(S=this.m)&&p.push("#",Zo(S,cu)),p.join("")},es.prototype.resolve=function(p){const x=ur(this);let S=!!p.j;S?Xo(x,p.j):S=!!p.o,S?x.o=p.o:S=!!p.g,S?x.g=p.g:S=p.u!=null;var D=p.h;if(S)ts(x,p.u);else if(S=!!p.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var K=x.h.lastIndexOf("/");K!=-1&&(D=x.h.slice(0,K+1)+D)}if(K=D,K==".."||K==".")D="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){D=K.lastIndexOf("/",0)==0,K=K.split("/");const J=[];for(let ce=0;ce<K.length;){const Ue=K[ce++];Ue=="."?D&&ce==K.length&&J.push(""):Ue==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),D&&ce==K.length&&J.push("")):(J.push(Ue),D=!0)}D=J.join("/")}else D=K}return S?x.h=D:S=p.i.toString()!=="",S?Mi(x,fu(p.i)):S=!!p.m,S&&(x.m=p.m),x};function ur(p){return new es(p)}function Xo(p,x,S){p.j=S?Jo(x,!0):x,p.j&&(p.j=p.j.replace(/:$/,""))}function ts(p,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);p.u=x}else p.u=null}function Mi(p,x,S){x instanceof Qe?(p.i=x,ml(p.i,p.l)):(S||(x=Zo(x,vg)),p.i=new Qe(x,p.l))}function st(p,x,S){p.i.set(x,S)}function Vs(p){return st(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Jo(p,x){return p?x?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Zo(p,x,S){return typeof p=="string"?(p=encodeURI(p).replace(x,ou),S&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function ou(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var au=/[#\/\?@]/g,lu=/[#\?:]/g,ea=/[#\?]/g,vg=/[#\?@]/g,cu=/#/g;function Qe(p,x){this.h=this.g=null,this.i=p||null,this.j=!!x}function ns(p){p.g||(p.g=new Map,p.h=0,p.i&&Qn(p.i,function(x,S){p.add(decodeURIComponent(x.replace(/\+/g," ")),S)}))}t=Qe.prototype,t.add=function(p,x){ns(this),this.i=null,p=rs(this,p);let S=this.g.get(p);return S||this.g.set(p,S=[]),S.push(x),this.h+=1,this};function uu(p,x){ns(p),x=rs(p,x),p.g.has(x)&&(p.i=null,p.h-=p.g.get(x).length,p.g.delete(x))}function pl(p,x){return ns(p),x=rs(p,x),p.g.has(x)}t.forEach=function(p,x){ns(this),this.g.forEach(function(S,D){S.forEach(function(K){p.call(x,K,D,this)},this)},this)};function du(p,x){ns(p);let S=[];if(typeof x=="string")pl(p,x)&&(S=S.concat(p.g.get(rs(p,x))));else for(p=Array.from(p.g.values()),x=0;x<p.length;x++)S=S.concat(p[x]);return S}t.set=function(p,x){return ns(this),this.i=null,p=rs(this,p),pl(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[x]),this.h+=1,this},t.get=function(p,x){return p?(p=du(this,p),p.length>0?String(p[0]):x):x};function hu(p,x,S){uu(p,x),S.length>0&&(p.i=null,p.g.set(rs(p,x),T(S)),p.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],x=Array.from(this.g.keys());for(let D=0;D<x.length;D++){var S=x[D];const K=Zr(S);S=du(this,S);for(let J=0;J<S.length;J++){let ce=K;S[J]!==""&&(ce+="="+Zr(S[J])),p.push(ce)}}return this.i=p.join("&")};function fu(p){const x=new Qe;return x.i=p.i,p.g&&(x.g=new Map(p.g),x.h=p.h),x}function rs(p,x){return x=String(x),p.j&&(x=x.toLowerCase()),x}function ml(p,x){x&&!p.j&&(ns(p),p.i=null,p.g.forEach(function(S,D){const K=D.toLowerCase();D!=K&&(uu(this,D),hu(this,K,S))},p)),p.j=x}function ss(p,x){const S=new Pi;if(a.Image){const D=new Image;D.onload=m(an,S,"TestLoadImage: loaded",!0,x,D),D.onerror=m(an,S,"TestLoadImage: error",!1,x,D),D.onabort=m(an,S,"TestLoadImage: abort",!1,x,D),D.ontimeout=m(an,S,"TestLoadImage: timeout",!1,x,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=p}else x(!1)}function is(p,x){const S=new Pi,D=new AbortController,K=setTimeout(()=>{D.abort(),an(S,"TestPingServer: timeout",!1,x)},1e4);fetch(p,{signal:D.signal}).then(J=>{clearTimeout(K),J.ok?an(S,"TestPingServer: ok",!0,x):an(S,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(K),an(S,"TestPingServer: error",!1,x)})}function an(p,x,S,D,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),D(S)}catch{}}function ta(){this.g=new Ho}function Fs(p){this.i=p.Sb||null,this.h=p.ab||!1}y(Fs,Ii),Fs.prototype.g=function(){return new Xn(this.i,this.h)};function Xn(p,x){mt.call(this),this.H=p,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(Xn,mt),t=Xn.prototype,t.open=function(p,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=x,this.readyState=1,Ar(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(x.body=p),(this.H||a).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ji(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Ar(this)),this.g&&(this.readyState=3,Ar(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;kh(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function kh(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var x=p.value?p.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!p.done}))&&(this.response=this.responseText+=x)}p.done?ji(this):Ar(this),this.readyState==3&&kh(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,ji(this))},t.Na=function(p){this.g&&(this.response=p,ji(this))},t.ga=function(){this.g&&ji(this)};function ji(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Ar(p)}t.setRequestHeader=function(p,x){this.A.append(p,x)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],x=this.h.entries();for(var S=x.next();!S.done;)S=S.value,p.push(S[0]+": "+S[1]),S=x.next();return p.join(`\r
`)};function Ar(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Xn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Dh(p){let x="";return ee(p,function(S,D){x+=D,x+=":",x+=S,x+=`\r
`}),x}function gl(p,x,S){e:{for(D in S){var D=!1;break e}D=!0}D||(S=Dh(S),typeof p=="string"?S!=null&&Zr(S):st(p,x,S))}function dt(p){mt.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(dt,mt);var Mh=/^https?$/i,_g=["POST","PUT"];t=dt.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,x,S,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);x=x?x.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Sh.g(),this.g.onreadystatechange=_(f(this.Ca,this));try{this.B=!0,this.g.open(x,String(p),!0),this.B=!1}catch(J){Oi(this,J);return}if(p=S||"",S=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var K in D)S.set(K,D[K]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const J of D.keys())S.set(J,D.get(J));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(S.keys()).find(J=>J.toLowerCase()=="content-type"),K=a.FormData&&p instanceof a.FormData,!(Array.prototype.indexOf.call(_g,x,void 0)>=0)||D||K||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ce]of S)this.g.setRequestHeader(J,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(J){Oi(this,J)}};function Oi(p,x){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=x,p.o=5,Li(p),Bs(p)}function Li(p){p.A||(p.A=!0,Dt(p,"complete"),Dt(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,Dt(this,"complete"),Dt(this,"abort"),Bs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bs(this,!0)),dt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Us(this):this.Xa())},t.Xa=function(){Us(this)};function Us(p){if(p.h&&typeof o<"u"){if(p.v&&os(p)==4)setTimeout(p.Ca.bind(p),0);else if(Dt(p,"readystatechange"),os(p)==4){p.h=!1;try{const J=p.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var S;if(!(S=x)){var D;if(D=J===0){let ce=String(p.D).match(Ph)[1]||null;!ce&&a.self&&a.self.location&&(ce=a.self.location.protocol.slice(0,-1)),D=!Mh.test(ce?ce.toLowerCase():"")}S=D}if(S)Dt(p,"complete"),Dt(p,"success");else{p.o=6;try{var K=os(p)>2?p.g.statusText:""}catch{K=""}p.l=K+" ["+p.ca()+"]",Li(p)}}finally{Bs(p)}}}}function Bs(p,x){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const S=p.g;p.g=null,x||Dt(p,"ready");try{S.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function os(p){return p.g?p.g.readyState:0}t.ca=function(){try{return os(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var x=this.g.responseText;return p&&x.indexOf(p)==0&&(x=x.substring(p.length)),wh(x)}};function jh(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function pu(p){const x={};p=(p.g&&os(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<p.length;D++){if(L(p[D]))continue;var S=ul(p[D]);const K=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const J=x[K]||[];x[K]=J,J.push(S)}se(x,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function as(p,x,S){return S&&S.internalChannelParams&&S.internalChannelParams[p]||x}function yl(p){this.za=0,this.i=[],this.j=new Pi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=as("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=as("baseRetryDelayMs",5e3,p),this.Za=as("retryDelaySeedMs",1e4,p),this.Ta=as("forwardChannelMaxRetries",2,p),this.va=as("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new hl(p&&p.concurrentRequestLimit),this.Ba=new ta,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=yl.prototype,t.ka=8,t.I=1,t.connect=function(p,x,S,D){Rt(0),this.W=p,this.H=x||{},S&&D!==void 0&&(this.H.OSID=S,this.H.OAID=D),this.F=this.X,this.J=gu(this,null,this.W),zs(this)};function vl(p){if(_l(p),p.I==3){var x=p.V++,S=ur(p.J);if(st(S,"SID",p.M),st(S,"RID",x),st(S,"TYPE","terminate"),ls(p,S),x=new cr(p,p.j,x),x.M=2,x.A=Vs(ur(S)),S=!1,a.navigator&&a.navigator.sendBeacon)try{S=a.navigator.sendBeacon(x.A.toString(),"")}catch{}!S&&a.Image&&(new Image().src=x.A,S=!0),S||(x.g=Lh(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Go(x)}sa(p)}function Jn(p){p.g&&(ra(p),p.g.cancel(),p.g=null)}function _l(p){Jn(p),p.v&&(a.clearTimeout(p.v),p.v=null),wl(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&a.clearTimeout(p.m),p.m=null)}function zs(p){if(!su(p.h)&&!p.m){p.m=!0;var x=p.Ea;q||A(),Y||(q(),Y=!0),P.add(x,p),p.D=0}}function Oh(p,x){return Yo(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=x.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=Ri(f(p.Ea,p,x),El(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const K=new cr(this,this.j,p);let J=this.o;if(this.U&&(J?(J=$(J),Ae(J,this.U)):J=this.U),this.u!==null||this.R||(K.J=J,J=null),this.S)e:{for(var x=0,S=0;S<this.i.length;S++){t:{var D=this.i[S];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(x+=D,x>4096){x=S;break e}if(x===4096||S===this.i.length-1){x=S+1;break e}}x=1e3}else x=1e3;x=mu(this,K,x),S=ur(this.J),st(S,"RID",p),st(S,"CVER",22),this.G&&st(S,"X-HTTP-Session-Id",this.G),ls(this,S),J&&(this.R?x="headers="+Zr(Dh(J))+"&"+x:this.u&&gl(S,this.u,J)),fl(this.h,K),this.Ra&&st(S,"TYPE","init"),this.S?(st(S,"$req",x),st(S,"SID","null"),K.U=!0,Nr(K,S,null)):Nr(K,S,x),this.I=2}}else this.I==3&&(p?na(this,p):this.i.length==0||su(this.h)||na(this))};function na(p,x){var S;x?S=x.l:S=p.V++;const D=ur(p.J);st(D,"SID",p.M),st(D,"RID",S),st(D,"AID",p.K),ls(p,D),p.u&&p.o&&gl(D,p.u,p.o),S=new cr(p,p.j,S,p.D+1),p.u===null&&(S.J=p.o),x&&(p.i=x.G.concat(p.i)),x=mu(p,S,1e3),S.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),fl(p.h,S),Nr(S,D,x)}function ls(p,x){p.H&&ee(p.H,function(S,D){st(x,D,S)}),p.l&&ee({},function(S,D){st(x,D,S)})}function mu(p,x,S){S=Math.min(p.i.length,S);const D=p.l?f(p.l.Ka,p.l,p):null;e:{var K=p.i;let Ue=-1;for(;;){const Mt=["count="+S];Ue==-1?S>0?(Ue=K[0].g,Mt.push("ofs="+Ue)):Ue=0:Mt.push("ofs="+Ue);let lt=!0;for(let Ft=0;Ft<S;Ft++){var J=K[Ft].g;const er=K[Ft].map;if(J-=Ue,J<0)Ue=Math.max(0,K[Ft].g-100),lt=!1;else try{J="req"+J+"_"||"";try{var ce=er instanceof Map?er:Object.entries(er);for(const[$s,us]of ce){let ds=us;c(us)&&(ds=Ci(us)),Mt.push(J+$s+"="+encodeURIComponent(ds))}}catch($s){throw Mt.push(J+"type="+encodeURIComponent("_badmap")),$s}}catch{D&&D(er)}}if(lt){ce=Mt.join("&");break e}}ce=void 0}return p=p.i.splice(0,S),x.G=p,ce}function gn(p){if(!p.g&&!p.v){p.Y=1;var x=p.Da;q||A(),Y||(q(),Y=!0),P.add(x,p),p.A=0}}function cs(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=Ri(f(p.Da,p),El(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,Vi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=Ri(f(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),Jn(this),Vi(this))};function ra(p){p.B!=null&&(a.clearTimeout(p.B),p.B=null)}function Vi(p){p.g=new cr(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var x=ur(p.na);st(x,"RID","rpc"),st(x,"SID",p.M),st(x,"AID",p.K),st(x,"CI",p.F?"0":"1"),!p.F&&p.ia&&st(x,"TO",p.ia),st(x,"TYPE","xmlhttp"),ls(p,x),p.u&&p.o&&gl(x,p.u,p.o),p.O&&(p.g.H=p.O);var S=p.g;p=p.ba,S.M=1,S.A=Vs(ur(x)),S.u=null,S.R=!0,nu(S,p)}t.Va=function(){this.C!=null&&(this.C=null,Jn(this),cs(this),Rt(19))};function wl(p){p.C!=null&&(a.clearTimeout(p.C),p.C=null)}function xl(p,x){var S=null;if(p.g==x){wl(p),ra(p),p.g=null;var D=2}else if(iu(p.h,x))S=x.G,Qo(p.h,x),D=1;else return;if(p.I!=0){if(x.o)if(D==1){S=x.u?x.u.length:0,x=Date.now()-x.F;var K=p.D;D=Ai(),Dt(D,new eu(D,S)),zs(p)}else gn(p);else if(K=x.m,K==3||K==0&&x.X>0||!(D==1&&Oh(p,x)||D==2&&cs(p)))switch(S&&S.length>0&&(x=p.h,x.i=x.i.concat(S)),K){case 1:Zn(p,5);break;case 4:Zn(p,10);break;case 3:Zn(p,6);break;default:Zn(p,2)}}}function El(p,x){let S=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(S*=2),S*x}function Zn(p,x){if(p.j.info("Error code "+x),x==2){var S=f(p.bb,p),D=p.Ua;const K=!D;D=new es(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Xo(D,"https"),Vs(D),K?ss(D.toString(),S):is(D.toString(),S)}else Rt(2);p.I=0,p.l&&p.l.pa(x),sa(p),_l(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function sa(p){if(p.I=0,p.ja=[],p.l){const x=Yn(p.h);(x.length!=0||p.i.length!=0)&&(I(p.ja,x),I(p.ja,p.i),p.h.i.length=0,T(p.i),p.i.length=0),p.l.oa()}}function gu(p,x,S){var D=S instanceof es?ur(S):new es(S);if(D.g!="")x&&(D.g=x+"."+D.g),ts(D,D.u);else{var K=a.location;D=K.protocol,x=x?x+"."+K.hostname:K.hostname,K=+K.port;const J=new es(null);D&&Xo(J,D),x&&(J.g=x),K&&ts(J,K),S&&(J.h=S),D=J}return S=p.G,x=p.wa,S&&x&&st(D,S,x),st(D,"VER",p.ka),ls(p,D),D}function Lh(p,x,S){if(x&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=p.Aa&&!p.ma?new dt(new Fs({ab:S})):new dt(p.ma),x.Fa(p.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vh(){}t=Vh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Tl(){}Tl.prototype.g=function(p,x){return new ln(p,x)};function ln(p,x){mt.call(this),this.g=new yl(x),this.l=p,this.h=x&&x.messageUrlParams||null,p=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(p?p["X-WebChannel-Content-Type"]=x.messageContentType:p={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(p?p["X-WebChannel-Client-Profile"]=x.sa:p={"X-WebChannel-Client-Profile":x.sa}),this.g.U=p,(p=x&&x.Qb)&&!L(p)&&(this.g.u=p),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!L(x)&&(this.g.G=x,p=this.h,p!==null&&x in p&&(p=this.h,x in p&&delete p[x])),this.j=new Fi(this)}y(ln,mt),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){vl(this.g)},ln.prototype.o=function(p){var x=this.g;if(typeof p=="string"){var S={};S.__data__=p,p=S}else this.v&&(S={},S.__data__=Ci(p),p=S);x.i.push(new yg(x.Ya++,p)),x.I==3&&zs(x)},ln.prototype.N=function(){this.g.l=null,delete this.j,vl(this.g),delete this.g,ln.Z.N.call(this)};function Fh(p){al.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var x=p.__sm__;if(x){e:{for(const S in x){p=S;break e}p=void 0}(this.i=p)&&(p=this.i,x=x!==null&&p in x?x[p]:void 0),this.data=x}else this.data=p}y(Fh,al);function Uh(){Zc.call(this),this.status=1}y(Uh,Zc);function Fi(p){this.g=p}y(Fi,Vh),Fi.prototype.ra=function(){Dt(this.g,"a")},Fi.prototype.qa=function(p){Dt(this.g,new Fh(p))},Fi.prototype.pa=function(p){Dt(this.g,new Uh)},Fi.prototype.oa=function(){Dt(this.g,"b")},Tl.prototype.createWebChannel=Tl.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,VR=function(){return new Tl},LR=function(){return Ai()},OR=Ir,__={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ki.NO_ERROR=0,ki.TIMEOUT=8,ki.HTTP_ERROR=6,cp=ki,Di.COMPLETE="complete",jR=Di,xh.EventType=Ni,Ni.OPEN="a",Ni.CLOSE="b",Ni.ERROR="c",Ni.MESSAGE="d",mt.prototype.listen=mt.prototype.J,ed=xh,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,MR=dt}).apply(typeof Uf<"u"?Uf:typeof self<"u"?self:typeof window<"u"?window:{});const TC="@firebase/firestore",bC="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=new xm("@firebase/firestore");function Ql(){return Oa.logLevel}function ge(t,...e){if(Oa.logLevel<=He.DEBUG){const n=e.map(Tw);Oa.debug(`Firestore (${Uc}): ${t}`,...n)}}function pi(t,...e){if(Oa.logLevel<=He.ERROR){const n=e.map(Tw);Oa.error(`Firestore (${Uc}): ${t}`,...n)}}function Tc(t,...e){if(Oa.logLevel<=He.WARN){const n=e.map(Tw);Oa.warn(`Firestore (${Uc}): ${t}`,...n)}}function Tw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,FR(t,r,n)}function FR(t,e,n){let r=`FIRESTORE (${Uc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw pi(r),new Error(r)}function at(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||FR(e,s,r)}function Be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends wi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Cz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tn.UNAUTHENTICATED))}shutdown(){}}class Iz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Nz{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){at(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ai,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},c=d=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ai)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at(typeof r.accessToken=="string",31837,{l:r}),new UR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new Tn(e)}}class Az{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Rz{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Az(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class SC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Pz{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){at(this.o===void 0,3512);const r=o=>{o.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,ge("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new SC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(at(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new SC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=kz(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function qe(t,e){return t<e?-1:t>e?1:0}function w_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),o=e.charAt(r);if(s!==o)return hv(s)===hv(o)?qe(s,o):hv(s)?1:-1}return qe(t.length,e.length)}const Dz=55296,Mz=57343;function hv(t){const e=t.charCodeAt(0);return e>=Dz&&e<=Mz}function bc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="__name__";class gs{constructor(e,n,r){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Me(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return gs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=gs.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return qe(e.length,n.length)}static compareSegments(e,n){const r=gs.isNumericId(e),s=gs.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?gs.extractNumericId(e).compare(gs.extractNumericId(n)):w_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mo.fromString(e.substring(4,e.length-2))}}class ft extends gs{construct(e,n,r){return new ft(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ft(n)}static emptyPath(){return new ft([])}}const jz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends gs{construct(e,n,r){return new pn(e,n,r)}static isValidIdentifier(e){return jz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===CC}static keyField(){return new pn([CC])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new me(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new me(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new me(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else c==="`"?(a=!a,s++):c!=="."||a?(r+=c,s++):(o(),s++)}if(o(),a)throw new me(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(n)}static emptyPath(){return new pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(ft.fromString(e))}static fromName(e){return new Ce(ft.fromString(e).popFirst(5))}static empty(){return new Ce(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new ft(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(t,e,n){if(!n)throw new me(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Oz(t,e,n,r){if(e===!0&&r===!0)throw new me(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function IC(t){if(!Ce.isDocumentKey(t))throw new me(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function NC(t){if(Ce.isDocumentKey(t))throw new me(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Cm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function $r(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cm(t);throw new me(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t,e){const n={typeString:t};return e&&(n.value=e),n}function rh(t,e){if(!zR(t))throw new me(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&a!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new me(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=-62135596800,RC=1e6;class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*RC);return new pt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<AC)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RC}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(rh(e,pt._jsonSchema))return new pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-AC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pt._jsonSchemaVersion="firestore/timestamp/1.0",pt._jsonSchema={type:$t("string",pt._jsonSchemaVersion),seconds:$t("number"),nanoseconds:$t("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new pt(0,0))}static max(){return new Fe(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd=-1;function Lz(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Fe.fromTimestamp(r===1e9?new pt(n+1,0):new pt(n,r));return new No(s,Ce.empty(),e)}function Vz(t){return new No(t.readTime,t.key,Dd)}class No{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new No(Fe.min(),Ce.empty(),Dd)}static max(){return new No(Fe.max(),Ce.empty(),Dd)}}function Fz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==Uz)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,r)=>{n(e)})}static reject(e){return new re((n,r)=>{r(e)})}static waitFor(e){return new re((n,r)=>{let s=0,o=0,a=!1;e.forEach(c=>{++s,c.next(()=>{++o,a&&o===s&&n()},d=>r(d))}),a=!0,o===s&&n()})}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next(s=>s?re.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new re((r,s)=>{const o=e.length,a=new Array(o);let c=0;for(let d=0;d<o;d++){const f=d;n(e[f]).next(m=>{a[f]=m,++c,c===o&&r(a)},m=>s(m))}})}static doWhile(e,n){return new re((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function zz(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Im.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=-1;function Nm(t){return t==null}function Lp(t){return t===0&&1/t==-1/0}function $z(t){return typeof t=="number"&&Number.isInteger(t)&&!Lp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="";function Wz(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=PC(e)),e=Hz(t.get(n),e);return PC(e)}function Hz(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case $R:n+="";break;default:n+=o}}return n}function PC(t){return t+$R+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function WR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ht=class x_{constructor(e,n){this.comparator=e,this.root=n||go.EMPTY}insert(e,n){return new x_(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,go.BLACK,null,null))}remove(e){return new x_(this.comparator,this.root.remove(e,this.comparator).copy(null,null,go.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bf(this.root,e,this.comparator,!0)}},Bf=class{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},go=class ei{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??ei.RED,this.left=s??ei.EMPTY,this.right=o??ei.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new ei(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ei.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ei.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ei.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ei.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}};go.EMPTY=null,go.RED=!0,go.BLACK=!1;go.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new go(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new Ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new DC(this.data.getIterator())}getIteratorFrom(e){return new DC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class DC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new Ur([])}unionWith(e){let n=new Kt(pn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ur(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new HR("Invalid base64 string: "+o):o}}(e);return new mn(n)}static fromUint8Array(e){const n=function(s){let o="";for(let a=0;a<s.length;++a)o+=String.fromCharCode(s[a]);return o}(e);return new mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const qz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ao(t){if(at(!!t,39018),typeof t=="string"){let e=0;const n=qz.exec(t);if(at(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lt(t.seconds),nanos:Lt(t.nanos)}}function Lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ro(t){return typeof t=="string"?mn.fromBase64String(t):mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="server_timestamp",GR="__type__",KR="__previous_value__",YR="__local_write_time__";function Cw(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[GR])==null?void 0:r.stringValue)===qR}function Am(t){const e=t.mapValue.fields[KR];return Cw(e)?Am(e):e}function Md(t){const e=Ao(t.mapValue.fields[YR].timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e,n,r,s,o,a,c,d,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=m}}const Vp="(default)";class jd{constructor(e,n){this.projectId=e,this.database=n||Vp}static empty(){return new jd("","")}get isDefaultDatabase(){return this.database===Vp}isEqual(e){return e instanceof jd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="__type__",Kz="__max__",zf={mapValue:{}},XR="__vector__",Fp="value";function Po(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cw(t)?4:Qz(t)?9007199254740991:Yz(t)?10:11:Me(28295,{value:t})}function Ps(t,e){if(t===e)return!0;const n=Po(t);if(n!==Po(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Md(t).isEqual(Md(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const a=Ao(s.timestampValue),c=Ao(o.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return Ro(s.bytesValue).isEqual(Ro(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return Lt(s.geoPointValue.latitude)===Lt(o.geoPointValue.latitude)&&Lt(s.geoPointValue.longitude)===Lt(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Lt(s.integerValue)===Lt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const a=Lt(s.doubleValue),c=Lt(o.doubleValue);return a===c?Lp(a)===Lp(c):isNaN(a)&&isNaN(c)}return!1}(t,e);case 9:return bc(t.arrayValue.values||[],e.arrayValue.values||[],Ps);case 10:case 11:return function(s,o){const a=s.mapValue.fields||{},c=o.mapValue.fields||{};if(kC(a)!==kC(c))return!1;for(const d in a)if(a.hasOwnProperty(d)&&(c[d]===void 0||!Ps(a[d],c[d])))return!1;return!0}(t,e);default:return Me(52216,{left:t})}}function Od(t,e){return(t.values||[]).find(n=>Ps(n,e))!==void 0}function Sc(t,e){if(t===e)return 0;const n=Po(t),r=Po(e);if(n!==r)return qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return function(o,a){const c=Lt(o.integerValue||o.doubleValue),d=Lt(a.integerValue||a.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return MC(t.timestampValue,e.timestampValue);case 4:return MC(Md(t),Md(e));case 5:return w_(t.stringValue,e.stringValue);case 6:return function(o,a){const c=Ro(o),d=Ro(a);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const c=o.split("/"),d=a.split("/");for(let f=0;f<c.length&&f<d.length;f++){const m=qe(c[f],d[f]);if(m!==0)return m}return qe(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const c=qe(Lt(o.latitude),Lt(a.latitude));return c!==0?c:qe(Lt(o.longitude),Lt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return jC(t.arrayValue,e.arrayValue);case 10:return function(o,a){var _,T,I,b;const c=o.fields||{},d=a.fields||{},f=(_=c[Fp])==null?void 0:_.arrayValue,m=(T=d[Fp])==null?void 0:T.arrayValue,y=qe(((I=f==null?void 0:f.values)==null?void 0:I.length)||0,((b=m==null?void 0:m.values)==null?void 0:b.length)||0);return y!==0?y:jC(f,m)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===zf.mapValue&&a===zf.mapValue)return 0;if(o===zf.mapValue)return 1;if(a===zf.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),f=a.fields||{},m=Object.keys(f);d.sort(),m.sort();for(let y=0;y<d.length&&y<m.length;++y){const _=w_(d[y],m[y]);if(_!==0)return _;const T=Sc(c[d[y]],f[m[y]]);if(T!==0)return T}return qe(d.length,m.length)}(t.mapValue,e.mapValue);default:throw Me(23264,{he:n})}}function MC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=Ao(t),r=Ao(e),s=qe(n.seconds,r.seconds);return s!==0?s:qe(n.nanos,r.nanos)}function jC(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=Sc(n[s],r[s]);if(o)return o}return qe(n.length,r.length)}function Cc(t){return E_(t)}function E_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ao(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ro(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=E_(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const a of r)o?o=!1:s+=",",s+=`${a}:${E_(n.fields[a])}`;return s+"}"}(t.mapValue):Me(61005,{value:t})}function up(t){switch(Po(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Am(t);return e?16+up(e):16;case 5:return 2*t.stringValue.length;case 6:return Ro(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+up(o),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Xa(r.fields,(o,a)=>{s+=o.length+up(a)}),s}(t.mapValue);default:throw Me(13486,{value:t})}}function OC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function T_(t){return!!t&&"integerValue"in t}function Iw(t){return!!t&&"arrayValue"in t}function LC(t){return!!t&&"nullValue"in t}function VC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dp(t){return!!t&&"mapValue"in t}function Yz(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[QR])==null?void 0:r.stringValue)===XR}function fd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Xa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=fd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fd(t.arrayValue.values[n]);return e}return{...t}}function Qz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Kz}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.value=e}static empty(){return new _r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!dp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fd(n)}setAll(e){let n=pn.emptyPath(),r={},s=[];e.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=c.popLast()}a?r[c.lastSegment()]=fd(a):s.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());dp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ps(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];dp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Xa(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new _r(fd(this.value))}}function JR(t){const e=[];return Xa(t.fields,(n,r)=>{const s=new pn([n]);if(dp(r)){const o=JR(r.mapValue).fields;if(o.length===0)e.push(s);else for(const a of o)e.push(s.child(a))}else e.push(s)}),new Ur(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n,r,s,o,a,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=a,this.documentState=c}static newInvalidDocument(e){return new bn(e,0,Fe.min(),Fe.min(),Fe.min(),_r.empty(),0)}static newFoundDocument(e,n,r,s){return new bn(e,1,n,Fe.min(),r,s,0)}static newNoDocument(e,n){return new bn(e,2,n,Fe.min(),Fe.min(),_r.empty(),0)}static newUnknownDocument(e,n){return new bn(e,3,n,Fe.min(),Fe.min(),_r.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n){this.position=e,this.inclusive=n}}function FC(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],a=t.position[s];if(o.field.isKeyField()?r=Ce.comparator(Ce.fromName(a.referenceValue),n.key):r=Sc(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function UC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ps(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n="asc"){this.field=e,this.dir=n}}function Xz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{}class zt extends ZR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Zz(e,n,r):n==="array-contains"?new n$(e,r):n==="in"?new r$(e,r):n==="not-in"?new s$(e,r):n==="array-contains-any"?new i$(e,r):new zt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new e$(e,r):new t$(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Sc(n,this.value)):n!==null&&Po(this.value)===Po(n)&&this.matchesComparison(Sc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hr extends ZR{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Hr(e,n)}matches(e){return eP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function eP(t){return t.op==="and"}function tP(t){return Jz(t)&&eP(t)}function Jz(t){for(const e of t.filters)if(e instanceof Hr)return!1;return!0}function b_(t){if(t instanceof zt)return t.field.canonicalString()+t.op.toString()+Cc(t.value);if(tP(t))return t.filters.map(e=>b_(e)).join(",");{const e=t.filters.map(n=>b_(n)).join(",");return`${t.op}(${e})`}}function nP(t,e){return t instanceof zt?function(r,s){return s instanceof zt&&r.op===s.op&&r.field.isEqual(s.field)&&Ps(r.value,s.value)}(t,e):t instanceof Hr?function(r,s){return s instanceof Hr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,a,c)=>o&&nP(a,s.filters[c]),!0):!1}(t,e):void Me(19439)}function rP(t){return t instanceof zt?function(n){return`${n.field.canonicalString()} ${n.op} ${Cc(n.value)}`}(t):t instanceof Hr?function(n){return n.op.toString()+" {"+n.getFilters().map(rP).join(" ,")+"}"}(t):"Filter"}class Zz extends zt{constructor(e,n,r){super(e,n,r),this.key=Ce.fromName(r.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class e$ extends zt{constructor(e,n){super(e,"in",n),this.keys=sP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class t$ extends zt{constructor(e,n){super(e,"not-in",n),this.keys=sP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function sP(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Ce.fromName(r.referenceValue))}class n$ extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Iw(n)&&Od(n.arrayValue,this.value)}}class r$ extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Od(this.value.arrayValue,n)}}class s$ extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Od(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Od(this.value.arrayValue,n)}}class i$ extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Iw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Od(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(e,n=null,r=[],s=[],o=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=a,this.endAt=c,this.Te=null}}function BC(t,e=null,n=[],r=[],s=null,o=null,a=null){return new o$(t,e,n,r,s,o,a)}function Nw(t){const e=Be(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>b_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Nm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Cc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Cc(r)).join(",")),e.Te=n}return e.Te}function Aw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Xz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!nP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!UC(t.startAt,e.startAt)&&UC(t.endAt,e.endAt)}function S_(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n=null,r=[],s=[],o=null,a="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=a,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function a$(t,e,n,r,s,o,a,c){return new sh(t,e,n,r,s,o,a,c)}function Rm(t){return new sh(t)}function zC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iP(t){return t.collectionGroup!==null}function pd(t){const e=Be(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new Kt(pn.comparator);return a.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Bp(o,r))}),n.has(pn.keyField().canonicalString())||e.Ie.push(new Bp(pn.keyField(),r))}return e.Ie}function bs(t){const e=Be(t);return e.Ee||(e.Ee=l$(e,pd(t))),e.Ee}function l$(t,e){if(t.limitType==="F")return BC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Bp(s.field,o)});const n=t.endAt?new Up(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Up(t.startAt.position,t.startAt.inclusive):null;return BC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function C_(t,e){const n=t.filters.concat([e]);return new sh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function I_(t,e,n){return new sh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Pm(t,e){return Aw(bs(t),bs(e))&&t.limitType===e.limitType}function oP(t){return`${Nw(bs(t))}|lt:${t.limitType}`}function Xl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>rP(s)).join(", ")}]`),Nm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Cc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Cc(s)).join(",")),`Target(${r})`}(bs(t))}; limitType=${t.limitType})`}function km(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ce.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of pd(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,c,d){const f=FC(a,c,d);return a.inclusive?f<=0:f<0}(r.startAt,pd(r),s)||r.endAt&&!function(a,c,d){const f=FC(a,c,d);return a.inclusive?f>=0:f>0}(r.endAt,pd(r),s))}(t,e)}function c$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aP(t){return(e,n)=>{let r=!1;for(const s of pd(t)){const o=u$(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function u$(t,e,n){const r=t.field.isKeyField()?Ce.comparator(e.key,n.key):function(o,a,c){const d=a.data.field(o),f=c.data.field(o);return d!==null&&f!==null?Sc(d,f):Me(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Me(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Xa(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return WR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d$=new Ht(Ce.comparator);function mi(){return d$}const lP=new Ht(Ce.comparator);function td(...t){let e=lP;for(const n of t)e=e.insert(n.key,n);return e}function cP(t){let e=lP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Sa(){return md()}function uP(){return md()}function md(){return new Ja(t=>t.toString(),(t,e)=>t.isEqual(e))}const h$=new Ht(Ce.comparator),f$=new Kt(Ce.comparator);function Ke(...t){let e=f$;for(const n of t)e=e.add(n);return e}const p$=new Kt(qe);function m$(){return p$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lp(e)?"-0":e}}function dP(t){return{integerValue:""+t}}function g$(t,e){return $z(e)?dP(e):Rw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(){this._=void 0}}function y$(t,e,n){return t instanceof Ld?function(s,o){const a={fields:{[GR]:{stringValue:qR},[YR]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Cw(o)&&(o=Am(o)),o&&(a.fields[KR]=o),{mapValue:a}}(n,e):t instanceof Vd?fP(t,e):t instanceof Fd?pP(t,e):function(s,o){const a=hP(s,o),c=$C(a)+$C(s.Ae);return T_(a)&&T_(s.Ae)?dP(c):Rw(s.serializer,c)}(t,e)}function v$(t,e,n){return t instanceof Vd?fP(t,e):t instanceof Fd?pP(t,e):n}function hP(t,e){return t instanceof zp?function(r){return T_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Ld extends Dm{}class Vd extends Dm{constructor(e){super(),this.elements=e}}function fP(t,e){const n=mP(e);for(const r of t.elements)n.some(s=>Ps(s,r))||n.push(r);return{arrayValue:{values:n}}}class Fd extends Dm{constructor(e){super(),this.elements=e}}function pP(t,e){let n=mP(e);for(const r of t.elements)n=n.filter(s=>!Ps(s,r));return{arrayValue:{values:n}}}class zp extends Dm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function $C(t){return Lt(t.integerValue||t.doubleValue)}function mP(t){return Iw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(e,n){this.field=e,this.transform=n}}function w$(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Vd&&s instanceof Vd||r instanceof Fd&&s instanceof Fd?bc(r.elements,s.elements,Ps):r instanceof zp&&s instanceof zp?Ps(r.Ae,s.Ae):r instanceof Ld&&s instanceof Ld}(t.transform,e.transform)}class x${constructor(e,n){this.version=e,this.transformResults=n}}class Ss{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ss}static exists(e){return new Ss(void 0,e)}static updateTime(e){return new Ss(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Mm{}function gP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vP(t.key,Ss.none()):new ih(t.key,t.data,Ss.none());{const n=t.data,r=_r.empty();let s=new Kt(pn.comparator);for(let o of e.fields)if(!s.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),s=s.add(o)}return new Za(t.key,r,new Ur(s.toArray()),Ss.none())}}function E$(t,e,n){t instanceof ih?function(s,o,a){const c=s.value.clone(),d=HC(s.fieldTransforms,o,a.transformResults);c.setAll(d),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Za?function(s,o,a){if(!hp(s.precondition,o))return void o.convertToUnknownDocument(a.version);const c=HC(s.fieldTransforms,o,a.transformResults),d=o.data;d.setAll(yP(s)),d.setAll(c),o.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(t,e,n):function(s,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function gd(t,e,n,r){return t instanceof ih?function(o,a,c,d){if(!hp(o.precondition,a))return c;const f=o.value.clone(),m=qC(o.fieldTransforms,d,a);return f.setAll(m),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof Za?function(o,a,c,d){if(!hp(o.precondition,a))return c;const f=qC(o.fieldTransforms,d,a),m=a.data;return m.setAll(yP(o)),m.setAll(f),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(o,a,c){return hp(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(t,e,n)}function T$(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=hP(r.transform,s||null);o!=null&&(n===null&&(n=_r.empty()),n.set(r.field,o))}return n||null}function WC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&bc(r,s,(o,a)=>w$(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ih extends Mm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Za extends Mm{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function yP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function HC(t,e,n){const r=new Map;at(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const o=t[s],a=o.transform,c=e.data.field(o.field);r.set(o.field,v$(a,c,n[s]))}return r}function qC(t,e,n){const r=new Map;for(const s of t){const o=s.transform,a=n.data.field(s.field);r.set(s.field,y$(o,a,e))}return r}class vP extends Mm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class b$ extends Mm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&E$(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=uP();return this.mutations.forEach(s=>{const o=e.get(s.key),a=o.overlayedDocument;let c=this.applyToLocalView(a,o.mutatedFields);c=n.has(s.key)?null:c;const d=gP(a,c);d!==null&&r.set(s.key,d),a.isValidDocument()||a.convertToNoDocument(Fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ke())}isEqual(e){return this.batchId===e.batchId&&bc(this.mutations,e.mutations,(n,r)=>WC(n,r))&&bc(this.baseMutations,e.baseMutations,(n,r)=>WC(n,r))}}class Pw{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){at(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return h$}();const o=e.mutations;for(let a=0;a<o.length;a++)s=s.insert(o[a].key,r[a].version);return new Pw(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C$=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,Ze;function N$(t){switch(t){case ne.OK:return Me(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function _P(t){if(t===void 0)return pi("GRPC error has no .code"),ne.UNKNOWN;switch(t){case Bt.OK:return ne.OK;case Bt.CANCELLED:return ne.CANCELLED;case Bt.UNKNOWN:return ne.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return ne.INTERNAL;case Bt.UNAVAILABLE:return ne.UNAVAILABLE;case Bt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Bt.NOT_FOUND:return ne.NOT_FOUND;case Bt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Bt.ABORTED:return ne.ABORTED;case Bt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Bt.DATA_LOSS:return ne.DATA_LOSS;default:return Me(39323,{code:t})}}(Ze=Bt||(Bt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R$=new mo([4294967295,4294967295],0);function GC(t){const e=A$().encode(t),n=new DR;return n.update(e),new Uint8Array(n.digest())}function KC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new mo([n,r],0),new mo([s,o],0)]}class kw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new nd(`Invalid padding: ${n}`);if(r<0)throw new nd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new nd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new nd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=mo.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(mo.fromNumber(r)));return s.compare(R$)===1&&(s=new mo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=GC(e),[r,s]=KC(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,s,o);if(!this.we(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new kw(o,s,n);return r.forEach(c=>a.insert(c)),a}insert(e){if(this.ge===0)return;const n=GC(e),[r,s]=KC(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,s,o);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class nd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,oh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jm(Fe.min(),s,new Ht(qe),mi(),Ke())}}class oh{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new oh(r,n,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class wP{constructor(e,n){this.targetId=e,this.Ce=n}}class xP{constructor(e,n,r=mn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class YC{constructor(){this.ve=0,this.Fe=QC(),this.Me=mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),n=Ke(),r=Ke();return this.Fe.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Me(38017,{changeType:o})}}),new oh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=QC()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class P${constructor(e){this.Ge=e,this.ze=new Map,this.je=mi(),this.Je=$f(),this.He=$f(),this.Ye=new Ht(qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const o=s.target;if(S_(o))if(r===0){const a=new Ce(o.path);this.et(n,a,bn.newNoDocument(a,Fe.min()))}else at(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const c=this.ut(e),d=c?this.ct(c,e,a):1;if(d!==0){this.it(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let a,c;try{a=Ro(r).toUint8Array()}catch(d){if(d instanceof HR)return Tc("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new kw(a,s,o)}catch(d){return Tc(d instanceof nd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const a=this.Ge.ht(),c=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(n,o,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((o,a)=>{const c=this.ot(a);if(c){if(o.current&&S_(c.target)){const d=new Ce(c.target.path);this.It(d).has(a)||this.Et(a,d)||this.et(a,d,bn.newNoDocument(d,e))}o.Be&&(n.set(a,o.ke()),o.qe())}});let r=Ke();this.He.forEach((o,a)=>{let c=!0;a.forEachWhile(d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.je.forEach((o,a)=>a.setReadTime(e));const s=new jm(e,n,this.Ye,this.je,r);return this.je=mi(),this.Je=$f(),this.He=$f(),this.Ye=new Ht(qe),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new YC,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Kt(qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Kt(qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new YC),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function $f(){return new Ht(Ce.comparator)}function QC(){return new Ht(Ce.comparator)}const k$={asc:"ASCENDING",desc:"DESCENDING"},D$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},M$={and:"AND",or:"OR"};class j${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function N_(t,e){return t.useProto3Json||Nm(e)?e:{value:e}}function $p(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function O$(t,e){return $p(t,e.toTimestamp())}function Cs(t){return at(!!t,49232),Fe.fromTimestamp(function(n){const r=Ao(n);return new pt(r.seconds,r.nanos)}(t))}function Dw(t,e){return A_(t,e).canonicalString()}function A_(t,e){const n=function(s){return new ft(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function TP(t){const e=ft.fromString(t);return at(NP(e),10190,{key:e.toString()}),e}function R_(t,e){return Dw(t.databaseId,e.path)}function fv(t,e){const n=TP(e);if(n.get(1)!==t.databaseId.projectId)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ce(SP(n))}function bP(t,e){return Dw(t.databaseId,e)}function L$(t){const e=TP(t);return e.length===4?ft.emptyPath():SP(e)}function P_(t){return new ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function SP(t){return at(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function XC(t,e,n){return{name:R_(t,e),fields:n.value.mapValue.fields}}function V$(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Me(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(f,m){return f.useProto3Json?(at(m===void 0||typeof m=="string",58123),mn.fromBase64String(m||"")):(at(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),mn.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(f){const m=f.code===void 0?ne.UNKNOWN:_P(f.code);return new me(m,f.message||"")}(a);n=new xP(r,s,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=fv(t,r.document.name),o=Cs(r.document.updateTime),a=r.document.createTime?Cs(r.document.createTime):Fe.min(),c=new _r({mapValue:{fields:r.document.fields}}),d=bn.newFoundDocument(s,o,a,c),f=r.targetIds||[],m=r.removedTargetIds||[];n=new fp(f,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=fv(t,r.document),o=r.readTime?Cs(r.readTime):Fe.min(),a=bn.newNoDocument(s,o),c=r.removedTargetIds||[];n=new fp([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=fv(t,r.document),o=r.removedTargetIds||[];n=new fp([],o,s,null)}else{if(!("filter"in e))return Me(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,a=new I$(s,o),c=r.targetId;n=new wP(c,a)}}return n}function F$(t,e){let n;if(e instanceof ih)n={update:XC(t,e.key,e.value)};else if(e instanceof vP)n={delete:R_(t,e.key)};else if(e instanceof Za)n={update:XC(t,e.key,e.data),updateMask:K$(e.fieldMask)};else{if(!(e instanceof b$))return Me(16599,{Vt:e.type});n={verify:R_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const c=a.transform;if(c instanceof Ld)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Vd)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Fd)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof zp)return{fieldPath:a.field.canonicalString(),increment:c.Ae};throw Me(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:O$(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Me(27497)}(t,e.precondition)),n}function U$(t,e){return t&&t.length>0?(at(e!==void 0,14353),t.map(n=>function(s,o){let a=s.updateTime?Cs(s.updateTime):Cs(o);return a.isEqual(Fe.min())&&(a=Cs(o)),new x$(a,s.transformResults||[])}(n,e))):[]}function B$(t,e){return{documents:[bP(t,e.path)]}}function z$(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=bP(t,s);const o=function(f){if(f.length!==0)return IP(Hr.create(f,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(f){if(f.length!==0)return f.map(m=>function(_){return{field:Jl(_.field),direction:H$(_.dir)}}(m))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const c=N_(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ft:n,parent:s}}function $$(t){let e=L$(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){at(r===1,65062);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(y){const _=CP(y);return _ instanceof Hr&&tP(_)?_.getFilters():[_]}(n.where));let a=[];n.orderBy&&(a=function(y){return y.map(_=>function(I){return new Bp(Zl(I.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(y){let _;return _=typeof y=="object"?y.value:y,Nm(_)?null:_}(n.limit));let d=null;n.startAt&&(d=function(y){const _=!!y.before,T=y.values||[];return new Up(T,_)}(n.startAt));let f=null;return n.endAt&&(f=function(y){const _=!y.before,T=y.values||[];return new Up(T,_)}(n.endAt)),a$(e,s,a,o,c,"F",d,f)}function W$(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Zl(n.unaryFilter.field);return zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Zl(n.unaryFilter.field);return zt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Zl(n.unaryFilter.field);return zt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Zl(n.unaryFilter.field);return zt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}}(t):t.fieldFilter!==void 0?function(n){return zt.create(Zl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Hr.create(n.compositeFilter.filters.map(r=>CP(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Me(1026)}}(n.compositeFilter.op))}(t):Me(30097,{filter:t})}function H$(t){return k$[t]}function q$(t){return D$[t]}function G$(t){return M$[t]}function Jl(t){return{fieldPath:t.canonicalString()}}function Zl(t){return pn.fromServerFormat(t.fieldPath)}function IP(t){return t instanceof zt?function(n){if(n.op==="=="){if(VC(n.value))return{unaryFilter:{field:Jl(n.field),op:"IS_NAN"}};if(LC(n.value))return{unaryFilter:{field:Jl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(VC(n.value))return{unaryFilter:{field:Jl(n.field),op:"IS_NOT_NAN"}};if(LC(n.value))return{unaryFilter:{field:Jl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jl(n.field),op:q$(n.op),value:n.value}}}(t):t instanceof Hr?function(n){const r=n.getFilters().map(s=>IP(s));return r.length===1?r[0]:{compositeFilter:{op:G$(n.op),filters:r}}}(t):Me(54877,{filter:t})}function K$(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function NP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n,r,s,o=Fe.min(),a=Fe.min(),c=mn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new uo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y${constructor(e){this.yt=e}}function Q$(t){const e=$$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?I_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(){this.Cn=new J$}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(No.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(No.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class J${constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Kt(ft.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Kt(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AP=41943040;class Wn{static withCacheSize(e){return new Wn(e,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn.DEFAULT_COLLECTION_PERCENTILE=10,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wn.DEFAULT=new Wn(AP,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wn.DISABLED=new Wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ic(0)}static cr(){return new Ic(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="LruGarbageCollector",Z$=1048576;function eI([t,e],[n,r]){const s=qe(t,n);return s===0?qe(e,r):s}class eW{constructor(e){this.Ir=e,this.buffer=new Kt(eI),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();eI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tW{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(ZC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zc(n)?ge(ZC,"Ignoring IndexedDB error during garbage collection: ",n):await Bc(n)}await this.Vr(3e5)})}}class nW{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Im.ce);const r=new eW(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(JC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JC):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,o,a,c,d,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,a=Date.now(),this.nthSequenceNumber(e,s))).next(y=>(r=y,c=Date.now(),this.removeTargets(e,r,n))).next(y=>(o=y,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(f=Date.now(),Ql()<=He.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-m}ms
	Determined least recently used ${s} in `+(c-a)+`ms
	Removed ${o} targets in `+(d-c)+`ms
	Removed ${y} documents in `+(f-d)+`ms
Total Duration: ${f-m}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:y})))}}function rW(t,e){return new nW(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(){this.changes=new Ja(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&gd(r.mutation,s,Ur.empty(),pt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ke()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ke()){const s=Sa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let a=td();return o.forEach((c,d)=>{a=a.insert(c,d.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Sa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ke()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((a,c)=>{n.set(a,c)})})}computeViews(e,n,r,s){let o=mi();const a=md(),c=function(){return md()}();return n.forEach((d,f)=>{const m=r.get(f.key);s.has(f.key)&&(m===void 0||m.mutation instanceof Za)?o=o.insert(f.key,f):m!==void 0?(a.set(f.key,m.mutation.getFieldMask()),gd(m.mutation,f,m.mutation.getFieldMask(),pt.now())):a.set(f.key,Ur.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((f,m)=>a.set(f,m)),n.forEach((f,m)=>c.set(f,new iW(m,a.get(f)??null))),c))}recalculateAndSaveOverlays(e,n){const r=md();let s=new Ht((a,c)=>a-c),o=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const c of a)c.keys().forEach(d=>{const f=n.get(d);if(f===null)return;let m=r.get(d)||Ur.empty();m=c.applyToLocalView(f,m),r.set(d,m);const y=(s.get(c.batchId)||Ke()).add(d);s=s.insert(c.batchId,y)})}).next(()=>{const a=[],c=s.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,m=d.value,y=uP();m.forEach(_=>{if(!o.has(_)){const T=gP(n.get(_),r.get(_));T!==null&&y.set(_,T),o=o.add(_)}}),a.push(this.documentOverlayCache.saveOverlays(e,f,y))}return re.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return Ce.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const a=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):re.resolve(Sa());let c=Dd,d=o;return a.next(f=>re.forEach(f,(m,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),o.get(m)?re.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{d=d.insert(m,_)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,d,f,Ke())).next(m=>({batchId:c,changes:cP(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next(r=>{let s=td();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let a=td();return this.indexManager.getCollectionParents(e,o).next(c=>re.forEach(c,d=>{const f=function(y,_){return new sh(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,s).next(m=>{m.forEach((y,_)=>{a=a.insert(y,_)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(a=>{o.forEach((d,f)=>{const m=f.getKey();a.get(m)===null&&(a=a.insert(m,bn.newInvalidDocument(m)))});let c=td();return a.forEach((d,f)=>{const m=o.get(d);m!==void 0&&gd(m.mutation,f,Ur.empty(),pt.now()),km(n,f)&&(c=c.insert(d,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aW{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Cs(s.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:Q$(s.bundledQuery),readTime:Cs(s.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{constructor(){this.overlays=new Ht(Ce.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Sa();return re.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.St(e,n,o)}),re.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const s=Sa(),o=n.length+1,a=new Ce(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>r&&s.set(d.getKey(),d)}return re.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new Ht((f,m)=>f-m);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=o.get(f.largestBatchId);m===null&&(m=Sa(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const c=Sa(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,m)=>c.set(f,m)),!(c.size()>=s)););return re.resolve(c)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new C$(n,r));let o=this.qr.get(n);o===void 0&&(o=Ke(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.Qr=new Kt(tn.$r),this.Ur=new Kt(tn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new tn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new tn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Ce(new ft([])),r=new tn(n,e),s=new tn(n,e+1),o=[];return this.Ur.forEachInRange([r,s],a=>{this.Gr(a),o.push(a.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ce(new ft([])),r=new tn(n,e),s=new tn(n,e+1);let o=Ke();return this.Ur.forEachInRange([r,s],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new tn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class tn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ce.comparator(e.key,n.key)||qe(e.Yr,n.Yr)}static Kr(e,n){return qe(e.Yr,n.Yr)||Ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Kt(tn.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new S$(o,n,r,s);this.mutationQueue.push(a);for(const c of s)this.Zr=this.Zr.add(new tn(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return re.resolve(a)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),o=s<0?0:s;return re.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Sw:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new tn(n,0),s=new tn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],a=>{const c=this.Xr(a.Yr);o.push(c)}),re.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kt(qe);return n.forEach(s=>{const o=new tn(s,0),a=new tn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,a],c=>{r=r.add(c.Yr)})}),re.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Ce.isDocumentKey(o)||(o=o.child(""));const a=new tn(new Ce(o),0);let c=new Kt(qe);return this.Zr.forEachWhile(d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===s&&(c=c.add(d.Yr)),!0)},a),re.resolve(this.ti(c))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){at(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return re.forEach(n.mutations,s=>{const o=new tn(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new tn(n,0),s=this.Zr.firstAfterOrEqual(r);return re.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dW{constructor(e){this.ri=e,this.docs=function(){return new Ht(Ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():bn.newInvalidDocument(n))}getEntries(e,n){let r=mi();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():bn.newInvalidDocument(s))}),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=mi();const a=n.path,c=new Ce(a.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:m}}=d.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||Fz(Vz(m),r)<=0||(s.has(m.key)||km(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return re.resolve(o)}getAllFromCollectionGroup(e,n,r,s){Me(9500)}ii(e,n){return re.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new hW(this)}getSize(e){return re.resolve(this.size)}}class hW extends sW{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{constructor(e){this.persistence=e,this.si=new Ja(n=>Nw(n),Aw),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.oi=0,this._i=new Mw,this.targetCount=0,this.ai=Ic.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ic(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.si.forEach((a,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(a),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),re.waitFor(o).next(()=>s)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),re.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(a=>{o.push(s.markPotentiallyOrphaned(e,a))}),re.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,n){this.ui={},this.overlays={},this.ci=new Im(0),this.li=!1,this.li=!0,this.hi=new cW,this.referenceDelegate=e(this),this.Pi=new fW(this),this.indexManager=new X$,this.remoteDocumentCache=function(s){return new dW(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Y$(n),this.Ii=new aW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lW,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new uW(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const s=new pW(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(o=>this.referenceDelegate.di(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ai(e,n){return re.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class pW extends Bz{constructor(e){super(),this.currentSequenceNumber=e}}class jw{constructor(e){this.persistence=e,this.Ri=new Mw,this.Vi=null}static mi(e){return new jw(e)}get fi(){if(this.Vi)return this.Vi;throw Me(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,r=>{const s=Ce.fromPath(r);return this.gi(e,s).next(o=>{o||n.removeEntry(s,Fe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Wp{constructor(e,n){this.persistence=e,this.pi=new Ja(r=>Wz(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=rW(this,n)}static mi(e,n){return new Wp(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return re.forEach(this.pi,(r,s)=>this.br(e,r,s).next(o=>o?re.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,a=>this.br(e,a,n).next(c=>{c||(r++,o.removeEntry(a,Fe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=up(e.data.value)),n}br(e,n,r){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return re.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ke(),s=Ke();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Ow(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gW{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return BU()?8:zz(An())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ys(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.ws(e,n,s,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new mW;return this.Ss(e,n,a).next(c=>{if(o.result=c,this.Vs)return this.bs(e,n,a,c.size)})}).next(()=>o.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Ql()<=He.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Xl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(Ql()<=He.DEBUG&&ge("QueryEngine","Query:",Xl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Ql()<=He.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Xl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bs(n))):re.resolve())}ys(e,n){if(zC(n))return re.resolve(null);let r=bs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=I_(n,null,"F"),r=bs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=Ke(...o);return this.ps.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,r).next(d=>{const f=this.Ds(n,c);return this.Cs(n,f,a,d.readTime)?this.ys(e,I_(n,null,"F")):this.vs(e,f,n,d)}))})))}ws(e,n,r,s){return zC(n)||s.isEqual(Fe.min())?re.resolve(null):this.ps.getDocuments(e,r).next(o=>{const a=this.Ds(n,o);return this.Cs(n,a,r,s)?re.resolve(null):(Ql()<=He.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Xl(n)),this.vs(e,a,n,Lz(s,Dd)).next(c=>c))})}Ds(e,n){let r=new Kt(aP(e));return n.forEach((s,o)=>{km(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,r){return Ql()<=He.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Xl(n)),this.ps.getDocumentsMatchingQuery(e,n,No.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="LocalStore",yW=3e8;class vW{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Ht(qe),this.xs=new Ja(o=>Nw(o),Aw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oW(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function _W(t,e,n,r){return new vW(t,e,n,r)}async function PP(t,e){const n=Be(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],c=[];let d=Ke();for(const f of s){a.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}for(const f of o){c.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next(f=>({Ls:f,removedBatchIds:a,addedBatchIds:c}))})})}function wW(t,e){const n=Be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(c,d,f,m){const y=f.batch,_=y.keys();let T=re.resolve();return _.forEach(I=>{T=T.next(()=>m.getEntry(d,I)).next(b=>{const C=f.docVersions.get(I);at(C!==null,48541),b.version.compareTo(C)<0&&(y.applyToRemoteDocument(b,f),b.isValidDocument()&&(b.setReadTime(f.commitVersion),m.addEntry(b)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(d,y))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let d=Ke();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function kP(t){const e=Be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function xW(t,e){const n=Be(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const c=[];e.targetChanges.forEach((m,y)=>{const _=s.get(y);if(!_)return;c.push(n.Pi.removeMatchingKeys(o,m.removedDocuments,y).next(()=>n.Pi.addMatchingKeys(o,m.addedDocuments,y)));let T=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?T=T.withResumeToken(mn.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,r)),s=s.insert(y,T),function(b,C,R){return b.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=yW?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(_,T,m)&&c.push(n.Pi.updateTargetData(o,T))});let d=mi(),f=Ke();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))}),c.push(EW(o,a,e.documentUpdates).next(m=>{d=m.ks,f=m.qs})),!r.isEqual(Fe.min())){const m=n.Pi.getLastRemoteSnapshotVersion(o).next(y=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(m)}return re.waitFor(c).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,f)).next(()=>d)}).then(o=>(n.Ms=s,o))}function EW(t,e,n){let r=Ke(),s=Ke();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=mi();return n.forEach((c,d)=>{const f=o.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(c)),d.isNoDocument()&&d.version.isEqual(Fe.min())?(e.removeEntry(c,d.readTime),a=a.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),a=a.insert(c,d)):ge(Lw,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)}),{ks:a,qs:s}})}function TW(t,e){const n=Be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Sw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function bW(t,e){const n=Be(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(o=>o?(s=o,re.resolve(s)):n.Pi.allocateTargetId(r).next(a=>(s=new uo(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function k_(t,e,n){const r=Be(t),s=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!zc(a))throw a;ge(Lw,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function tI(t,e,n){const r=Be(t);let s=Fe.min(),o=Ke();return r.persistence.runTransaction("Execute query","readwrite",a=>function(d,f,m){const y=Be(d),_=y.xs.get(m);return _!==void 0?re.resolve(y.Ms.get(_)):y.Pi.getTargetData(f,m)}(r,a,bs(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,c.targetId).next(d=>{o=d})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,n?s:Fe.min(),n?o:Ke())).next(c=>(SW(r,c$(e),c),{documents:c,Qs:o})))}function SW(t,e,n){let r=t.Os.get(e)||Fe.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class nI{constructor(){this.activeTargetIds=m$()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CW{constructor(){this.Mo=new nI,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new nI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IW{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="ConnectivityMonitor";class sI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(rI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(rI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wf=null;function D_(){return Wf===null?Wf=function(){return 268435456+Math.round(2147483648*Math.random())}():Wf++,"0x"+Wf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="RestConnection",NW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AW{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Vp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,o){const a=D_(),c=this.zo(e,n.toUriEncodedString());ge(pv,`Sending RPC '${e}' ${a}:`,c,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,s,o);const{host:f}=new URL(c),m=Fo(f);return this.Jo(e,c,d,r,m).then(y=>(ge(pv,`Received RPC '${e}' ${a}: `,y),y),y=>{throw Tc(pv,`RPC '${e}' ${a} failed with error: `,y,"url: ",c,"request:",r),y})}Ho(e,n,r,s,o,a){return this.Go(e,n,r,s,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Uc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}zo(e,n){const r=NW[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RW{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn="WebChannelConnection";class PW extends AW{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,o){const a=D_();return new Promise((c,d)=>{const f=new MR;f.setWithCredentials(!0),f.listenOnce(jR.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case cp.NO_ERROR:const y=f.getResponseJson();ge(xn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),c(y);break;case cp.TIMEOUT:ge(xn,`RPC '${e}' ${a} timed out`),d(new me(ne.DEADLINE_EXCEEDED,"Request time out"));break;case cp.HTTP_ERROR:const _=f.getStatus();if(ge(xn,`RPC '${e}' ${a} failed with status:`,_,"response text:",f.getResponseText()),_>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const I=T==null?void 0:T.error;if(I&&I.status&&I.message){const b=function(R){const O=R.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(O)>=0?O:ne.UNKNOWN}(I.status);d(new me(b,I.message))}else d(new me(ne.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new me(ne.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:a,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{ge(xn,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(s);ge(xn,`RPC '${e}' ${a} sending request:`,s),f.send(n,"POST",m,r,15)})}T_(e,n,r){const s=D_(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=VR(),c=LR(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=o.join("");ge(xn,`Creating RPC '${e}' stream ${s}: ${m}`,d);const y=a.createWebChannel(m,d);this.I_(y);let _=!1,T=!1;const I=new RW({Yo:C=>{T?ge(xn,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(_||(ge(xn,`Opening RPC '${e}' stream ${s} transport.`),y.open(),_=!0),ge(xn,`RPC '${e}' stream ${s} sending:`,C),y.send(C))},Zo:()=>y.close()}),b=(C,R,O)=>{C.listen(R,M=>{try{O(M)}catch(W){setTimeout(()=>{throw W},0)}})};return b(y,ed.EventType.OPEN,()=>{T||(ge(xn,`RPC '${e}' stream ${s} transport opened.`),I.o_())}),b(y,ed.EventType.CLOSE,()=>{T||(T=!0,ge(xn,`RPC '${e}' stream ${s} transport closed`),I.a_(),this.E_(y))}),b(y,ed.EventType.ERROR,C=>{T||(T=!0,Tc(xn,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),I.a_(new me(ne.UNAVAILABLE,"The operation could not be completed")))}),b(y,ed.EventType.MESSAGE,C=>{var R;if(!T){const O=C.data[0];at(!!O,16349);const M=O,W=(M==null?void 0:M.error)||((R=M[0])==null?void 0:R.error);if(W){ge(xn,`RPC '${e}' stream ${s} received error:`,W);const q=W.status;let Y=function(k){const V=Bt[k];if(V!==void 0)return _P(V)}(q),P=W.message;Y===void 0&&(Y=ne.INTERNAL,P="Unknown error status: "+q+" with message "+W.message),T=!0,I.a_(new me(Y,P)),y.close()}else ge(xn,`RPC '${e}' stream ${s} received:`,O),I.u_(O)}}),b(c,OR.STAT_EVENT,C=>{C.stat===__.PROXY?ge(xn,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===__.NOPROXY&&ge(xn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{I.__()},0),I}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function mv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(t){return new j$(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&ge("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="PersistentStream";class MP{constructor(e,n,r,s,o,a,c,d){this.Mi=e,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new DP(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(pi(n.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new me(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ge(iI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ge(iI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kW extends MP{constructor(e,n,r,s,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=V$(this.serializer,e),r=function(o){if(!("targetChange"in o))return Fe.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?Fe.min():a.readTime?Cs(a.readTime):Fe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=P_(this.serializer),n.addTarget=function(o,a){let c;const d=a.target;if(c=S_(d)?{documents:B$(o,d)}:{query:z$(o,d).ft},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=EP(o,a.resumeToken);const f=N_(o,a.expectedCount);f!==null&&(c.expectedCount=f)}else if(a.snapshotVersion.compareTo(Fe.min())>0){c.readTime=$p(o,a.snapshotVersion.toTimestamp());const f=N_(o,a.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const r=W$(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=P_(this.serializer),n.removeTarget=e,this.q_(n)}}class DW extends MP{constructor(e,n,r,s,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=U$(e.writeResults,e.commitTime),r=Cs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=P_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>F$(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MW{}class jW extends MW{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Go(e,A_(n,r),s,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new me(ne.UNKNOWN,o.toString())})}Ho(e,n,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Ho(e,A_(n,r),s,a,c,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(ne.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class OW{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pi(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="RemoteStore";class LW{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{el(this)&&(ge(La,"Restarting streams for network reachability change."),await async function(d){const f=Be(d);f.Ea.add(4),await ah(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Lm(f)}(this))})}),this.Ra=new OW(r,s)}}async function Lm(t){if(el(t))for(const e of t.da)await e(!0)}async function ah(t){for(const e of t.da)await e(!1)}function jP(t,e){const n=Be(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Bw(n)?Uw(n):$c(n).O_()&&Fw(n,e))}function Vw(t,e){const n=Be(t),r=$c(n);n.Ia.delete(e),r.O_()&&OP(n,e),n.Ia.size===0&&(r.O_()?r.L_():el(n)&&n.Ra.set("Unknown"))}function Fw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$c(t).Y_(e)}function OP(t,e){t.Va.Ue(e),$c(t).Z_(e)}function Uw(t){t.Va=new P$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),$c(t).start(),t.Ra.ua()}function Bw(t){return el(t)&&!$c(t).x_()&&t.Ia.size>0}function el(t){return Be(t).Ea.size===0}function LP(t){t.Va=void 0}async function VW(t){t.Ra.set("Online")}async function FW(t){t.Ia.forEach((e,n)=>{Fw(t,e)})}async function UW(t,e){LP(t),Bw(t)?(t.Ra.ha(e),Uw(t)):t.Ra.set("Unknown")}async function BW(t,e,n){if(t.Ra.set("Online"),e instanceof xP&&e.state===2&&e.cause)try{await async function(s,o){const a=o.cause;for(const c of o.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,a),s.Ia.delete(c),s.Va.removeTarget(c))}(t,e)}catch(r){ge(La,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hp(t,r)}else if(e instanceof fp?t.Va.Ze(e):e instanceof wP?t.Va.st(e):t.Va.tt(e),!n.isEqual(Fe.min()))try{const r=await kP(t.localStore);n.compareTo(r)>=0&&await function(o,a){const c=o.Va.Tt(a);return c.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const m=o.Ia.get(f);m&&o.Ia.set(f,m.withResumeToken(d.resumeToken,a))}}),c.targetMismatches.forEach((d,f)=>{const m=o.Ia.get(d);if(!m)return;o.Ia.set(d,m.withResumeToken(mn.EMPTY_BYTE_STRING,m.snapshotVersion)),OP(o,d);const y=new uo(m.target,d,f,m.sequenceNumber);Fw(o,y)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){ge(La,"Failed to raise snapshot:",r),await Hp(t,r)}}async function Hp(t,e,n){if(!zc(e))throw e;t.Ea.add(1),await ah(t),t.Ra.set("Offline"),n||(n=()=>kP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ge(La,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Lm(t)})}function VP(t,e){return e().catch(n=>Hp(t,n,e))}async function Vm(t){const e=Be(t),n=ko(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sw;for(;zW(e);)try{const s=await TW(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,$W(e,s)}catch(s){await Hp(e,s)}FP(e)&&UP(e)}function zW(t){return el(t)&&t.Ta.length<10}function $W(t,e){t.Ta.push(e);const n=ko(t);n.O_()&&n.X_&&n.ea(e.mutations)}function FP(t){return el(t)&&!ko(t).x_()&&t.Ta.length>0}function UP(t){ko(t).start()}async function WW(t){ko(t).ra()}async function HW(t){const e=ko(t);for(const n of t.Ta)e.ea(n.mutations)}async function qW(t,e,n){const r=t.Ta.shift(),s=Pw.from(r,e,n);await VP(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Vm(t)}async function GW(t,e){e&&ko(t).X_&&await async function(r,s){if(function(a){return N$(a)&&a!==ne.ABORTED}(s.code)){const o=r.Ta.shift();ko(r).B_(),await VP(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Vm(r)}}(t,e),FP(t)&&UP(t)}async function oI(t,e){const n=Be(t);n.asyncQueue.verifyOperationInProgress(),ge(La,"RemoteStore received new credentials");const r=el(n);n.Ea.add(3),await ah(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Lm(n)}async function KW(t,e){const n=Be(t);e?(n.Ea.delete(2),await Lm(n)):e||(n.Ea.add(2),await ah(n),n.Ra.set("Unknown"))}function $c(t){return t.ma||(t.ma=function(n,r,s){const o=Be(n);return o.sa(),new kW(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:VW.bind(null,t),t_:FW.bind(null,t),r_:UW.bind(null,t),H_:BW.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Bw(t)?Uw(t):t.Ra.set("Unknown")):(await t.ma.stop(),LP(t))})),t.ma}function ko(t){return t.fa||(t.fa=function(n,r,s){const o=Be(n);return o.sa(),new DW(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:WW.bind(null,t),r_:GW.bind(null,t),ta:HW.bind(null,t),na:qW.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Vm(t)):(await t.fa.stop(),t.Ta.length>0&&(ge(La,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const a=Date.now()+r,c=new zw(e,n,a,s,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $w(t,e){if(pi("AsyncQueue",`${e}: ${t}`),zc(t))return new me(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{static emptySet(e){return new hc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ce.comparator(n.key,r.key):(n,r)=>Ce.comparator(n.key,r.key),this.keyedMap=td(),this.sortedSet=new Ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof hc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new hc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this.ga=new Ht(Ce.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Me(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Nc{constructor(e,n,r,s,o,a,c,d,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,s,o){const a=[];return n.forEach(c=>{a.push({type:0,doc:c})}),new Nc(e,n,hc.emptySet(n),a,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class QW{constructor(){this.queries=lI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Be(n),o=s.queries;s.queries=lI(),o.forEach((a,c)=>{for(const d of c.Sa)d.onError(r)})})(this,new me(ne.ABORTED,"Firestore shutting down"))}}function lI(){return new Ja(t=>oP(t),Pm)}async function Ww(t,e){const n=Be(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.ba()&&e.Da()&&(r=2):(o=new YW,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const c=$w(a,`Initialization of query '${Xl(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&qw(n)}async function Hw(t,e){const n=Be(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const a=o.Sa.indexOf(e);a>=0&&(o.Sa.splice(a,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function XW(t,e){const n=Be(t);let r=!1;for(const s of e){const o=s.query,a=n.queries.get(o);if(a){for(const c of a.Sa)c.Fa(s)&&(r=!0);a.wa=s}}r&&qw(n)}function JW(t,e,n){const r=Be(t),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);r.queries.delete(e)}function qw(t){t.Ca.forEach(e=>{e.next()})}var M_,cI;(cI=M_||(M_={})).Ma="default",cI.Cache="cache";class Gw{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Nc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Nc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==M_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.key=e}}class zP{constructor(e){this.key=e}}class ZW{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ke(),this.mutatedKeys=Ke(),this.eu=aP(e),this.tu=new hc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new aI,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,a=s,c=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((m,y)=>{const _=s.get(m),T=km(this.query,y)?y:null,I=!!_&&this.mutatedKeys.has(_.key),b=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let C=!1;_&&T?_.data.isEqual(T.data)?I!==b&&(r.track({type:3,doc:T}),C=!0):this.su(_,T)||(r.track({type:2,doc:T}),C=!0,(d&&this.eu(T,d)>0||f&&this.eu(T,f)<0)&&(c=!0)):!_&&T?(r.track({type:0,doc:T}),C=!0):_&&!T&&(r.track({type:1,doc:_}),C=!0,(d||f)&&(c=!0)),C&&(T?(a=a.add(T),o=b?o.add(m):o.delete(m)):(a=a.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{tu:a,iu:r,Cs:c,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((m,y)=>function(T,I){const b=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Rt:C})}};return b(T)-b(I)}(m.type,y.type)||this.eu(m.doc,y.doc)),this.ou(r),s=s??!1;const c=n&&!s?this._u():[],d=this.Xa.size===0&&this.current&&!s?1:0,f=d!==this.Za;return this.Za=d,a.length!==0||f?{snapshot:new Nc(this.query,e.tu,o,a,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ke(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new zP(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new BP(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Nc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Kw="SyncEngine";class e7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class t7{constructor(e){this.key=e,this.hu=!1}}class n7{constructor(e,n,r,s,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Ja(c=>oP(c),Pm),this.Iu=new Map,this.Eu=new Set,this.du=new Ht(Ce.comparator),this.Au=new Map,this.Ru=new Mw,this.Vu={},this.mu=new Map,this.fu=Ic.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function r7(t,e,n=!0){const r=KP(t);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await $P(r,e,n,!0),s}async function s7(t,e){const n=KP(t);await $P(n,e,!0,!1)}async function $P(t,e,n,r){const s=await bW(t.localStore,bs(e)),o=s.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await i7(t,e,o,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&jP(t.remoteStore,s),c}async function i7(t,e,n,r,s){t.pu=(y,_,T)=>async function(b,C,R,O){let M=C.view.ru(R);M.Cs&&(M=await tI(b.localStore,C.query,!1).then(({documents:P})=>C.view.ru(P,M)));const W=O&&O.targetChanges.get(C.targetId),q=O&&O.targetMismatches.get(C.targetId)!=null,Y=C.view.applyChanges(M,b.isPrimaryClient,W,q);return dI(b,C.targetId,Y.au),Y.snapshot}(t,y,_,T);const o=await tI(t.localStore,e,!0),a=new ZW(e,o.Qs),c=a.ru(o.documents),d=oh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),f=a.applyChanges(c,t.isPrimaryClient,d);dI(t,n,f.au);const m=new e7(e,n,a);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function o7(t,e,n){const r=Be(t),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter(a=>!Pm(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await k_(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Vw(r.remoteStore,s.targetId),j_(r,s.targetId)}).catch(Bc)):(j_(r,s.targetId),await k_(r.localStore,s.targetId,!0))}async function a7(t,e){const n=Be(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Vw(n.remoteStore,r.targetId))}async function l7(t,e,n){const r=m7(t);try{const s=await function(a,c){const d=Be(a),f=pt.now(),m=c.reduce((T,I)=>T.add(I.key),Ke());let y,_;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let I=mi(),b=Ke();return d.Ns.getEntries(T,m).next(C=>{I=C,I.forEach((R,O)=>{O.isValidDocument()||(b=b.add(R))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,I)).next(C=>{y=C;const R=[];for(const O of c){const M=T$(O,y.get(O.key).overlayedDocument);M!=null&&R.push(new Za(O.key,M,JR(M.value.mapValue),Ss.exists(!0)))}return d.mutationQueue.addMutationBatch(T,f,R,c)}).next(C=>{_=C;const R=C.applyToLocalDocumentSet(y,b);return d.documentOverlayCache.saveOverlays(T,C.batchId,R)})}).then(()=>({batchId:_.batchId,changes:cP(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,c,d){let f=a.Vu[a.currentUser.toKey()];f||(f=new Ht(qe)),f=f.insert(c,d),a.Vu[a.currentUser.toKey()]=f}(r,s.batchId,n),await lh(r,s.changes),await Vm(r.remoteStore)}catch(s){const o=$w(s,"Failed to persist write");n.reject(o)}}async function WP(t,e){const n=Be(t);try{const r=await xW(n.localStore,e);e.targetChanges.forEach((s,o)=>{const a=n.Au.get(o);a&&(at(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?at(a.hu,14607):s.removedDocuments.size>0&&(at(a.hu,42227),a.hu=!1))}),await lh(n,r,e)}catch(r){await Bc(r)}}function uI(t,e,n){const r=Be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((o,a)=>{const c=a.view.va(e);c.snapshot&&s.push(c.snapshot)}),function(a,c){const d=Be(a);d.onlineState=c;let f=!1;d.queries.forEach((m,y)=>{for(const _ of y.Sa)_.va(c)&&(f=!0)}),f&&qw(d)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function c7(t,e,n){const r=Be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),o=s&&s.key;if(o){let a=new Ht(Ce.comparator);a=a.insert(o,bn.newNoDocument(o,Fe.min()));const c=Ke().add(o),d=new jm(Fe.min(),new Map,new Ht(qe),a,c);await WP(r,d),r.du=r.du.remove(o),r.Au.delete(e),Yw(r)}else await k_(r.localStore,e,!1).then(()=>j_(r,e,n)).catch(Bc)}async function u7(t,e){const n=Be(t),r=e.batch.batchId;try{const s=await wW(n.localStore,e);qP(n,r,null),HP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lh(n,s)}catch(s){await Bc(s)}}async function d7(t,e,n){const r=Be(t);try{const s=await function(a,c){const d=Be(a);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return d.mutationQueue.lookupMutationBatch(f,c).next(y=>(at(y!==null,37113),m=y.keys(),d.mutationQueue.removeMutationBatch(f,y))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,m,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>d.localDocuments.getDocuments(f,m))})}(r.localStore,e);qP(r,e,n),HP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await lh(r,s)}catch(s){await Bc(s)}}function HP(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function qP(t,e,n){const r=Be(t);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function j_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||GP(t,r)})}function GP(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Vw(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Yw(t))}function dI(t,e,n){for(const r of n)r instanceof BP?(t.Ru.addReference(r.key,e),h7(t,r)):r instanceof zP?(ge(Kw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||GP(t,r.key)):Me(19791,{wu:r})}function h7(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ge(Kw,"New document in limbo: "+n),t.Eu.add(r),Yw(t))}function Yw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ce(ft.fromString(e)),r=t.fu.next();t.Au.set(r,new t7(n)),t.du=t.du.insert(n,r),jP(t.remoteStore,new uo(bs(Rm(n.path)),r,"TargetPurposeLimboResolution",Im.ce))}}async function lh(t,e,n){const r=Be(t),s=[],o=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((c,d)=>{a.push(r.pu(d,e,n).then(f=>{var m;if((f||n)&&r.isPrimaryClient){const y=f?!f.fromCache:(m=n==null?void 0:n.targetChanges.get(d.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(f){s.push(f);const y=Ow.As(d.targetId,f);o.push(y)}}))}),await Promise.all(a),r.Pu.H_(s),await async function(d,f){const m=Be(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>re.forEach(f,_=>re.forEach(_.Es,T=>m.persistence.referenceDelegate.addReference(y,_.targetId,T)).next(()=>re.forEach(_.ds,T=>m.persistence.referenceDelegate.removeReference(y,_.targetId,T)))))}catch(y){if(!zc(y))throw y;ge(Lw,"Failed to update sequence numbers: "+y)}for(const y of f){const _=y.targetId;if(!y.fromCache){const T=m.Ms.get(_),I=T.snapshotVersion,b=T.withLastLimboFreeSnapshotVersion(I);m.Ms=m.Ms.insert(_,b)}}}(r.localStore,o))}async function f7(t,e){const n=Be(t);if(!n.currentUser.isEqual(e)){ge(Kw,"User change. New user:",e.toKey());const r=await PP(n.localStore,e);n.currentUser=e,function(o,a){o.mu.forEach(c=>{c.forEach(d=>{d.reject(new me(ne.CANCELLED,a))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lh(n,r.Ls)}}function p7(t,e){const n=Be(t),r=n.Au.get(e);if(r&&r.hu)return Ke().add(r.key);{let s=Ke();const o=n.Iu.get(e);if(!o)return s;for(const a of o){const c=n.Tu.get(a);s=s.unionWith(c.view.nu)}return s}}function KP(t){const e=Be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=WP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=p7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=c7.bind(null,e),e.Pu.H_=XW.bind(null,e.eventManager),e.Pu.yu=JW.bind(null,e.eventManager),e}function m7(t){const e=Be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=d7.bind(null,e),e}class qp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Om(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return _W(this.persistence,new gW,e.initialUser,this.serializer)}Cu(e){return new RP(jw.mi,this.serializer)}Du(e){return new CW}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qp.provider={build:()=>new qp};class g7 extends qp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){at(this.persistence.referenceDelegate instanceof Wp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new tW(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Wn.withCacheSize(this.cacheSizeBytes):Wn.DEFAULT;return new RP(r=>Wp.mi(r,n),this.serializer)}}class O_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=f7.bind(null,this.syncEngine),await KW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new QW}()}createDatastore(e){const n=Om(e.databaseInfo.databaseId),r=function(o){return new PW(o)}(e.databaseInfo);return function(o,a,c,d){return new jW(o,a,c,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,a,c){return new LW(r,s,o,a,c)}(this.localStore,this.datastore,e.asyncQueue,n=>uI(this.syncEngine,n,0),function(){return sI.v()?new sI:new IW}())}createSyncEngine(e,n){return function(s,o,a,c,d,f,m){const y=new n7(s,o,a,c,d,f);return m&&(y.gu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=Be(s);ge(La,"RemoteStore shutting down."),o.Ea.add(5),await ah(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}O_.provider={build:()=>new O_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):pi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="FirestoreClient";class y7{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Tn.UNAUTHENTICATED,this.clientId=bw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{ge(Do,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(ge(Do,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$w(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function gv(t,e){t.asyncQueue.verifyOperationInProgress(),ge(Do,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await PP(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function hI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await v7(t);ge(Do,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>oI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>oI(e.remoteStore,s)),t._onlineComponents=e}async function v7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge(Do,"Using user provided OfflineComponentProvider");try{await gv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ne.FAILED_PRECONDITION||s.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Tc("Error using user provided cache. Falling back to memory cache: "+n),await gv(t,new qp)}}else ge(Do,"Using default OfflineComponentProvider"),await gv(t,new g7(void 0));return t._offlineComponents}async function YP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge(Do,"Using user provided OnlineComponentProvider"),await hI(t,t._uninitializedComponentsProvider._online)):(ge(Do,"Using default OnlineComponentProvider"),await hI(t,new O_))),t._onlineComponents}function _7(t){return YP(t).then(e=>e.syncEngine)}async function Gp(t){const e=await YP(t),n=e.eventManager;return n.onListen=r7.bind(null,e.syncEngine),n.onUnlisten=o7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=s7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=a7.bind(null,e.syncEngine),n}function w7(t,e,n={}){const r=new ai;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,c,d,f){const m=new Qw({next:_=>{m.Nu(),a.enqueueAndForget(()=>Hw(o,y));const T=_.docs.has(c);!T&&_.fromCache?f.reject(new me(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&d&&d.source==="server"?f.reject(new me(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),y=new Gw(Rm(c.path),m,{includeMetadataChanges:!0,qa:!0});return Ww(o,y)}(await Gp(t),t.asyncQueue,e,n,r)),r.promise}function x7(t,e,n={}){const r=new ai;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,c,d,f){const m=new Qw({next:_=>{m.Nu(),a.enqueueAndForget(()=>Hw(o,y)),_.fromCache&&d.source==="server"?f.reject(new me(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),y=new Gw(c,m,{includeMetadataChanges:!0,qa:!0});return Ww(o,y)}(await Gp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP="firestore.googleapis.com",pI=!0;class mI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XP,this.ssl=pI}else this.host=e.host,this.ssl=e.ssl??pI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Z$)throw new me(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Oz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QP(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Cz;switch(r.type){case"firstParty":return new Rz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=fI.get(n);r&&(ge("ComponentProvider","Removing Datastore"),fI.delete(n),r.terminate())}(this),Promise.resolve()}}function E7(t,e,n,r={}){var f;t=$r(t,Fm);const s=Fo(e),o=t._getSettings(),a={...o,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;s&&(lw(`https://${c}`),cw("Firestore",!0)),o.host!==XP&&o.host!==c&&Tc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:c,ssl:s,emulatorOptions:r};if(!Co(d,a)&&(t._setSettings(d),r.mockUserToken)){let m,y;if(typeof r.mockUserToken=="string")m=r.mockUserToken,y=Tn.MOCK_USER;else{m=qA(r.mockUserToken,(f=t._app)==null?void 0:f.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new me(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Tn(_)}t._authCredentials=new Iz(new UR(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new tl(this.firestore,e,this._query)}}class Vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(rh(n,Vt._jsonSchema))return new Vt(e,r||null,new Ce(ft.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:$t("string",Vt._jsonSchemaVersion),referencePath:$t("string")};class yo extends tl{constructor(e,n,r){super(e,n,Rm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new Ce(e))}withConverter(e){return new yo(this.firestore,e,this._path)}}function pp(t,e,...n){if(t=sn(t),BR("collection","path",e),t instanceof Fm){const r=ft.fromString(e,...n);return NC(r),new yo(t,null,r)}{if(!(t instanceof Vt||t instanceof yo))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return NC(r),new yo(t.firestore,null,r)}}function Xw(t,e,...n){if(t=sn(t),arguments.length===1&&(e=bw.newId()),BR("doc","path",e),t instanceof Fm){const r=ft.fromString(e,...n);return IC(r),new Vt(t,null,new Ce(r))}{if(!(t instanceof Vt||t instanceof yo))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return IC(r),new Vt(t.firestore,t instanceof yo?t.converter:null,new Ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="AsyncQueue";class yI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new DP(this,"async_queue_retry"),this._c=()=>{const r=mv();r&&ge(gI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=mv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=mv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ai;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!zc(e))throw e;ge(gI,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,pi("INTERNAL UNHANDLED ERROR: ",vI(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=zw.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(s),s}uc(){this.nc&&Me(47125,{Pc:vI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function vI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Va extends Fm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new yI,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yI(e),this._firestoreClient=void 0,await e}}}function T7(t,e){const n=typeof t=="object"?t:hw(),r=typeof t=="string"?t:Vp,s=Em(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=$A("firestore");o&&E7(s,...o)}return s}function Um(t){if(t._terminated)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||b7(t),t._firestoreClient}function b7(t){var r,s,o;const e=t._freezeSettings(),n=function(c,d,f,m){return new Gz(c,d,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,QP(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new y7(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wr(mn.fromBase64String(e))}catch(n){throw new me(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wr(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(rh(e,wr._jsonSchema))return wr.fromBase64String(e.bytes)}}wr._jsonSchemaVersion="firestore/bytes/1.0",wr._jsonSchema={type:$t("string",wr._jsonSchemaVersion),bytes:$t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Is._jsonSchemaVersion}}static fromJSON(e){if(rh(e,Is._jsonSchema))return new Is(e.latitude,e.longitude)}}Is._jsonSchemaVersion="firestore/geoPoint/1.0",Is._jsonSchema={type:$t("string",Is._jsonSchemaVersion),latitude:$t("number"),longitude:$t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ns._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(rh(e,Ns._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ns(e.vectorValues);throw new me(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ns._jsonSchemaVersion="firestore/vectorValue/1.0",Ns._jsonSchema={type:$t("string",Ns._jsonSchemaVersion),vectorValues:$t("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S7=/^__.*__$/;class C7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Za(e,this.data,this.fieldMask,n,this.fieldTransforms):new ih(e,this.data,n,this.fieldTransforms)}}function JP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{Ac:t})}}class ex{constructor(e,n,r,s,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ex({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Kp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(JP(this.Ac)&&S7.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class I7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Om(e)}Cc(e,n,r,s=!1){return new ex({Ac:e,methodName:n,Dc:r,path:pn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tx(t){const e=t._freezeSettings(),n=Om(t._databaseId);return new I7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ZP(t,e,n,r,s,o={}){const a=t.Cc(o.merge||o.mergeFields?2:0,e,n,s);nk("Data must be an object, but it was:",a,r);const c=ek(r,a);let d,f;if(o.merge)d=new Ur(a.fieldMask),f=a.fieldTransforms;else if(o.mergeFields){const m=[];for(const y of o.mergeFields){const _=A7(e,y,n);if(!a.contains(_))throw new me(ne.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);P7(m,_)||m.push(_)}d=new Ur(m),f=a.fieldTransforms.filter(y=>d.covers(y.field))}else d=null,f=a.fieldTransforms;return new C7(new _r(c),d,f)}class nx extends Zw{_toFieldTransform(e){return new _$(e.path,new Ld)}isEqual(e){return e instanceof nx}}function N7(t,e,n,r=!1){return rx(n,t.Cc(r?4:3,e))}function rx(t,e){if(tk(t=sn(t)))return nk("Unsupported field value:",e,t),ek(t,e);if(t instanceof Zw)return function(r,s){if(!JP(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const o=[];let a=0;for(const c of r){let d=rx(c,s.wc(a));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=sn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return g$(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=pt.fromDate(r);return{timestampValue:$p(s.serializer,o)}}if(r instanceof pt){const o=new pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$p(s.serializer,o)}}if(r instanceof Is)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wr)return{bytesValue:EP(s.serializer,r._byteString)};if(r instanceof Vt){const o=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw s.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Dw(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ns)return function(a,c){return{mapValue:{fields:{[QR]:{stringValue:XR},[Fp]:{arrayValue:{values:a.toArray().map(f=>{if(typeof f!="number")throw c.Sc("VectorValues must only contain numeric values.");return Rw(c.serializer,f)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Cm(r)}`)}(t,e)}function ek(t,e){const n={};return WR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xa(t,(r,s)=>{const o=rx(s,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function tk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pt||t instanceof Is||t instanceof wr||t instanceof Vt||t instanceof Zw||t instanceof Ns)}function nk(t,e,n){if(!tk(n)||!zR(n)){const r=Cm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function A7(t,e,n){if((e=sn(e))instanceof Jw)return e._internalPath;if(typeof e=="string")return rk(t,e);throw Kp("Field path arguments must be of type string or ",t,!1,void 0,n)}const R7=new RegExp("[~\\*/\\[\\]]");function rk(t,e,n){if(e.search(R7)>=0)throw Kp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jw(...e.split("."))._internalPath}catch{throw Kp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kp(t,e,n,r,s){const o=r&&!r.isEmpty(),a=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||a)&&(d+=" (found",o&&(d+=` in field ${r}`),a&&(d+=` in document ${s}`),d+=")"),new me(ne.INVALID_ARGUMENT,c+t+d)}function P7(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new k7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class k7 extends sk{data(){return super.data()}}function sx(t,e){return typeof e=="string"?rk(t,e):e instanceof Jw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ix{}class D7 extends ix{}function L_(t,e,...n){let r=[];e instanceof ix&&r.push(e),r=r.concat(n),function(o){const a=o.filter(d=>d instanceof ox).length,c=o.filter(d=>d instanceof Bm).length;if(a>1||a>0&&c>0)throw new me(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Bm extends D7{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Bm(e,n,r)}_apply(e){const n=this._parse(e);return ok(e._query,n),new tl(e.firestore,e.converter,C_(e._query,n))}_parse(e){const n=tx(e.firestore);return function(o,a,c,d,f,m,y){let _;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new me(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){xI(y,m);const I=[];for(const b of y)I.push(wI(d,o,b));_={arrayValue:{values:I}}}else _=wI(d,o,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||xI(y,m),_=N7(c,a,y,m==="in"||m==="not-in");return zt.create(f,m,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function V_(t,e,n){const r=e,s=sx("where",t);return Bm._create(s,r,n)}class ox extends ix{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ox(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Hr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let a=s;const c=o.getFlattenedFilters();for(const d of c)ok(a,d),a=C_(a,d)}(e._query,n),new tl(e.firestore,e.converter,C_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function wI(t,e,n){if(typeof(n=sn(n))=="string"){if(n==="")throw new me(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iP(e)&&n.indexOf("/")!==-1)throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ft.fromString(n));if(!Ce.isDocumentKey(r))throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return OC(t,new Ce(r))}if(n instanceof Vt)return OC(t,n._key);throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cm(n)}.`)}function xI(t,e){if(!Array.isArray(t)||t.length===0)throw new me(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ok(t,e){const n=function(s,o){for(const a of s)for(const c of a.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new me(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class M7{convertValue(e,n="none"){switch(Po(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xa(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,s,o;const n=(o=(s=(r=e.fields)==null?void 0:r[Fp].arrayValue)==null?void 0:s.values)==null?void 0:o.map(a=>Lt(a.doubleValue));return new Ns(n)}convertGeoPoint(e){return new Is(Lt(e.latitude),Lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Am(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Md(e));default:return null}}convertTimestamp(e){const n=Ao(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ft.fromString(e);at(NP(r),9688,{name:e});const s=new jd(r.get(1),r.get(3)),o=new Ce(r.popFirst(5));return s.isEqual(n)||pi(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class rd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Aa extends sk{constructor(e,n,r,s,o,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Aa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Aa._jsonSchema={type:$t("string",Aa._jsonSchemaVersion),bundleSource:$t("string","DocumentSnapshot"),bundleName:$t("string"),bundle:$t("string")};class mp extends Aa{data(e={}){return super.data(e)}}class Ra{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new rd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new mp(this._firestore,this._userDataWriter,r.key,r,new rd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(c=>{const d=new mp(s._firestore,s._userDataWriter,c.doc.key,c.doc,new rd(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const d=new mp(s._firestore,s._userDataWriter,c.doc.key,c.doc,new rd(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,m=-1;return c.type!==0&&(f=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),m=a.indexOf(c.doc.key)),{type:j7(c.type),doc:d,oldIndex:f,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ra._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=bw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function j7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O7(t){t=$r(t,Vt);const e=$r(t.firestore,Va);return w7(Um(e),t._key).then(n=>ck(e,t,n))}Ra._jsonSchemaVersion="firestore/querySnapshot/1.0",Ra._jsonSchema={type:$t("string",Ra._jsonSchemaVersion),bundleSource:$t("string","QuerySnapshot"),bundleName:$t("string"),bundle:$t("string")};class ax extends M7{constructor(e){super(),this.firestore=e}convertBytes(e){return new wr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function EI(t){t=$r(t,tl);const e=$r(t.firestore,Va),n=Um(e),r=new ax(e);return ik(t._query),x7(n,t._query).then(s=>new Ra(e,r,t,s))}function L7(t,e,n){t=$r(t,Vt);const r=$r(t.firestore,Va),s=ak(t.converter,e,n);return lk(r,[ZP(tx(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Ss.none())])}function V7(t,e){const n=$r(t.firestore,Va),r=Xw(t),s=ak(t.converter,e);return lk(n,[ZP(tx(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Ss.exists(!1))]).then(()=>r)}function F7(t,...e){var d,f,m;t=sn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||_I(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(_I(e[r])){const y=e[r];e[r]=(d=y.next)==null?void 0:d.bind(y),e[r+1]=(f=y.error)==null?void 0:f.bind(y),e[r+2]=(m=y.complete)==null?void 0:m.bind(y)}let o,a,c;if(t instanceof Vt)a=$r(t.firestore,Va),c=Rm(t._key.path),o={next:y=>{e[r]&&e[r](ck(a,t,y))},error:e[r+1],complete:e[r+2]};else{const y=$r(t,tl);a=$r(y.firestore,Va),c=y._query;const _=new ax(a);o={next:T=>{e[r]&&e[r](new Ra(a,_,y,T))},error:e[r+1],complete:e[r+2]},ik(t._query)}return function(_,T,I,b){const C=new Qw(b),R=new Gw(T,C,I);return _.asyncQueue.enqueueAndForget(async()=>Ww(await Gp(_),R)),()=>{C.Nu(),_.asyncQueue.enqueueAndForget(async()=>Hw(await Gp(_),R))}}(Um(a),c,s,o)}function lk(t,e){return function(r,s){const o=new ai;return r.asyncQueue.enqueueAndForget(async()=>l7(await _7(r),s,o)),o.promise}(Um(t),e)}function ck(t,e,n){const r=n.docs.get(e._key),s=new ax(t);return new Aa(t,s,e._key,r,new rd(n.hasPendingWrites,n.fromCache),e.converter)}function F_(){return new nx("serverTimestamp")}(function(e,n=!0){(function(s){Uc=s})(Qa),Da(new Io("firestore",(r,{instanceIdentifier:s,options:o})=>{const a=r.getProvider("app").getImmediate(),c=new Va(new Nz(r.getProvider("auth-internal")),new Pz(a,r.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new me(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jd(f.options.projectId,m)}(a,s),a);return o={useFetchStreams:n,...o},c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Es(TC,bC,e),Es(TC,bC,"esm2020")})();var U7="firebase",B7="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Es(U7,B7,"app");var TI={};const bI="@firebase/database",SI="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uk="";function z7(t){uk=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),fn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Rd(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return xi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new $7(e)}}catch{}return new W7},Ca=dk("localStorage"),H7=dk("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new xm("@firebase/database"),q7=function(){let t=1;return function(){return t++}}(),hk=function(t){const e=e8(t),n=new YU;n.update(e);const r=n.digest();return ow.encodeByteArray(r)},ch=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ch.apply(null,r):typeof r=="object"?e+=fn(r):e+=r,e+=" "}return e};let yd=null,CI=!0;const G7=function(t,e){de(!0,"Can't turn on custom loggers persistently."),fc.logLevel=He.VERBOSE,yd=fc.log.bind(fc)},Sn=function(...t){if(CI===!0&&(CI=!1,yd===null&&H7.get("logging_enabled")===!0&&G7()),yd){const e=ch.apply(null,t);yd(e)}},uh=function(t){return function(...e){Sn(t,...e)}},U_=function(...t){const e="FIREBASE INTERNAL ERROR: "+ch(...t);fc.error(e)},gi=function(...t){const e=`FIREBASE FATAL ERROR: ${ch(...t)}`;throw fc.error(e),new Error(e)},ir=function(...t){const e="FIREBASE WARNING: "+ch(...t);fc.warn(e)},K7=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ir("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},fk=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Y7=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ac="[MIN_NAME]",Fa="[MAX_NAME]",Wc=function(t,e){if(t===e)return 0;if(t===Ac||e===Fa)return-1;if(e===Ac||t===Fa)return 1;{const n=II(t),r=II(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Q7=function(t,e){return t===e?0:t<e?-1:1},qu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+fn(e))},lx=function(t){if(typeof t!="object"||t===null)return fn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=fn(e[r]),n+=":",n+=lx(t[e[r]]);return n+="}",n},pk=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Sr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const mk=function(t){de(!fk(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,o,a,c,d;t===0?(o=0,a=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=c+r,a=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(o=0,a=Math.round(t/Math.pow(2,1-r-n))));const f=[];for(d=n;d;d-=1)f.push(a%2?1:0),a=Math.floor(a/2);for(d=e;d;d-=1)f.push(o%2?1:0),o=Math.floor(o/2);f.push(s?1:0),f.reverse();const m=f.join("");let y="";for(d=0;d<64;d+=8){let _=parseInt(m.substr(d,8),2).toString(16);_.length===1&&(_="0"+_),y=y+_}return y.toLowerCase()},X7=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},J7=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},Z7=new RegExp("^-?(0*)\\d{1,10}$"),eH=-2147483648,tH=2147483647,II=function(t){if(Z7.test(t)){const e=Number(t);if(e>=eH&&e<=tH)return e}return null},dh=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ir("Exception was thrown by user callback.",n),e},Math.floor(0))}},nH=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},vd=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rH{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Hn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ir(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Sn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ir(e)}}class gp{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}gp.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="5",gk="v",yk="s",vk="r",_k="f",wk=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,xk="ls",Ek="p",B_="ac",Tk="websocket",bk="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,n,r,s,o=!1,a="",c=!1,d=!1,f=null){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=d,this.emulatorOptions=f,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ca.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ca.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function iH(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Ck(t,e,n){de(typeof e=="string","typeof type must == string"),de(typeof n=="object","typeof params must == object");let r;if(e===Tk)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===bk)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);iH(t)&&(n.ns=t.namespace);const s=[];return Sr(n,(o,a)=>{s.push(o+"="+a)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH{constructor(){this.counters_={}}incrementCounter(e,n=1){xi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return NU(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv={},vv={};function ux(t){const e=t.toString();return yv[e]||(yv[e]=new oH),yv[e]}function aH(t,e){const n=t.toString();return vv[n]||(vv[n]=e()),vv[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&dh(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="start",cH="close",uH="pLPCommand",dH="pRTLPCB",Ik="id",Nk="pw",Ak="ser",hH="cb",fH="seg",pH="ts",mH="d",gH="dframe",Rk=1870,Pk=30,yH=Rk-Pk,vH=25e3,_H=3e4;class oc{constructor(e,n,r,s,o,a,c){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.transportSessionId=a,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=uh(e),this.stats_=ux(n),this.urlFn=d=>(this.appCheckToken&&(d[B_]=this.appCheckToken),Ck(n,bk,d))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new lH(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(_H)),Y7(()=>{if(this.isClosed_)return;this.scriptTagHolder=new dx((...o)=>{const[a,c,d,f,m]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===NI)this.id=c,this.password=d;else if(a===cH)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...o)=>{const[a,c]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(a,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[NI]="t",r[Ak]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[hH]=this.scriptTagHolder.uniqueCallbackIdentifier),r[gk]=cx,this.transportSessionId&&(r[yk]=this.transportSessionId),this.lastSessionId&&(r[xk]=this.lastSessionId),this.applicationId&&(r[Ek]=this.applicationId),this.appCheckToken&&(r[B_]=this.appCheckToken),typeof location<"u"&&location.hostname&&wk.test(location.hostname)&&(r[vk]=_k);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){oc.forceAllow_=!0}static forceDisallow(){oc.forceDisallow_=!0}static isAvailable(){return oc.forceAllow_?!0:!oc.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!X7()&&!J7()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=fn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=UA(n),s=pk(r,yH);for(let o=0;o<s.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[gH]="t",r[Ik]=e,r[Nk]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=fn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class dx{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=q7(),window[uH+this.uniqueCallbackIdentifier]=e,window[dH+this.uniqueCallbackIdentifier]=n,this.myIFrame=dx.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(c){Sn("frame writing exception"),c.stack&&Sn(c.stack),Sn(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Sn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Ik]=this.myID,e[Nk]=this.myPW,e[Ak]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Pk+r.length<=Rk;){const a=this.pendingSegs.shift();r=r+"&"+fH+s+"="+a.seg+"&"+pH+s+"="+a.ts+"&"+mH+s+"="+a.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(vH)),o=()=>{clearTimeout(s),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Sn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH=16384,xH=45e3;let Yp=null;typeof MozWebSocket<"u"?Yp=MozWebSocket:typeof WebSocket<"u"&&(Yp=WebSocket);class Vr{constructor(e,n,r,s,o,a,c){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=uh(this.connId),this.stats_=ux(n),this.connURL=Vr.connectionURL_(n,a,c,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,o){const a={};return a[gk]=cx,typeof location<"u"&&location.hostname&&wk.test(location.hostname)&&(a[vk]=_k),n&&(a[yk]=n),r&&(a[xk]=r),s&&(a[B_]=s),o&&(a[Ek]=o),Ck(e,Tk,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ca.set("previous_websocket_failure",!0);try{let r;UU(),this.mySock=new Yp(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Vr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Yp!==null&&!Vr.forceDisallow_}static previouslyFailed(){return Ca.isInMemoryStorage||Ca.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ca.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Rd(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(de(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=fn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=pk(n,wH);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(xH))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Vr.responsesRequiredToBeHealthy=2;Vr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{static get ALL_TRANSPORTS(){return[oc,Vr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Vr&&Vr.isAvailable();let r=n&&!Vr.previouslyFailed();if(e.webSocketOnly&&(n||ir("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Vr];else{const s=this.transports_=[];for(const o of Ud.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);Ud.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ud.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EH=6e4,TH=5e3,bH=10*1024,SH=100*1024,_v="t",AI="d",CH="s",RI="r",IH="e",PI="o",kI="a",DI="n",MI="p",NH="h";class AH{constructor(e,n,r,s,o,a,c,d,f,m){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=o,this.onMessage_=a,this.onReady_=c,this.onDisconnect_=d,this.onKill_=f,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=uh("c:"+this.id+":"),this.transportManager_=new Ud(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=vd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>SH?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>bH?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(_v in e){const n=e[_v];n===kI?this.upgradeIfSecondaryHealthy_():n===RI?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===PI&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=qu("t",e),r=qu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:MI,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:kI,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:DI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=qu("t",e),r=qu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=qu(_v,e);if(AI in e){const r=e[AI];if(n===NH){const s={...r};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===DI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===CH?this.onConnectionShutdown_(r):n===RI?this.onReset_(r):n===IH?U_("Server Error: "+r):n===PI?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):U_("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),cx!==r&&ir("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),vd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(EH))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):vd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(TH))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:MI,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ca.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){this.allowedEvents_=e,this.listeners_={},de(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let o=0;o<s.length;o++)if(s[o].callback===n&&(!r||r===s[o].context)){s.splice(o,1);return}}validateEventType_(e){de(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp extends Dk{static getInstance(){return new Qp}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!uw()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return de(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=32,OI=768;class Et{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ct(){return new Et("")}function et(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Mo(t){return t.pieces_.length-t.pieceNum_}function xt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Et(t.pieces_,e)}function Mk(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function RH(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function jk(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Ok(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Et(e,0)}function rn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Et)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new Et(n,0)}function Xe(t){return t.pieceNum_>=t.pieces_.length}function xr(t,e){const n=et(t),r=et(e);if(n===null)return e;if(n===r)return xr(xt(t),xt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Lk(t,e){if(Mo(t)!==Mo(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Br(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Mo(t)>Mo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class PH{constructor(e,n){this.errorPrefix_=n,this.parts_=jk(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=wm(this.parts_[r]);Vk(this)}}function kH(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=wm(e),Vk(t)}function DH(t){const e=t.parts_.pop();t.byteLength_-=wm(e),t.parts_.length>0&&(t.byteLength_-=1)}function Vk(t){if(t.byteLength_>OI)throw new Error(t.errorPrefix_+"has a key path longer than "+OI+" bytes ("+t.byteLength_+").");if(t.parts_.length>jI)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+jI+") or object contains a cycle "+wa(t))}function wa(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx extends Dk{static getInstance(){return new hx}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return de(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=1e3,MH=60*5*1e3,LI=30*1e3,jH=1.3,OH=3e4,LH="server_kill",VI=3;class li extends kk{constructor(e,n,r,s,o,a,c,d){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=d,this.id=li.nextPersistentConnectionId_++,this.log_=uh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Gu,this.maxReconnectDelay_=MH,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");hx.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Qp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,o={r:s,a:e,b:n};this.log_(fn(o)),de(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new aw,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const c=a.d;a.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,s){this.initConnection_();const o=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),de(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),de(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const c={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(a).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const o={p:r},a="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(a,o,c=>{const d=c.d,f=c.s;li.warnOnListenWarnings_(d,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",c),f!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(f,d))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&xi(e,"w")){const r=xc(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();ir(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||KU(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=LI)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=GU(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const o=s.s,a=s.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),de(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const o={p:e},a="n";s&&(o.q=r,o.t=s),this.sendRequest(a,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,o){this.initConnection_();const a={p:n,d:r};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:e,request:a,onComplete:s}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+fn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):U_("Unrecognized action received from server: "+fn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){de(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Gu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Gu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>OH&&(this.reconnectDelay_=Gu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*jH)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+li.nextConnectionId_++,o=this.lastSessionId;let a=!1,c=null;const d=function(){c?c.close():(a=!0,r())},f=function(y){de(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(y)};this.realtime_={close:d,sendRequest:f};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,_]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);a?Sn("getToken() completed but was canceled"):(Sn("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=_&&_.token,c=new AH(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,T=>{ir(T+" ("+this.repoInfo_.toString()+")"),this.interrupt(LH)},o))}catch(y){this.log_("Failed to get token: "+y),a||(this.repoInfo_.nodeAdmin&&ir(y),d())}}}interrupt(e){Sn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Sn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],c_(this.interruptReasons_)&&(this.reconnectDelay_=Gu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>lx(o)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new Et(e).toString();let s;if(this.listens.has(r)){const o=this.listens.get(r);s=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){Sn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=VI&&(this.reconnectDelay_=LI,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Sn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=VI&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+uk.replace(/\./g,"-")]=1,uw()?e["framework.cordova"]=1:GA()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Qp.getInstance().currentlyOnline();return c_(this.interruptReasons_)&&e}}li.nextPersistentConnectionId_=0;li.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new tt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new tt(Ac,e),s=new tt(Ac,n);return this.compare(r,s)!==0}minPost(){return tt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hf;class Fk extends zm{static get __EMPTY_NODE(){return Hf}static set __EMPTY_NODE(e){Hf=e}compare(e,n){return Wc(e.name,n.name)}isDefinedOn(e){throw Lc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return tt.MIN}maxPost(){return new tt(Fa,Hf)}makePost(e,n){return de(typeof e=="string","KeyIndex indexValue must always be a string."),new tt(e,Hf)}toString(){return".key"}}const pc=new Fk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n,r,s,o=null){this.isReverse_=s,this.resultGenerator_=o,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,s&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class nn{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??nn.RED,this.left=s??Gn.EMPTY_NODE,this.right=o??Gn.EMPTY_NODE}copy(e,n,r,s,o){return new nn(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Gn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Gn.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}nn.RED=!0;nn.BLACK=!1;class VH{copy(e,n,r,s,o){return this}insert(e,n,r){return new nn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Gn{constructor(e,n=Gn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Gn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,nn.BLACK,null,null))}remove(e){return new Gn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,nn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new qf(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new qf(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new qf(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new qf(this.root_,null,this.comparator_,!0,e)}}Gn.EMPTY_NODE=new VH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FH(t,e){return Wc(t.name,e.name)}function fx(t,e){return Wc(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z_;function UH(t){z_=t}const Uk=function(t){return typeof t=="number"?"number:"+mk(t):"string:"+t},Bk=function(t){if(t.isLeafNode()){const e=t.val();de(typeof e=="string"||typeof e=="number"||typeof e=="object"&&xi(e,".sv"),"Priority must be a string or number.")}else de(t===z_||t.isEmpty(),"priority of unexpected type.");de(t===z_||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FI;class en{static set __childrenNodeConstructor(e){FI=e}static get __childrenNodeConstructor(){return FI}constructor(e,n=en.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,de(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Bk(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new en(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:en.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Xe(e)?this:et(e)===".priority"?this.priorityNode_:en.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:en.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=et(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(de(r!==".priority"||Mo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,en.__childrenNodeConstructor.EMPTY_NODE.updateChild(xt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Uk(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=mk(this.value_):e+=this.value_,this.lazyHash_=hk(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===en.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof en.__childrenNodeConstructor?-1:(de(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=en.VALUE_TYPE_ORDER.indexOf(n),o=en.VALUE_TYPE_ORDER.indexOf(r);return de(s>=0,"Unknown leaf type: "+n),de(o>=0,"Unknown leaf type: "+r),s===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}en.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zk,$k;function BH(t){zk=t}function zH(t){$k=t}class $H extends zm{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),o=r.compareTo(s);return o===0?Wc(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return tt.MIN}maxPost(){return new tt(Fa,new en("[PRIORITY-POST]",$k))}makePost(e,n){const r=zk(e);return new tt(n,new en("[PRIORITY-POST]",r))}toString(){return".priority"}}const Nn=new $H;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WH=Math.log(2);class HH{constructor(e){const n=o=>parseInt(Math.log(o)/WH,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Xp=function(t,e,n,r){t.sort(e);const s=function(d,f){const m=f-d;let y,_;if(m===0)return null;if(m===1)return y=t[d],_=n?n(y):y,new nn(_,y.node,nn.BLACK,null,null);{const T=parseInt(m/2,10)+d,I=s(d,T),b=s(T+1,f);return y=t[T],_=n?n(y):y,new nn(_,y.node,nn.BLACK,I,b)}},o=function(d){let f=null,m=null,y=t.length;const _=function(I,b){const C=y-I,R=y;y-=I;const O=s(C+1,R),M=t[C],W=n?n(M):M;T(new nn(W,M.node,b,null,O))},T=function(I){f?(f.left=I,f=I):(m=I,f=I)};for(let I=0;I<d.count;++I){const b=d.nextBitIsOne(),C=Math.pow(2,d.count-(I+1));b?_(C,nn.BLACK):(_(C,nn.BLACK),_(C,nn.RED))}return m},a=new HH(t.length),c=o(a);return new Gn(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wv;const Hl={};class ii{static get Default(){return de(Hl&&Nn,"ChildrenNode.ts has not been loaded"),wv=wv||new ii({".priority":Hl},{".priority":Nn}),wv}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=xc(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Gn?n:null}hasIndex(e){return xi(this.indexSet_,e.toString())}addIndex(e,n){de(e!==pc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const o=n.getIterator(tt.Wrap);let a=o.getNext();for(;a;)s=s||e.isDefinedOn(a.node),r.push(a),a=o.getNext();let c;s?c=Xp(r,e.getCompare()):c=Hl;const d=e.toString(),f={...this.indexSet_};f[d]=e;const m={...this.indexes_};return m[d]=c,new ii(m,f)}addToIndexes(e,n){const r=Ap(this.indexes_,(s,o)=>{const a=xc(this.indexSet_,o);if(de(a,"Missing index implementation for "+o),s===Hl)if(a.isDefinedOn(e.node)){const c=[],d=n.getIterator(tt.Wrap);let f=d.getNext();for(;f;)f.name!==e.name&&c.push(f),f=d.getNext();return c.push(e),Xp(c,a.getCompare())}else return Hl;else{const c=n.get(e.name);let d=s;return c&&(d=d.remove(new tt(e.name,c))),d.insert(e,e.node)}});return new ii(r,this.indexSet_)}removeFromIndexes(e,n){const r=Ap(this.indexes_,s=>{if(s===Hl)return s;{const o=n.get(e.name);return o?s.remove(new tt(e.name,o)):s}});return new ii(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku;class ot{static get EMPTY_NODE(){return Ku||(Ku=new ot(new Gn(fx),null,ii.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Bk(this.priorityNode_),this.children_.isEmpty()&&de(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ku}updatePriority(e){return this.children_.isEmpty()?this:new ot(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ku:n}}getChild(e){const n=et(e);return n===null?this:this.getImmediateChild(n).getChild(xt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(de(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new tt(e,n);let s,o;n.isEmpty()?(s=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const a=s.isEmpty()?Ku:this.priorityNode_;return new ot(s,a,o)}}updateChild(e,n){const r=et(e);if(r===null)return n;{de(et(e)!==".priority"||Mo(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(xt(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,o=!0;if(this.forEachChild(Nn,(a,c)=>{n[a]=c.val(e),r++,o&&ot.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!e&&o&&s<2*r){const a=[];for(const c in n)a[c]=n[c];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Uk(this.getPriority().val())+":"),this.forEachChild(Nn,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":hk(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const o=s.getPredecessorKey(new tt(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new tt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new tt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,tt.Wrap);let o=s.peek();for(;o!=null&&n.compare(o,e)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,tt.Wrap);let o=s.peek();for(;o!=null&&n.compare(o,e)>0;)s.getNext(),o=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===hh?-1:0}withIndex(e){if(e===pc||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ot(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===pc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Nn),s=n.getIterator(Nn);let o=r.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===pc?null:this.indexMap_.get(e.toString())}}ot.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class qH extends ot{constructor(){super(new Gn(fx),ot.EMPTY_NODE,ii.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ot.EMPTY_NODE}isEmpty(){return!1}}const hh=new qH;Object.defineProperties(tt,{MIN:{value:new tt(Ac,ot.EMPTY_NODE)},MAX:{value:new tt(Fa,hh)}});Fk.__EMPTY_NODE=ot.EMPTY_NODE;en.__childrenNodeConstructor=ot;UH(hh);zH(hh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GH=!0;function Cn(t,e=null){if(t===null)return ot.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),de(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new en(n,Cn(e))}if(!(t instanceof Array)&&GH){const n=[];let r=!1;if(Sr(t,(a,c)=>{if(a.substring(0,1)!=="."){const d=Cn(c);d.isEmpty()||(r=r||!d.getPriority().isEmpty(),n.push(new tt(a,d)))}}),n.length===0)return ot.EMPTY_NODE;const o=Xp(n,FH,a=>a.name,fx);if(r){const a=Xp(n,Nn.getCompare());return new ot(o,Cn(e),new ii({".priority":a},{".priority":Nn}))}else return new ot(o,Cn(e),ii.Default)}else{let n=ot.EMPTY_NODE;return Sr(t,(r,s)=>{if(xi(t,r)&&r.substring(0,1)!=="."){const o=Cn(s);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Cn(e))}}BH(Cn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH extends zm{constructor(e){super(),this.indexPath_=e,de(!Xe(e)&&et(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),o=r.compareTo(s);return o===0?Wc(e.name,n.name):o}makePost(e,n){const r=Cn(e),s=ot.EMPTY_NODE.updateChild(this.indexPath_,r);return new tt(n,s)}maxPost(){const e=ot.EMPTY_NODE.updateChild(this.indexPath_,hh);return new tt(Fa,e)}toString(){return jk(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH extends zm{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Wc(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return tt.MIN}maxPost(){return tt.MAX}makePost(e,n){const r=Cn(e);return new tt(n,r)}toString(){return".value"}}const QH=new YH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XH(t){return{type:"value",snapshotNode:t}}function JH(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ZH(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function UI(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function eq(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Nn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return de(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return de(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ac}hasEnd(){return this.endSet_}getIndexEndValue(){return de(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return de(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Fa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return de(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Nn}copy(){const e=new px;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function BI(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Nn?n="$priority":t.index_===QH?n="$value":t.index_===pc?n="$key":(de(t.index_ instanceof KH,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=fn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=fn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+fn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=fn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+fn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function zI(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Nn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp extends kk{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(de(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=uh("p:rest:"),this.listens_={}}listen(e,n,r,s){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const a=Jp.getListenId_(e,r),c={};this.listens_[a]=c;const d=BI(e._queryParams);this.restRequest_(o+".json",d,(f,m)=>{let y=m;if(f===404&&(y=null,f=null),f===null&&this.onDataUpdate_(o,y,!1,r),xc(this.listens_,a)===c){let _;f?f===401?_="permission_denied":_="rest_error:"+f:_="ok",s(_,null)}})}unlisten(e,n){const r=Jp.getListenId_(e,n);delete this.listens_[r]}get(e){const n=BI(e._queryParams),r=e._path.toString(),s=new aw;return this.restRequest_(r+".json",n,(o,a)=>{let c=a;o===404&&(c=null,o=null),o===null?(this.onDataUpdate_(r,c,!1,null),s.resolve(c)):s.reject(new Error(c))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,o])=>{s&&s.accessToken&&(n.auth=s.accessToken),o&&o.token&&(n.ac=o.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Vc(n);this.log_("Sending REST request for "+a);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+a+" received. status:",c.status,"response:",c.responseText);let d=null;if(c.status>=200&&c.status<300){try{d=Rd(c.responseText)}catch{ir("Failed to parse JSON response for "+a+": "+c.responseText)}r(null,d)}else c.status!==401&&c.status!==404&&ir("Got unsuccessful REST response for "+a+" Status: "+c.status),r(c.status);r=null}},c.open("GET",a,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(){this.rootNode_=ot.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(){return{value:null,children:new Map}}function Wk(t,e,n){if(Xe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=et(e);t.children.has(r)||t.children.set(r,Zp());const s=t.children.get(r);e=xt(e),Wk(s,e,n)}}function $_(t,e,n){t.value!==null?n(e,t.value):nq(t,(r,s)=>{const o=new Et(e.toString()+"/"+r);$_(s,o,n)})}function nq(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Sr(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=10*1e3,sq=30*1e3,iq=5*60*1e3;class oq{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new rq(e);const r=$I+(sq-$I)*Math.random();vd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Sr(e,(s,o)=>{o>0&&xi(this.statsToReport_,s)&&(n[s]=o,r=!0)}),r&&this.server_.reportStats(n),vd(this.reportStats_.bind(this),Math.floor(Math.random()*2*iq))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vs;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(vs||(vs={}));function Hk(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function qk(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Gk(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=vs.ACK_USER_WRITE,this.source=Hk()}operationForChild(e){if(Xe(this.path)){if(this.affectedTree.value!=null)return de(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Et(e));return new em(ct(),n,this.revert)}}else return de(et(this.path)===e,"operationForChild called for unrelated child."),new em(xt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=vs.OVERWRITE}operationForChild(e){return Xe(this.path)?new Ua(this.source,ct(),this.snap.getImmediateChild(e)):new Ua(this.source,xt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=vs.MERGE}operationForChild(e){if(Xe(this.path)){const n=this.children.subtree(new Et(e));return n.isEmpty()?null:n.value?new Ua(this.source,ct(),n.value):new Bd(this.source,ct(),n)}else return de(et(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Bd(this.source,xt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Xe(e))return this.isFullyInitialized()&&!this.filtered_;const n=et(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function aq(t,e,n,r){const s=[],o=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(eq(a.childName,a.snapshotNode))}),Yu(t,s,"child_removed",e,r,n),Yu(t,s,"child_added",e,r,n),Yu(t,s,"child_moved",o,r,n),Yu(t,s,"child_changed",e,r,n),Yu(t,s,"value",e,r,n),s}function Yu(t,e,n,r,s,o){const a=r.filter(c=>c.type===n);a.sort((c,d)=>cq(t,c,d)),a.forEach(c=>{const d=lq(t,c,o);s.forEach(f=>{f.respondsTo(c.type)&&e.push(f.createEvent(d,t.query_))})})}function lq(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function cq(t,e,n){if(e.childName==null||n.childName==null)throw Lc("Should only compare child_ events.");const r=new tt(e.childName,e.snapshotNode),s=new tt(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(t,e){return{eventCache:t,serverCache:e}}function _d(t,e,n,r){return Kk(new mx(e,n,r),t.serverCache)}function Yk(t,e,n,r){return Kk(t.eventCache,new mx(e,n,r))}function W_(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ba(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xv;const uq=()=>(xv||(xv=new Gn(Q7)),xv);class wt{static fromObject(e){let n=new wt(null);return Sr(e,(r,s)=>{n=n.set(new Et(r),s)}),n}constructor(e,n=uq()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ct(),value:this.value};if(Xe(e))return null;{const r=et(e),s=this.children.get(r);if(s!==null){const o=s.findRootMostMatchingPathAndValue(xt(e),n);return o!=null?{path:rn(new Et(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Xe(e))return this;{const n=et(e),r=this.children.get(n);return r!==null?r.subtree(xt(e)):new wt(null)}}set(e,n){if(Xe(e))return new wt(n,this.children);{const r=et(e),o=(this.children.get(r)||new wt(null)).set(xt(e),n),a=this.children.insert(r,o);return new wt(this.value,a)}}remove(e){if(Xe(e))return this.children.isEmpty()?new wt(null):new wt(null,this.children);{const n=et(e),r=this.children.get(n);if(r){const s=r.remove(xt(e));let o;return s.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,s),this.value===null&&o.isEmpty()?new wt(null):new wt(this.value,o)}else return this}}get(e){if(Xe(e))return this.value;{const n=et(e),r=this.children.get(n);return r?r.get(xt(e)):null}}setTree(e,n){if(Xe(e))return n;{const r=et(e),o=(this.children.get(r)||new wt(null)).setTree(xt(e),n);let a;return o.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,o),new wt(this.value,a)}}fold(e){return this.fold_(ct(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,o)=>{r[s]=o.fold_(rn(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ct(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(Xe(e))return null;{const o=et(e),a=this.children.get(o);return a?a.findOnPath_(xt(e),rn(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ct(),n)}foreachOnPath_(e,n,r){if(Xe(e))return this;{this.value&&r(n,this.value);const s=et(e),o=this.children.get(s);return o?o.foreachOnPath_(xt(e),rn(n,s),r):new wt(null)}}foreach(e){this.foreach_(ct(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(rn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.writeTree_=e}static empty(){return new Wr(new wt(null))}}function wd(t,e,n){if(Xe(e))return new Wr(new wt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let o=r.value;const a=xr(s,e);return o=o.updateChild(a,n),new Wr(t.writeTree_.set(s,o))}else{const s=new wt(n),o=t.writeTree_.setTree(e,s);return new Wr(o)}}}function WI(t,e,n){let r=t;return Sr(n,(s,o)=>{r=wd(r,rn(e,s),o)}),r}function HI(t,e){if(Xe(e))return Wr.empty();{const n=t.writeTree_.setTree(e,new wt(null));return new Wr(n)}}function H_(t,e){return nl(t,e)!=null}function nl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(xr(n.path,e)):null}function qI(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Nn,(r,s)=>{e.push(new tt(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new tt(r,s.value))}),e}function vo(t,e){if(Xe(e))return t;{const n=nl(t,e);return n!=null?new Wr(new wt(n)):new Wr(t.writeTree_.subtree(e))}}function q_(t){return t.writeTree_.isEmpty()}function Rc(t,e){return Qk(ct(),t.writeTree_,e)}function Qk(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,o)=>{s===".priority"?(de(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=Qk(rn(t,s),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(rn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(t,e){return n2(e,t)}function dq(t,e,n,r,s){de(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=wd(t.visibleWrites,e,n)),t.lastWriteId=r}function hq(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function fq(t,e){const n=t.allWrites.findIndex(c=>c.writeId===e);de(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,o=!1,a=t.allWrites.length-1;for(;s&&a>=0;){const c=t.allWrites[a];c.visible&&(a>=n&&pq(c,r.path)?s=!1:Br(r.path,c.path)&&(o=!0)),a--}if(s){if(o)return mq(t),!0;if(r.snap)t.visibleWrites=HI(t.visibleWrites,r.path);else{const c=r.children;Sr(c,d=>{t.visibleWrites=HI(t.visibleWrites,rn(r.path,d))})}return!0}else return!1}function pq(t,e){if(t.snap)return Br(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Br(rn(t.path,n),e))return!0;return!1}function mq(t){t.visibleWrites=Jk(t.allWrites,gq,ct()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function gq(t){return t.visible}function Jk(t,e,n){let r=Wr.empty();for(let s=0;s<t.length;++s){const o=t[s];if(e(o)){const a=o.path;let c;if(o.snap)Br(n,a)?(c=xr(n,a),r=wd(r,c,o.snap)):Br(a,n)&&(c=xr(a,n),r=wd(r,ct(),o.snap.getChild(c)));else if(o.children){if(Br(n,a))c=xr(n,a),r=WI(r,c,o.children);else if(Br(a,n))if(c=xr(a,n),Xe(c))r=WI(r,ct(),o.children);else{const d=xc(o.children,et(c));if(d){const f=d.getChild(xt(c));r=wd(r,ct(),f)}}}else throw Lc("WriteRecord should have .snap or .children")}}return r}function Zk(t,e,n,r,s){if(!r&&!s){const o=nl(t.visibleWrites,e);if(o!=null)return o;{const a=vo(t.visibleWrites,e);if(q_(a))return n;if(n==null&&!H_(a,ct()))return null;{const c=n||ot.EMPTY_NODE;return Rc(a,c)}}}else{const o=vo(t.visibleWrites,e);if(!s&&q_(o))return n;if(!s&&n==null&&!H_(o,ct()))return null;{const a=function(f){return(f.visible||s)&&(!r||!~r.indexOf(f.writeId))&&(Br(f.path,e)||Br(e,f.path))},c=Jk(t.allWrites,a,e),d=n||ot.EMPTY_NODE;return Rc(c,d)}}}function yq(t,e,n){let r=ot.EMPTY_NODE;const s=nl(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Nn,(o,a)=>{r=r.updateImmediateChild(o,a)}),r;if(n){const o=vo(t.visibleWrites,e);return n.forEachChild(Nn,(a,c)=>{const d=Rc(vo(o,new Et(a)),c);r=r.updateImmediateChild(a,d)}),qI(o).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const o=vo(t.visibleWrites,e);return qI(o).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function vq(t,e,n,r,s){de(r||s,"Either existingEventSnap or existingServerSnap must exist");const o=rn(e,n);if(H_(t.visibleWrites,o))return null;{const a=vo(t.visibleWrites,o);return q_(a)?s.getChild(n):Rc(a,s.getChild(n))}}function _q(t,e,n,r){const s=rn(e,n),o=nl(t.visibleWrites,s);if(o!=null)return o;if(r.isCompleteForChild(n)){const a=vo(t.visibleWrites,s);return Rc(a,r.getNode().getImmediateChild(n))}else return null}function wq(t,e){return nl(t.visibleWrites,e)}function xq(t,e,n,r,s,o,a){let c;const d=vo(t.visibleWrites,e),f=nl(d,ct());if(f!=null)c=f;else if(n!=null)c=Rc(d,n);else return[];if(c=c.withIndex(a),!c.isEmpty()&&!c.isLeafNode()){const m=[],y=a.getCompare(),_=o?c.getReverseIteratorFrom(r,a):c.getIteratorFrom(r,a);let T=_.getNext();for(;T&&m.length<s;)y(T,r)!==0&&m.push(T),T=_.getNext();return m}else return[]}function Eq(){return{visibleWrites:Wr.empty(),allWrites:[],lastWriteId:-1}}function G_(t,e,n,r){return Zk(t.writeTree,t.treePath,e,n,r)}function e2(t,e){return yq(t.writeTree,t.treePath,e)}function GI(t,e,n,r){return vq(t.writeTree,t.treePath,e,n,r)}function tm(t,e){return wq(t.writeTree,rn(t.treePath,e))}function Tq(t,e,n,r,s,o){return xq(t.writeTree,t.treePath,e,n,r,s,o)}function gx(t,e,n){return _q(t.writeTree,t.treePath,e,n)}function t2(t,e){return n2(rn(t.treePath,e),t.writeTree)}function n2(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;de(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),de(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const o=s.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,UI(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,ZH(r,s.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,JH(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,UI(r,e.snapshotNode,s.oldSnap));else throw Lc("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const r2=new Sq;class yx{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new mx(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return gx(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ba(this.viewCache_),o=Tq(this.writes_,s,n,1,r,e);return o.length===0?null:o[0]}}function Cq(t,e){de(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),de(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Iq(t,e,n,r,s){const o=new bq;let a,c;if(n.type===vs.OVERWRITE){const f=n;f.source.fromUser?a=K_(t,e,f.path,f.snap,r,s,o):(de(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.serverCache.isFiltered()&&!Xe(f.path),a=nm(t,e,f.path,f.snap,r,s,c,o))}else if(n.type===vs.MERGE){const f=n;f.source.fromUser?a=Aq(t,e,f.path,f.children,r,s,o):(de(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.serverCache.isFiltered(),a=Y_(t,e,f.path,f.children,r,s,c,o))}else if(n.type===vs.ACK_USER_WRITE){const f=n;f.revert?a=kq(t,e,f.path,r,s,o):a=Rq(t,e,f.path,f.affectedTree,r,s,o)}else if(n.type===vs.LISTEN_COMPLETE)a=Pq(t,e,n.path,r,o);else throw Lc("Unknown operation type: "+n.type);const d=o.getChanges();return Nq(e,a,d),{viewCache:a,changes:d}}function Nq(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=W_(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(XH(W_(e)))}}function s2(t,e,n,r,s,o){const a=e.eventCache;if(tm(r,n)!=null)return e;{let c,d;if(Xe(n))if(de(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=Ba(e),m=f instanceof ot?f:ot.EMPTY_NODE,y=e2(r,m);c=t.filter.updateFullNode(e.eventCache.getNode(),y,o)}else{const f=G_(r,Ba(e));c=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const f=et(n);if(f===".priority"){de(Mo(n)===1,"Can't have a priority with additional path components");const m=a.getNode();d=e.serverCache.getNode();const y=GI(r,n,m,d);y!=null?c=t.filter.updatePriority(m,y):c=a.getNode()}else{const m=xt(n);let y;if(a.isCompleteForChild(f)){d=e.serverCache.getNode();const _=GI(r,n,a.getNode(),d);_!=null?y=a.getNode().getImmediateChild(f).updateChild(m,_):y=a.getNode().getImmediateChild(f)}else y=gx(r,f,e.serverCache);y!=null?c=t.filter.updateChild(a.getNode(),f,y,m,s,o):c=a.getNode()}}return _d(e,c,a.isFullyInitialized()||Xe(n),t.filter.filtersNodes())}}function nm(t,e,n,r,s,o,a,c){const d=e.serverCache;let f;const m=a?t.filter:t.filter.getIndexedFilter();if(Xe(n))f=m.updateFullNode(d.getNode(),r,null);else if(m.filtersNodes()&&!d.isFiltered()){const T=d.getNode().updateChild(n,r);f=m.updateFullNode(d.getNode(),T,null)}else{const T=et(n);if(!d.isCompleteForPath(n)&&Mo(n)>1)return e;const I=xt(n),C=d.getNode().getImmediateChild(T).updateChild(I,r);T===".priority"?f=m.updatePriority(d.getNode(),C):f=m.updateChild(d.getNode(),T,C,I,r2,null)}const y=Yk(e,f,d.isFullyInitialized()||Xe(n),m.filtersNodes()),_=new yx(s,y,o);return s2(t,y,n,s,_,c)}function K_(t,e,n,r,s,o,a){const c=e.eventCache;let d,f;const m=new yx(s,e,o);if(Xe(n))f=t.filter.updateFullNode(e.eventCache.getNode(),r,a),d=_d(e,f,!0,t.filter.filtersNodes());else{const y=et(n);if(y===".priority")f=t.filter.updatePriority(e.eventCache.getNode(),r),d=_d(e,f,c.isFullyInitialized(),c.isFiltered());else{const _=xt(n),T=c.getNode().getImmediateChild(y);let I;if(Xe(_))I=r;else{const b=m.getCompleteChild(y);b!=null?Mk(_)===".priority"&&b.getChild(Ok(_)).isEmpty()?I=b:I=b.updateChild(_,r):I=ot.EMPTY_NODE}if(T.equals(I))d=e;else{const b=t.filter.updateChild(c.getNode(),y,I,_,m,a);d=_d(e,b,c.isFullyInitialized(),t.filter.filtersNodes())}}}return d}function KI(t,e){return t.eventCache.isCompleteForChild(e)}function Aq(t,e,n,r,s,o,a){let c=e;return r.foreach((d,f)=>{const m=rn(n,d);KI(e,et(m))&&(c=K_(t,c,m,f,s,o,a))}),r.foreach((d,f)=>{const m=rn(n,d);KI(e,et(m))||(c=K_(t,c,m,f,s,o,a))}),c}function YI(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Y_(t,e,n,r,s,o,a,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,f;Xe(n)?f=r:f=new wt(null).setTree(n,r);const m=e.serverCache.getNode();return f.children.inorderTraversal((y,_)=>{if(m.hasChild(y)){const T=e.serverCache.getNode().getImmediateChild(y),I=YI(t,T,_);d=nm(t,d,new Et(y),I,s,o,a,c)}}),f.children.inorderTraversal((y,_)=>{const T=!e.serverCache.isCompleteForChild(y)&&_.value===null;if(!m.hasChild(y)&&!T){const I=e.serverCache.getNode().getImmediateChild(y),b=YI(t,I,_);d=nm(t,d,new Et(y),b,s,o,a,c)}}),d}function Rq(t,e,n,r,s,o,a){if(tm(s,n)!=null)return e;const c=e.serverCache.isFiltered(),d=e.serverCache;if(r.value!=null){if(Xe(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return nm(t,e,n,d.getNode().getChild(n),s,o,c,a);if(Xe(n)){let f=new wt(null);return d.getNode().forEachChild(pc,(m,y)=>{f=f.set(new Et(m),y)}),Y_(t,e,n,f,s,o,c,a)}else return e}else{let f=new wt(null);return r.foreach((m,y)=>{const _=rn(n,m);d.isCompleteForPath(_)&&(f=f.set(m,d.getNode().getChild(_)))}),Y_(t,e,n,f,s,o,c,a)}}function Pq(t,e,n,r,s){const o=e.serverCache,a=Yk(e,o.getNode(),o.isFullyInitialized()||Xe(n),o.isFiltered());return s2(t,a,n,r,r2,s)}function kq(t,e,n,r,s,o){let a;if(tm(r,n)!=null)return e;{const c=new yx(r,e,s),d=e.eventCache.getNode();let f;if(Xe(n)||et(n)===".priority"){let m;if(e.serverCache.isFullyInitialized())m=G_(r,Ba(e));else{const y=e.serverCache.getNode();de(y instanceof ot,"serverChildren would be complete if leaf node"),m=e2(r,y)}m=m,f=t.filter.updateFullNode(d,m,o)}else{const m=et(n);let y=gx(r,m,e.serverCache);y==null&&e.serverCache.isCompleteForChild(m)&&(y=d.getImmediateChild(m)),y!=null?f=t.filter.updateChild(d,m,y,xt(n),c,o):e.eventCache.getNode().hasChild(m)?f=t.filter.updateChild(d,m,ot.EMPTY_NODE,xt(n),c,o):f=d,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=G_(r,Ba(e)),a.isLeafNode()&&(f=t.filter.updateFullNode(f,a,o)))}return a=e.serverCache.isFullyInitialized()||tm(r,ct())!=null,_d(e,f,a,t.filter.filtersNodes())}}function Dq(t,e){const n=Ba(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Xe(e)&&!n.getImmediateChild(et(e)).isEmpty())?n.getChild(e):null}function QI(t,e,n,r){e.type===vs.MERGE&&e.source.queryId!==null&&(de(Ba(t.viewCache_),"We should always have a full cache before handling merges"),de(W_(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,o=Iq(t.processor_,s,e,n,r);return Cq(t.processor_,o.viewCache),de(o.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,Mq(t,o.changes,o.viewCache.eventCache.getNode())}function Mq(t,e,n,r){const s=t.eventRegistrations_;return aq(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XI;function jq(t){de(!XI,"__referenceConstructor has already been defined"),XI=t}function vx(t,e,n,r){const s=e.source.queryId;if(s!==null){const o=t.views.get(s);return de(o!=null,"SyncTree gave us an op for an invalid query."),QI(o,e,n,r)}else{let o=[];for(const a of t.views.values())o=o.concat(QI(a,e,n,r));return o}}function _x(t,e){let n=null;for(const r of t.views.values())n=n||Dq(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JI;function Oq(t){de(!JI,"__referenceConstructor has already been defined"),JI=t}class ZI{constructor(e){this.listenProvider_=e,this.syncPointTree_=new wt(null),this.pendingWriteTree_=Eq(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Lq(t,e,n,r,s){return dq(t.pendingWriteTree_,e,n,r,s),s?Wm(t,new Ua(Hk(),e,n)):[]}function ac(t,e,n=!1){const r=hq(t.pendingWriteTree_,e);if(fq(t.pendingWriteTree_,e)){let o=new wt(null);return r.snap!=null?o=o.set(ct(),!0):Sr(r.children,a=>{o=o.set(new Et(a),!0)}),Wm(t,new em(r.path,o,n))}else return[]}function $m(t,e,n){return Wm(t,new Ua(qk(),e,n))}function Vq(t,e,n){const r=wt.fromObject(n);return Wm(t,new Bd(qk(),e,r))}function Fq(t,e,n,r){const s=l2(t,r);if(s!=null){const o=c2(s),a=o.path,c=o.queryId,d=xr(a,e),f=new Ua(Gk(c),d,n);return u2(t,a,f)}else return[]}function Uq(t,e,n,r){const s=l2(t,r);if(s){const o=c2(s),a=o.path,c=o.queryId,d=xr(a,e),f=wt.fromObject(n),m=new Bd(Gk(c),d,f);return u2(t,a,m)}else return[]}function i2(t,e,n){const s=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(a,c)=>{const d=xr(a,e),f=_x(c,d);if(f)return f});return Zk(s,e,o,n,!0)}function Wm(t,e){return o2(e,t.syncPointTree_,null,Xk(t.pendingWriteTree_,ct()))}function o2(t,e,n,r){if(Xe(t.path))return a2(t,e,n,r);{const s=e.get(ct());n==null&&s!=null&&(n=_x(s,ct()));let o=[];const a=et(t.path),c=t.operationForChild(a),d=e.children.get(a);if(d&&c){const f=n?n.getImmediateChild(a):null,m=t2(r,a);o=o.concat(o2(c,d,f,m))}return s&&(o=o.concat(vx(s,t,r,n))),o}}function a2(t,e,n,r){const s=e.get(ct());n==null&&s!=null&&(n=_x(s,ct()));let o=[];return e.children.inorderTraversal((a,c)=>{const d=n?n.getImmediateChild(a):null,f=t2(r,a),m=t.operationForChild(a);m&&(o=o.concat(a2(m,c,d,f)))}),s&&(o=o.concat(vx(s,t,r,n))),o}function l2(t,e){return t.tagToQueryMap.get(e)}function c2(t){const e=t.indexOf("$");return de(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Et(t.substr(0,e))}}function u2(t,e,n){const r=t.syncPointTree_.get(e);de(r,"Missing sync point for query tag that we're tracking");const s=Xk(t.pendingWriteTree_,e);return vx(r,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new wx(n)}node(){return this.node_}}class xx{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=rn(this.path_,e);return new xx(this.syncTree_,n)}node(){return i2(this.syncTree_,this.path_)}}const Bq=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},e1=function(t,e,n){if(!t||typeof t!="object")return t;if(de(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return zq(t[".sv"],e,n);if(typeof t[".sv"]=="object")return $q(t[".sv"],e);de(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},zq=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:de(!1,"Unexpected server value: "+t)}},$q=function(t,e,n){t.hasOwnProperty("increment")||de(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&de(!1,"Unexpected increment value: "+r);const s=e.node();if(de(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const a=s.getValue();return typeof a!="number"?r:a+r},Wq=function(t,e,n,r){return Ex(e,new xx(n,t),r)},Hq=function(t,e,n){return Ex(t,new wx(e),n)};function Ex(t,e,n){const r=t.getPriority().val(),s=e1(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const a=t,c=e1(a.getValue(),e,n);return c!==a.getValue()||s!==a.getPriority().val()?new en(c,Cn(s)):t}else{const a=t;return o=a,s!==a.getPriority().val()&&(o=o.updatePriority(new en(s))),a.forEachChild(Nn,(c,d)=>{const f=Ex(d,e.getImmediateChild(c),n);f!==d&&(o=o.updateImmediateChild(c,f))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function bx(t,e){let n=e instanceof Et?e:new Et(e),r=t,s=et(n);for(;s!==null;){const o=xc(r.node.children,s)||{children:{},childCount:0};r=new Tx(s,r,o),n=xt(n),s=et(n)}return r}function Hc(t){return t.node.value}function d2(t,e){t.node.value=e,Q_(t)}function h2(t){return t.node.childCount>0}function qq(t){return Hc(t)===void 0&&!h2(t)}function Hm(t,e){Sr(t.node.children,(n,r)=>{e(new Tx(n,t,r))})}function f2(t,e,n,r){n&&e(t),Hm(t,s=>{f2(s,e,!0)})}function Gq(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function fh(t){return new Et(t.parent===null?t.name:fh(t.parent)+"/"+t.name)}function Q_(t){t.parent!==null&&Kq(t.parent,t.name,t)}function Kq(t,e,n){const r=qq(n),s=xi(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Q_(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Q_(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq=/[\[\].#$\/\u0000-\u001F\u007F]/,Qq=/[\[\].#$\u0000-\u001F\u007F]/,Ev=10*1024*1024,p2=function(t){return typeof t=="string"&&t.length!==0&&!Yq.test(t)},Xq=function(t){return typeof t=="string"&&t.length!==0&&!Qq.test(t)},Jq=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Xq(t)},m2=function(t,e,n){const r=n instanceof Et?new PH(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+wa(r));if(typeof e=="function")throw new Error(t+"contains a function "+wa(r)+" with contents = "+e.toString());if(fk(e))throw new Error(t+"contains "+e.toString()+" "+wa(r));if(typeof e=="string"&&e.length>Ev/3&&wm(e)>Ev)throw new Error(t+"contains a string greater than "+Ev+" utf8 bytes "+wa(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,o=!1;if(Sr(e,(a,c)=>{if(a===".value")s=!0;else if(a!==".priority"&&a!==".sv"&&(o=!0,!p2(a)))throw new Error(t+" contains an invalid key ("+a+") "+wa(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);kH(r,a),m2(t,c,r),DH(r)}),s&&o)throw new Error(t+' contains ".value" child '+wa(r)+" in addition to actual children.")}},Zq=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!p2(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Jq(n))throw new Error(ZU(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function tG(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],o=s.getPath();n!==null&&!Lk(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(s)}n&&t.eventLists_.push(n)}function rl(t,e,n){tG(t,n),nG(t,r=>Br(r,e)||Br(e,r))}function nG(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const o=s.path;e(o)?(rG(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function rG(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();yd&&Sn("event: "+n.toString()),dh(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sG="repo_interrupt",iG=25;class oG{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new eG,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zp(),this.transactionQueueTree_=new Tx,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function aG(t,e,n){if(t.stats_=ux(t.repoInfo_),t.forceRestClient_||nH())t.server_=new Jp(t.repoInfo_,(r,s,o,a)=>{t1(t,r,s,o,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>n1(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{fn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new li(t.repoInfo_,e,(r,s,o,a)=>{t1(t,r,s,o,a)},r=>{n1(t,r)},r=>{cG(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=aH(t.repoInfo_,()=>new oq(t.stats_,t.server_)),t.infoData_=new tq,t.infoSyncTree_=new ZI({startListening:(r,s,o,a)=>{let c=[];const d=t.infoData_.getNode(r._path);return d.isEmpty()||(c=$m(t.infoSyncTree_,r._path,d),setTimeout(()=>{a("ok")},0)),c},stopListening:()=>{}}),Sx(t,"connected",!1),t.serverSyncTree_=new ZI({startListening:(r,s,o,a)=>(t.server_.listen(r,o,s,(c,d)=>{const f=a(c,d);rl(t.eventQueue_,r._path,f)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function lG(t){const n=t.infoData_.getNode(new Et(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function g2(t){return Bq({timestamp:lG(t)})}function t1(t,e,n,r,s){t.dataUpdateCount++;const o=new Et(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(s)if(r){const d=Ap(n,f=>Cn(f));a=Uq(t.serverSyncTree_,o,d,s)}else{const d=Cn(n);a=Fq(t.serverSyncTree_,o,d,s)}else if(r){const d=Ap(n,f=>Cn(f));a=Vq(t.serverSyncTree_,o,d)}else{const d=Cn(n);a=$m(t.serverSyncTree_,o,d)}let c=o;a.length>0&&(c=Ix(t,o)),rl(t.eventQueue_,c,a)}function n1(t,e){Sx(t,"connected",e),e===!1&&dG(t)}function cG(t,e){Sr(e,(n,r)=>{Sx(t,n,r)})}function Sx(t,e,n){const r=new Et("/.info/"+e),s=Cn(n);t.infoData_.updateSnapshot(r,s);const o=$m(t.infoSyncTree_,r,s);rl(t.eventQueue_,r,o)}function uG(t){return t.nextWriteId_++}function dG(t){y2(t,"onDisconnectEvents");const e=g2(t),n=Zp();$_(t.onDisconnect_,ct(),(s,o)=>{const a=Wq(s,o,t.serverSyncTree_,e);Wk(n,s,a)});let r=[];$_(n,ct(),(s,o)=>{r=r.concat($m(t.serverSyncTree_,s,o));const a=mG(t,s);Ix(t,a)}),t.onDisconnect_=Zp(),rl(t.eventQueue_,ct(),r)}function hG(t){t.persistentConnection_&&t.persistentConnection_.interrupt(sG)}function y2(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Sn(n,...e)}function v2(t,e,n){return i2(t.serverSyncTree_,e,n)||ot.EMPTY_NODE}function Cx(t,e=t.transactionQueueTree_){if(e||qm(t,e),Hc(e)){const n=w2(t,e);de(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&fG(t,fh(e),n)}else h2(e)&&Hm(e,n=>{Cx(t,n)})}function fG(t,e,n){const r=n.map(f=>f.currentWriteId),s=v2(t,e,r);let o=s;const a=s.hash();for(let f=0;f<n.length;f++){const m=n[f];de(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const y=xr(e,m.path);o=o.updateChild(y,m.currentOutputSnapshotRaw)}const c=o.val(!0),d=e;t.server_.put(d.toString(),c,f=>{y2(t,"transaction put response",{path:d.toString(),status:f});let m=[];if(f==="ok"){const y=[];for(let _=0;_<n.length;_++)n[_].status=2,m=m.concat(ac(t.serverSyncTree_,n[_].currentWriteId)),n[_].onComplete&&y.push(()=>n[_].onComplete(null,!0,n[_].currentOutputSnapshotResolved)),n[_].unwatcher();qm(t,bx(t.transactionQueueTree_,e)),Cx(t,t.transactionQueueTree_),rl(t.eventQueue_,e,m);for(let _=0;_<y.length;_++)dh(y[_])}else{if(f==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{ir("transaction at "+d.toString()+" failed: "+f);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=f}Ix(t,e)}},a)}function Ix(t,e){const n=_2(t,e),r=fh(n),s=w2(t,n);return pG(t,s,r),r}function pG(t,e,n){if(e.length===0)return;const r=[];let s=[];const a=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const d=e[c],f=xr(n,d.path);let m=!1,y;if(de(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)m=!0,y=d.abortReason,s=s.concat(ac(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=iG)m=!0,y="maxretry",s=s.concat(ac(t.serverSyncTree_,d.currentWriteId,!0));else{const _=v2(t,d.path,a);d.currentInputSnapshot=_;const T=e[c].update(_.val());if(T!==void 0){m2("transaction failed: Data returned ",T,d.path);let I=Cn(T);typeof T=="object"&&T!=null&&xi(T,".priority")||(I=I.updatePriority(_.getPriority()));const C=d.currentWriteId,R=g2(t),O=Hq(I,_,R);d.currentOutputSnapshotRaw=I,d.currentOutputSnapshotResolved=O,d.currentWriteId=uG(t),a.splice(a.indexOf(C),1),s=s.concat(Lq(t.serverSyncTree_,d.path,O,d.currentWriteId,d.applyLocally)),s=s.concat(ac(t.serverSyncTree_,C,!0))}else m=!0,y="nodata",s=s.concat(ac(t.serverSyncTree_,d.currentWriteId,!0))}rl(t.eventQueue_,n,s),s=[],m&&(e[c].status=2,function(_){setTimeout(_,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(y==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(y),!1,null))))}qm(t,t.transactionQueueTree_);for(let c=0;c<r.length;c++)dh(r[c]);Cx(t,t.transactionQueueTree_)}function _2(t,e){let n,r=t.transactionQueueTree_;for(n=et(e);n!==null&&Hc(r)===void 0;)r=bx(r,n),e=xt(e),n=et(e);return r}function w2(t,e){const n=[];return x2(t,e,n),n.sort((r,s)=>r.order-s.order),n}function x2(t,e,n){const r=Hc(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Hm(e,s=>{x2(t,s,n)})}function qm(t,e){const n=Hc(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,d2(e,n.length>0?n:void 0)}Hm(e,r=>{qm(t,r)})}function mG(t,e){const n=fh(_2(t,e)),r=bx(t.transactionQueueTree_,e);return Gq(r,s=>{Tv(t,s)}),Tv(t,r),f2(r,s=>{Tv(t,s)}),n}function Tv(t,e){const n=Hc(e);if(n){const r=[];let s=[],o=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(de(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(de(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),s=s.concat(ac(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));o===-1?d2(e,void 0):n.length=o+1,rl(t.eventQueue_,fh(e),s);for(let a=0;a<r.length;a++)dh(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gG(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function yG(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ir(`Invalid query segment '${n}' in query '${t}'`)}return e}const r1=function(t,e){const n=vG(t),r=n.namespace;n.domain==="firebase.com"&&gi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&gi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||K7();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Sk(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new Et(n.pathString)}},vG=function(t){let e="",n="",r="",s="",o="",a=!0,c="https",d=443;if(typeof t=="string"){let f=t.indexOf("//");f>=0&&(c=t.substring(0,f-1),t=t.substring(f+2));let m=t.indexOf("/");m===-1&&(m=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(m,y)),m<y&&(s=gG(t.substring(m,y)));const _=yG(t.substring(Math.min(t.length,y)));f=e.indexOf(":"),f>=0?(a=c==="https"||c==="wss",d=parseInt(e.substring(f+1),10)):f=e.length;const T=e.slice(0,f);if(T.toLowerCase()==="localhost")n="localhost";else if(T.split(".").length<=2)n=T;else{const I=e.indexOf(".");r=e.substring(0,I).toLowerCase(),n=e.substring(I+1),o=r}"ns"in _&&(o=_.ns)}return{host:e,port:d,domain:n,subdomain:r,secure:a,scheme:c,pathString:s,namespace:o}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return Xe(this._path)?null:Mk(this._path)}get ref(){return new qc(this._repo,this._path)}get _queryIdentifier(){const e=zI(this._queryParams),n=lx(e);return n==="{}"?"default":n}get _queryObject(){return zI(this._queryParams)}isEqual(e){if(e=sn(e),!(e instanceof Nx))return!1;const n=this._repo===e._repo,r=Lk(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+RH(this._path)}}class qc extends Nx{constructor(e,n){super(e,n,new px,!1)}get parent(){const e=Ok(this._path);return e===null?null:new qc(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}jq(qc);Oq(qc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _G="FIREBASE_DATABASE_EMULATOR_HOST",X_={};let wG=!1;function xG(t,e,n,r){const s=e.lastIndexOf(":"),o=e.substring(0,s),a=Fo(o);t.repoInfo_=new Sk(e,a,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function EG(t,e,n,r,s){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||gi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Sn("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=r1(o,s),c=a.repoInfo,d;typeof process<"u"&&TI&&(d=TI[_G]),d?(o=`http://${d}?ns=${c.namespace}`,a=r1(o,s),c=a.repoInfo):a.repoInfo.secure;const f=new sH(t.name,t.options,e);Zq("Invalid Firebase Database URL",a),Xe(a.path)||gi("Database URL must point to the root of a Firebase Database (not including a child path).");const m=bG(c,t,f,new rH(t,n));return new SG(m,t)}function TG(t,e){const n=X_[e];(!n||n[t.key]!==t)&&gi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),hG(t),delete n[t.key]}function bG(t,e,n,r){let s=X_[e.name];s||(s={},X_[e.name]=s);let o=s[t.toURLString()];return o&&gi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new oG(t,wG,n,r),s[t.toURLString()]=o,o}class SG{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(aG(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new qc(this._repo,ct())),this._rootInternal}_delete(){return this._rootInternal!==null&&(TG(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&gi("Cannot call "+e+" on a deleted database.")}}function CG(t=hw(),e){const n=Em(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=$A("database");r&&IG(n,...r)}return n}function IG(t,e,n,r={}){t=sn(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,o=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&Co(r,o.repoInfo_.emulatorOptions))return;gi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&gi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new gp(gp.OWNER);else if(r.mockUserToken){const c=typeof r.mockUserToken=="string"?r.mockUserToken:qA(r.mockUserToken,t.app.options.projectId);a=new gp(c)}Fo(e)&&(lw(e),cw("Database",!0)),xG(o,s,r,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NG(t){z7(Qa),Da(new Io("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return EG(r,s,o,n)},"PUBLIC").setMultipleInstances(!0)),Es(bI,SI,t),Es(bI,SI,"esm2020")}li.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};li.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};NG();const rm={apiKey:"AIzaSyDNquPgsG3jrYRODTOgH1cACJdc8PWCBbc",authDomain:"cemar-counseling-e8ea3.firebaseapp.com",projectId:"cemar-counseling-e8ea3",storageBucket:"cemar-counseling-e8ea3.firebasestorage.app",messagingSenderId:"1081149760081",appId:"1:1081149760081:web:5ec55812689c86b469ce70",databaseURL:"https://cemar-counseling-e8ea3-default-rtdb.firebaseio.com"};(!rm.apiKey||!rm.projectId)&&console.error("Firebase configuration is incomplete. Please check your .env.local file.");const Ax=XA(rm),Pa=bz(Ax),E2=new ni;E2.setCustomParameters({prompt:"select_account"});CG(Ax,rm.databaseURL);const mc=T7(Ax);function or(){return typeof window>"u"?!1:localStorage.getItem("authToken")!==null}function Gm(t,e){typeof window>"u"||(t&&e?localStorage.setItem("authToken",e):(localStorage.removeItem("authToken"),localStorage.removeItem("userData")),window.dispatchEvent(new Event("storage")))}function ph(){if(!or())return null;const t=localStorage.getItem("userData");if(!t)return null;try{return JSON.parse(t)}catch{return null}}function Rx(t){localStorage.setItem("userData",JSON.stringify(t))}async function T2(t,e){try{const n=Xw(mc,"users",t),r=Object.fromEntries(Object.entries(e).filter(([s,o])=>o!==void 0));await L7(n,{...r,createdAt:F_(),updatedAt:F_()},{merge:!0})}catch(n){throw console.error("Error saving user to Firestore:",n),n}}async function AG(t){try{const e=Xw(mc,"users",t),n=await O7(e);return n.exists()?n.data():null}catch(e){return console.error("Error fetching user from Firestore:",e),null}}async function RG(){var t;try{const n=(await DB(Pa,E2)).user,r={id:n.uid,name:n.displayName||((t=n.email)==null?void 0:t.split("@")[0])||"User",email:n.email||"",avatar:n.photoURL||void 0};return await T2(n.uid,{...r,role:"client"}),Rx(r),Gm(!0,n.uid),r}catch(e){console.error("Error signing in with Google:",e);const n=Px(e);throw new Error(n)}}async function PG(t,e,n){try{const s=(await aB(Pa,e,n)).user;try{await uB(s,{displayName:t})}catch(a){console.warn("Warning: could not update profile displayName",a)}const o={id:s.uid,name:t,email:e,avatar:s.photoURL||void 0};return await T2(s.uid,{...o,role:"client"}),Rx(o),Gm(!0,s.uid),o}catch(r){console.error("Error signing up:",r);const s=Px(r);throw new Error(s)}}async function kG(t,e){if(!t||!e)throw new Error("Email and password are required.");try{const r=(await lB(Pa,t,e)).user,s=await AG(r.uid);if(!s)throw new Error("User profile not found");const o={id:r.uid,name:s.name,email:r.email||"",avatar:s.avatar};return Rx(o),Gm(!0,r.uid),o}catch(n){console.error("Error logging in:",n);const r=Px(n);throw new Error(r)}}function Px(t){if(!t)return"Authentication error";switch(t.code||""){case"auth/email-already-in-use":return"This email is already in use. Try logging in or use a different email.";case"auth/invalid-email":return"The email address is invalid.";case"auth/operation-not-allowed":return"Email/password sign-in is not enabled. Enable it in Firebase Console  Authentication  Sign-in method.";case"auth/weak-password":return"Password is too weak. Use at least 6 characters.";case"auth/wrong-password":return"Incorrect password. Please try again.";case"auth/user-not-found":return"No user found with this email. Please sign up first.";case"auth/user-disabled":return"This user account has been disabled.";case"auth/popup-closed-by-user":return"Sign-in popup closed before completing sign-in.";default:return t.message||"Authentication error"}}async function DG(){try{return await fB(Pa),localStorage.removeItem("userData"),localStorage.removeItem("authToken"),Gm(!1),!0}catch(t){throw console.error("Error logging out:",t),t}}function Te(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function MG(t,e){const n=E.createContext(e),r=o=>{const{children:a,...c}=o,d=E.useMemo(()=>c,Object.values(c));return h.jsx(n.Provider,{value:d,children:a})};r.displayName=t+"Provider";function s(o){const a=E.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function Yr(t,e=[]){let n=[];function r(o,a){const c=E.createContext(a),d=n.length;n=[...n,a];const f=y=>{var R;const{scope:_,children:T,...I}=y,b=((R=_==null?void 0:_[t])==null?void 0:R[d])||c,C=E.useMemo(()=>I,Object.values(I));return h.jsx(b.Provider,{value:C,children:T})};f.displayName=o+"Provider";function m(y,_){var b;const T=((b=_==null?void 0:_[t])==null?void 0:b[d])||c,I=E.useContext(T);if(I)return I;if(a!==void 0)return a;throw new Error(`\`${y}\` must be used within \`${o}\``)}return[f,m]}const s=()=>{const o=n.map(a=>E.createContext(a));return function(c){const d=(c==null?void 0:c[t])||o;return E.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return s.scopeName=t,[r,jG(s,...e)]}function jG(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=r.reduce((c,{useScope:d,scopeName:f})=>{const y=d(o)[`__scope${f}`];return{...c,...y}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var Yt=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},OG=y0[" useInsertionEffect ".trim().toString()]||Yt;function za({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,o,a]=LG({defaultProp:e,onChange:n}),c=t!==void 0,d=c?t:s;{const m=E.useRef(t!==void 0);E.useEffect(()=>{const y=m.current;y!==c&&console.warn(`${r} is changing from ${y?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,r])}const f=E.useCallback(m=>{var y;if(c){const _=VG(m)?m(t):m;_!==t&&((y=a.current)==null||y.call(a,_))}else o(m)},[c,t,o,a]);return[d,f]}function LG({defaultProp:t,onChange:e}){const[n,r]=E.useState(t),s=E.useRef(n),o=E.useRef(e);return OG(()=>{o.current=e},[e]),E.useEffect(()=>{var a;s.current!==n&&((a=o.current)==null||a.call(o,n),s.current=n)},[n,s]),[n,r,o]}function VG(t){return typeof t=="function"}var FG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ze=FG.reduce((t,e)=>{const n=ka(`Primitive.${e}`),r=E.forwardRef((s,o)=>{const{asChild:a,...c}=s,d=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(d,{...c,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function b2(t,e){t&&qd.flushSync(()=>t.dispatchEvent(e))}function kx(t){const e=t+"CollectionProvider",[n,r]=Yr(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=b=>{const{scope:C,children:R}=b,O=ti.useRef(null),M=ti.useRef(new Map).current;return h.jsx(s,{scope:C,itemMap:M,collectionRef:O,children:R})};a.displayName=e;const c=t+"CollectionSlot",d=ka(c),f=ti.forwardRef((b,C)=>{const{scope:R,children:O}=b,M=o(c,R),W=it(C,M.collectionRef);return h.jsx(d,{ref:W,children:O})});f.displayName=c;const m=t+"CollectionItemSlot",y="data-radix-collection-item",_=ka(m),T=ti.forwardRef((b,C)=>{const{scope:R,children:O,...M}=b,W=ti.useRef(null),q=it(C,W),Y=o(m,R);return ti.useEffect(()=>(Y.itemMap.set(W,{ref:W,...M}),()=>void Y.itemMap.delete(W))),h.jsx(_,{[y]:"",ref:q,children:O})});T.displayName=m;function I(b){const C=o(t+"CollectionConsumer",b);return ti.useCallback(()=>{const O=C.collectionRef.current;if(!O)return[];const M=Array.from(O.querySelectorAll(`[${y}]`));return Array.from(C.itemMap.values()).sort((Y,P)=>M.indexOf(Y.ref.current)-M.indexOf(P.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:a,Slot:f,ItemSlot:T},I,r]}var UG=E.createContext(void 0);function Km(t){const e=E.useContext(UG);return t||e||"ltr"}function qr(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function BG(t,e=globalThis==null?void 0:globalThis.document){const n=qr(t);E.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var zG="DismissableLayer",J_="dismissableLayer.update",$G="dismissableLayer.pointerDownOutside",WG="dismissableLayer.focusOutside",s1,S2=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ym=E.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:c,...d}=t,f=E.useContext(S2),[m,y]=E.useState(null),_=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,T]=E.useState({}),I=it(e,P=>y(P)),b=Array.from(f.layers),[C]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),R=b.indexOf(C),O=m?b.indexOf(m):-1,M=f.layersWithOutsidePointerEventsDisabled.size>0,W=O>=R,q=GG(P=>{const A=P.target,k=[...f.branches].some(V=>V.contains(A));!W||k||(s==null||s(P),a==null||a(P),P.defaultPrevented||c==null||c())},_),Y=KG(P=>{const A=P.target;[...f.branches].some(V=>V.contains(A))||(o==null||o(P),a==null||a(P),P.defaultPrevented||c==null||c())},_);return BG(P=>{O===f.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&c&&(P.preventDefault(),c()))},_),E.useEffect(()=>{if(m)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(s1=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),i1(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=s1)}},[m,_,n,f]),E.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),i1())},[m,f]),E.useEffect(()=>{const P=()=>T({});return document.addEventListener(J_,P),()=>document.removeEventListener(J_,P)},[]),h.jsx(ze.div,{...d,ref:I,style:{pointerEvents:M?W?"auto":"none":void 0,...t.style},onFocusCapture:Te(t.onFocusCapture,Y.onFocusCapture),onBlurCapture:Te(t.onBlurCapture,Y.onBlurCapture),onPointerDownCapture:Te(t.onPointerDownCapture,q.onPointerDownCapture)})});Ym.displayName=zG;var HG="DismissableLayerBranch",qG=E.forwardRef((t,e)=>{const n=E.useContext(S2),r=E.useRef(null),s=it(e,r);return E.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),h.jsx(ze.div,{...t,ref:s})});qG.displayName=HG;function GG(t,e=globalThis==null?void 0:globalThis.document){const n=qr(t),r=E.useRef(!1),s=E.useRef(()=>{});return E.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let d=function(){C2($G,n,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=d,e.addEventListener("click",s.current,{once:!0})):d()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function KG(t,e=globalThis==null?void 0:globalThis.document){const n=qr(t),r=E.useRef(!1);return E.useEffect(()=>{const s=o=>{o.target&&!r.current&&C2(WG,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function i1(){const t=new CustomEvent(J_);document.dispatchEvent(t)}function C2(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?b2(s,o):s.dispatchEvent(o)}var bv=0;function Dx(){E.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??o1()),document.body.insertAdjacentElement("beforeend",t[1]??o1()),bv++,()=>{bv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),bv--}},[])}function o1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Sv="focusScope.autoFocusOnMount",Cv="focusScope.autoFocusOnUnmount",a1={bubbles:!1,cancelable:!0},YG="FocusScope",Qm=E.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...a}=t,[c,d]=E.useState(null),f=qr(s),m=qr(o),y=E.useRef(null),_=it(e,b=>d(b)),T=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let b=function(M){if(T.paused||!c)return;const W=M.target;c.contains(W)?y.current=W:io(y.current,{select:!0})},C=function(M){if(T.paused||!c)return;const W=M.relatedTarget;W!==null&&(c.contains(W)||io(y.current,{select:!0}))},R=function(M){if(document.activeElement===document.body)for(const q of M)q.removedNodes.length>0&&io(c)};document.addEventListener("focusin",b),document.addEventListener("focusout",C);const O=new MutationObserver(R);return c&&O.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",C),O.disconnect()}}},[r,c,T.paused]),E.useEffect(()=>{if(c){c1.add(T);const b=document.activeElement;if(!c.contains(b)){const R=new CustomEvent(Sv,a1);c.addEventListener(Sv,f),c.dispatchEvent(R),R.defaultPrevented||(QG(tK(I2(c)),{select:!0}),document.activeElement===b&&io(c))}return()=>{c.removeEventListener(Sv,f),setTimeout(()=>{const R=new CustomEvent(Cv,a1);c.addEventListener(Cv,m),c.dispatchEvent(R),R.defaultPrevented||io(b??document.body,{select:!0}),c.removeEventListener(Cv,m),c1.remove(T)},0)}}},[c,f,m,T]);const I=E.useCallback(b=>{if(!n&&!r||T.paused)return;const C=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,R=document.activeElement;if(C&&R){const O=b.currentTarget,[M,W]=XG(O);M&&W?!b.shiftKey&&R===W?(b.preventDefault(),n&&io(M,{select:!0})):b.shiftKey&&R===M&&(b.preventDefault(),n&&io(W,{select:!0})):R===O&&b.preventDefault()}},[n,r,T.paused]);return h.jsx(ze.div,{tabIndex:-1,...a,ref:_,onKeyDown:I})});Qm.displayName=YG;function QG(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(io(r,{select:e}),document.activeElement!==n)return}function XG(t){const e=I2(t),n=l1(e,t),r=l1(e.reverse(),t);return[n,r]}function I2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function l1(t,e){for(const n of t)if(!JG(n,{upTo:e}))return n}function JG(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function ZG(t){return t instanceof HTMLInputElement&&"select"in t}function io(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&ZG(t)&&e&&t.select()}}var c1=eK();function eK(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=u1(t,e),t.unshift(e)},remove(e){var n;t=u1(t,e),(n=t[0])==null||n.resume()}}}function u1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function tK(t){return t.filter(e=>e.tagName!=="A")}var nK=y0[" useId ".trim().toString()]||(()=>{}),rK=0;function As(t){const[e,n]=E.useState(nK());return Yt(()=>{n(r=>r??String(rK++))},[t]),e?`radix-${e}`:""}const sK=["top","right","bottom","left"],jo=Math.min,sr=Math.max,sm=Math.round,Gf=Math.floor,Rs=t=>({x:t,y:t}),iK={left:"right",right:"left",bottom:"top",top:"bottom"},oK={start:"end",end:"start"};function Z_(t,e,n){return sr(t,jo(e,n))}function yi(t,e){return typeof t=="function"?t(e):t}function vi(t){return t.split("-")[0]}function Gc(t){return t.split("-")[1]}function Mx(t){return t==="x"?"y":"x"}function jx(t){return t==="y"?"height":"width"}function ci(t){return["top","bottom"].includes(vi(t))?"y":"x"}function Ox(t){return Mx(ci(t))}function aK(t,e,n){n===void 0&&(n=!1);const r=Gc(t),s=Ox(t),o=jx(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=im(a)),[a,im(a)]}function lK(t){const e=im(t);return[e0(t),e,e0(e)]}function e0(t){return t.replace(/start|end/g,e=>oK[e])}function cK(t,e,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?o:a;default:return[]}}function uK(t,e,n,r){const s=Gc(t);let o=cK(vi(t),n==="start",r);return s&&(o=o.map(a=>a+"-"+s),e&&(o=o.concat(o.map(e0)))),o}function im(t){return t.replace(/left|right|bottom|top/g,e=>iK[e])}function dK(t){return{top:0,right:0,bottom:0,left:0,...t}}function N2(t){return typeof t!="number"?dK(t):{top:t,right:t,bottom:t,left:t}}function om(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function d1(t,e,n){let{reference:r,floating:s}=t;const o=ci(e),a=Ox(e),c=jx(a),d=vi(e),f=o==="y",m=r.x+r.width/2-s.width/2,y=r.y+r.height/2-s.height/2,_=r[c]/2-s[c]/2;let T;switch(d){case"top":T={x:m,y:r.y-s.height};break;case"bottom":T={x:m,y:r.y+r.height};break;case"right":T={x:r.x+r.width,y};break;case"left":T={x:r.x-s.width,y};break;default:T={x:r.x,y:r.y}}switch(Gc(e)){case"start":T[a]-=_*(n&&f?-1:1);break;case"end":T[a]+=_*(n&&f?-1:1);break}return T}const hK=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:a}=n,c=o.filter(Boolean),d=await(a.isRTL==null?void 0:a.isRTL(e));let f=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:m,y}=d1(f,r,d),_=r,T={},I=0;for(let b=0;b<c.length;b++){const{name:C,fn:R}=c[b],{x:O,y:M,data:W,reset:q}=await R({x:m,y,initialPlacement:r,placement:_,strategy:s,middlewareData:T,rects:f,platform:a,elements:{reference:t,floating:e}});m=O??m,y=M??y,T={...T,[C]:{...T[C],...W}},q&&I<=50&&(I++,typeof q=="object"&&(q.placement&&(_=q.placement),q.rects&&(f=q.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):q.rects),{x:m,y}=d1(f,_,d)),b=-1)}return{x:m,y,placement:_,strategy:s,middlewareData:T}};async function zd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:a,elements:c,strategy:d}=t,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:y="floating",altBoundary:_=!1,padding:T=0}=yi(e,t),I=N2(T),C=c[_?y==="floating"?"reference":"floating":y],R=om(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(C)))==null||n?C:C.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:f,rootBoundary:m,strategy:d})),O=y==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),W=await(o.isElement==null?void 0:o.isElement(M))?await(o.getScale==null?void 0:o.getScale(M))||{x:1,y:1}:{x:1,y:1},q=om(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:O,offsetParent:M,strategy:d}):O);return{top:(R.top-q.top+I.top)/W.y,bottom:(q.bottom-R.bottom+I.bottom)/W.y,left:(R.left-q.left+I.left)/W.x,right:(q.right-R.right+I.right)/W.x}}const fK=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:a,elements:c,middlewareData:d}=e,{element:f,padding:m=0}=yi(t,e)||{};if(f==null)return{};const y=N2(m),_={x:n,y:r},T=Ox(s),I=jx(T),b=await a.getDimensions(f),C=T==="y",R=C?"top":"left",O=C?"bottom":"right",M=C?"clientHeight":"clientWidth",W=o.reference[I]+o.reference[T]-_[T]-o.floating[I],q=_[T]-o.reference[T],Y=await(a.getOffsetParent==null?void 0:a.getOffsetParent(f));let P=Y?Y[M]:0;(!P||!await(a.isElement==null?void 0:a.isElement(Y)))&&(P=c.floating[M]||o.floating[I]);const A=W/2-q/2,k=P/2-b[I]/2-1,V=jo(y[R],k),U=jo(y[O],k),B=V,L=P-b[I]-U,ye=P/2-b[I]/2+A,Ie=Z_(B,ye,L),_e=!d.arrow&&Gc(s)!=null&&ye!==Ie&&o.reference[I]/2-(ye<B?V:U)-b[I]/2<0,he=_e?ye<B?ye-B:ye-L:0;return{[T]:_[T]+he,data:{[T]:Ie,centerOffset:ye-Ie-he,..._e&&{alignmentOffset:he}},reset:_e}}}),pK=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:a,initialPlacement:c,platform:d,elements:f}=e,{mainAxis:m=!0,crossAxis:y=!0,fallbackPlacements:_,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:b=!0,...C}=yi(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const R=vi(s),O=ci(c),M=vi(c)===c,W=await(d.isRTL==null?void 0:d.isRTL(f.floating)),q=_||(M||!b?[im(c)]:lK(c)),Y=I!=="none";!_&&Y&&q.push(...uK(c,b,I,W));const P=[c,...q],A=await zd(e,C),k=[];let V=((r=o.flip)==null?void 0:r.overflows)||[];if(m&&k.push(A[R]),y){const Ie=aK(s,a,W);k.push(A[Ie[0]],A[Ie[1]])}if(V=[...V,{placement:s,overflows:k}],!k.every(Ie=>Ie<=0)){var U,B;const Ie=(((U=o.flip)==null?void 0:U.index)||0)+1,_e=P[Ie];if(_e){var L;const Z=y==="alignment"?O!==ci(_e):!1,ee=((L=V[0])==null?void 0:L.overflows[0])>0;if(!Z||ee)return{data:{index:Ie,overflows:V},reset:{placement:_e}}}let he=(B=V.filter(Z=>Z.overflows[0]<=0).sort((Z,ee)=>Z.overflows[1]-ee.overflows[1])[0])==null?void 0:B.placement;if(!he)switch(T){case"bestFit":{var ye;const Z=(ye=V.filter(ee=>{if(Y){const se=ci(ee.placement);return se===O||se==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(se=>se>0).reduce((se,$)=>se+$,0)]).sort((ee,se)=>ee[1]-se[1])[0])==null?void 0:ye[0];Z&&(he=Z);break}case"initialPlacement":he=c;break}if(s!==he)return{reset:{placement:he}}}return{}}}};function h1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function f1(t){return sK.some(e=>t[e]>=0)}const mK=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=yi(t,e);switch(r){case"referenceHidden":{const o=await zd(e,{...s,elementContext:"reference"}),a=h1(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:f1(a)}}}case"escaped":{const o=await zd(e,{...s,altBoundary:!0}),a=h1(o,n.floating);return{data:{escapedOffsets:a,escaped:f1(a)}}}default:return{}}}}};async function gK(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=vi(n),c=Gc(n),d=ci(n)==="y",f=["left","top"].includes(a)?-1:1,m=o&&d?-1:1,y=yi(e,t);let{mainAxis:_,crossAxis:T,alignmentAxis:I}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return c&&typeof I=="number"&&(T=c==="end"?I*-1:I),d?{x:T*m,y:_*f}:{x:_*f,y:T*m}}const yK=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:a,middlewareData:c}=e,d=await gK(e,t);return a===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+d.x,y:o+d.y,data:{...d,placement:a}}}}},vK=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:c={fn:C=>{let{x:R,y:O}=C;return{x:R,y:O}}},...d}=yi(t,e),f={x:n,y:r},m=await zd(e,d),y=ci(vi(s)),_=Mx(y);let T=f[_],I=f[y];if(o){const C=_==="y"?"top":"left",R=_==="y"?"bottom":"right",O=T+m[C],M=T-m[R];T=Z_(O,T,M)}if(a){const C=y==="y"?"top":"left",R=y==="y"?"bottom":"right",O=I+m[C],M=I-m[R];I=Z_(O,I,M)}const b=c.fn({...e,[_]:T,[y]:I});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[_]:o,[y]:a}}}}}},_K=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:a}=e,{offset:c=0,mainAxis:d=!0,crossAxis:f=!0}=yi(t,e),m={x:n,y:r},y=ci(s),_=Mx(y);let T=m[_],I=m[y];const b=yi(c,e),C=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(d){const M=_==="y"?"height":"width",W=o.reference[_]-o.floating[M]+C.mainAxis,q=o.reference[_]+o.reference[M]-C.mainAxis;T<W?T=W:T>q&&(T=q)}if(f){var R,O;const M=_==="y"?"width":"height",W=["top","left"].includes(vi(s)),q=o.reference[y]-o.floating[M]+(W&&((R=a.offset)==null?void 0:R[y])||0)+(W?0:C.crossAxis),Y=o.reference[y]+o.reference[M]+(W?0:((O=a.offset)==null?void 0:O[y])||0)-(W?C.crossAxis:0);I<q?I=q:I>Y&&(I=Y)}return{[_]:T,[y]:I}}}},wK=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:a,elements:c}=e,{apply:d=()=>{},...f}=yi(t,e),m=await zd(e,f),y=vi(s),_=Gc(s),T=ci(s)==="y",{width:I,height:b}=o.floating;let C,R;y==="top"||y==="bottom"?(C=y,R=_===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(R=y,C=_==="end"?"top":"bottom");const O=b-m.top-m.bottom,M=I-m.left-m.right,W=jo(b-m[C],O),q=jo(I-m[R],M),Y=!e.middlewareData.shift;let P=W,A=q;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(A=M),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=O),Y&&!_){const V=sr(m.left,0),U=sr(m.right,0),B=sr(m.top,0),L=sr(m.bottom,0);T?A=I-2*(V!==0||U!==0?V+U:sr(m.left,m.right)):P=b-2*(B!==0||L!==0?B+L:sr(m.top,m.bottom))}await d({...e,availableWidth:A,availableHeight:P});const k=await a.getDimensions(c.floating);return I!==k.width||b!==k.height?{reset:{rects:!0}}:{}}}};function Xm(){return typeof window<"u"}function Kc(t){return A2(t)?(t.nodeName||"").toLowerCase():"#document"}function ar(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ds(t){var e;return(e=(A2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function A2(t){return Xm()?t instanceof Node||t instanceof ar(t).Node:!1}function Gr(t){return Xm()?t instanceof Element||t instanceof ar(t).Element:!1}function ks(t){return Xm()?t instanceof HTMLElement||t instanceof ar(t).HTMLElement:!1}function p1(t){return!Xm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ar(t).ShadowRoot}function mh(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Kr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function xK(t){return["table","td","th"].includes(Kc(t))}function Jm(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Lx(t){const e=Vx(),n=Gr(t)?Kr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function EK(t){let e=Oo(t);for(;ks(e)&&!Pc(e);){if(Lx(e))return e;if(Jm(e))return null;e=Oo(e)}return null}function Vx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Pc(t){return["html","body","#document"].includes(Kc(t))}function Kr(t){return ar(t).getComputedStyle(t)}function Zm(t){return Gr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Oo(t){if(Kc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||p1(t)&&t.host||Ds(t);return p1(e)?e.host:e}function R2(t){const e=Oo(t);return Pc(e)?t.ownerDocument?t.ownerDocument.body:t.body:ks(e)&&mh(e)?e:R2(e)}function $d(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=R2(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),a=ar(s);if(o){const c=t0(a);return e.concat(a,a.visualViewport||[],mh(s)?s:[],c&&n?$d(c):[])}return e.concat(s,$d(s,[],n))}function t0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function P2(t){const e=Kr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ks(t),o=s?t.offsetWidth:n,a=s?t.offsetHeight:r,c=sm(n)!==o||sm(r)!==a;return c&&(n=o,r=a),{width:n,height:r,$:c}}function Fx(t){return Gr(t)?t:t.contextElement}function gc(t){const e=Fx(t);if(!ks(e))return Rs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=P2(e);let a=(o?sm(n.width):n.width)/r,c=(o?sm(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const TK=Rs(0);function k2(t){const e=ar(t);return!Vx()||!e.visualViewport?TK:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function bK(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ar(t)?!1:e}function $a(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=Fx(t);let a=Rs(1);e&&(r?Gr(r)&&(a=gc(r)):a=gc(t));const c=bK(o,n,r)?k2(o):Rs(0);let d=(s.left+c.x)/a.x,f=(s.top+c.y)/a.y,m=s.width/a.x,y=s.height/a.y;if(o){const _=ar(o),T=r&&Gr(r)?ar(r):r;let I=_,b=t0(I);for(;b&&r&&T!==I;){const C=gc(b),R=b.getBoundingClientRect(),O=Kr(b),M=R.left+(b.clientLeft+parseFloat(O.paddingLeft))*C.x,W=R.top+(b.clientTop+parseFloat(O.paddingTop))*C.y;d*=C.x,f*=C.y,m*=C.x,y*=C.y,d+=M,f+=W,I=ar(b),b=t0(I)}}return om({width:m,height:y,x:d,y:f})}function Ux(t,e){const n=Zm(t).scrollLeft;return e?e.left+n:$a(Ds(t)).left+n}function D2(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Ux(t,r)),o=r.top+e.scrollTop;return{x:s,y:o}}function SK(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",a=Ds(r),c=e?Jm(e.floating):!1;if(r===a||c&&o)return n;let d={scrollLeft:0,scrollTop:0},f=Rs(1);const m=Rs(0),y=ks(r);if((y||!y&&!o)&&((Kc(r)!=="body"||mh(a))&&(d=Zm(r)),ks(r))){const T=$a(r);f=gc(r),m.x=T.x+r.clientLeft,m.y=T.y+r.clientTop}const _=a&&!y&&!o?D2(a,d,!0):Rs(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+m.x+_.x,y:n.y*f.y-d.scrollTop*f.y+m.y+_.y}}function CK(t){return Array.from(t.getClientRects())}function IK(t){const e=Ds(t),n=Zm(t),r=t.ownerDocument.body,s=sr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=sr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Ux(t);const c=-n.scrollTop;return Kr(r).direction==="rtl"&&(a+=sr(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:a,y:c}}function NK(t,e){const n=ar(t),r=Ds(t),s=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,c=0,d=0;if(s){o=s.width,a=s.height;const f=Vx();(!f||f&&e==="fixed")&&(c=s.offsetLeft,d=s.offsetTop)}return{width:o,height:a,x:c,y:d}}function AK(t,e){const n=$a(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=ks(t)?gc(t):Rs(1),a=t.clientWidth*o.x,c=t.clientHeight*o.y,d=s*o.x,f=r*o.y;return{width:a,height:c,x:d,y:f}}function m1(t,e,n){let r;if(e==="viewport")r=NK(t,n);else if(e==="document")r=IK(Ds(t));else if(Gr(e))r=AK(e,n);else{const s=k2(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return om(r)}function M2(t,e){const n=Oo(t);return n===e||!Gr(n)||Pc(n)?!1:Kr(n).position==="fixed"||M2(n,e)}function RK(t,e){const n=e.get(t);if(n)return n;let r=$d(t,[],!1).filter(c=>Gr(c)&&Kc(c)!=="body"),s=null;const o=Kr(t).position==="fixed";let a=o?Oo(t):t;for(;Gr(a)&&!Pc(a);){const c=Kr(a),d=Lx(a);!d&&c.position==="fixed"&&(s=null),(o?!d&&!s:!d&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||mh(a)&&!d&&M2(t,a))?r=r.filter(m=>m!==a):s=c,a=Oo(a)}return e.set(t,r),r}function PK(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?Jm(e)?[]:RK(e,this._c):[].concat(n),r],c=a[0],d=a.reduce((f,m)=>{const y=m1(e,m,s);return f.top=sr(y.top,f.top),f.right=jo(y.right,f.right),f.bottom=jo(y.bottom,f.bottom),f.left=sr(y.left,f.left),f},m1(e,c,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function kK(t){const{width:e,height:n}=P2(t);return{width:e,height:n}}function DK(t,e,n){const r=ks(e),s=Ds(e),o=n==="fixed",a=$a(t,!0,o,e);let c={scrollLeft:0,scrollTop:0};const d=Rs(0);function f(){d.x=Ux(s)}if(r||!r&&!o)if((Kc(e)!=="body"||mh(s))&&(c=Zm(e)),r){const T=$a(e,!0,o,e);d.x=T.x+e.clientLeft,d.y=T.y+e.clientTop}else s&&f();o&&!r&&s&&f();const m=s&&!r&&!o?D2(s,c):Rs(0),y=a.left+c.scrollLeft-d.x-m.x,_=a.top+c.scrollTop-d.y-m.y;return{x:y,y:_,width:a.width,height:a.height}}function Iv(t){return Kr(t).position==="static"}function g1(t,e){if(!ks(t)||Kr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ds(t)===n&&(n=n.ownerDocument.body),n}function j2(t,e){const n=ar(t);if(Jm(t))return n;if(!ks(t)){let s=Oo(t);for(;s&&!Pc(s);){if(Gr(s)&&!Iv(s))return s;s=Oo(s)}return n}let r=g1(t,e);for(;r&&xK(r)&&Iv(r);)r=g1(r,e);return r&&Pc(r)&&Iv(r)&&!Lx(r)?n:r||EK(t)||n}const MK=async function(t){const e=this.getOffsetParent||j2,n=this.getDimensions,r=await n(t.floating);return{reference:DK(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function jK(t){return Kr(t).direction==="rtl"}const OK={convertOffsetParentRelativeRectToViewportRelativeRect:SK,getDocumentElement:Ds,getClippingRect:PK,getOffsetParent:j2,getElementRects:MK,getClientRects:CK,getDimensions:kK,getScale:gc,isElement:Gr,isRTL:jK};function O2(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function LK(t,e){let n=null,r;const s=Ds(t);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function a(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const f=t.getBoundingClientRect(),{left:m,top:y,width:_,height:T}=f;if(c||e(),!_||!T)return;const I=Gf(y),b=Gf(s.clientWidth-(m+_)),C=Gf(s.clientHeight-(y+T)),R=Gf(m),M={rootMargin:-I+"px "+-b+"px "+-C+"px "+-R+"px",threshold:sr(0,jo(1,d))||1};let W=!0;function q(Y){const P=Y[0].intersectionRatio;if(P!==d){if(!W)return a();P?a(!1,P):r=setTimeout(()=>{a(!1,1e-7)},1e3)}P===1&&!O2(f,t.getBoundingClientRect())&&a(),W=!1}try{n=new IntersectionObserver(q,{...M,root:s.ownerDocument})}catch{n=new IntersectionObserver(q,M)}n.observe(t)}return a(!0),o}function VK(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=Fx(t),m=s||o?[...f?$d(f):[],...$d(e)]:[];m.forEach(R=>{s&&R.addEventListener("scroll",n,{passive:!0}),o&&R.addEventListener("resize",n)});const y=f&&c?LK(f,n):null;let _=-1,T=null;a&&(T=new ResizeObserver(R=>{let[O]=R;O&&O.target===f&&T&&(T.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var M;(M=T)==null||M.observe(e)})),n()}),f&&!d&&T.observe(f),T.observe(e));let I,b=d?$a(t):null;d&&C();function C(){const R=$a(t);b&&!O2(b,R)&&n(),b=R,I=requestAnimationFrame(C)}return n(),()=>{var R;m.forEach(O=>{s&&O.removeEventListener("scroll",n),o&&O.removeEventListener("resize",n)}),y==null||y(),(R=T)==null||R.disconnect(),T=null,d&&cancelAnimationFrame(I)}}const FK=yK,UK=vK,BK=pK,zK=wK,$K=mK,y1=fK,WK=_K,HK=(t,e,n)=>{const r=new Map,s={platform:OK,...n},o={...s.platform,_c:r};return hK(t,e,{...s,platform:o})};var yp=typeof document<"u"?E.useLayoutEffect:E.useEffect;function am(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!am(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!am(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function L2(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function v1(t,e){const n=L2(t);return Math.round(e*n)/n}function Nv(t){const e=E.useRef(t);return yp(()=>{e.current=t}),e}function qK(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:a}={},transform:c=!0,whileElementsMounted:d,open:f}=t,[m,y]=E.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[_,T]=E.useState(r);am(_,r)||T(r);const[I,b]=E.useState(null),[C,R]=E.useState(null),O=E.useCallback(Z=>{Z!==Y.current&&(Y.current=Z,b(Z))},[]),M=E.useCallback(Z=>{Z!==P.current&&(P.current=Z,R(Z))},[]),W=o||I,q=a||C,Y=E.useRef(null),P=E.useRef(null),A=E.useRef(m),k=d!=null,V=Nv(d),U=Nv(s),B=Nv(f),L=E.useCallback(()=>{if(!Y.current||!P.current)return;const Z={placement:e,strategy:n,middleware:_};U.current&&(Z.platform=U.current),HK(Y.current,P.current,Z).then(ee=>{const se={...ee,isPositioned:B.current!==!1};ye.current&&!am(A.current,se)&&(A.current=se,qd.flushSync(()=>{y(se)}))})},[_,e,n,U,B]);yp(()=>{f===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,y(Z=>({...Z,isPositioned:!1})))},[f]);const ye=E.useRef(!1);yp(()=>(ye.current=!0,()=>{ye.current=!1}),[]),yp(()=>{if(W&&(Y.current=W),q&&(P.current=q),W&&q){if(V.current)return V.current(W,q,L);L()}},[W,q,L,V,k]);const Ie=E.useMemo(()=>({reference:Y,floating:P,setReference:O,setFloating:M}),[O,M]),_e=E.useMemo(()=>({reference:W,floating:q}),[W,q]),he=E.useMemo(()=>{const Z={position:n,left:0,top:0};if(!_e.floating)return Z;const ee=v1(_e.floating,m.x),se=v1(_e.floating,m.y);return c?{...Z,transform:"translate("+ee+"px, "+se+"px)",...L2(_e.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ee,top:se}},[n,c,_e.floating,m.x,m.y]);return E.useMemo(()=>({...m,update:L,refs:Ie,elements:_e,floatingStyles:he}),[m,L,Ie,_e,he])}const GK=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?y1({element:r.current,padding:s}).fn(n):{}:r?y1({element:r,padding:s}).fn(n):{}}}},KK=(t,e)=>({...FK(t),options:[t,e]}),YK=(t,e)=>({...UK(t),options:[t,e]}),QK=(t,e)=>({...WK(t),options:[t,e]}),XK=(t,e)=>({...BK(t),options:[t,e]}),JK=(t,e)=>({...zK(t),options:[t,e]}),ZK=(t,e)=>({...$K(t),options:[t,e]}),eY=(t,e)=>({...GK(t),options:[t,e]});var tY="Arrow",V2=E.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return h.jsx(ze.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});V2.displayName=tY;var nY=V2;function F2(t){const[e,n]=E.useState(void 0);return Yt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let a,c;if("borderBoxSize"in o){const d=o.borderBoxSize,f=Array.isArray(d)?d[0]:d;a=f.inlineSize,c=f.blockSize}else a=t.offsetWidth,c=t.offsetHeight;n({width:a,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Bx="Popper",[U2,eg]=Yr(Bx),[rY,B2]=U2(Bx),z2=t=>{const{__scopePopper:e,children:n}=t,[r,s]=E.useState(null);return h.jsx(rY,{scope:e,anchor:r,onAnchorChange:s,children:n})};z2.displayName=Bx;var $2="PopperAnchor",W2=E.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=B2($2,n),a=E.useRef(null),c=it(e,a);return E.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:h.jsx(ze.div,{...s,ref:c})});W2.displayName=$2;var zx="PopperContent",[sY,iY]=U2(zx),H2=E.forwardRef((t,e)=>{var ue,xe,Ne,Ve,Ye,Je;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:a=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:y="partial",hideWhenDetached:_=!1,updatePositionStrategy:T="optimized",onPlaced:I,...b}=t,C=B2(zx,n),[R,O]=E.useState(null),M=it(e,At=>O(At)),[W,q]=E.useState(null),Y=F2(W),P=(Y==null?void 0:Y.width)??0,A=(Y==null?void 0:Y.height)??0,k=r+(o!=="center"?"-"+o:""),V=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},U=Array.isArray(f)?f:[f],B=U.length>0,L={padding:V,boundary:U.filter(aY),altBoundary:B},{refs:ye,floatingStyles:Ie,placement:_e,isPositioned:he,middlewareData:Z}=qK({strategy:"fixed",placement:k,whileElementsMounted:(...At)=>VK(...At,{animationFrame:T==="always"}),elements:{reference:C.anchor},middleware:[KK({mainAxis:s+A,alignmentAxis:a}),d&&YK({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?QK():void 0,...L}),d&&XK({...L}),JK({...L,apply:({elements:At,rects:on,availableWidth:Xr,availableHeight:lr})=>{const{width:Kn,height:Wo}=on.reference,mt=At.floating.style;mt.setProperty("--radix-popper-available-width",`${Xr}px`),mt.setProperty("--radix-popper-available-height",`${lr}px`),mt.setProperty("--radix-popper-anchor-width",`${Kn}px`),mt.setProperty("--radix-popper-anchor-height",`${Wo}px`)}}),W&&eY({element:W,padding:c}),lY({arrowWidth:P,arrowHeight:A}),_&&ZK({strategy:"referenceHidden",...L})]}),[ee,se]=K2(_e),$=qr(I);Yt(()=>{he&&($==null||$())},[he,$]);const te=(ue=Z.arrow)==null?void 0:ue.x,Ae=(xe=Z.arrow)==null?void 0:xe.y,Se=((Ne=Z.arrow)==null?void 0:Ne.centerOffset)!==0,[Le,ke]=E.useState();return Yt(()=>{R&&ke(window.getComputedStyle(R).zIndex)},[R]),h.jsx("div",{ref:ye.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ie,transform:he?Ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Le,"--radix-popper-transform-origin":[(Ve=Z.transformOrigin)==null?void 0:Ve.x,(Ye=Z.transformOrigin)==null?void 0:Ye.y].join(" "),...((Je=Z.hide)==null?void 0:Je.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx(sY,{scope:n,placedSide:ee,onArrowChange:q,arrowX:te,arrowY:Ae,shouldHideArrow:Se,children:h.jsx(ze.div,{"data-side":ee,"data-align":se,...b,ref:M,style:{...b.style,animation:he?void 0:"none"}})})})});H2.displayName=zx;var q2="PopperArrow",oY={top:"bottom",right:"left",bottom:"top",left:"right"},G2=E.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=iY(q2,r),a=oY[o.placedSide];return h.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:h.jsx(nY,{...s,ref:n,style:{...s.style,display:"block"}})})});G2.displayName=q2;function aY(t){return t!==null}var lY=t=>({name:"transformOrigin",options:t,fn(e){var C,R,O;const{placement:n,rects:r,middlewareData:s}=e,a=((C=s.arrow)==null?void 0:C.centerOffset)!==0,c=a?0:t.arrowWidth,d=a?0:t.arrowHeight,[f,m]=K2(n),y={start:"0%",center:"50%",end:"100%"}[m],_=(((R=s.arrow)==null?void 0:R.x)??0)+c/2,T=(((O=s.arrow)==null?void 0:O.y)??0)+d/2;let I="",b="";return f==="bottom"?(I=a?y:`${_}px`,b=`${-d}px`):f==="top"?(I=a?y:`${_}px`,b=`${r.floating.height+d}px`):f==="right"?(I=`${-d}px`,b=a?y:`${T}px`):f==="left"&&(I=`${r.floating.width+d}px`,b=a?y:`${T}px`),{data:{x:I,y:b}}}});function K2(t){const[e,n="center"]=t.split("-");return[e,n]}var Y2=z2,Q2=W2,X2=H2,J2=G2,cY="Portal",tg=E.forwardRef((t,e)=>{var c;const{container:n,...r}=t,[s,o]=E.useState(!1);Yt(()=>o(!0),[]);const a=n||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return a?RL.createPortal(h.jsx(ze.div,{...r,ref:e}),a):null});tg.displayName=cY;function uY(t,e){return E.useReducer((n,r)=>e[n][r]??n,t)}var Ti=t=>{const{present:e,children:n}=t,r=dY(e),s=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),o=it(r.ref,hY(s));return typeof n=="function"||r.isPresent?E.cloneElement(s,{ref:o}):null};Ti.displayName="Presence";function dY(t){const[e,n]=E.useState(),r=E.useRef(null),s=E.useRef(t),o=E.useRef("none"),a=t?"mounted":"unmounted",[c,d]=uY(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const f=Kf(r.current);o.current=c==="mounted"?f:"none"},[c]),Yt(()=>{const f=r.current,m=s.current;if(m!==t){const _=o.current,T=Kf(f);t?d("MOUNT"):T==="none"||(f==null?void 0:f.display)==="none"?d("UNMOUNT"):d(m&&_!==T?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,d]),Yt(()=>{if(e){let f;const m=e.ownerDocument.defaultView??window,y=T=>{const b=Kf(r.current).includes(T.animationName);if(T.target===e&&b&&(d("ANIMATION_END"),!s.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",f=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},_=T=>{T.target===e&&(o.current=Kf(r.current))};return e.addEventListener("animationstart",_),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{m.clearTimeout(f),e.removeEventListener("animationstart",_),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:E.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function Kf(t){return(t==null?void 0:t.animationName)||"none"}function hY(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Av="rovingFocusGroup.onEntryFocus",fY={bubbles:!1,cancelable:!0},gh="RovingFocusGroup",[n0,Z2,pY]=kx(gh),[mY,ng]=Yr(gh,[pY]),[gY,yY]=mY(gh),eD=E.forwardRef((t,e)=>h.jsx(n0.Provider,{scope:t.__scopeRovingFocusGroup,children:h.jsx(n0.Slot,{scope:t.__scopeRovingFocusGroup,children:h.jsx(vY,{...t,ref:e})})}));eD.displayName=gh;var vY=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:m=!1,...y}=t,_=E.useRef(null),T=it(e,_),I=Km(o),[b,C]=za({prop:a,defaultProp:c??null,onChange:d,caller:gh}),[R,O]=E.useState(!1),M=qr(f),W=Z2(n),q=E.useRef(!1),[Y,P]=E.useState(0);return E.useEffect(()=>{const A=_.current;if(A)return A.addEventListener(Av,M),()=>A.removeEventListener(Av,M)},[M]),h.jsx(gY,{scope:n,orientation:r,dir:I,loop:s,currentTabStopId:b,onItemFocus:E.useCallback(A=>C(A),[C]),onItemShiftTab:E.useCallback(()=>O(!0),[]),onFocusableItemAdd:E.useCallback(()=>P(A=>A+1),[]),onFocusableItemRemove:E.useCallback(()=>P(A=>A-1),[]),children:h.jsx(ze.div,{tabIndex:R||Y===0?-1:0,"data-orientation":r,...y,ref:T,style:{outline:"none",...t.style},onMouseDown:Te(t.onMouseDown,()=>{q.current=!0}),onFocus:Te(t.onFocus,A=>{const k=!q.current;if(A.target===A.currentTarget&&k&&!R){const V=new CustomEvent(Av,fY);if(A.currentTarget.dispatchEvent(V),!V.defaultPrevented){const U=W().filter(_e=>_e.focusable),B=U.find(_e=>_e.active),L=U.find(_e=>_e.id===b),Ie=[B,L,...U].filter(Boolean).map(_e=>_e.ref.current);rD(Ie,m)}}q.current=!1}),onBlur:Te(t.onBlur,()=>O(!1))})})}),tD="RovingFocusGroupItem",nD=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:a,...c}=t,d=As(),f=o||d,m=yY(tD,n),y=m.currentTabStopId===f,_=Z2(n),{onFocusableItemAdd:T,onFocusableItemRemove:I,currentTabStopId:b}=m;return E.useEffect(()=>{if(r)return T(),()=>I()},[r,T,I]),h.jsx(n0.ItemSlot,{scope:n,id:f,focusable:r,active:s,children:h.jsx(ze.span,{tabIndex:y?0:-1,"data-orientation":m.orientation,...c,ref:e,onMouseDown:Te(t.onMouseDown,C=>{r?m.onItemFocus(f):C.preventDefault()}),onFocus:Te(t.onFocus,()=>m.onItemFocus(f)),onKeyDown:Te(t.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){m.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const R=xY(C,m.orientation,m.dir);if(R!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let M=_().filter(W=>W.focusable).map(W=>W.ref.current);if(R==="last")M.reverse();else if(R==="prev"||R==="next"){R==="prev"&&M.reverse();const W=M.indexOf(C.currentTarget);M=m.loop?EY(M,W+1):M.slice(W+1)}setTimeout(()=>rD(M))}}),children:typeof a=="function"?a({isCurrentTabStop:y,hasTabStop:b!=null}):a})})});nD.displayName=tD;var _Y={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function wY(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function xY(t,e,n){const r=wY(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return _Y[r]}function rD(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function EY(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var sD=eD,iD=nD,TY=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ql=new WeakMap,Yf=new WeakMap,Qf={},Rv=0,oD=function(t){return t&&(t.host||oD(t.parentNode))},bY=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=oD(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},SY=function(t,e,n,r){var s=bY(e,Array.isArray(t)?t:[t]);Qf[n]||(Qf[n]=new WeakMap);var o=Qf[n],a=[],c=new Set,d=new Set(s),f=function(y){!y||c.has(y)||(c.add(y),f(y.parentNode))};s.forEach(f);var m=function(y){!y||d.has(y)||Array.prototype.forEach.call(y.children,function(_){if(c.has(_))m(_);else try{var T=_.getAttribute(r),I=T!==null&&T!=="false",b=(ql.get(_)||0)+1,C=(o.get(_)||0)+1;ql.set(_,b),o.set(_,C),a.push(_),b===1&&I&&Yf.set(_,!0),C===1&&_.setAttribute(n,"true"),I||_.setAttribute(r,"true")}catch(R){console.error("aria-hidden: cannot operate on ",_,R)}})};return m(e),c.clear(),Rv++,function(){a.forEach(function(y){var _=ql.get(y)-1,T=o.get(y)-1;ql.set(y,_),o.set(y,T),_||(Yf.has(y)||y.removeAttribute(r),Yf.delete(y)),T||y.removeAttribute(n)}),Rv--,Rv||(ql=new WeakMap,ql=new WeakMap,Yf=new WeakMap,Qf={})}},$x=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=TY(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),SY(r,s,n,"aria-hidden")):function(){return null}},ys=function(){return ys=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ys.apply(this,arguments)};function aD(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function CY(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var vp="right-scroll-bar-position",_p="width-before-scroll-bar",IY="with-scroll-bars-hidden",NY="--removed-body-scroll-bar-size";function Pv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function AY(t,e){var n=E.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var RY=typeof window<"u"?E.useLayoutEffect:E.useEffect,_1=new WeakMap;function PY(t,e){var n=AY(null,function(r){return t.forEach(function(s){return Pv(s,r)})});return RY(function(){var r=_1.get(n);if(r){var s=new Set(r),o=new Set(t),a=n.current;s.forEach(function(c){o.has(c)||Pv(c,null)}),o.forEach(function(c){s.has(c)||Pv(c,a)})}_1.set(n,t)},[t]),n}function kY(t){return t}function DY(t,e){e===void 0&&(e=kY);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var a=e(o,r);return n.push(a),function(){n=n.filter(function(c){return c!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var c=n;n=[],c.forEach(o),a=n}var d=function(){var m=a;a=[],m.forEach(o)},f=function(){return Promise.resolve().then(d)};f(),n={push:function(m){a.push(m),f()},filter:function(m){return a=a.filter(m),n}}}};return s}function MY(t){t===void 0&&(t={});var e=DY(null);return e.options=ys({async:!0,ssr:!1},t),e}var lD=function(t){var e=t.sideCar,n=aD(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,ys({},n))};lD.isSideCarExport=!0;function jY(t,e){return t.useMedium(e),lD}var cD=MY(),kv=function(){},rg=E.forwardRef(function(t,e){var n=E.useRef(null),r=E.useState({onScrollCapture:kv,onWheelCapture:kv,onTouchMoveCapture:kv}),s=r[0],o=r[1],a=t.forwardProps,c=t.children,d=t.className,f=t.removeScrollBar,m=t.enabled,y=t.shards,_=t.sideCar,T=t.noRelative,I=t.noIsolation,b=t.inert,C=t.allowPinchZoom,R=t.as,O=R===void 0?"div":R,M=t.gapMode,W=aD(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),q=_,Y=PY([n,e]),P=ys(ys({},W),s);return E.createElement(E.Fragment,null,m&&E.createElement(q,{sideCar:cD,removeScrollBar:f,shards:y,noRelative:T,noIsolation:I,inert:b,setCallbacks:o,allowPinchZoom:!!C,lockRef:n,gapMode:M}),a?E.cloneElement(E.Children.only(c),ys(ys({},P),{ref:Y})):E.createElement(O,ys({},P,{className:d,ref:Y}),c))});rg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};rg.classNames={fullWidth:_p,zeroRight:vp};var OY=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function LY(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=OY();return e&&t.setAttribute("nonce",e),t}function VY(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function FY(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var UY=function(){var t=0,e=null;return{add:function(n){t==0&&(e=LY())&&(VY(e,n),FY(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},BY=function(){var t=UY();return function(e,n){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},uD=function(){var t=BY(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},zY={left:0,top:0,right:0,gap:0},Dv=function(t){return parseInt(t||"",10)||0},$Y=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Dv(n),Dv(r),Dv(s)]},WY=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return zY;var e=$Y(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},HY=uD(),yc="data-scroll-locked",qY=function(t,e,n,r){var s=t.left,o=t.top,a=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(IY,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(yc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vp,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(_p,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(vp," .").concat(vp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(_p," .").concat(_p,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(yc,`] {
    `).concat(NY,": ").concat(c,`px;
  }
`)},w1=function(){var t=parseInt(document.body.getAttribute(yc)||"0",10);return isFinite(t)?t:0},GY=function(){E.useEffect(function(){return document.body.setAttribute(yc,(w1()+1).toString()),function(){var t=w1()-1;t<=0?document.body.removeAttribute(yc):document.body.setAttribute(yc,t.toString())}},[])},KY=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;GY();var o=E.useMemo(function(){return WY(s)},[s]);return E.createElement(HY,{styles:qY(o,!e,s,n?"":"!important")})},r0=!1;if(typeof window<"u")try{var Xf=Object.defineProperty({},"passive",{get:function(){return r0=!0,!0}});window.addEventListener("test",Xf,Xf),window.removeEventListener("test",Xf,Xf)}catch{r0=!1}var Gl=r0?{passive:!1}:!1,YY=function(t){return t.tagName==="TEXTAREA"},dD=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!YY(t)&&n[e]==="visible")},QY=function(t){return dD(t,"overflowY")},XY=function(t){return dD(t,"overflowX")},x1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=hD(t,r);if(s){var o=fD(t,r),a=o[1],c=o[2];if(a>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},JY=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},ZY=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},hD=function(t,e){return t==="v"?QY(e):XY(e)},fD=function(t,e){return t==="v"?JY(e):ZY(e)},eQ=function(t,e){return t==="h"&&e==="rtl"?-1:1},tQ=function(t,e,n,r,s){var o=eQ(t,window.getComputedStyle(e).direction),a=o*r,c=n.target,d=e.contains(c),f=!1,m=a>0,y=0,_=0;do{var T=fD(t,c),I=T[0],b=T[1],C=T[2],R=b-C-o*I;(I||R)&&hD(t,c)&&(y+=R,_+=I),c=c.parentNode.host||c.parentNode}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(m&&Math.abs(y)<1||!m&&Math.abs(_)<1)&&(f=!0),f},Jf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},E1=function(t){return[t.deltaX,t.deltaY]},T1=function(t){return t&&"current"in t?t.current:t},nQ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},rQ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},sQ=0,Kl=[];function iQ(t){var e=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),s=E.useState(sQ++)[0],o=E.useState(uD)[0],a=E.useRef(t);E.useEffect(function(){a.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var b=CY([t.lockRef.current],(t.shards||[]).map(T1),!0).filter(Boolean);return b.forEach(function(C){return C.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),b.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=E.useCallback(function(b,C){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!a.current.allowPinchZoom;var R=Jf(b),O=n.current,M="deltaX"in b?b.deltaX:O[0]-R[0],W="deltaY"in b?b.deltaY:O[1]-R[1],q,Y=b.target,P=Math.abs(M)>Math.abs(W)?"h":"v";if("touches"in b&&P==="h"&&Y.type==="range")return!1;var A=x1(P,Y);if(!A)return!0;if(A?q=P:(q=P==="v"?"h":"v",A=x1(P,Y)),!A)return!1;if(!r.current&&"changedTouches"in b&&(M||W)&&(r.current=q),!q)return!0;var k=r.current||q;return tQ(k,C,b,k==="h"?M:W)},[]),d=E.useCallback(function(b){var C=b;if(!(!Kl.length||Kl[Kl.length-1]!==o)){var R="deltaY"in C?E1(C):Jf(C),O=e.current.filter(function(q){return q.name===C.type&&(q.target===C.target||C.target===q.shadowParent)&&nQ(q.delta,R)})[0];if(O&&O.should){C.cancelable&&C.preventDefault();return}if(!O){var M=(a.current.shards||[]).map(T1).filter(Boolean).filter(function(q){return q.contains(C.target)}),W=M.length>0?c(C,M[0]):!a.current.noIsolation;W&&C.cancelable&&C.preventDefault()}}},[]),f=E.useCallback(function(b,C,R,O){var M={name:b,delta:C,target:R,should:O,shadowParent:oQ(R)};e.current.push(M),setTimeout(function(){e.current=e.current.filter(function(W){return W!==M})},1)},[]),m=E.useCallback(function(b){n.current=Jf(b),r.current=void 0},[]),y=E.useCallback(function(b){f(b.type,E1(b),b.target,c(b,t.lockRef.current))},[]),_=E.useCallback(function(b){f(b.type,Jf(b),b.target,c(b,t.lockRef.current))},[]);E.useEffect(function(){return Kl.push(o),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:_}),document.addEventListener("wheel",d,Gl),document.addEventListener("touchmove",d,Gl),document.addEventListener("touchstart",m,Gl),function(){Kl=Kl.filter(function(b){return b!==o}),document.removeEventListener("wheel",d,Gl),document.removeEventListener("touchmove",d,Gl),document.removeEventListener("touchstart",m,Gl)}},[]);var T=t.removeScrollBar,I=t.inert;return E.createElement(E.Fragment,null,I?E.createElement(o,{styles:rQ(s)}):null,T?E.createElement(KY,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function oQ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const aQ=jY(cD,iQ);var sg=E.forwardRef(function(t,e){return E.createElement(rg,ys({},t,{ref:e,sideCar:aQ}))});sg.classNames=rg.classNames;var s0=["Enter"," "],lQ=["ArrowDown","PageUp","Home"],pD=["ArrowUp","PageDown","End"],cQ=[...lQ,...pD],uQ={ltr:[...s0,"ArrowRight"],rtl:[...s0,"ArrowLeft"]},dQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},yh="Menu",[Wd,hQ,fQ]=kx(yh),[sl,mD]=Yr(yh,[fQ,eg,ng]),ig=eg(),gD=ng(),[pQ,il]=sl(yh),[mQ,vh]=sl(yh),yD=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:o,modal:a=!0}=t,c=ig(e),[d,f]=E.useState(null),m=E.useRef(!1),y=qr(o),_=Km(s);return E.useEffect(()=>{const T=()=>{m.current=!0,document.addEventListener("pointerdown",I,{capture:!0,once:!0}),document.addEventListener("pointermove",I,{capture:!0,once:!0})},I=()=>m.current=!1;return document.addEventListener("keydown",T,{capture:!0}),()=>{document.removeEventListener("keydown",T,{capture:!0}),document.removeEventListener("pointerdown",I,{capture:!0}),document.removeEventListener("pointermove",I,{capture:!0})}},[]),h.jsx(Y2,{...c,children:h.jsx(pQ,{scope:e,open:n,onOpenChange:y,content:d,onContentChange:f,children:h.jsx(mQ,{scope:e,onClose:E.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:m,dir:_,modal:a,children:r})})})};yD.displayName=yh;var gQ="MenuAnchor",Wx=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=ig(n);return h.jsx(Q2,{...s,...r,ref:e})});Wx.displayName=gQ;var Hx="MenuPortal",[yQ,vD]=sl(Hx,{forceMount:void 0}),_D=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,o=il(Hx,e);return h.jsx(yQ,{scope:e,forceMount:n,children:h.jsx(Ti,{present:n||o.open,children:h.jsx(tg,{asChild:!0,container:s,children:r})})})};_D.displayName=Hx;var Tr="MenuContent",[vQ,qx]=sl(Tr),wD=E.forwardRef((t,e)=>{const n=vD(Tr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,o=il(Tr,t.__scopeMenu),a=vh(Tr,t.__scopeMenu);return h.jsx(Wd.Provider,{scope:t.__scopeMenu,children:h.jsx(Ti,{present:r||o.open,children:h.jsx(Wd.Slot,{scope:t.__scopeMenu,children:a.modal?h.jsx(_Q,{...s,ref:e}):h.jsx(wQ,{...s,ref:e})})})})}),_Q=E.forwardRef((t,e)=>{const n=il(Tr,t.__scopeMenu),r=E.useRef(null),s=it(e,r);return E.useEffect(()=>{const o=r.current;if(o)return $x(o)},[]),h.jsx(Gx,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Te(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),wQ=E.forwardRef((t,e)=>{const n=il(Tr,t.__scopeMenu);return h.jsx(Gx,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),xQ=ka("MenuContent.ScrollLock"),Gx=E.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:y,onInteractOutside:_,onDismiss:T,disableOutsideScroll:I,...b}=t,C=il(Tr,n),R=vh(Tr,n),O=ig(n),M=gD(n),W=hQ(n),[q,Y]=E.useState(null),P=E.useRef(null),A=it(e,P,C.onContentChange),k=E.useRef(0),V=E.useRef(""),U=E.useRef(0),B=E.useRef(null),L=E.useRef("right"),ye=E.useRef(0),Ie=I?sg:E.Fragment,_e=I?{as:xQ,allowPinchZoom:!0}:void 0,he=ee=>{var ue,xe;const se=V.current+ee,$=W().filter(Ne=>!Ne.disabled),te=document.activeElement,Ae=(ue=$.find(Ne=>Ne.ref.current===te))==null?void 0:ue.textValue,Se=$.map(Ne=>Ne.textValue),Le=DQ(Se,se,Ae),ke=(xe=$.find(Ne=>Ne.textValue===Le))==null?void 0:xe.ref.current;(function Ne(Ve){V.current=Ve,window.clearTimeout(k.current),Ve!==""&&(k.current=window.setTimeout(()=>Ne(""),1e3))})(se),ke&&setTimeout(()=>ke.focus())};E.useEffect(()=>()=>window.clearTimeout(k.current),[]),Dx();const Z=E.useCallback(ee=>{var $,te;return L.current===(($=B.current)==null?void 0:$.side)&&jQ(ee,(te=B.current)==null?void 0:te.area)},[]);return h.jsx(vQ,{scope:n,searchRef:V,onItemEnter:E.useCallback(ee=>{Z(ee)&&ee.preventDefault()},[Z]),onItemLeave:E.useCallback(ee=>{var se;Z(ee)||((se=P.current)==null||se.focus(),Y(null))},[Z]),onTriggerLeave:E.useCallback(ee=>{Z(ee)&&ee.preventDefault()},[Z]),pointerGraceTimerRef:U,onPointerGraceIntentChange:E.useCallback(ee=>{B.current=ee},[]),children:h.jsx(Ie,{..._e,children:h.jsx(Qm,{asChild:!0,trapped:s,onMountAutoFocus:Te(o,ee=>{var se;ee.preventDefault(),(se=P.current)==null||se.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:h.jsx(Ym,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:y,onInteractOutside:_,onDismiss:T,children:h.jsx(sD,{asChild:!0,...M,dir:R.dir,orientation:"vertical",loop:r,currentTabStopId:q,onCurrentTabStopIdChange:Y,onEntryFocus:Te(d,ee=>{R.isUsingKeyboardRef.current||ee.preventDefault()}),preventScrollOnEntryFocus:!0,children:h.jsx(X2,{role:"menu","aria-orientation":"vertical","data-state":OD(C.open),"data-radix-menu-content":"",dir:R.dir,...O,...b,ref:A,style:{outline:"none",...b.style},onKeyDown:Te(b.onKeyDown,ee=>{const $=ee.target.closest("[data-radix-menu-content]")===ee.currentTarget,te=ee.ctrlKey||ee.altKey||ee.metaKey,Ae=ee.key.length===1;$&&(ee.key==="Tab"&&ee.preventDefault(),!te&&Ae&&he(ee.key));const Se=P.current;if(ee.target!==Se||!cQ.includes(ee.key))return;ee.preventDefault();const ke=W().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);pD.includes(ee.key)&&ke.reverse(),PQ(ke)}),onBlur:Te(t.onBlur,ee=>{ee.currentTarget.contains(ee.target)||(window.clearTimeout(k.current),V.current="")}),onPointerMove:Te(t.onPointerMove,Hd(ee=>{const se=ee.target,$=ye.current!==ee.clientX;if(ee.currentTarget.contains(se)&&$){const te=ee.clientX>ye.current?"right":"left";L.current=te,ye.current=ee.clientX}}))})})})})})})});wD.displayName=Tr;var EQ="MenuGroup",Kx=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(ze.div,{role:"group",...r,ref:e})});Kx.displayName=EQ;var TQ="MenuLabel",xD=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(ze.div,{...r,ref:e})});xD.displayName=TQ;var lm="MenuItem",b1="menu.itemSelect",og=E.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,o=E.useRef(null),a=vh(lm,t.__scopeMenu),c=qx(lm,t.__scopeMenu),d=it(e,o),f=E.useRef(!1),m=()=>{const y=o.current;if(!n&&y){const _=new CustomEvent(b1,{bubbles:!0,cancelable:!0});y.addEventListener(b1,T=>r==null?void 0:r(T),{once:!0}),b2(y,_),_.defaultPrevented?f.current=!1:a.onClose()}};return h.jsx(ED,{...s,ref:d,disabled:n,onClick:Te(t.onClick,m),onPointerDown:y=>{var _;(_=t.onPointerDown)==null||_.call(t,y),f.current=!0},onPointerUp:Te(t.onPointerUp,y=>{var _;f.current||(_=y.currentTarget)==null||_.click()}),onKeyDown:Te(t.onKeyDown,y=>{const _=c.searchRef.current!=="";n||_&&y.key===" "||s0.includes(y.key)&&(y.currentTarget.click(),y.preventDefault())})})});og.displayName=lm;var ED=E.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=t,a=qx(lm,n),c=gD(n),d=E.useRef(null),f=it(e,d),[m,y]=E.useState(!1),[_,T]=E.useState("");return E.useEffect(()=>{const I=d.current;I&&T((I.textContent??"").trim())},[o.children]),h.jsx(Wd.ItemSlot,{scope:n,disabled:r,textValue:s??_,children:h.jsx(iD,{asChild:!0,...c,focusable:!r,children:h.jsx(ze.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:f,onPointerMove:Te(t.onPointerMove,Hd(I=>{r?a.onItemLeave(I):(a.onItemEnter(I),I.defaultPrevented||I.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Te(t.onPointerLeave,Hd(I=>a.onItemLeave(I))),onFocus:Te(t.onFocus,()=>y(!0)),onBlur:Te(t.onBlur,()=>y(!1))})})})}),bQ="MenuCheckboxItem",TD=E.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return h.jsx(ND,{scope:t.__scopeMenu,checked:n,children:h.jsx(og,{role:"menuitemcheckbox","aria-checked":cm(n)?"mixed":n,...s,ref:e,"data-state":Qx(n),onSelect:Te(s.onSelect,()=>r==null?void 0:r(cm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});TD.displayName=bQ;var bD="MenuRadioGroup",[SQ,CQ]=sl(bD,{value:void 0,onValueChange:()=>{}}),SD=E.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,o=qr(r);return h.jsx(SQ,{scope:t.__scopeMenu,value:n,onValueChange:o,children:h.jsx(Kx,{...s,ref:e})})});SD.displayName=bD;var CD="MenuRadioItem",ID=E.forwardRef((t,e)=>{const{value:n,...r}=t,s=CQ(CD,t.__scopeMenu),o=n===s.value;return h.jsx(ND,{scope:t.__scopeMenu,checked:o,children:h.jsx(og,{role:"menuitemradio","aria-checked":o,...r,ref:e,"data-state":Qx(o),onSelect:Te(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})})})});ID.displayName=CD;var Yx="MenuItemIndicator",[ND,IQ]=sl(Yx,{checked:!1}),AD=E.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,o=IQ(Yx,n);return h.jsx(Ti,{present:r||cm(o.checked)||o.checked===!0,children:h.jsx(ze.span,{...s,ref:e,"data-state":Qx(o.checked)})})});AD.displayName=Yx;var NQ="MenuSeparator",RD=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(ze.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});RD.displayName=NQ;var AQ="MenuArrow",PD=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=ig(n);return h.jsx(J2,{...s,...r,ref:e})});PD.displayName=AQ;var RQ="MenuSub",[SZ,kD]=sl(RQ),sd="MenuSubTrigger",DD=E.forwardRef((t,e)=>{const n=il(sd,t.__scopeMenu),r=vh(sd,t.__scopeMenu),s=kD(sd,t.__scopeMenu),o=qx(sd,t.__scopeMenu),a=E.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=o,f={__scopeMenu:t.__scopeMenu},m=E.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return E.useEffect(()=>m,[m]),E.useEffect(()=>{const y=c.current;return()=>{window.clearTimeout(y),d(null)}},[c,d]),h.jsx(Wx,{asChild:!0,...f,children:h.jsx(ED,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":OD(n.open),...t,ref:pm(e,s.onTriggerChange),onClick:y=>{var _;(_=t.onClick)==null||_.call(t,y),!(t.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Te(t.onPointerMove,Hd(y=>{o.onItemEnter(y),!y.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(o.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:Te(t.onPointerLeave,Hd(y=>{var T,I;m();const _=(T=n.content)==null?void 0:T.getBoundingClientRect();if(_){const b=(I=n.content)==null?void 0:I.dataset.side,C=b==="right",R=C?-5:5,O=_[C?"left":"right"],M=_[C?"right":"left"];o.onPointerGraceIntentChange({area:[{x:y.clientX+R,y:y.clientY},{x:O,y:_.top},{x:M,y:_.top},{x:M,y:_.bottom},{x:O,y:_.bottom}],side:b}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(y),y.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Te(t.onKeyDown,y=>{var T;const _=o.searchRef.current!=="";t.disabled||_&&y.key===" "||uQ[r.dir].includes(y.key)&&(n.onOpenChange(!0),(T=n.content)==null||T.focus(),y.preventDefault())})})})});DD.displayName=sd;var MD="MenuSubContent",jD=E.forwardRef((t,e)=>{const n=vD(Tr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,o=il(Tr,t.__scopeMenu),a=vh(Tr,t.__scopeMenu),c=kD(MD,t.__scopeMenu),d=E.useRef(null),f=it(e,d);return h.jsx(Wd.Provider,{scope:t.__scopeMenu,children:h.jsx(Ti,{present:r||o.open,children:h.jsx(Wd.Slot,{scope:t.__scopeMenu,children:h.jsx(Gx,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:f,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var y;a.isUsingKeyboardRef.current&&((y=d.current)==null||y.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:Te(t.onFocusOutside,m=>{m.target!==c.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Te(t.onEscapeKeyDown,m=>{a.onClose(),m.preventDefault()}),onKeyDown:Te(t.onKeyDown,m=>{var T;const y=m.currentTarget.contains(m.target),_=dQ[a.dir].includes(m.key);y&&_&&(o.onOpenChange(!1),(T=c.trigger)==null||T.focus(),m.preventDefault())})})})})})});jD.displayName=MD;function OD(t){return t?"open":"closed"}function cm(t){return t==="indeterminate"}function Qx(t){return cm(t)?"indeterminate":t?"checked":"unchecked"}function PQ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function kQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function DQ(t,e,n){const s=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let a=kQ(t,Math.max(o,0));s.length===1&&(a=a.filter(f=>f!==n));const d=a.find(f=>f.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function MQ(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const c=e[o],d=e[a],f=c.x,m=c.y,y=d.x,_=d.y;m>r!=_>r&&n<(y-f)*(r-m)/(_-m)+f&&(s=!s)}return s}function jQ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return MQ(n,e)}function Hd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var OQ=yD,LQ=Wx,VQ=_D,FQ=wD,UQ=Kx,BQ=xD,zQ=og,$Q=TD,WQ=SD,HQ=ID,qQ=AD,GQ=RD,KQ=PD,YQ=DD,QQ=jD,ag="DropdownMenu",[XQ,CZ]=Yr(ag,[mD]),On=mD(),[JQ,LD]=XQ(ag),VD=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:a,modal:c=!0}=t,d=On(e),f=E.useRef(null),[m,y]=za({prop:s,defaultProp:o??!1,onChange:a,caller:ag});return h.jsx(JQ,{scope:e,triggerId:As(),triggerRef:f,contentId:As(),open:m,onOpenChange:y,onOpenToggle:E.useCallback(()=>y(_=>!_),[y]),modal:c,children:h.jsx(OQ,{...d,open:m,onOpenChange:y,dir:r,modal:c,children:n})})};VD.displayName=ag;var FD="DropdownMenuTrigger",UD=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,o=LD(FD,n),a=On(n);return h.jsx(LQ,{asChild:!0,...a,children:h.jsx(ze.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:pm(e,o.triggerRef),onPointerDown:Te(t.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(o.onOpenToggle(),o.open||c.preventDefault())}),onKeyDown:Te(t.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&o.onOpenToggle(),c.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});UD.displayName=FD;var ZQ="DropdownMenuPortal",BD=t=>{const{__scopeDropdownMenu:e,...n}=t,r=On(e);return h.jsx(VQ,{...r,...n})};BD.displayName=ZQ;var zD="DropdownMenuContent",$D=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=LD(zD,n),o=On(n),a=E.useRef(!1);return h.jsx(FQ,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:e,onCloseAutoFocus:Te(t.onCloseAutoFocus,c=>{var d;a.current||(d=s.triggerRef.current)==null||d.focus(),a.current=!1,c.preventDefault()}),onInteractOutside:Te(t.onInteractOutside,c=>{const d=c.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,m=d.button===2||f;(!s.modal||m)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$D.displayName=zD;var eX="DropdownMenuGroup",tX=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=On(n);return h.jsx(UQ,{...s,...r,ref:e})});tX.displayName=eX;var nX="DropdownMenuLabel",WD=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=On(n);return h.jsx(BQ,{...s,...r,ref:e})});WD.displayName=nX;var rX="DropdownMenuItem",HD=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=On(n);return h.jsx(zQ,{...s,...r,ref:e})});HD.displayName=rX;var sX="DropdownMenuCheckboxItem",qD=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=On(n);return h.jsx($Q,{...s,...r,ref:e})});qD.displayName=sX;var iX="DropdownMenuRadioGroup",oX=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=On(n);return h.jsx(WQ,{...s,...r,ref:e})});oX.displayName=iX;var aX="DropdownMenuRadioItem",GD=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=On(n);return h.jsx(HQ,{...s,...r,ref:e})});GD.displayName=aX;var lX="DropdownMenuItemIndicator",KD=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=On(n);return h.jsx(qQ,{...s,...r,ref:e})});KD.displayName=lX;var cX="DropdownMenuSeparator",YD=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=On(n);return h.jsx(GQ,{...s,...r,ref:e})});YD.displayName=cX;var uX="DropdownMenuArrow",dX=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=On(n);return h.jsx(KQ,{...s,...r,ref:e})});dX.displayName=uX;var hX="DropdownMenuSubTrigger",QD=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=On(n);return h.jsx(YQ,{...s,...r,ref:e})});QD.displayName=hX;var fX="DropdownMenuSubContent",XD=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=On(n);return h.jsx(QQ,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});XD.displayName=fX;var pX=VD,mX=UD,gX=BD,JD=$D,ZD=WD,eM=HD,tM=qD,nM=GD,rM=KD,sM=YD,iM=QD,oM=XD;const yX=pX,vX=mX,_X=E.forwardRef(({className:t,inset:e,children:n,...r},s)=>h.jsxs(iM,{ref:s,className:fe("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,h.jsx(T4,{className:"ml-auto"})]}));_X.displayName=iM.displayName;const wX=E.forwardRef(({className:t,...e},n)=>h.jsx(oM,{ref:n,className:fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));wX.displayName=oM.displayName;const aM=E.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(gX,{children:h.jsx(JD,{ref:r,sideOffset:e,className:fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));aM.displayName=JD.displayName;const ec=E.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(eM,{ref:r,className:fe("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));ec.displayName=eM.displayName;const xX=E.forwardRef(({className:t,children:e,checked:n,...r},s)=>h.jsxs(tM,{ref:s,className:fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(rM,{children:h.jsx(xp,{className:"h-4 w-4"})})}),e]}));xX.displayName=tM.displayName;const EX=E.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(nM,{ref:r,className:fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(rM,{children:h.jsx(S4,{className:"h-2 w-2 fill-current"})})}),e]}));EX.displayName=nM.displayName;const lM=E.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(ZD,{ref:r,className:fe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));lM.displayName=ZD.displayName;const i0=E.forwardRef(({className:t,...e},n)=>h.jsx(sM,{ref:n,className:fe("-mx-1 my-1 h-px bg-muted",t),...e}));i0.displayName=sM.displayName;var Mv={exports:{}},jv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S1;function TX(){if(S1)return jv;S1=1;var t=hm();function e(y,_){return y===_&&(y!==0||1/y===1/_)||y!==y&&_!==_}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,o=t.useLayoutEffect,a=t.useDebugValue;function c(y,_){var T=_(),I=r({inst:{value:T,getSnapshot:_}}),b=I[0].inst,C=I[1];return o(function(){b.value=T,b.getSnapshot=_,d(b)&&C({inst:b})},[y,T,_]),s(function(){return d(b)&&C({inst:b}),y(function(){d(b)&&C({inst:b})})},[y]),a(T),T}function d(y){var _=y.getSnapshot;y=y.value;try{var T=_();return!n(y,T)}catch{return!0}}function f(y,_){return _()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return jv.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,jv}var C1;function bX(){return C1||(C1=1,Mv.exports=TX()),Mv.exports}var SX=bX();function CX(){return SX.useSyncExternalStore(IX,()=>!0,()=>!1)}function IX(){return()=>{}}var Xx="Avatar",[NX,IZ]=Yr(Xx),[AX,cM]=NX(Xx),uM=E.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,o]=E.useState("idle");return h.jsx(AX,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:h.jsx(ze.span,{...r,ref:e})})});uM.displayName=Xx;var dM="AvatarImage",hM=E.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=t,a=cM(dM,n),c=RX(r,o),d=qr(f=>{s(f),a.onImageLoadingStatusChange(f)});return Yt(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?h.jsx(ze.img,{...o,ref:e,src:r}):null});hM.displayName=dM;var fM="AvatarFallback",pM=E.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,o=cM(fM,n),[a,c]=E.useState(r===void 0);return E.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(d)}},[r]),a&&o.imageLoadingStatus!=="loaded"?h.jsx(ze.span,{...s,ref:e}):null});pM.displayName=fM;function I1(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function RX(t,{referrerPolicy:e,crossOrigin:n}){const r=CX(),s=E.useRef(null),o=r?(s.current||(s.current=new window.Image),s.current):null,[a,c]=E.useState(()=>I1(o,t));return Yt(()=>{c(I1(o,t))},[o,t]),Yt(()=>{const d=y=>()=>{c(y)};if(!o)return;const f=d("loaded"),m=d("error");return o.addEventListener("load",f),o.addEventListener("error",m),e&&(o.referrerPolicy=e),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",f),o.removeEventListener("error",m)}},[o,n,e]),a}var mM=uM,gM=hM,yM=pM;const lg=E.forwardRef(({className:t,...e},n)=>h.jsx(mM,{ref:n,className:fe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));lg.displayName=mM.displayName;const cg=E.forwardRef(({className:t,...e},n)=>h.jsx(gM,{ref:n,className:fe("aspect-square h-full w-full",t),...e}));cg.displayName=gM.displayName;const ug=E.forwardRef(({className:t,...e},n)=>h.jsx(yM,{ref:n,className:fe("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));ug.displayName=yM.displayName;const N1={hidden:{opacity:0,y:20},visible:t=>({opacity:1,y:0,transition:{delay:t*.1,duration:.5}})},PX={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}}},kX={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,y:-20,transition:{duration:.2,ease:"easeIn"}}};function DX(){var T;const[t,e]=E.useState(!1),[n,r]=E.useState(!1),[s,o]=E.useState(!1),[a,c]=E.useState(null),d=Lo(),f=jn(),{theme:m}=_i();E.useEffect(()=>{const I=()=>{const b=or();if(o(b),b){const C=ph();c(C)}else c(null)};return I(),window.addEventListener("storage",I),()=>{window.removeEventListener("storage",I)}},[]),E.useEffect(()=>{const I=()=>{window.scrollY>10?r(!0):r(!1)};return window.addEventListener("scroll",I),()=>window.removeEventListener("scroll",I)},[]);const y=async()=>{await DG(),f("/")},_=[{href:"/",label:"Home"},{href:"/about",label:"About"},{href:"/services",label:"Services"},{href:"/contact",label:"Contact"}];return h.jsxs(j.header,{initial:{y:-100},animate:{y:0},transition:{duration:.5,type:"spring",stiffness:100},className:fe("fixed top-0 w-full z-50 transition-all duration-500",n?"bg-[#30D5C8]/95 backdrop-blur-sm shadow-sm":"bg-transparent"),children:[h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex h-16 items-center",children:[h.jsx("div",{className:"flex-shrink-0",children:h.jsx(kn,{to:"/",className:"flex items-center",children:h.jsx(j.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},whileHover:{scale:1.1,rotate:2},whileTap:{scale:.95},transition:{duration:.5,type:"spring",stiffness:100},children:h.jsx("img",{src:"/images/logo.png",alt:"CEMAR - Celebrating Every Milestone And Recovery",className:"h-16 md:h-15"})})})}),h.jsx("nav",{className:"hidden md:flex flex-1 justify-center space-x-12",children:_.map((I,b)=>h.jsx(j.div,{custom:b,initial:"hidden",animate:"visible",variants:N1,children:h.jsx(kn,{to:I.href,className:fe("inline-flex items-center px-1 pt-1 text-sm font-medium transition-colors hover:text-[#30D5C8]",d.pathname===I.href?"border-b-2 border-[#008080]":"",m==="dark"?"text-white":"text-black"),children:I.label})},I.href))}),h.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[h.jsx(j.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:h.jsx(Ge,{variant:"default",className:"hidden md:inline-flex bg-[#008080] hover:bg-[#30D5C8] text-white transition-colors duration-300",onClick:()=>{f(s?"/booking":"/login?returnUrl=/booking")},children:"Book Appointment"})}),s?h.jsxs(yX,{children:[h.jsx(vX,{asChild:!0,children:h.jsx(j.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:h.jsx(Ge,{variant:"ghost",className:"relative h-8 w-8 rounded-full ring-2 ring-[#008080] hover:ring-[#30D5C8]",children:h.jsxs(lg,{className:"h-8 w-8",children:[h.jsx(cg,{src:a==null?void 0:a.avatar,alt:a==null?void 0:a.name}),h.jsx(ug,{className:"bg-[#008080] text-white",children:((T=a==null?void 0:a.name)==null?void 0:T.substring(0,2).toUpperCase())||"U"})]})})})}),h.jsx(j.div,{initial:"hidden",animate:"visible",variants:PX,children:h.jsxs(aM,{className:"w-56 border-[#008080]",align:"end",forceMount:!0,children:[h.jsx(lM,{className:"font-normal",children:h.jsxs("div",{className:"flex flex-col space-y-1",children:[h.jsx("p",{className:"text-sm font-medium leading-none text-White",children:a==null?void 0:a.name}),h.jsx("p",{className:"text-xs leading-none text-[#30D5C8]",children:a==null?void 0:a.email})]})}),h.jsx(i0,{className:"bg-[#008080]/20"}),h.jsxs(ec,{onClick:()=>f("/profile"),className:"text-White  hover:text-[#30D5C8] cursor-pointer",children:[h.jsx(U4,{className:"mr-2 h-4 w-4"}),h.jsx("span",{children:"Profile"})]}),h.jsxs(ec,{onClick:()=>f("/account-settings"),className:"text-White hover:text-[#30D5C8] cursor-pointer",children:[h.jsx(iN,{className:"mr-2 h-4 w-4"}),h.jsx("span",{children:"Settings"})]}),h.jsxs(ec,{onClick:()=>f("/preferences"),className:"text-White hover:text-[#30D5C8] cursor-pointer",children:[h.jsx(O4,{className:"mr-2 h-4 w-4"}),h.jsx("span",{children:"Preferences"})]}),h.jsxs(ec,{onClick:()=>f("/booking"),className:"text-White hover:text-[#30D5C8] cursor-pointer",children:[h.jsx(T0,{className:"mr-2 h-4 w-4"}),h.jsx("span",{children:"Book Appointment"})]}),h.jsx(i0,{className:"bg-[#008080]/20"}),h.jsxs(ec,{className:"text-red-600 hover:text-red-700 cursor-pointer",onClick:y,children:[h.jsx(P4,{className:"mr-2 h-4 w-4"}),h.jsx("span",{children:"Log out"})]})]})})]}):h.jsx(j.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:h.jsx(Ge,{variant:"outline",className:"bg-[#30D5C8] text-black border-2 border-[#008080] hover:bg-[#30D5C8]/90 hover:text-black hover:border-[#008080] transition-colors duration-300",onClick:()=>f("/login"),children:"Login"})})]}),h.jsx("div",{className:"md:hidden",children:h.jsx(j.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:h.jsxs(Ge,{variant:"ghost",size:"icon",onClick:()=>e(!t),className:"inline-flex items-center justify-center rounded-md p-2 text-[#008080] hover:bg-[#30D5C8]/10 focus:outline-none focus:ring-2 focus:ring-[#008080]",children:[h.jsx("span",{className:"sr-only",children:"Open main menu"}),t?h.jsx(B4,{className:"block h-6 w-6","aria-hidden":"true"}):h.jsx(D4,{className:"block h-6 w-6","aria-hidden":"true"})]})})})]})}),t&&h.jsx(j.div,{initial:"hidden",animate:"visible",exit:"exit",variants:kX,className:"md:hidden bg-[#008080] border-b border-[#008080]/20 shadow-md",children:h.jsxs("div",{className:"space-y-1 px-2 pb-3 pt-2",children:[_.map((I,b)=>h.jsx(j.div,{custom:b,initial:"hidden",animate:"visible",variants:N1,children:h.jsx(kn,{to:I.href,className:fe("block rounded-md px-3 py-2 text-base font-medium transition-colors hover:text-white",d.pathname===I.href?"bg-white/10":"hover:bg-white/10","text-white"),onClick:()=>e(!1),children:I.label})},I.href)),s?h.jsxs(h.Fragment,{children:[h.jsx(kn,{to:"/profile",className:"block rounded-md px-3 py-2 text-base font-medium text-white hover:text-white hover:bg-white/10",onClick:()=>e(!1),children:"Profile"}),h.jsx(kn,{to:"/account-settings",className:"block rounded-md px-3 py-2 text-base font-medium text-white hover:text-white hover:bg-white/10",onClick:()=>e(!1),children:"Account Settings"}),h.jsx(kn,{to:"/preferences",className:"block rounded-md px-3 py-2 text-base font-medium text-white hover:text-white hover:bg-white/10",onClick:()=>e(!1),children:"Preferences"}),h.jsx("div",{className:"px-3 py-2",children:h.jsx(Ge,{variant:"destructive",className:"w-full bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90 hover:text-black",onClick:y,children:"Log out"})})]}):h.jsx("div",{className:"px-3 py-2",children:h.jsx(Ge,{variant:"outline",className:"w-full bg-white text-[#008080] border-white hover:bg-white/90 hover:text-[#008080] hover:border-white transition-colors duration-300",onClick:()=>f("/login"),children:"Login"})})]})})]})}const MX={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,staggerChildren:.1}}},Zt={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:15}},hover:{scale:1.05,transition:{type:"spring",stiffness:400,damping:10}}},Ov={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{type:"spring",stiffness:100,damping:15}},hover:{scale:1.2,rotate:5,transition:{type:"spring",stiffness:400,damping:10}}};function jX(){const t=jn(),e=n=>{console.log("Starting navigation check..."),console.log("LocalStorage isLoggedIn:",localStorage.getItem("isLoggedIn"));const r=or();console.log("checkIsLoggedIn result:",r),console.log("Attempting to navigate to:",n),r?t(n):(console.log("User not logged in, redirecting to login"),t("/login"))};return h.jsx(j.footer,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:MX,className:"bg-muted py-12",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[h.jsxs(j.div,{variants:Zt,className:"space-y-4",children:[h.jsx(j.div,{variants:Zt,whileHover:{scale:1.1,rotate:2},whileTap:{scale:.95},className:"cursor-pointer",children:h.jsx("img",{src:"/light.png",alt:"",className:"h-20 md:h-26"})}),h.jsx(j.p,{variants:Zt,className:"text-sm text-muted-foreground",children:"Celebrating Every Milestone And Recovery"}),h.jsxs("div",{className:"flex space-x-4",children:[h.jsxs(j.a,{href:"#",variants:Ov,whileHover:"hover",className:"text-muted-foreground hover:text-[#30D5C8]",children:[h.jsx(I4,{className:"h-5 w-5"}),h.jsx("span",{className:"sr-only",children:"Facebook"})]}),h.jsxs(j.a,{href:"#",variants:Ov,whileHover:"hover",className:"text-muted-foreground hover:text-[#30D5C8]",children:[h.jsx(F4,{className:"h-5 w-5"}),h.jsx("span",{className:"sr-only",children:"Twitter"})]}),h.jsxs(j.a,{href:"#",variants:Ov,whileHover:"hover",className:"text-muted-foreground hover:text-[#30D5C8]",children:[h.jsx(R4,{className:"h-5 w-5"}),h.jsx("span",{className:"sr-only",children:"Instagram"})]})]})]}),h.jsxs(j.div,{variants:Zt,className:"space-y-4",children:[h.jsx(j.h3,{variants:Zt,className:"text-lg font-semibold",children:"Quick Links"}),h.jsx("ul",{className:"space-y-2",children:["Home","About","Services","Contact"].map((n,r)=>{const s=n==="Home"?"/":`/${n.toLowerCase()}`;return h.jsx(j.li,{variants:Zt,custom:r,whileHover:"hover",children:h.jsx(kn,{to:s,onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"text-muted-foreground hover:text-[#30D5C8]",children:n})},n)})})]}),h.jsxs(j.div,{variants:Zt,className:"space-y-4",children:[h.jsx(j.h3,{variants:Zt,className:"text-lg font-semibold",children:"Services"}),h.jsx("ul",{className:"space-y-2",children:["One-on-One Therapy","Group Counseling","Online Sessions"].map((n,r)=>h.jsx(j.li,{variants:Zt,custom:r,whileHover:"hover",children:h.jsx(kn,{to:"#",className:"text-muted-foreground hover:text-[#30D5C8]",onClick:s=>{s.preventDefault(),window.scrollTo({top:0,behavior:"smooth"}),e("/services")},children:n})},n))})]}),h.jsxs(j.div,{variants:Zt,className:"space-y-4",children:[h.jsx(j.h3,{variants:Zt,className:"text-lg font-semibold",children:"Contact"}),h.jsx(j.p,{variants:Zt,className:"mt-2",children:h.jsx("a",{href:"tel:+19059092400",className:"hover:text-[#30D5C8]",children:"(905) 909-2400"})}),h.jsx(j.p,{variants:Zt,children:h.jsx("a",{href:"mailto:info@cemarcounseling.com",className:"hover:text-[#30D5C8]",children:"info@cemarcounseling.com"})})]})]}),h.jsxs(j.div,{variants:Zt,className:"mt-12 pt-8 border-t border-white",children:[h.jsxs(j.p,{variants:Zt,className:"text-center text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," CEMAR. All rights reserved."]}),h.jsxs("div",{className:"mt-4 flex justify-center space-x-6 flex-wrap",children:[h.jsx(j.a,{variants:Zt,whileHover:"hover",href:"/privacy",className:"text-xs text-muted-foreground hover:text-[#30D5C8]",children:"Privacy Policy"}),h.jsx(j.a,{variants:Zt,whileHover:"hover",href:"/terms",className:"text-xs text-muted-foreground hover:text-[#30D5C8]",children:"Terms of Service"}),h.jsx(j.a,{variants:Zt,whileHover:"hover",href:"/informed-consent",className:"text-xs text-muted-foreground hover:text-[#30D5C8]",children:"Informed Consent"})]})]})]})})}function OX({className:t,...e}){return h.jsx("div",{className:fe("animate-pulse rounded-md bg-muted",t),...e})}function Wa({src:t,alt:e,className:n,onLoad:r,priority:s=!1,...o}){const[a,c]=E.useState(!0),[d,f]=E.useState(!1),[m,y]=E.useState("");return E.useEffect(()=>{c(!0),f(!1);const _=new Image;s&&(_.fetchPriority="high"),_.src=t;const T=()=>{y(t),c(!1),r==null||r()},I=()=>{f(!0),c(!1),console.error(`Failed to load image: ${t}`)};return _.onload=T,_.onerror=I,()=>{_.onload=null,_.onerror=null}},[t,r,s]),d?h.jsx("div",{className:fe("bg-muted flex items-center justify-center",n),children:h.jsx("span",{className:"text-muted-foreground",children:"Failed to load image"})}):h.jsxs(h.Fragment,{children:[a&&h.jsx(OX,{className:fe("rounded-md",n)}),h.jsx("img",{src:m||t,alt:e,loading:s?"eager":"lazy",className:fe("transition-all duration-700",a?"opacity-0 scale-105":"opacity-100 scale-100",n),...o})]})}const A1=j(Wa);function LX(){const{theme:t}=_i(),e=jn(),n=E.useMemo(()=>["/images/0.JPG","/images/1.JPG","/images/2.JPG","/images/3.JPG"],[]),r=E.useMemo(()=>[{img:"/images/client1.jpg",quote:"The counseling sessions have truly transformed my perspective on life. The therapists are compassionate and professional.",name:"Sarah M.",role:"Individual Therapy"},{img:"/images/client2.jpg",quote:"Group counseling helped me realize I wasn't alone in my struggles. The supportive community made all the difference.",name:"James T.",role:"Group Counseling"},{img:"/images/client3.jpg",quote:"The online sessions fit perfectly into my busy schedule. Quality care from the convenience of my home.",name:"Emily R.",role:"Online Sessions"}],[]),[s,o]=E.useState(!1),[a,c]=E.useState(0),[d,f]=E.useState(!0),[m,y]=E.useState(!1),[_,T]=E.useState(0),I=E.useRef(null),b=E.useRef(null),C=E.useMemo(()=>({type:"spring",stiffness:100,damping:15}),[]),R=E.useMemo(()=>({fadeIn:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:C}},card:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:C},hover:{scale:1.05,transition:{type:"spring",stiffness:400,damping:10}}},icon:{hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:C},hover:{scale:1.2}}}),[C]),O=E.useCallback(A=>{A.current!==null&&(window.clearInterval(A.current),A.current=null)},[]),M=E.useCallback(A=>new Promise(k=>{const V=new Image;V.src=A,V.onload=()=>k(),V.onerror=()=>k()}),[]),W=E.useCallback(async A=>{const k=A%n.length,V=n[k];await M(V)},[n,M]);E.useEffect(()=>{const A=localStorage.getItem("isLoggedIn")==="true";o(A)},[]),E.useEffect(()=>{let A=!0;return(async()=>{try{await Promise.all(n.map(k=>M(k)))}catch(k){console.error("Preload error",k)}A&&y(!0)})(),()=>{A=!1}},[n,M]),E.useEffect(()=>(O(b),b.current=window.setInterval(()=>{c(A=>(A+1)%n.length)},5e3),()=>O(b)),[n.length,O]),E.useEffect(()=>(O(I),I.current=window.setInterval(()=>{T(A=>(A+1)%r.length)},5e3),()=>O(I)),[r.length,O]),E.useEffect(()=>{window.scrollTo(0,0),document.title="CEMAR Counseling"},[]);const q=A=>{T(A),O(I)},Y=()=>{T(A=>(A-1+r.length)%r.length),O(I)},P=()=>{T(A=>(A+1)%r.length),O(I)};return h.jsxs("div",{id:"home",className:"pt-16",children:[h.jsxs("section",{className:"relative h-[90vh] flex items-center overflow-hidden",children:[h.jsx(Q0,{mode:"wait",children:h.jsx(j.div,{initial:{opacity:0,scale:1.05},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.45},className:"absolute inset-0 z-0",children:h.jsx(Wa,{src:m?n[a]:"/placeholder.svg",alt:"Calm counseling environment",className:fe("w-full h-full object-cover brightness-[0.7]",d?"scale-105":"scale-100"),priority:!0,onLoad:async()=>{f(!1),W(a+1).catch(()=>{})}})},a)}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/30 to-black/60 z-[1]"}),h.jsx("div",{className:"container relative z-10 mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-3xl",children:[h.jsx(j.div,{initial:"hidden",animate:"visible",variants:R.fadeIn,children:h.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-4",children:["Welcome to ",h.jsx("span",{className:"text-[#30D5C8]",children:"CEMAR Counseling"})]})}),h.jsx(j.div,{initial:"hidden",animate:"visible",variants:R.fadeIn,children:h.jsx("p",{className:"text-xl md:text-2xl text-white/90 mb-8",children:"Celebrating Every Milestone And Recovery"})}),h.jsx(j.div,{initial:"hidden",animate:"visible",variants:R.fadeIn,whileHover:{scale:1.03},children:h.jsx(Ge,{size:"lg",className:"text-lg bg-[#008080] hover:bg-[#008080]/90 text-white shadow-lg",onClick:()=>{e(s?"/booking":"/login?returnUrl=/booking")},children:"Book an Appointment"})})]})}),h.jsx("div",{className:"absolute inset-0 z-[2] pointer-events-none",children:h.jsx(j.div,{initial:{opacity:0},animate:{opacity:[0,.5,0]},transition:{duration:20,repeat:1/0,repeatType:"reverse"},className:"absolute top-1/4 left-1/4 w-32 h-32 rounded-full bg-primary/20 blur-xl"})})]}),h.jsx("section",{className:"py-20 bg-background relative overflow-hidden",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[h.jsxs(j.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"text-center mb-16",children:[h.jsx(j.h2,{variants:R.fadeIn,className:`text-3xl md:text-4xl font-bold mb-4 ${t==="dark"?"text-white":"text-black"}`,children:"Our Services"}),h.jsx(j.p,{variants:R.fadeIn,className:`text-xl ${t==="dark"?"text-white/80":"text-black/80"} max-w-2xl mx-auto`,children:"We offer a range of professional counseling services to support your mental health journey"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[h.jsxs(j.div,{initial:"hidden",whileInView:"visible",whileHover:"hover",viewport:{once:!0,margin:"-50px"},variants:R.card,className:"bg-card rounded-lg p-8 shadow-lg hover:shadow-xl transition-all duration-300 border-2 border-[#30D5C8]/20 hover:border-[#30D5C8]/40",children:[h.jsx(j.div,{variants:R.icon,className:"bg-[#30D5C8]/10 p-3 rounded-full w-fit mb-6",children:h.jsx(T0,{className:"h-8 w-8 text-[#30D5C8]"})}),h.jsxs(j.div,{children:[h.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Therapy Sessions"}),h.jsx("p",{className:"text-muted-foreground mb-6",children:"One-on-one sessions with our experienced therapists to address your specific needs and concerns."})]}),h.jsx(j.div,{variants:R.fadeIn,whileHover:{scale:1.02},children:h.jsx(Ge,{className:"bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90",onClick:()=>e("/services#one-on-one"),children:"Learn More"})})]}),h.jsxs(j.div,{initial:"hidden",whileInView:"visible",whileHover:"hover",viewport:{once:!0,margin:"-50px"},variants:R.card,className:"bg-card rounded-lg p-8 shadow-lg hover:shadow-xl transition-all duration-300 border-2 border-[#30D5C8]/20 hover:border-[#30D5C8]/40",children:[h.jsx(j.div,{variants:R.icon,className:"bg-[#30D5C8]/10 p-3 rounded-full w-fit mb-6",children:h.jsx(oN,{className:"h-8 w-8 text-[#30D5C8]"})}),h.jsxs(j.div,{children:[h.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Group Counseling"}),h.jsx("p",{className:"text-muted-foreground mb-6",children:"Connect with others facing similar challenges in a supportive group environment led by our counselors."})]}),h.jsx(j.div,{variants:R.fadeIn,whileHover:{scale:1.02},children:h.jsx(Ge,{className:"bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90",onClick:()=>e("/services#group"),children:"Learn More"})})]}),h.jsxs(j.div,{initial:"hidden",whileInView:"visible",whileHover:"hover",viewport:{once:!0,margin:"-50px"},variants:R.card,className:"bg-card rounded-lg p-8 shadow-lg hover:shadow-xl transition-all duration-300 border-2 border-[#30D5C8]/20 hover:border-[#30D5C8]/40",children:[h.jsx(j.div,{variants:R.icon,className:"bg-[#30D5C8]/10 p-3 rounded-full w-fit mb-6",children:h.jsx(aN,{className:"h-8 w-8 text-[#30D5C8]"})}),h.jsxs(j.div,{children:[h.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Online Sessions"}),h.jsx("p",{className:"text-muted-foreground mb-6",children:"Access therapy from the comfort of your home with our secure and confidential online sessions."})]}),h.jsx(j.div,{variants:R.fadeIn,whileHover:{scale:1.02},children:h.jsx(Ge,{className:"bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90",onClick:()=>e("/services#online"),children:"Learn More"})})]})]})]})}),h.jsx("section",{className:"py-20 bg-background relative overflow-hidden",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[h.jsxs(j.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"text-center mb-8",children:[h.jsx(j.h2,{variants:R.fadeIn,className:`text-3xl md:text-4xl font-bold mb-2 ${t==="dark"?"text-white":"text-black"}`,children:"What Our Clients Say"}),h.jsx(j.p,{variants:R.fadeIn,className:`text-lg ${t==="dark"?"text-white/80":"text-black/80"} max-w-2xl mx-auto`,children:"Hear from individuals who have experienced positive change through our counseling services."})]}),h.jsxs("div",{className:"relative rounded-lg overflow-hidden shadow-lg",children:[h.jsx(A1,{src:"/images/testimonials-bg.jpg",alt:"soft background",className:"absolute inset-0 w-full h-full object-cover brightness-[0.65] pointer-events-none"}),h.jsxs("div",{className:"relative z-10 px-4 py-12",children:[h.jsxs("div",{className:"relative",children:[h.jsx(j.div,{className:"flex",animate:{x:`-${_*100}%`},transition:{type:"spring",stiffness:120,damping:20},style:{width:`${r.length*100}%`},children:r.map((A,k)=>h.jsx("div",{className:"w-full px-4",style:{flex:"0 0 100%"},children:h.jsxs(j.blockquote,{initial:"hidden",whileInView:"visible",variants:R.card,className:"bg-card/80 backdrop-blur-sm rounded-lg p-6 md:p-10 shadow-xl border-2 border-[#30D5C8]/20",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[h.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden flex-shrink-0 ring-2 ring-[#30D5C8]",children:h.jsx("img",{loading:"lazy",src:A.img,alt:`${A.name} avatar`,className:"w-full h-full object-cover",onError:V=>{V.target.src="/images/avatar-placeholder.png"}})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-[#30D5C8]",children:A.name}),h.jsx("p",{className:"text-sm text-muted-foreground",children:A.role})]})]}),h.jsxs(j.p,{variants:R.fadeIn,className:"text-muted-foreground italic mb-4 md:mb-6",children:['"',A.quote,'"']}),h.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:5}).map((V,U)=>h.jsx("span",{className:"text-[#30D5C8]",children:""},U))})]})},k))}),h.jsx("button",{onClick:Y,className:"absolute top-1/2 left-4 transform -translate-y-1/2 bg-white/10 hover:bg-white/20 text-white p-2 rounded-full shadow-md z-20","aria-label":"Previous testimonial",children:""}),h.jsx("button",{onClick:P,className:"absolute top-1/2 right-4 transform -translate-y-1/2 bg-white/10 hover:bg-white/20 text-white p-2 rounded-full shadow-md z-20","aria-label":"Next testimonial",children:""})]}),h.jsx("div",{className:"mt-6 flex justify-center items-center gap-3",children:r.map((A,k)=>h.jsx("button",{onClick:()=>q(k),"aria-label":`Go to testimonial ${k+1}`,className:`w-3 h-3 rounded-full transition-colors ${_===k?"bg-[#30D5C8]":"bg-white/40"}`},k))})]})]})]})}),h.jsxs("section",{className:"py-20 relative overflow-hidden",children:[h.jsxs(j.div,{className:"absolute inset-0 z-0",initial:{scale:1,rotate:0},animate:{scale:[1,1.05,1],rotate:[0,1,0]},transition:{duration:20,repeat:1/0,repeatType:"reverse"},children:[h.jsx(A1,{src:"/images/gold.jpg",alt:"Autumn forest path",className:"w-full h-full object-cover",animate:{scale:[1.05,1,1.05]},transition:{duration:25,repeat:1/0,repeatType:"reverse"}}),h.jsx(j.div,{className:"absolute inset-0",animate:{backgroundColor:["rgba(0,0,0,0.4)","rgba(0,0,0,0.5)","rgba(0,0,0,0.4)"]},transition:{duration:15,repeat:1/0,repeatType:"reverse"}})]}),h.jsx("div",{className:"container relative z-10 mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs(j.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center max-w-3xl mx-auto",children:[h.jsx(j.h2,{variants:R.fadeIn,className:"text-3xl md:text-4xl font-bold mb-4 text-white",children:"Begin Your Journey Today"}),h.jsx(j.p,{variants:R.fadeIn,className:"text-xl text-white/90 mb-8",children:"Take the first step towards better mental health and well-being. Our team of professionals is here to support you."}),h.jsx(j.div,{variants:R.fadeIn,whileHover:{scale:1.03},children:h.jsx(Ge,{size:"lg",className:"text-lg bg-[#008080] hover:bg-[#008080]/90 text-white shadow-lg",onClick:()=>{e(s?"/booking#booking-top":"/login?returnUrl=/booking#booking-top")},children:"Book an Appointment"})})]})})]})]})}const Zf=["/images/0.JPG","/images/1.JPG","/images/2.JPG","/images/3.JPG"];function VX(){const[t,e]=E.useState(!1),n=jn(),{theme:r}=_i();E.useEffect(()=>{const y=new Image;y.src="/assets/team-meeting.jpg",y.onload=()=>e(!0)},[]);const s={hidden:{opacity:0,y:20},visible:y=>({opacity:1,y:0,transition:{delay:y*.1,duration:.5}})},o={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:15,staggerChildren:.2}}},a={hidden:{opacity:0,x:-50},visible:{opacity:1,x:0,transition:{type:"spring",stiffness:100,damping:15}}},c={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:15}},hover:{y:-10,scale:1.02,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",transition:{type:"spring",stiffness:400,damping:10}}},[d,f]=E.useState(0),m=E.useRef(null);return E.useEffect(()=>(m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{f(y=>(y+1)%Zf.length)},3500),()=>{m.current&&clearTimeout(m.current)}),[d]),h.jsxs("div",{className:"pt-16",children:[h.jsxs("section",{className:"relative h-[60vh] flex items-center overflow-hidden",children:[h.jsxs(j.div,{className:"absolute inset-0 z-0",initial:{scale:1,rotate:0},animate:{scale:[1,1.2,1.1,1.3,1],rotate:[0,1,-1,2,0],filter:["brightness(0.7) saturate(1)","brightness(0.8) saturate(1.2)","brightness(0.7) saturate(1.1)","brightness(0.9) saturate(1.3)","brightness(0.7) saturate(1)"]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse",ease:"easeInOut",times:[0,.25,.5,.75,1]},children:[h.jsx(Wa,{src:"/images/community-support.jpg",alt:"Community support and connection",className:"w-full h-full object-cover"}),h.jsx(j.div,{className:"absolute inset-0",animate:{backgroundColor:["rgba(0, 0, 0, 0.4)","rgba(0, 0, 0, 0.5)","rgba(0, 0, 0, 0.3)","rgba(0, 0, 0, 0.6)","rgba(0, 0, 0, 0.4)"]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse",ease:"easeInOut"}})]}),h.jsx("div",{className:"container relative z-10 mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs(j.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center max-w-3xl mx-auto",children:[h.jsxs(j.h1,{variants:s,custom:0,className:"text-4xl md:text-5xl font-bold mb-6 text-white",children:["About"," ",h.jsx("span",{className:"text-[#30D5C8]",children:"Us"})]}),h.jsx(j.p,{variants:s,custom:1,className:"text-xl text-white/90",children:"Dedicated to supporting mental health and well-being in our community"})]})})]}),h.jsx("section",{className:"py-20 bg-background",children:h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-6xl mx-auto",children:[" ",h.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[" ",h.jsxs(j.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:o,children:[h.jsxs(j.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"text-center mb-16",children:[h.jsx(j.h2,{variants:s,custom:0,className:`text-3xl md:text-4xl font-bold mb-4 ${r==="dark"?"text-white":"text-black"}`,children:"Our Mission"}),h.jsx(j.p,{variants:s,custom:1,className:`text-xl ${r==="dark"?"text-white/80":"text-black/80"} max-w-2xl mx-auto`,children:"To provide compassionate and professional counseling services that empower individuals to overcome challenges and achieve personal growth."})]}),h.jsxs(j.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"text-center mb-16",children:[h.jsx(j.h2,{variants:s,custom:0,className:`text-3xl md:text-4xl font-bold mb-4 ${r==="dark"?"text-white":"text-black"}`,children:"Our Vision"}),h.jsx(j.p,{variants:s,custom:1,className:`text-xl ${r==="dark"?"text-white/80":"text-black/80"} max-w-2xl mx-auto`,children:"Here at CEMAR, we envision to providing a dedicated, compassionate, and non-discriminatory space for individuals to explore their mental health journeys."})]}),h.jsxs(j.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"text-center mb-16",children:[h.jsx(j.h2,{variants:s,custom:0,className:`text-3xl md:text-4xl font-bold mb-4 ${r==="dark"?"text-white":"text-black"}`,children:"Our Goal"}),h.jsx(j.p,{variants:s,custom:1,className:`text-xl ${r==="dark"?"text-white/80":"text-black/80"} max-w-2xl mx-auto`,children:"To enhance and equip clients' emotional well-being and coping skills."})]})]}),h.jsxs(j.div,{variants:s,custom:2,className:"relative w-full h-auto overflow-hidden rounded-lg bg-black/10 md:max-w-3xl",children:[h.jsx(j.img,{src:Zf[d],alt:"Slideshow",className:"w-full object-cover h-[700px]",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8}},Zf[d]),h.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-3 p-2 bg-black/30 rounded-full",children:Zf.map((y,_)=>h.jsx("button",{className:`w-4 h-4 rounded-full ${_===d?"bg-[#30D5C8]":"bg-white/70"}`,onClick:()=>f(_),"aria-label":`Go to slide ${_+1}`},_))})]})]})]})})}),h.jsx("section",{className:"py-20 bg-muted",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs(j.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center mb-16",children:[h.jsx(j.h2,{variants:s,custom:0,className:"text-3xl md:text-4xl font-bold mb-6",children:"Meet Your Therapist"}),h.jsx(j.p,{variants:s,custom:1,className:"text-xl text-muted-foreground",children:"Get to know the professional who will guide you through your journey"})]}),h.jsx(j.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:s,custom:0,className:"max-w-4xl mx-auto bg-card rounded-lg overflow-hidden shadow-lg mt-8",children:h.jsxs("div",{className:"md:flex h-full",children:[h.jsx("div",{className:"md:w-1/2 h-full pt-16",children:h.jsx(j.img,{src:"/images/team/cecilia.jpg",alt:"Cecilia Mar",className:"w-full h-full object-cover rounded-2xl shadow-2xl",initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5},whileHover:{scale:1.02}})}),h.jsxs("div",{className:"p-8 md:w-1/2",children:[h.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Richard A. Titus-Glover"}),h.jsx("p",{className:"text-primary mb-6",children:"Licensed Professional Counselor"}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold mb-2",children:"About"}),h.jsx("p",{className:"text-muted-foreground",children:"With over 15 years of experience supporting individuals and families facing mental health challenges, I am deeply committed to providing tailored therapeutic approaches. Understanding that each person's journey is unique, I employ evidence-based modalities including Cognitive Behaviour Therapy (CBT), Dialectical Behaviour Therapy (DBT), Psychodynamic Therapy, and Solution-Focused Brief Therapy (SFBT). This diverse toolkit allows me to effectively address the specific issues and concerns of my clients, fostering personal growth and resilience."})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold mb-2",children:"Education & Credentials"}),h.jsxs("ul",{className:"text-muted-foreground space-y-1",children:[h.jsx("li",{children:"Master of Social Work, RSW"}),h.jsxs("li",{children:["Registered, and in good Standing",h.jsxs("li",{children:[" with ",h.jsx("a",{href:"https://www.ocswssw.org/registrants/",className:"text-[#00FFFF] font-bold italic hover:underline transition duration-300 ease-in-out transform hover:scale-105",children:"OCSWSSW"})]})]})]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold mb-2",children:"Specializations"}),h.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1",children:[h.jsx("li",{children:"ADHD and Autism"}),h.jsx("li",{children:"Anxiety & Depression"}),h.jsx("li",{children:"Relationship Counseling"}),h.jsx("li",{children:"Stress Management"}),h.jsx("li",{children:"Personal Growth"})]})]})]})]})]})})]})}),h.jsx("section",{className:"py-20 bg-background",children:h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs(j.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"max-w-4xl mx-auto",children:[h.jsxs(j.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"text-center mb-16",children:[h.jsx(j.h2,{variants:s,custom:0,className:`text-3xl md:text-4xl font-bold mb-4 ${r==="dark"?"text-white":"text-black"}`,children:"Our Core Values"}),h.jsx(j.p,{variants:s,custom:1,className:`text-xl ${r==="dark"?"text-white/80":"text-black/80"} max-w-2xl mx-auto`})]}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[h.jsxs(j.div,{variants:c,whileHover:"hover",className:"bg-card p-6 rounded-lg border-2 border-[#30D5C8]/20 hover:border-[#30D5C8]/40",children:[h.jsx("h3",{className:"text-xl font-semibold mb-3 text-white",children:"Compassion"}),h.jsx("p",{className:"text-white",children:"We approach every client with empathy and understanding, recognizing that each person's journey is unique."})]}),h.jsxs(j.div,{variants:c,whileHover:"hover",className:"bg-card p-6 rounded-lg border-2 border-[#30D5C8]/20 hover:border-[#30D5C8]/40",children:[h.jsx("h3",{className:"text-xl font-semibold mb-3 text-white",children:"Excellence"}),h.jsx("p",{className:"text-white",children:"We are committed to providing the highest quality care through evidence-based practices and continuous professional development."})]}),h.jsxs(j.div,{variants:c,whileHover:"hover",className:"bg-card p-6 rounded-lg border-2 border-[#30D5C8]/20 hover:border-[#30D5C8]/40",children:[h.jsx("h3",{className:"text-xl font-semibold mb-3 text-white",children:"Inclusivity"}),h.jsx("p",{className:"text-white",children:"We create a welcoming environment for people of all backgrounds, identities, and experiences."})]}),h.jsxs(j.div,{variants:c,whileHover:"hover",className:"bg-card p-6 rounded-lg border-2 border-[#30D5C8]/20 hover:border-[#30D5C8]/40",children:[h.jsx("h3",{className:"text-xl font-semibold mb-3 text-white",children:"Integrity"}),h.jsx("p",{className:"text-white",children:"We uphold the highest ethical standards in all our interactions, maintaining confidentiality and trust."})]})]})]})})}),h.jsxs("section",{className:"py-20 relative overflow-hidden",children:[h.jsxs(j.div,{className:"absolute inset-0 z-0",initial:{scale:1,rotate:0},animate:{scale:[1,1.2,1.1,1.3,1],rotate:[0,1,-1,2,0],filter:["brightness(0.7) saturate(1)","brightness(0.8) saturate(1.2)","brightness(0.7) saturate(1.1)","brightness(0.9) saturate(1.3)","brightness(0.7) saturate(1)"]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse",ease:"easeInOut",times:[0,.25,.5,.75,1]},children:[h.jsx(Wa,{src:"/images/gold.jpg",alt:"Autumn forest path",className:"w-full h-full object-cover"}),h.jsx(j.div,{className:"absolute inset-0",animate:{backgroundColor:["rgba(0, 0, 0, 0.4)","rgba(0, 0, 0, 0.5)","rgba(0, 0, 0, 0.3)","rgba(0, 0, 0, 0.6)","rgba(0, 0, 0, 0.4)"]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse",ease:"easeInOut"}})]}),h.jsx("div",{className:"container relative z-10 mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs(j.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:o,className:"text-center max-w-3xl mx-auto",children:[h.jsx(j.h2,{variants:a,className:"text-3xl md:text-4xl font-bold mb-4 text-white",children:"Ready to Begin Your Journey?"}),h.jsx(j.p,{variants:a,className:"text-xl text-white/90 mb-8",children:"Take the first step towards better mental health and well-being. Our team of professionals is here to support you."}),h.jsx(j.div,{variants:a,children:h.jsx(Ge,{size:"lg",className:"text-lg bg-[#008080] hover:bg-[#008080]/90 text-white shadow-lg",onClick:()=>{or()?n("/booking"):n("/login")},children:"Book an Appointment"})})]})})]})]})}function FX(){const{theme:t}=_i(),e={hidden:{opacity:0,y:20},visible:m=>({opacity:1,y:0,transition:{delay:m*.1,duration:.5}})},n=[{title:"One-on-One Therapy",description:"Personalized therapy sessions tailored to your specific needs. Our therapists use evidence-based approaches to help you navigate challenges, develop coping strategies, and achieve your mental health goals.",icon:h.jsx(T0,{className:"h-10 w-10 text-[#30D5C8]"}),features:["50-minute individual sessions","Personalized treatment plans","Available in-person or online","Flexible scheduling options"]},{title:"Group Counseling",description:"Connect with others facing similar challenges in a supportive environment. Our group sessions foster community, shared learning, and mutual support under the guidance of experienced facilitators.",icon:h.jsx(oN,{className:"h-10 w-10 text-[#30D5C8]"}),features:["Small groups of 6-8 participants","Topic-focused sessions","Affordable care option","Build community and connection"]},{title:"Online Sessions",description:"Access quality therapy from the comfort of your home. Our secure telehealth platform makes it easy to connect with your therapist regardless of location, while maintaining the same standard of care.",icon:h.jsx(aN,{className:"h-10 w-10 text-[#30D5C8]"}),features:["Secure, HIPAA-compliant platform","No commute or waiting room time","Same quality care as in-person","Technical support available"]},{title:"Cognitive Behavioral Therapy",description:"CBT helps identify and change negative thought patterns that influence behaviors and emotions. This structured approach is effective for treating anxiety, depression, and other mental health conditions.",icon:h.jsx(E4,{className:"h-10 w-10 text-[#30D5C8]"}),features:["Evidence-based techniques","Practical skill development","Homework between sessions","Measurable progress tracking"]},{title:"Couples Counseling",description:"Strengthen your relationship with professional guidance. Our couples counseling helps improve communication, resolve conflicts, and deepen connection between partners.",icon:h.jsx(N4,{className:"h-10 w-10 text-[#30D5C8]"}),features:["Communication skill building","Conflict resolution strategies","Rebuilding trust and intimacy","Joint and individual sessions"]},{title:"Mindfulness-Based Therapy",description:"Learn to be present in the moment and develop a non-judgmental awareness of your thoughts and feelings. Mindfulness practices can reduce stress, anxiety, and improve overall well-being.",icon:h.jsx(L4,{className:"h-10 w-10 text-[#30D5C8]"}),features:["Meditation techniques","Stress reduction practices","Present-moment awareness","Integration into daily life"]}],r=[{title:"Online Individual Session",price:"$175",description:"Per 50-minute session",features:["One-on-one attention","Personalized treatment plan","Virtual/telehealth session","Flexible scheduling"]},{title:"In-Person Individual Session",price:"$185",description:"Per 50-minute session",features:["One-on-one attention","Personalized treatment plan","In-person at our office","Flexible scheduling"]},{title:"Group Therapy",price:"$100",description:"Per 90-minute session",features:["Small group setting (6-8 people)","Topic-focused sessions","Supportive community","Led by licensed therapist"]},{title:"Couples Package",price:"$195",description:"Per 60-minute session",features:["Relationship assessment","Communication training","Conflict resolution strategies","Joint goal setting"]}],s=jn(),o={hidden:{opacity:0,y:50,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:100,damping:15,staggerChildren:.1}},hover:{y:-10,scale:1.02,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",transition:{type:"spring",stiffness:400,damping:10}}},a={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{type:"spring",stiffness:100,damping:15}}},c={hidden:{opacity:0,y:30,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:100,damping:15}},hover:{y:-5,scale:1.02,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",transition:{type:"spring",stiffness:400,damping:10}}},d={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{type:"spring",stiffness:200,damping:15}}},f={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{type:"spring",stiffness:100,damping:15}},hover:{scale:1.2,rotate:5,transition:{type:"spring",stiffness:400,damping:10}}};return h.jsxs("div",{className:"pt-16",children:[h.jsxs("section",{className:"relative h-[60vh] flex items-center overflow-hidden",children:[h.jsxs(j.div,{className:"absolute inset-0 z-0",initial:{scale:1,rotate:0},animate:{scale:[1,1.2,1.1,1.3,1],rotate:[0,1,-1,2,0],filter:["brightness(0.7) saturate(1)","brightness(0.8) saturate(1.2)","brightness(0.7) saturate(1.1)","brightness(0.9) saturate(1.3)","brightness(0.7) saturate(1)"]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse",ease:"easeInOut",times:[0,.25,.5,.75,1]},children:[h.jsx(Wa,{src:"/images/professional-counseling.jpg",alt:"Professional counseling environment",className:"w-full h-full object-cover"}),h.jsx(j.div,{className:"absolute inset-0",animate:{backgroundColor:["rgba(0, 0, 0, 0.4)","rgba(0, 0, 0, 0.5)","rgba(0, 0, 0, 0.3)","rgba(0, 0, 0, 0.6)","rgba(0, 0, 0, 0.4)"]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse",ease:"easeInOut"}})]}),h.jsx("div",{className:"container relative z-10 mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs(j.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center max-w-3xl mx-auto",children:[h.jsxs(j.h1,{variants:e,custom:0,className:"text-4xl md:text-5xl font-bold mb-6 text-white",children:["Our"," ",h.jsx("span",{className:"text-[#30D5C8]",children:"Services"})]}),h.jsx(j.p,{variants:e,custom:1,className:"text-xl text-white/90",children:"We offer a range of professional counseling services tailored to meet your unique needs and support your mental health journey"}),h.jsx(j.div,{variants:e,custom:2,children:h.jsx(Ge,{size:"lg",className:"text-lg bg-[#008080] hover:bg-[#008080]/90 text-white shadow-lg mt-6",onClick:()=>{or()?s("/booking"):s("/login")},children:"Book an Appointment"})})]})})]}),h.jsx("section",{className:"py-12 bg-[#30D5C8]/5",children:h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map((m,y)=>h.jsxs(j.div,{initial:"hidden",whileInView:"visible",whileHover:"hover",viewport:{once:!0,margin:"-50px"},variants:o,custom:y,className:"bg-card rounded-lg p-8 shadow-lg hover:shadow-xl transition-all duration-300 border-2 border-[#30D5C8]/20 hover:border-[#30D5C8]/40",children:[h.jsx(j.div,{className:"bg-[#30D5C8]/10 p-3 rounded-full w-fit mb-6",variants:a,whileHover:"hover",children:h.jsx(j.div,{variants:f,children:m.icon})}),h.jsxs(j.div,{variants:a,children:[h.jsx("h3",{className:"text-xl font-semibold mb-4",children:m.title}),h.jsx("p",{className:"text-muted-foreground mb-6",children:m.description})]}),h.jsx(j.div,{variants:a,children:h.jsx("ul",{className:"space-y-3 mb-6",children:m.features.map((_,T)=>h.jsxs(j.li,{variants:a,custom:T,className:"flex items-center text-muted-foreground",children:[h.jsx(xp,{className:"h-4 w-4 text-[#30D5C8] mr-2"}),_]},T))})}),h.jsx(j.div,{variants:a,children:h.jsx(Ge,{className:"bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90",onClick:()=>{s("/booking#booking-top")},children:"Book Now"})})]},m.title))})})}),h.jsx("section",{className:"py-20 bg-[#30D5C8]/5",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs(j.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"text-center mb-16",children:[h.jsx(j.h2,{variants:e,custom:0,className:`text-3xl md:text-4xl font-bold mb-4 ${t==="dark"?"text-white":"text-black"}`,children:"Pricing"}),h.jsx(j.p,{variants:e,custom:1,className:`text-xl ${t==="dark"?"text-white/80":"text-black/80"} max-w-2xl mx-auto`,children:"Transparent pricing for our services. We also accept many insurance plans and offer sliding scale options for those in need."})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-16",children:r.map((m,y)=>h.jsxs(j.div,{initial:"hidden",whileInView:"visible",whileHover:"hover",viewport:{once:!0,margin:"-50px"},variants:c,custom:y,className:"bg-card rounded-lg p-8 shadow-lg hover:shadow-xl transition-all duration-300 border-2 border-[#30D5C8]/20 hover:border-[#30D5C8]/40",children:[h.jsxs(j.div,{variants:a,children:[h.jsx("h3",{className:"text-xl font-semibold mb-2",children:m.title}),h.jsxs(j.div,{variants:d,className:"mb-4",children:[h.jsx("span",{className:"text-4xl font-bold text-[#30D5C8]",children:m.price}),h.jsxs("span",{className:"text-muted-foreground",children:[" ",m.description]})]}),h.jsx(j.ul,{variants:a,className:"space-y-3 mb-6",children:m.features.map((_,T)=>h.jsxs(j.li,{variants:a,custom:T,className:"flex items-center text-muted-foreground",children:[h.jsx(xp,{className:"h-4 w-4 text-[#30D5C8] mr-2"}),_]},T))})]}),h.jsx(j.div,{variants:a,children:h.jsx(Ge,{asChild:!0,className:"bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90",children:h.jsx(kn,{to:"/booking",children:"Book Now"})})})]},m.title))}),h.jsxs(j.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"text-center mt-24 mb-16",children:[h.jsx(j.p,{variants:e,custom:1,className:`text-xl ${t==="dark"?"text-white/80":"text-black/80"} max-w-2xl mx-auto mb-6`,children:"Not sure which service is right for you? Contact us for a free 15-minute consultation to discuss your needs."}),h.jsx(j.div,{variants:e,custom:2,whileHover:{scale:1.05},whileTap:{scale:.95},children:h.jsx(Ge,{size:"lg",className:"text-lg bg-[#008080] hover:bg-[#008080]/90 text-white shadow-lg",onClick:()=>{or()?s("/booking?calendly=free15"):s("/login")},children:"Book a Free 15-Minute Consultation"})})]})]})}),h.jsxs("section",{className:"py-20 relative overflow-hidden",children:[h.jsxs(j.div,{className:"absolute inset-0 z-0",initial:{scale:1,rotate:0},animate:{scale:[1,1.2,1.1,1.3,1],rotate:[0,1,-1,2,0],filter:["brightness(0.7) saturate(1)","brightness(0.8) saturate(1.2)","brightness(0.7) saturate(1.1)","brightness(0.9) saturate(1.3)","brightness(0.7) saturate(1)"]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse",ease:"easeInOut",times:[0,.25,.5,.75,1]},children:[h.jsx(Wa,{src:"/images/gold.jpg",alt:"Autumn forest path",className:"w-full h-full object-cover"}),h.jsx(j.div,{className:"absolute inset-0",animate:{backgroundColor:["rgba(0, 0, 0, 0.4)","rgba(0, 0, 0, 0.5)","rgba(0, 0, 0, 0.3)","rgba(0, 0, 0, 0.6)","rgba(0, 0, 0, 0.4)"]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse",ease:"easeInOut"}})]}),h.jsx("div",{className:"container relative z-10 mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs(j.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center max-w-3xl mx-auto",children:[h.jsx(j.h2,{variants:e,custom:0,className:"text-3xl md:text-4xl font-bold mb-4 text-white",children:"Ready to Begin Your Journey?"}),h.jsx(j.p,{variants:e,custom:1,className:"text-xl text-white/90 mb-8",children:"Take the first step towards better mental health and well-being. Our team of professionals is here to support you."}),h.jsx(j.div,{variants:e,custom:2,children:h.jsx(Ge,{size:"lg",className:"text-lg bg-[#008080] hover:bg-[#008080]/90 text-white shadow-lg",onClick:()=>{or()?s("/booking#booking-top"):s("/login")},children:"Book an Appointment"})})]})})]})]})}const Dn=E.forwardRef(({className:t,type:e,...n},r)=>h.jsx("input",{type:e,className:fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:placeholder:text-white/70",t),ref:r,...n}));Dn.displayName="Input";const vM=E.forwardRef(({className:t,...e},n)=>h.jsx("textarea",{className:fe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:placeholder:text-white/70",t),ref:n,...e}));vM.displayName="Textarea";function UX(){const[t,e]=E.useState({name:"",email:"",message:""}),[n,r]=E.useState(!1),[s,o]=E.useState(!1),{theme:a}=_i(),c=T=>{const{name:I,value:b}=T.target;e(C=>({...C,[I]:b}))},d=T=>{T.preventDefault(),o(!0),setTimeout(()=>{o(!1),r(!0),e({name:"",email:"",message:""})},1500)},f=()=>{r(!1),e({name:"",email:"",message:""})},m={hidden:{opacity:0,y:20},visible:T=>({opacity:1,y:0,transition:{delay:T*.1,duration:.5,type:"spring",stiffness:50}})},y={hidden:{opacity:0,y:50,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:100,damping:15,staggerChildren:.1}}},_={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{type:"spring",stiffness:100,damping:15}},focus:{scale:1.02,boxShadow:"0 0 0 2px rgba(48, 213, 200, 0.2)",transition:{type:"spring",stiffness:400,damping:10}}};return h.jsxs("div",{className:"pt-16",children:[h.jsxs("section",{className:"relative h-[60vh] flex items-center overflow-hidden",children:[h.jsxs(j.div,{className:"absolute inset-0 z-0",initial:{scale:1,rotate:0},animate:{scale:[1,1.2,1.1,1.3,1],rotate:[0,1,-1,2,0],filter:["brightness(0.7) saturate(1)","brightness(0.8) saturate(1.2)","brightness(0.7) saturate(1.1)","brightness(0.9) saturate(1.3)","brightness(0.7) saturate(1)"]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse",ease:"easeInOut",times:[0,.25,.5,.75,1]},children:[h.jsx(Wa,{src:"/images/communication-connection.jpg",alt:"Communication and connection",className:"w-full h-full object-cover"}),h.jsx(j.div,{className:"absolute inset-0",animate:{backgroundColor:["rgba(0, 0, 0, 0.4)","rgba(0, 0, 0, 0.5)","rgba(0, 0, 0, 0.3)","rgba(0, 0, 0, 0.6)","rgba(0, 0, 0, 0.4)"]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse",ease:"easeInOut"}})]}),h.jsx("div",{className:"container relative z-10 mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs(j.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center max-w-3xl mx-auto",children:[h.jsxs(j.h1,{variants:m,custom:0,className:"text-4xl md:text-5xl font-bold mb-6 text-white",children:["Contact"," ",h.jsx("span",{className:"text-[#30D5C8]",children:"Us"})]}),h.jsx(j.p,{variants:m,custom:1,className:"text-xl text-white/90",children:"Have questions about our services? Reach out to us and our team will get back to you soon."})]})})]}),h.jsxs("section",{className:"py-20 bg-background relative overflow-hidden",children:[h.jsx(j.div,{className:"absolute top-0 right-0 w-96 h-96 bg-primary/5 rounded-full blur-3xl",animate:{x:[50,100,50],y:[0,50,0],scale:[1,1.1,1]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),h.jsx(j.div,{className:"absolute bottom-0 left-0 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl",animate:{x:[0,-50,0],y:[0,50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[h.jsxs(j.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center mb-16",children:[h.jsx(j.h2,{variants:m,custom:0,className:`text-3xl md:text-4xl font-bold mb-4 ${a==="dark"?"text-white":"text-black"}`,children:"Get in Touch"}),h.jsx(j.p,{variants:m,custom:1,className:`text-xl ${a==="dark"?"text-white/80":"text-black/80"} max-w-2xl mx-auto`,children:"Have questions about our services? Reach out to us and our team will get back to you soon."})]}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-12 max-w-5xl mx-auto",children:[h.jsxs(j.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:y,className:"bg-card p-8 rounded-lg shadow-md border relative overflow-hidden",children:[h.jsx(j.div,{className:"absolute -top-20 -right-20 w-64 h-64 bg-primary/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],rotate:[0,45,0]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),h.jsx(Q0,{mode:"wait",children:n?h.jsxs(j.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{type:"spring",stiffness:100},className:"flex flex-col items-center justify-center h-full text-center py-12 relative z-10",children:[h.jsx(j.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15},children:h.jsx(E0,{className:"h-16 w-16 text-primary mb-4"})}),h.jsx(j.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-2xl font-semibold mb-2",children:"Thank You!"}),h.jsx(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-muted-foreground",children:"Your message has been sent successfully. We will get back to you soon."}),h.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-6",children:h.jsx(Ge,{variant:"outline",onClick:f,children:"Send Another Message"})})]},"success"):h.jsxs(j.form,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:y,className:"space-y-6 relative z-10",onSubmit:d,children:[h.jsxs(j.div,{variants:_,children:[h.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-white mb-2",children:"Name"}),h.jsx(Dn,{id:"name",name:"name",value:t.name,onChange:c,placeholder:"Your name",required:!0,className:`w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#30D5C8] ${a==="dark"?"placeholder:text-white/70 text-white bg-transparent":"placeholder:text-black/70 text-black"}`})]}),h.jsxs(j.div,{variants:_,children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white mb-2",children:"Email"}),h.jsx(Dn,{id:"email",name:"email",type:"email",value:t.email,onChange:c,placeholder:"your@email.com",required:!0,className:`w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#30D5C8] ${a==="dark"?"placeholder:text-white/70 text-white bg-transparent":"placeholder:text-black/70 text-black"}`})]}),h.jsxs(j.div,{variants:_,children:[h.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-white mb-2",children:"Message"}),h.jsx(vM,{id:"message",name:"message",value:t.message,onChange:c,placeholder:"Your message",required:!0,className:`min-h-[150px] w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#30D5C8] ${a==="dark"?"placeholder:text-white/70 text-white bg-transparent":"placeholder:text-black/70 text-black"}`})]}),h.jsx(j.div,{variants:_,children:h.jsx(Ge,{type:"submit",className:"w-full bg-[#30D5C8] hover:bg-[#30D5C8]/90 text-black",disabled:s,children:s?"Sending...":"Send Message"})})]},"form")})]}),h.jsxs(j.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"space-y-8",children:[h.jsxs(j.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center mb-16",children:[h.jsx(j.h2,{variants:m,custom:0,className:`text-2xl md:text-3xl font-bold mb-4 ${a==="dark"?"text-white":"text-black"}`,children:"Other Ways to Reach Us"}),h.jsxs(j.div,{variants:m,custom:1,className:"max-w-2xl mx-auto space-y-6",children:[h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx(j.div,{className:"bg-[#008080]/10 p-3 rounded-full mb-4",whileHover:{scale:1.1,backgroundColor:"rgba(0, 128, 128, 0.2)"},children:h.jsx(j4,{className:"h-6 w-6 text-[#008080]"})}),h.jsxs("div",{className:"text-center",children:[h.jsx("h3",{className:`font-medium ${a==="dark"?"text-white":"text-black"}`,children:"Phone"}),h.jsx("p",{children:h.jsx("a",{href:"tel:+19059092400",className:`${a==="dark"?"text-white hover:text-[#30D5C8]":"text-black hover:text-[#008080]"} transition-colors`,children:"(905) 909-2400"})}),h.jsx("p",{className:`text-sm mt-1 ${a==="dark"?"text-white/80":"text-black/80"}`,children:"Monday-Friday, 9am-5pm"})]})]}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx(j.div,{className:"bg-[#008080]/10 p-3 rounded-full mb-4",whileHover:{scale:1.1,backgroundColor:"rgba(0, 128, 128, 0.2)"},children:h.jsx(k4,{className:"h-6 w-6 text-[#008080]"})}),h.jsxs("div",{className:"text-center",children:[h.jsx("h3",{className:`font-medium ${a==="dark"?"text-white":"text-black"}`,children:"Email"}),h.jsx("p",{children:h.jsx("a",{href:"mailto:info@cemarcounseling.com",className:`${a==="dark"?"text-white hover:text-[#30D5C8]":"text-black hover:text-[#008080]"} transition-colors`,children:"info@cemarcounseling.com"})}),h.jsx("p",{className:`text-sm mt-1 ${a==="dark"?"text-white/80":"text-black/80"}`,children:"We'll respond within 24 hours"})]})]})]})]}),h.jsxs(j.div,{variants:m,custom:2,className:"bg-[#008080] p-6 rounded-lg mt-8",children:[h.jsx("h3",{className:"font-medium mb-2 text-white",children:"Office Hours"}),h.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-white",children:[h.jsx("div",{children:"Monday - Friday"}),h.jsx("div",{children:"9:00 AM - 7:00 PM"}),h.jsx("div",{children:"Saturday"}),h.jsx("div",{children:"10:00 AM - 4:00 PM"}),h.jsx("div",{children:"Sunday"}),h.jsx("div",{children:"Closed"})]})]})]})]})]})]}),h.jsx("section",{className:"py-20 bg-background",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs(j.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center mb-12",children:[h.jsx(j.h2,{variants:m,custom:0,className:`text-3xl md:text-4xl font-bold mb-4 ${a==="dark"?"text-white":"text-black"}`,children:"Frequently Asked Questions"}),h.jsx(j.p,{variants:m,custom:1,className:`text-xl ${a==="dark"?"text-white/80":"text-black/80"} max-w-2xl mx-auto`,children:"Find answers to common questions about our services"})]}),h.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[h.jsxs(j.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},className:"bg-card p-6 rounded-lg border",children:[h.jsx("h3",{className:"font-semibold mb-2",children:"How do I schedule my first appointment?"}),h.jsx("p",{className:"text-muted-foreground",children:"You can schedule an appointment by using our online booking system, calling our office, or sending us an email. New clients will need to complete intake forms before their first session."})]}),h.jsxs(j.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.2},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},className:"bg-card p-6 rounded-lg border",children:[h.jsx("h3",{className:"font-semibold mb-2",children:"Do you accept insurance?"}),h.jsx("p",{className:"text-muted-foreground",children:"Yes, we accept many major insurance plans. Please contact our office with your insurance information to verify your coverage before your first appointment."})]}),h.jsxs(j.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.3},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},className:"bg-card p-6 rounded-lg border",children:[h.jsx("h3",{className:"font-semibold mb-2",children:"How long are therapy sessions?"}),h.jsx("p",{className:"text-muted-foreground",children:"Individual therapy sessions are typically 50 minutes, while group sessions are 90 minutes. The frequency of sessions will be determined based on your needs and treatment plan."})]}),h.jsxs(j.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.4},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},className:"bg-card p-6 rounded-lg border",children:[h.jsx("h3",{className:"font-semibold mb-2",children:"What is your cancellation policy?"}),h.jsx("p",{className:"text-muted-foreground",children:"We require 24 hours notice for cancellations. Late cancellations or no-shows are non refundable."})]})]})]})})]})}function BX(){var a,c;const[t,e]=E.useState(null),n=[{key:"online-individual",title:"Online Individual Counseling",description:"Select this to schedule an online individual counseling session.",url:"https://calendly.com/cemarcounseling-info/30min?hide_event_type_details=1&hide_gdpr_banner=1"},{key:"inperson-individual",title:"In-Person Individual Counseling",description:"Select this to schedule an in-person individual counseling session.",url:"https://calendly.com/cemarcounseling-info/in-person-individual-session?hide_event_type_details=1&hide_gdpr_banner=1"},{key:"group",title:"Group Counseling",description:"Select this to schedule group counseling.",url:"https://calendly.com/cemarcounseling-info/group-counseling?hide_event_type_details=1&hide_gdpr_banner=1"},{key:"couples",title:"Couples Counseling",description:"Select this to schedule couples counseling.",url:"https://calendly.com/cemarcounseling-info/couples-counseling?hide_event_type_details=1&hide_gdpr_banner=1"},{key:"free15",title:"Free 15-Min Consultation",description:"Select this to schedule free 15-min consultation.",url:"https://calendly.com/cemarcounseling-info/new-meeting?hide_event_type_details=1&hide_gdpr_banner=1"}],r=t?(a=n.find(d=>d.key===t))==null?void 0:a.url:null;E.useEffect(()=>{r&&typeof window<"u"&&window.Calendly&&window.Calendly.initInlineWidgets()},[r]),E.useEffect(()=>{async function d(f){var m,y,_;try{const T=f.data||{};if(T.event!=="calendly.event_scheduled")return;const I=T.payload||{},b=I.event||I,C=I.invitee||I.invitee||null,R=(b==null?void 0:b.start_time)||(b==null?void 0:b.startTime)||null,O=(C==null?void 0:C.email)||(I==null?void 0:I.invitee_email)||null,M=Pa==null?void 0:Pa.currentUser,W=ph(),q={clientId:(M==null?void 0:M.uid)||(W==null?void 0:W.id)||null,clientEmail:O||(M==null?void 0:M.email)||(W==null?void 0:W.email)||null,serviceKey:t||null,serviceTitle:((m=n.find(k=>k.key===t))==null?void 0:m.title)||null,status:"upcoming",createdAt:F_(),calendlyPayload:I};if(R){const k=new Date(R);q.startTime=pt.fromDate(k)}const Y=((y=I==null?void 0:I.event)==null?void 0:y.uri)||null,P=((_=I==null?void 0:I.invitee)==null?void 0:_.id)||null;let A=!1;try{if(Y){const k=L_(pp(mc,"appointments"),V_("calendlyPayload.event.uri","==",Y));(await EI(k)).empty||(A=!0)}if(!A&&P){const k=L_(pp(mc,"appointments"),V_("calendlyPayload.invitee.id","==",P));(await EI(k)).empty||(A=!0)}}catch(k){console.warn("Deduplication query failed",k)}if(A){console.log("Duplicate appointment detected, skipping save");return}try{await V7(pp(mc,"appointments"),q),console.log("Appointment saved to Firestore")}catch(k){console.error("Error saving appointment to Firestore",k)}}catch(T){console.error("Calendly message handler error",T)}}return window.addEventListener("message",d),()=>window.removeEventListener("message",d)},[t,n]);const s=d=>{e(d)},o=()=>{e(null)};return h.jsx("div",{className:"pt-16",children:h.jsx("section",{className:"py-20 bg-background",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsx(j.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center mb-12",children:h.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center",children:[h.jsx("h1",{id:"booking-top",className:"text-4xl font-bold mb-4 text-black dark:text-white/90",children:"Book an Appointment"}),h.jsx("p",{className:"text-lg text-black/70 mb-8 dark:text-white/70",children:"Choose the counseling service that best fits your needs, then select your preferred date and time to get started on your wellness journey."})]})}),h.jsx("div",{className:"max-w-4xl mx-auto",children:t?h.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-gradient-to-br from-[#30D5C8] to-[#008080] rounded-lg p-6 shadow-lg",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-black",children:(c=n.find(d=>d.key===t))==null?void 0:c.title}),h.jsx("p",{className:"text-base text-black font-medium mt-2",children:"Complete your booking by selecting an available time slot below."})]}),h.jsx("div",{children:h.jsx("button",{onClick:o,className:"text-sm text-white hover:text-white/80 underline font-medium",children:"Change service"})})]}),r&&h.jsx("div",{className:"mt-6 bg-white dark:bg-slate-900 rounded-lg overflow-hidden border border-[#30D5C8]/20",children:h.jsx("iframe",{src:r,width:"100%",height:"750",frameBorder:"0",title:"Schedule appointment"})})]}):h.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:n.map(d=>h.jsx(j.button,{onClick:()=>s(d.key),whileHover:{scale:1.02},whileTap:{scale:.98},className:"text-left bg-card p-6 rounded-lg shadow hover:shadow-lg border border-[#30D5C8]/10",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold mb-2",children:d.title}),h.jsx("p",{className:"text-sm text-muted-foreground",children:d.description})]}),h.jsx("div",{className:"ml-4",children:h.jsx("span",{className:"inline-block rounded-full bg-[#30D5C8] text-black px-3 py-1 font-medium text-sm",children:"Select"})})]})},d.key))})})]})})})}var zX="Label",_M=E.forwardRef((t,e)=>h.jsx(ze.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));_M.displayName=zX;var wM=_M;const $X=X1("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),hn=E.forwardRef(({className:t,...e},n)=>h.jsx(wM,{ref:n,className:fe($X(),t),...e}));hn.displayName=wM.displayName;var dg="Tabs",[WX,NZ]=Yr(dg,[ng]),xM=ng(),[HX,Jx]=WX(dg),EM=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:a="horizontal",dir:c,activationMode:d="automatic",...f}=t,m=Km(c),[y,_]=za({prop:r,onChange:s,defaultProp:o??"",caller:dg});return h.jsx(HX,{scope:n,baseId:As(),value:y,onValueChange:_,orientation:a,dir:m,activationMode:d,children:h.jsx(ze.div,{dir:m,"data-orientation":a,...f,ref:e})})});EM.displayName=dg;var TM="TabsList",bM=E.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,o=Jx(TM,n),a=xM(n);return h.jsx(sD,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:r,children:h.jsx(ze.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});bM.displayName=TM;var SM="TabsTrigger",CM=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=t,a=Jx(SM,n),c=xM(n),d=AM(a.baseId,r),f=RM(a.baseId,r),m=r===a.value;return h.jsx(iD,{asChild:!0,...c,focusable:!s,active:m,children:h.jsx(ze.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":f,"data-state":m?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:d,...o,ref:e,onMouseDown:Te(t.onMouseDown,y=>{!s&&y.button===0&&y.ctrlKey===!1?a.onValueChange(r):y.preventDefault()}),onKeyDown:Te(t.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&a.onValueChange(r)}),onFocus:Te(t.onFocus,()=>{const y=a.activationMode!=="manual";!m&&!s&&y&&a.onValueChange(r)})})})});CM.displayName=SM;var IM="TabsContent",NM=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...a}=t,c=Jx(IM,n),d=AM(c.baseId,r),f=RM(c.baseId,r),m=r===c.value,y=E.useRef(m);return E.useEffect(()=>{const _=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(_)},[]),h.jsx(Ti,{present:s||m,children:({present:_})=>h.jsx(ze.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!_,id:f,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:y.current?"0s":void 0},children:_&&o})})});NM.displayName=IM;function AM(t,e){return`${t}-trigger-${e}`}function RM(t,e){return`${t}-content-${e}`}var qX=EM,PM=bM,kM=CM,DM=NM;const GX=qX,MM=E.forwardRef(({className:t,...e},n)=>h.jsx(PM,{ref:n,className:fe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));MM.displayName=PM.displayName;const o0=E.forwardRef(({className:t,...e},n)=>h.jsx(kM,{ref:n,className:fe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));o0.displayName=kM.displayName;const a0=E.forwardRef(({className:t,...e},n)=>h.jsx(DM,{ref:n,className:fe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));a0.displayName=DM.displayName;function R1({className:t="",variant:e="default"}){const[n,r]=E.useState(!1),[s,o]=E.useState(null),a=jn(),d=new URLSearchParams(window.location.search).get("returnUrl"),f=async()=>{r(!0),o(null);try{const m=await RG();console.log(" Successfully signed in:",m),setTimeout(()=>{a(d||"/")},500)}catch(m){const y=(m==null?void 0:m.message)||"Failed to sign in with Google";console.error(" Google sign-in error:",y),o(y)}finally{r(!1)}};return h.jsxs(j.div,{className:t,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[h.jsx(Ge,{onClick:f,disabled:n,variant:e,className:`w-full h-11 rounded-lg font-medium transition-all duration-300 ${e==="default"?"bg-white hover:bg-gray-100 text-black border border-gray-300":"border-2 border-[#30D5C8] hover:bg-[#30D5C8]/10"}`,children:h.jsx(j.div,{className:"flex items-center justify-center gap-2",animate:{scale:n?.95:1},children:n?h.jsxs(h.Fragment,{children:[h.jsx(j.div,{className:"w-4 h-4 border-2 border-[#30D5C8] border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),h.jsx("span",{className:"text-black",children:"Signing in..."})]}):h.jsxs(h.Fragment,{children:[h.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),h.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),h.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),h.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),h.jsx("span",{className:"text-black",children:"Sign in with Google"})]})})}),s&&h.jsx(j.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:h.jsxs("p",{className:"text-sm text-red-600",children:[h.jsx("span",{className:"font-semibold",children:"Error:"})," ",s]})})]})}const KX={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5,staggerChildren:.1}}},Zs={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:15}}},Yl={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{type:"spring",stiffness:100,damping:15}},hover:{scale:1.02,transition:{type:"spring",stiffness:400,damping:10}}},ep={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:15}},hover:{scale:1.05,transition:{type:"spring",stiffness:400,damping:10}},tap:{scale:.95,transition:{type:"spring",stiffness:400,damping:10}}};function YX(){const t=jn(),e=Lo(),[n]=DV();n.get("tab");const[r,s]=E.useState(!1),[o,a]=E.useState({email:"",password:""}),[c,d]=E.useState({name:"",email:"",password:"",confirmPassword:""}),[f,m]=E.useState("");E.useEffect(()=>{if(or()){const C=new URLSearchParams(e.search).get("returnUrl");t(C||"/")}},[t,e]);const y=b=>{const{name:C,value:R}=b.target;a(O=>({...O,[C]:R}))},_=b=>{const{name:C,value:R}=b.target;d(O=>({...O,[C]:R}))},T=async b=>{b.preventDefault(),m(""),s(!0);try{await kG(o.email,o.password);const R=new URLSearchParams(e.search).get("returnUrl");t(R||"/")}catch(C){const R=(C==null?void 0:C.message)||"Failed to login. Please check your credentials.";m(R)}finally{s(!1)}},I=async b=>{if(b.preventDefault(),m(""),c.password!==c.confirmPassword){m("Passwords do not match");return}s(!0);try{await PG(c.name,c.email,c.password);const R=new URLSearchParams(e.search).get("returnUrl");t(R||"/")}catch(C){const R=(C==null?void 0:C.message)||"Failed to create account. Please try again.";m(R)}finally{s(!1)}};return h.jsx("div",{className:"pt-16",children:h.jsxs(j.section,{initial:"hidden",animate:"visible",variants:KX,className:"py-20 relative overflow-hidden min-h-screen flex items-center justify-center",style:{backgroundImage:"url('/images/hero-1.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[h.jsx("div",{className:"absolute inset-0 bg-[#30D5C8]/10 backdrop-blur-[2px]"}),h.jsx(j.div,{className:"absolute top-0 right-0 w-96 h-96 bg-primary/5 rounded-full blur-3xl",animate:{x:[50,100,50],y:[0,50,0],scale:[1,1.1,1]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),h.jsx(j.div,{className:"absolute bottom-0 left-0 w-96 h-96 bg-[#30D5C8]/5 rounded-full blur-3xl",animate:{x:[0,-50,0],y:[0,50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:h.jsxs(j.div,{variants:Zs,className:"max-w-md mx-auto",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsxs(j.h1,{variants:Zs,className:"text-3xl font-bold mb-2 text-white",children:["Welcome to ",h.jsx("span",{className:"text-[#30D5C8]",children:"CEMAR"})]}),h.jsx(j.p,{variants:Zs,className:"text-white/90",children:"Sign in to book your appointment"})]}),h.jsxs(j.div,{variants:Zs,className:"bg-[#30D5C8] p-8 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 border-2 border-[#30D5C8]/20 hover:border-[#30D5C8]/40",children:[h.jsx(j.div,{className:"absolute -top-20 -right-20 w-64 h-64 bg-[#30D5C8]/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],rotate:[0,45,0]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),h.jsxs(GX,{defaultValue:"login",className:"w-full relative z-10",children:[h.jsxs(MM,{className:"grid w-full grid-cols-2 mb-6 bg-[#008080]",children:[h.jsx(o0,{value:"login",className:"data-[state=active]:bg-[#30D5C8]",children:"Login"}),h.jsx(o0,{value:"signup",className:"data-[state=active]:bg-[#30D5C8]",children:"Sign Up"})]}),h.jsxs(Q0,{mode:"wait",children:[h.jsx(a0,{value:"login",children:h.jsx(j.div,{variants:Zs,className:"bg-[#008080] p-6 rounded-lg border border-[#008080]/20",children:h.jsxs(j.form,{onSubmit:T,className:"space-y-4",variants:Zs,initial:"hidden",animate:"visible",exit:"hidden",children:[h.jsxs(j.div,{variants:Yl,className:"space-y-2",children:[h.jsx(hn,{htmlFor:"email",children:"Email"}),h.jsx(Dn,{id:"email",name:"email",type:"email",value:o.email,onChange:y,placeholder:"Enter your email",required:!0,className:"transition-all duration-300 focus:ring-2 focus:ring-cyan-400/30 placeholder:text-black/70 bg-white dark:bg-white text-black dark:text-black"})]}),h.jsxs(j.div,{variants:Yl,className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(hn,{htmlFor:"password",children:"Password"}),h.jsx(kn,{to:"/forgot-password",className:"text-sm text-[white] hover:text-blue-500 hover:underline",children:"Forgot password?"})]}),h.jsx(Dn,{id:"password",name:"password",type:"password",value:o.password,onChange:y,placeholder:"Enter your password",required:!0,className:"transition-all duration-300 focus:ring-2 focus:ring-cyan-400/30 placeholder:text-black/70 bg-white dark:bg-white text-black dark:text-black"})]}),f&&h.jsx(j.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-sm text-red-500",children:f}),h.jsx(j.div,{variants:ep,whileHover:"hover",whileTap:"tap",children:h.jsx(Ge,{type:"submit",className:"w-full bg-[#30D5C8] hover:bg-[#30D5C8]/90 text-black",disabled:r,children:r?h.jsxs(h.Fragment,{children:[h.jsx(j.div,{animate:{rotate:360},transition:{duration:1,repeat:Number.POSITIVE_INFINITY,ease:"linear"},className:"mr-2 h-4 w-4 border-2 border-black border-t-transparent rounded-full"}),"Signing in..."]}):"Sign In"})}),h.jsxs("div",{className:"relative my-4",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("span",{className:"w-full border-t border-white"})}),h.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:h.jsx("span",{className:"bg-[#008080] px-2 text-white",children:"Or"})})]}),h.jsx(j.div,{variants:ep,whileHover:"hover",whileTap:"tap",children:h.jsx(R1,{className:"w-full relative overflow-hidden bg-[#008080] text-white hover:bg-[#008080]/90",variant:"outline"})})]})})}),h.jsx(a0,{value:"signup",children:h.jsx(j.div,{variants:Zs,className:"bg-[#008080] p-6 rounded-lg border border-[#008080]/20",children:h.jsxs(j.form,{onSubmit:I,className:"space-y-4",variants:Zs,initial:"hidden",animate:"visible",exit:"hidden",children:[h.jsxs(j.div,{variants:Yl,className:"space-y-2",children:[h.jsx(hn,{htmlFor:"name",children:"Full Name"}),h.jsx(Dn,{id:"name",name:"name",value:c.name,onChange:_,placeholder:"Enter your full name",required:!0,className:"transition-all duration-300 focus:ring-2 focus:ring-cyan-400/30 placeholder:text-black/70 bg-white dark:bg-white text-black dark:text-black"})]}),h.jsxs(j.div,{variants:Yl,className:"space-y-2",children:[h.jsx(hn,{htmlFor:"signup-email",children:"Email"}),h.jsx(Dn,{id:"signup-email",name:"email",type:"email",value:c.email,onChange:_,placeholder:"Enter your email",required:!0,className:"transition-all duration-300 focus:ring-2 focus:ring-cyan-400/30 placeholder:text-black/70 bg-white dark:bg-white text-black dark:text-black"})]}),h.jsxs(j.div,{variants:Yl,className:"space-y-2",children:[h.jsx(hn,{htmlFor:"signup-password",children:"Password"}),h.jsx(Dn,{id:"signup-password",name:"password",type:"password",value:c.password,onChange:_,placeholder:"Enter your password",required:!0,className:"transition-all duration-300 focus:ring-2 focus:ring-cyan-400/30 placeholder:text-black/70 bg-white dark:bg-white text-black dark:text-black"})]}),h.jsxs(j.div,{variants:Yl,className:"space-y-2",children:[h.jsx(hn,{htmlFor:"confirm-password",children:"Confirm Password"}),h.jsx(Dn,{id:"confirm-password",name:"confirmPassword",type:"password",value:c.confirmPassword,onChange:_,placeholder:"Confirm your password",required:!0,className:"transition-all duration-300 focus:ring-2 focus:ring-cyan-400/30 placeholder:text-black/70 bg-white dark:bg-white text-black dark:text-black"})]}),f&&h.jsx(j.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-sm text-red-500",children:f}),h.jsx(j.div,{variants:ep,whileHover:"hover",whileTap:"tap",children:h.jsx(Ge,{type:"submit",className:"w-full bg-[#30D5C8] hover:bg-[#30D5C8]/90 text-black",disabled:r,children:r?h.jsxs(h.Fragment,{children:[h.jsx(j.div,{animate:{rotate:360},transition:{duration:1,repeat:Number.POSITIVE_INFINITY,ease:"linear"},className:"mr-2 h-4 w-4 border-2 border-black border-t-transparent rounded-full"}),"Creating account..."]}):"Create Account"})}),h.jsxs("div",{className:"relative my-4",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("span",{className:"w-full border-t border-white"})}),h.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:h.jsx("span",{className:"bg-[#008080] px-2 text-white",children:"Or"})})]}),h.jsx(j.div,{variants:ep,whileHover:"hover",whileTap:"tap",children:h.jsx(R1,{className:"w-full relative overflow-hidden bg-[#008080] text-white hover:bg-[#008080]/90",variant:"outline"})})]})})})]})]}),h.jsx(j.div,{variants:Zs,className:"mt-6 text-center text-sm text-black",children:h.jsxs("p",{children:["By continuing, you agree to our"," ",h.jsx(kn,{to:"/terms",className:"text-[#008080] hover:text-blue-500 hover:underline",children:"Terms of Service"})," ","and"," ",h.jsx(kn,{to:"/privacy",className:"text-[#008080] hover:text-blue-500 hover:underline",children:"Privacy Policy"}),"."]})})]})]})})]})})}const Ct={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,staggerChildren:.1}}},ro={hidden:{opacity:0,x:-50},visible:{opacity:1,x:0,transition:{duration:.6,type:"spring",stiffness:100}},hover:{scale:1.02,transition:{duration:.3,type:"spring",stiffness:400}}},Qu={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{duration:.4,type:"spring",stiffness:200}}};function QX(){return h.jsx("div",{className:"pt-16",children:h.jsxs(j.section,{initial:"hidden",animate:"visible",variants:Ct,className:"py-20 relative overflow-hidden min-h-screen",style:{backgroundImage:"url('/images/hero-1.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[h.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},className:"absolute inset-0 bg-[#008080]/10 backdrop-blur-[2px]"}),h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:h.jsxs(j.div,{variants:Ct,className:"max-w-4xl mx-auto bg-[#008080] p-8 rounded-lg shadow-lg border-2 border-white/20",children:[h.jsx(j.h1,{variants:Ct,className:"text-3xl font-bold mb-6 text-white",children:"Terms and Conditions"}),h.jsx(j.p,{variants:Ct,className:"text-white/90 mb-8",children:"Last updated: 4/10/2025"}),h.jsxs("div",{className:"space-y-8",children:[h.jsxs(j.section,{variants:ro,whileHover:"hover",className:"bg-[#008080] rounded-lg p-8 shadow-lg border-2 border-white/20 relative overflow-hidden",children:[h.jsx(j.h2,{variants:Ct,className:"text-2xl font-semibold mb-4 text-white",children:"1. Introduction"}),h.jsxs("div",{className:"prose prose-lg max-w-none",children:[h.jsx(j.p,{variants:Ct,className:"mb-4 text-white/90",children:"Welcome to CEMAR Counselling. These terms and conditions outline the rules and regulations for the use of our counselling services and website."}),h.jsx(j.p,{variants:Ct,className:"text-white/90",children:"By accessing our website and using our services, you accept these terms and conditions in full. If you disagree with these terms and conditions or any part of these terms and conditions, you must not use our services."})]})]}),h.jsxs(j.section,{variants:ro,whileHover:"hover",className:"bg-[#008080] rounded-lg p-8 shadow-lg border-2 border-white/20 relative overflow-hidden",children:[h.jsx(j.h2,{variants:Ct,className:"text-2xl font-semibold mb-4 text-white",children:"2. Service Description"}),h.jsxs("div",{className:"prose prose-lg max-w-none",children:[h.jsx(j.p,{variants:Ct,className:"mb-4 text-white/90",children:"CEMAR Counselling provides mental health counselling services. Our platform facilitates the booking of counselling sessions between clients and qualified mental health professionals."}),h.jsx(j.p,{variants:Ct,className:"text-white/90",children:"While we strive to provide the highest quality of care, we do not guarantee specific outcomes from counselling sessions. Results may vary depending on individual circumstances and engagement with the therapeutic process."})]})]}),h.jsxs(j.section,{variants:ro,whileHover:"hover",className:"bg-[#008080] rounded-lg p-8 shadow-lg border-2 border-white/20 relative overflow-hidden",children:[h.jsx(j.h2,{variants:Ct,className:"text-2xl font-semibold mb-4 text-white",children:"3. User Responsibilities"}),h.jsxs("div",{className:"prose prose-lg max-w-none",children:[h.jsx(j.p,{variants:Ct,className:"mb-4 text-white/90",children:"Users must:"}),h.jsx("ul",{className:"list-none space-y-3",children:["Provide accurate and complete information during registration","Maintain the confidentiality of their account credentials","Notify us immediately of any unauthorized use of their account","Arrive punctually for scheduled appointments","Provide at least 24 hours notice for appointment cancellations","Engage respectfully with counsellors and staff"].map((t,e)=>h.jsxs(j.li,{variants:Qu,className:"flex items-center text-white/90",children:[h.jsx(j.span,{className:"text-white mr-2",animate:{scale:[1,1.2,1]},transition:{duration:.5,delay:e*.1},children:""}),t]},e))})]})]}),h.jsxs(j.section,{variants:ro,whileHover:"hover",className:"bg-[#008080] rounded-lg p-8 shadow-lg border-2 border-white/20 relative overflow-hidden",children:[h.jsx(j.h2,{variants:Ct,className:"text-2xl font-semibold mb-4 text-white",children:"4. Privacy and Confidentiality"}),h.jsxs("div",{className:"prose prose-lg max-w-none",children:[h.jsx(j.p,{variants:Ct,className:"mb-4 text-white/90",children:"We are committed to protecting your privacy and maintaining the confidentiality of your personal information. All counselling sessions and client information are kept strictly confidential, except in cases where:"}),h.jsx("ul",{className:"list-none space-y-3",children:["There is a risk of harm to self or others","There is suspected abuse of children or vulnerable adults","There is a court order requiring disclosure","The client provides written consent for disclosure"].map((t,e)=>h.jsxs(j.li,{variants:Qu,className:"flex items-center text-white/90",children:[h.jsx(j.span,{className:"text-white mr-2",animate:{scale:[1,1.2,1]},transition:{duration:.5,delay:e*.1},children:""}),t]},e))})]})]}),h.jsxs(j.section,{variants:ro,whileHover:"hover",className:"bg-[#008080] rounded-lg p-8 shadow-lg border-2 border-white/20 relative overflow-hidden",children:[h.jsx(j.h2,{variants:Ct,className:"text-2xl font-semibold mb-4 text-white",children:"5. Payment and Cancellation"}),h.jsxs("div",{className:"prose prose-lg max-w-none",children:[h.jsx(j.p,{variants:Ct,className:"mb-4 text-white/90",children:"Payment is required at the time of booking. We accept major credit cards and other specified payment methods. Our cancellation policy requires:"}),h.jsx("ul",{className:"list-none space-y-3",children:["24 hours notice for appointment cancellations","Late cancellations or no-shows may be charged the full session fee","Refunds are provided at our discretion"].map((t,e)=>h.jsxs(j.li,{variants:Qu,className:"flex items-center text-white/90",children:[h.jsx(j.span,{className:"text-white mr-2",animate:{scale:[1,1.2,1]},transition:{duration:.5,delay:e*.1},children:""}),t]},e))})]})]}),h.jsxs(j.section,{variants:ro,whileHover:"hover",className:"bg-[#008080] rounded-lg p-8 shadow-lg border-2 border-white/20 relative overflow-hidden",children:[h.jsx(j.h2,{variants:Ct,className:"text-2xl font-semibold mb-4 text-white",children:"6. Emergency Services"}),h.jsxs("div",{className:"prose prose-lg max-w-none",children:[h.jsx(j.p,{variants:Ct,className:"mb-4 text-white/90",children:"Our services are not intended for emergencies. If you are experiencing a mental health emergency, please:"}),h.jsx("ul",{className:"list-none space-y-3",children:["Call your local emergency services","Visit your nearest emergency room","Contact a crisis helpline"].map((t,e)=>h.jsxs(j.li,{variants:Qu,className:"flex items-center text-white/90",children:[h.jsx(j.span,{className:"text-white mr-2",animate:{scale:[1,1.2,1]},transition:{duration:.5,delay:e*.1},children:""}),t]},e))})]})]}),h.jsxs(j.section,{variants:ro,whileHover:"hover",className:"bg-[#008080] rounded-lg p-8 shadow-lg border-2 border-white/20 relative overflow-hidden",children:[h.jsx(j.h2,{variants:Ct,className:"text-2xl font-semibold mb-4 text-white",children:"7. Limitation of Liability"}),h.jsxs("div",{className:"prose prose-lg max-w-none",children:[h.jsx(j.p,{variants:Ct,className:"mb-4 text-white/90",children:"While we strive to provide quality services, we cannot be held liable for:"}),h.jsx("ul",{className:"list-none space-y-3",children:["Technical issues affecting online sessions","Actions taken based on counselling advice","Indirect or consequential losses","Circumstances beyond our reasonable control"].map((t,e)=>h.jsxs(j.li,{variants:Qu,className:"flex items-center text-white/90",children:[h.jsx(j.span,{className:"text-white mr-2",animate:{scale:[1,1.2,1]},transition:{duration:.5,delay:e*.1},children:""}),t]},e))})]})]}),h.jsxs(j.section,{variants:ro,whileHover:"hover",className:"bg-[#008080] rounded-lg p-8 shadow-lg border-2 border-white/20 relative overflow-hidden",children:[h.jsx(j.h2,{variants:Ct,className:"text-2xl font-semibold mb-4 text-white",children:"8. Changes to Terms"}),h.jsx("div",{className:"prose prose-lg max-w-none",children:h.jsx(j.p,{variants:Ct,className:"mb-4 text-white/90",children:"We reserve the right to modify these terms at any time. Changes will be effective immediately upon posting to our website. Continued use of our services after changes constitutes acceptance of the modified terms."})})]})]}),h.jsxs(j.p,{variants:Ct,className:"text-white/90 mt-8",children:["For any questions about these terms, please contact us at"," ",h.jsx(j.a,{href:"mailto:info@cemarcounseling.com",className:"text-white hover:underline",whileHover:{scale:1.05},whileTap:{scale:.95},children:"support@cemarcounselling.com"})]})]})})]})})}function XX(){jn();const[t,e]=E.useState(""),[n,r]=E.useState(!1),[s,o]=E.useState(!1),{theme:a}=_i(),[c,d]=E.useState(""),f=async m=>{m.preventDefault(),d(""),r(!0);try{await new Promise(y=>setTimeout(y,1500)),o(!0)}catch{d("Failed to send reset email. Please try again.")}finally{r(!1)}};return h.jsx("div",{className:"pt-16",children:h.jsxs("section",{className:"py-20 bg-background relative overflow-hidden",children:[h.jsx(j.div,{className:"absolute top-0 right-0 w-96 h-96 bg-primary/5 rounded-full blur-3xl",animate:{x:[50,100,50],y:[0,50,0],scale:[1,1.1,1]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),h.jsx(j.div,{className:"absolute bottom-0 left-0 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl",animate:{x:[0,-50,0],y:[0,50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:h.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md mx-auto",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx(j.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},className:fe("text-3xl font-bold mb-4",a==="dark"?"text-white":"text-black"),children:"Reset Your Password"}),h.jsx(j.p,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:fe("text-muted-foreground mb-8",a==="dark"?"text-white/70":"text-black/70"),children:"Enter your email address and we'll send you instructions to reset your password"})]}),h.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"bg-card p-8 rounded-lg shadow-md border relative overflow-hidden",children:[h.jsx(j.div,{className:"absolute -top-20 -right-20 w-64 h-64 bg-primary/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],rotate:[0,45,0]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),s?h.jsxs(j.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-8",children:[h.jsx(j.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},children:h.jsx(E0,{className:"h-16 w-16 text-primary mx-auto mb-4"})}),h.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Check Your Email"}),h.jsx("p",{className:"text-muted-foreground mb-6",children:"We've sent password reset instructions to your email address."}),h.jsx(j.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:h.jsx(Ge,{asChild:!0,className:"w-full bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90",children:h.jsx(kn,{to:"/login",children:"Return to Login"})})})]}):h.jsxs("form",{onSubmit:f,className:"space-y-4",children:[h.jsxs(j.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4,duration:.5},className:"space-y-2",children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white",children:"Email Address"}),h.jsx(Dn,{id:"email",type:"email",value:t,onChange:m=>e(m.target.value),placeholder:"Enter your email",required:!0,className:"w-full transition-all duration-300 focus:ring-2 focus:ring-primary/50 placeholder:text-black/70"})]}),c&&h.jsx(j.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-sm text-red-500",children:c}),h.jsx(j.div,{whileHover:{scale:1.05,transition:{duration:.2}},whileTap:{scale:.95},children:h.jsx(Ge,{type:"submit",className:"w-full bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90",disabled:n,children:n?h.jsxs(h.Fragment,{children:[h.jsx(j.div,{animate:{rotate:360},transition:{duration:1,repeat:Number.POSITIVE_INFINITY,ease:"linear"},className:"mr-2 h-4 w-4 border-2 border-black border-t-transparent rounded-full"}),"Sending..."]}):"Send Reset Instructions"})}),h.jsx(j.div,{whileHover:{scale:1.05,transition:{duration:.2}},whileTap:{scale:.95},className:"text-center mt-4",children:h.jsx(Ge,{asChild:!0,variant:"outline",className:fe("w-48",a==="dark"?"bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90":"border-[#30D5C8] text-black hover:bg-[#30D5C8] hover:text-black"),children:h.jsx(kn,{to:"/login",children:"Back to Login"})})})]})]})]})})]})})}const _o=E.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:fe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));_o.displayName="Card";const wo=E.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:fe("flex flex-col space-y-1.5 p-6",t),...e}));wo.displayName="CardHeader";const xo=E.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:fe("text-2xl font-semibold leading-none tracking-tight",t),...e}));xo.displayName="CardTitle";const Eo=E.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:fe("text-sm text-muted-foreground",t),...e}));Eo.displayName="CardDescription";const To=E.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:fe("p-6 pt-0",t),...e}));To.displayName="CardContent";const JX=E.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:fe("flex items-center p-6 pt-0",t),...e}));JX.displayName="CardFooter";function ZX(){const t=jn(),[e,n]=E.useState(null),[r,s]=E.useState(!0),[o,a]=E.useState([]),[c,d]=E.useState([]),f=E.useRef(null),{theme:m}=_i();E.useEffect(()=>{if(!or()){t("/login?tab=signup");return}const I=ph();if(n(I),s(!1),I!=null&&I.id){const b=L_(pp(mc,"appointments"),V_("clientId","==",I.id)),C=F7(b,R=>{const O=R.docs.map(Y=>({id:Y.id,...Y.data()})),M=new Date,W=O.filter(Y=>Y.startTime?Y.startTime.toDate()>M:Y.status==="upcoming"),q=O.filter(Y=>Y.startTime?Y.startTime.toDate()<=M:Y.status==="completed");W.sort((Y,P)=>{var A,k,V,U;return(((k=(A=Y.startTime)==null?void 0:A.toDate)==null?void 0:k.call(A))||0)-(((U=(V=P.startTime)==null?void 0:V.toDate)==null?void 0:U.call(V))||0)}),q.sort((Y,P)=>{var A,k,V,U;return(((k=(A=P.startTime)==null?void 0:A.toDate)==null?void 0:k.call(A))||0)-(((U=(V=Y.startTime)==null?void 0:V.toDate)==null?void 0:U.call(V))||0)}),a(W),d(q)});return()=>C()}},[t]);const y=()=>{var T;(T=f.current)==null||T.click()},_=T=>{var b;const I=(b=T.target.files)==null?void 0:b[0];if(I){const C=new FileReader;C.onloadend=()=>{if(e){const R={...e,avatar:C.result};localStorage.setItem("userData",JSON.stringify(R)),n(R),window.dispatchEvent(new Event("storage"))}},C.readAsDataURL(I)}};return r?h.jsx("div",{className:"pt-16 min-h-screen flex items-center justify-center",children:h.jsx(j.div,{animate:{rotate:360},transition:{duration:1,repeat:Number.POSITIVE_INFINITY,ease:"linear"},className:"h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):e?h.jsx("div",{className:"pt-16",children:h.jsxs("section",{className:"py-20 bg-background relative overflow-hidden",children:[h.jsx(j.div,{className:"absolute top-0 right-0 w-96 h-96 bg-primary/5 rounded-full blur-3xl",animate:{x:[50,100,50],y:[0,50,0],scale:[1,1.1,1]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),h.jsx(j.div,{className:"absolute bottom-0 left-0 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl",animate:{x:[0,-50,0],y:[0,50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:h.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-4xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsx(j.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},className:fe("text-3xl font-bold mb-2",m==="dark"?"text-white":"text-black"),children:"Your Profile"}),h.jsx(j.p,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:fe(m==="dark"?"text-white":"text-black"),children:"Manage your personal information and appointments"})]}),h.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[h.jsx(j.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3,duration:.5},children:h.jsxs(_o,{children:[h.jsxs(wo,{className:"text-center",children:[h.jsx("div",{className:"flex justify-center mb-4",children:h.jsxs("div",{className:"relative group",children:[h.jsxs(lg,{className:"h-24 w-24 cursor-pointer transition-transform group-hover:scale-105",onClick:y,children:[h.jsx(cg,{src:e.avatar,alt:e.name}),h.jsx(ug,{className:"text-2xl bg-primary/10 text-primary",children:e.name.substring(0,2).toUpperCase()})]}),h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",onClick:y,children:h.jsx(rN,{className:"h-6 w-6 text-white"})}),h.jsx("input",{ref:f,type:"file",accept:"image/*",className:"hidden",onChange:_,"aria-label":"Upload profile picture"})]})}),h.jsx(xo,{children:e.name}),h.jsx(Eo,{children:e.email})]}),h.jsx(To,{className:"space-y-4",children:h.jsxs(Ge,{className:"w-full bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90",variant:"outline",onClick:()=>t("/account-settings"),children:[h.jsx(iN,{className:"mr-2 h-4 w-4"}),"Account Settings"]})})]})}),h.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},className:"md:col-span-2",children:h.jsxs(_o,{children:[h.jsxs(wo,{children:[h.jsx(xo,{children:"Upcoming Appointments"}),h.jsx(Eo,{children:"Your scheduled sessions"})]}),h.jsx(To,{children:h.jsx("div",{className:"space-y-4",children:o.length===0?h.jsxs("div",{className:"bg-muted p-4 rounded-lg text-center",children:[h.jsx("p",{className:"text-muted-foreground",children:"You don't have any upcoming appointments."}),h.jsx(Ge,{className:"mt-4",onClick:()=>t("/booking"),children:"Book an Appointment"})]}):o.map(T=>h.jsx("div",{className:"p-4 rounded-lg bg-muted/50 border",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"font-semibold",children:T.serviceTitle||T.serviceKey}),h.jsx("div",{className:"text-sm text-muted-foreground",children:T.clientEmail}),h.jsx("div",{className:"text-sm mt-1",children:T.startTime?T.startTime.toDate().toLocaleString():"TBD"})]}),h.jsx("div",{children:h.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-[#30D5C8] text-black",children:T.status})})]})},T.id))})})]})}),h.jsx(j.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5,duration:.5},className:"md:col-span-3",children:h.jsxs(_o,{children:[h.jsxs(wo,{children:[h.jsx(xo,{children:"Past Appointments"}),h.jsx(Eo,{children:"Your previous sessions"})]}),h.jsx(To,{children:h.jsx("div",{className:"space-y-4",children:c.length===0?h.jsx("div",{className:"bg-muted p-4 rounded-lg text-center",children:h.jsx("p",{className:"text-muted-foreground",children:"You don't have any past appointments."})}):c.map(T=>h.jsx("div",{className:"p-4 rounded-lg bg-muted/50 border",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"font-semibold",children:T.serviceTitle||T.serviceKey}),h.jsx("div",{className:"text-sm text-muted-foreground",children:T.clientEmail}),h.jsx("div",{className:"text-sm mt-1",children:T.startTime?T.startTime.toDate().toLocaleString():"TBD"})]}),h.jsx("div",{children:h.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-gray-200 text-black",children:T.status||"completed"})})]})},T.id))})})]})})]})]})})]})}):h.jsx("div",{className:"pt-16",children:h.jsx("section",{className:"py-20 bg-background relative overflow-hidden",children:h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:h.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md mx-auto text-center",children:[h.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Create Your Profile"}),h.jsx("p",{className:"text-muted-foreground mb-8",children:"Sign up to manage your appointments and access personalized features."}),h.jsx(Ge,{size:"lg",className:"bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary",onClick:()=>t("/login?tab=signup"),children:"Sign Up Now"})]})})})})}var hg="Dialog",[jM,OM]=Yr(hg),[eJ,Qr]=jM(hg),LM=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,c=E.useRef(null),d=E.useRef(null),[f,m]=za({prop:r,defaultProp:s??!1,onChange:o,caller:hg});return h.jsx(eJ,{scope:e,triggerRef:c,contentRef:d,contentId:As(),titleId:As(),descriptionId:As(),open:f,onOpenChange:m,onOpenToggle:E.useCallback(()=>m(y=>!y),[m]),modal:a,children:n})};LM.displayName=hg;var VM="DialogTrigger",FM=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Qr(VM,n),o=it(e,s.triggerRef);return h.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":tE(s.open),...r,ref:o,onClick:Te(t.onClick,s.onOpenToggle)})});FM.displayName=VM;var Zx="DialogPortal",[tJ,UM]=jM(Zx,{forceMount:void 0}),BM=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=Qr(Zx,e);return h.jsx(tJ,{scope:e,forceMount:n,children:E.Children.map(r,a=>h.jsx(Ti,{present:n||o.open,children:h.jsx(tg,{asChild:!0,container:s,children:a})}))})};BM.displayName=Zx;var um="DialogOverlay",zM=E.forwardRef((t,e)=>{const n=UM(um,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Qr(um,t.__scopeDialog);return o.modal?h.jsx(Ti,{present:r||o.open,children:h.jsx(rJ,{...s,ref:e})}):null});zM.displayName=um;var nJ=ka("DialogOverlay.RemoveScroll"),rJ=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Qr(um,n);return h.jsx(sg,{as:nJ,allowPinchZoom:!0,shards:[s.contentRef],children:h.jsx(ze.div,{"data-state":tE(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ha="DialogContent",$M=E.forwardRef((t,e)=>{const n=UM(Ha,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Qr(Ha,t.__scopeDialog);return h.jsx(Ti,{present:r||o.open,children:o.modal?h.jsx(sJ,{...s,ref:e}):h.jsx(iJ,{...s,ref:e})})});$M.displayName=Ha;var sJ=E.forwardRef((t,e)=>{const n=Qr(Ha,t.__scopeDialog),r=E.useRef(null),s=it(e,n.contentRef,r);return E.useEffect(()=>{const o=r.current;if(o)return $x(o)},[]),h.jsx(WM,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Te(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Te(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0;(a.button===2||c)&&o.preventDefault()}),onFocusOutside:Te(t.onFocusOutside,o=>o.preventDefault())})}),iJ=E.forwardRef((t,e)=>{const n=Qr(Ha,t.__scopeDialog),r=E.useRef(!1),s=E.useRef(!1);return h.jsx(WM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,c;(a=t.onCloseAutoFocus)==null||a.call(t,o),o.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var d,f;(d=t.onInteractOutside)==null||d.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;((f=n.triggerRef.current)==null?void 0:f.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),WM=E.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...a}=t,c=Qr(Ha,n),d=E.useRef(null),f=it(e,d);return Dx(),h.jsxs(h.Fragment,{children:[h.jsx(Qm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:h.jsx(Ym,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":tE(c.open),...a,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(aJ,{titleId:c.titleId}),h.jsx(cJ,{contentRef:d,descriptionId:c.descriptionId})]})]})}),eE="DialogTitle",HM=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Qr(eE,n);return h.jsx(ze.h2,{id:s.titleId,...r,ref:e})});HM.displayName=eE;var qM="DialogDescription",GM=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Qr(qM,n);return h.jsx(ze.p,{id:s.descriptionId,...r,ref:e})});GM.displayName=qM;var KM="DialogClose",YM=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Qr(KM,n);return h.jsx(ze.button,{type:"button",...r,ref:e,onClick:Te(t.onClick,()=>s.onOpenChange(!1))})});YM.displayName=KM;function tE(t){return t?"open":"closed"}var QM="DialogTitleWarning",[oJ,XM]=MG(QM,{contentName:Ha,titleName:eE,docsSlug:"dialog"}),aJ=({titleId:t})=>{const e=XM(QM),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return E.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},lJ="DialogDescriptionWarning",cJ=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${XM(lJ).contentName}}.`;return E.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},uJ=LM,dJ=FM,hJ=BM,fJ=zM,pJ=$M,mJ=HM,gJ=GM,JM=YM,ZM="AlertDialog",[yJ,AZ]=Yr(ZM,[OM]),bi=OM(),ej=t=>{const{__scopeAlertDialog:e,...n}=t,r=bi(e);return h.jsx(uJ,{...r,...n,modal:!0})};ej.displayName=ZM;var vJ="AlertDialogTrigger",_J=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=bi(n);return h.jsx(dJ,{...s,...r,ref:e})});_J.displayName=vJ;var wJ="AlertDialogPortal",tj=t=>{const{__scopeAlertDialog:e,...n}=t,r=bi(e);return h.jsx(hJ,{...r,...n})};tj.displayName=wJ;var xJ="AlertDialogOverlay",nj=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=bi(n);return h.jsx(fJ,{...s,...r,ref:e})});nj.displayName=xJ;var vc="AlertDialogContent",[EJ,TJ]=yJ(vc),bJ=VV("AlertDialogContent"),rj=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,o=bi(n),a=E.useRef(null),c=it(e,a),d=E.useRef(null);return h.jsx(oJ,{contentName:vc,titleName:sj,docsSlug:"alert-dialog",children:h.jsx(EJ,{scope:n,cancelRef:d,children:h.jsxs(pJ,{role:"alertdialog",...o,...s,ref:c,onOpenAutoFocus:Te(s.onOpenAutoFocus,f=>{var m;f.preventDefault(),(m=d.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[h.jsx(bJ,{children:r}),h.jsx(CJ,{contentRef:a})]})})})});rj.displayName=vc;var sj="AlertDialogTitle",ij=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=bi(n);return h.jsx(mJ,{...s,...r,ref:e})});ij.displayName=sj;var oj="AlertDialogDescription",aj=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=bi(n);return h.jsx(gJ,{...s,...r,ref:e})});aj.displayName=oj;var SJ="AlertDialogAction",lj=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=bi(n);return h.jsx(JM,{...s,...r,ref:e})});lj.displayName=SJ;var cj="AlertDialogCancel",uj=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=TJ(cj,n),o=bi(n),a=it(e,s);return h.jsx(JM,{...o,...r,ref:a})});uj.displayName=cj;var CJ=({contentRef:t})=>{const e=`\`${vc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${vc}\` by passing a \`${oj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${vc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return E.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},IJ=ej,NJ=tj,dj=nj,hj=rj,fj=lj,pj=uj,mj=ij,gj=aj;const AJ=IJ,RJ=NJ,yj=E.forwardRef(({className:t,...e},n)=>h.jsx(dj,{className:fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));yj.displayName=dj.displayName;const vj=E.forwardRef(({className:t,...e},n)=>h.jsxs(RJ,{children:[h.jsx(yj,{}),h.jsx(hj,{ref:n,className:fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));vj.displayName=hj.displayName;const _j=({className:t,...e})=>h.jsx("div",{className:fe("flex flex-col space-y-2 text-center sm:text-left",t),...e});_j.displayName="AlertDialogHeader";const wj=({className:t,...e})=>h.jsx("div",{className:fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});wj.displayName="AlertDialogFooter";const xj=E.forwardRef(({className:t,...e},n)=>h.jsx(mj,{ref:n,className:fe("text-lg font-semibold",t),...e}));xj.displayName=mj.displayName;const Ej=E.forwardRef(({className:t,...e},n)=>h.jsx(gj,{ref:n,className:fe("text-sm text-muted-foreground",t),...e}));Ej.displayName=gj.displayName;const PJ=E.forwardRef(({className:t,...e},n)=>h.jsx(fj,{ref:n,className:fe(x0(),t),...e}));PJ.displayName=fj.displayName;const kJ=E.forwardRef(({className:t,...e},n)=>h.jsx(pj,{ref:n,className:fe(x0({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));kJ.displayName=pj.displayName;function DJ(){const t=jn(),[e,n]=E.useState(null),[r,s]=E.useState(!0),[o,a]=E.useState(!1),[c,d]=E.useState(!1),f=E.useRef(null),[m,y]=E.useState({name:"",email:"",currentPassword:"",newPassword:"",confirmPassword:""}),[_,T]=E.useState(""),{theme:I}=_i();E.useEffect(()=>{if(!or()){t("/login");return}const M=ph();n(M),M&&y(W=>({...W,name:M.name,email:M.email})),s(!1)},[t]);const b=()=>{var O;(O=f.current)==null||O.click()},C=O=>{var W;const M=(W=O.target.files)==null?void 0:W[0];if(M){const q=new FileReader;q.onloadend=()=>{if(e){const Y={...e,avatar:q.result};localStorage.setItem("userData",JSON.stringify(Y)),n(Y),window.dispatchEvent(new Event("storage"))}},q.readAsDataURL(M)}},R=async O=>{if(O.preventDefault(),T(""),m.newPassword||m.confirmPassword){if(!m.currentPassword){T("Current password is required to change password");return}if(m.newPassword!==m.confirmPassword){T("New passwords do not match");return}if(m.newPassword.length<6){T("New password must be at least 6 characters");return}}if(e){const M={...e,name:m.name,email:m.email};localStorage.setItem("userData",JSON.stringify(M)),n(M),window.dispatchEvent(new Event("storage")),d(!0),y(W=>({...W,currentPassword:"",newPassword:"",confirmPassword:""}))}};return r?h.jsx("div",{className:"pt-16 min-h-screen flex items-center justify-center",children:h.jsx(j.div,{animate:{rotate:360},transition:{duration:1,repeat:Number.POSITIVE_INFINITY,ease:"linear"},className:"h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):h.jsxs("div",{className:"pt-16",children:[h.jsxs("section",{className:"py-20 bg-background relative overflow-hidden",children:[h.jsx(j.div,{className:"absolute top-0 right-0 w-96 h-96 bg-primary/5 rounded-full blur-3xl",animate:{x:[50,100,50],y:[0,50,0],scale:[1,1.1,1]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),h.jsx(j.div,{className:"absolute bottom-0 left-0 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl",animate:{x:[0,-50,0],y:[0,50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:h.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-2xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsx(j.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},className:fe("text-3xl font-bold mb-2",I==="dark"?"text-white":"text-black"),children:"Account Settings"}),h.jsx(j.p,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:fe(I==="dark"?"text-white":"text-black"),children:"Manage your profile information and security settings"})]}),h.jsxs(_o,{children:[h.jsxs(wo,{children:[h.jsx(xo,{children:"Profile Information"}),h.jsx(Eo,{children:"Update your profile details and password"})]}),h.jsx(To,{children:h.jsxs("form",{onSubmit:R,className:"space-y-6",children:[h.jsx("div",{className:"flex justify-center mb-6",children:h.jsxs("div",{className:"relative group",children:[h.jsxs(lg,{className:"h-24 w-24 cursor-pointer transition-transform group-hover:scale-105",onClick:b,children:[h.jsx(cg,{src:e==null?void 0:e.avatar,alt:e==null?void 0:e.name}),h.jsx(ug,{className:"text-2xl bg-primary/10 text-primary",children:e==null?void 0:e.name.substring(0,2).toUpperCase()})]}),h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",onClick:b,children:h.jsx(rN,{className:"h-6 w-6 text-white"})}),h.jsx("input",{ref:f,type:"file",accept:"image/*",className:"hidden",onChange:C,"aria-label":"Upload profile picture"})]})}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(hn,{htmlFor:"name",children:"Full Name"}),h.jsx(Dn,{id:"name",value:m.name,onChange:O=>y(M=>({...M,name:O.target.value})),className:fe(I==="dark"?"text-white placeholder:text-white":"text-black placeholder:text-black"),placeholder:"Enter your full name",required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(hn,{htmlFor:"email",children:"Email Address"}),h.jsx(Dn,{id:"email",type:"email",value:m.email,onChange:O=>y(M=>({...M,email:O.target.value})),className:fe(I==="dark"?"text-white placeholder:text-white":"text-black placeholder:text-black"),placeholder:"Enter your email address",required:!0})]}),h.jsxs("div",{className:"border-t pt-4",children:[h.jsx("h3",{className:"font-medium mb-4",children:"Change Password"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(hn,{htmlFor:"currentPassword",children:"Current Password"}),h.jsx(Dn,{id:"currentPassword",type:"password",value:m.currentPassword,onChange:O=>y(M=>({...M,currentPassword:O.target.value})),className:fe(I==="dark"?"placeholder:text-white":"placeholder:text-black"),placeholder:"Enter your current password"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(hn,{htmlFor:"newPassword",children:"New Password"}),h.jsx(Dn,{id:"newPassword",type:"password",value:m.newPassword,onChange:O=>y(M=>({...M,newPassword:O.target.value})),className:fe(I==="dark"?"placeholder:text-white":"placeholder:text-black"),placeholder:"Enter your new password"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(hn,{htmlFor:"confirmPassword",children:"Confirm New Password"}),h.jsx(Dn,{id:"confirmPassword",type:"password",value:m.confirmPassword,onChange:O=>y(M=>({...M,confirmPassword:O.target.value})),className:fe(I==="dark"?"placeholder:text-white":"placeholder:text-black"),placeholder:"Confirm your new password"})]})]})]}),_&&h.jsx(j.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-sm text-red-500",children:_}),h.jsxs("div",{className:"flex justify-end space-x-4",children:[h.jsx(Ge,{type:"button",className:"bg-[#78ede5] text-black hover:bg-[#78ede5]/90",onClick:()=>t("/profile"),children:"Cancel"}),h.jsx(Ge,{type:"submit",className:"bg-[#78ede5] text-black hover:bg-[#78ede5]/90",children:"Save Changes"})]})]})})]})]})})]}),h.jsx(AJ,{open:c,onOpenChange:d,children:h.jsxs(vj,{className:"max-w-md",children:[h.jsx(_j,{children:h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx(j.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15},children:h.jsx(E0,{className:"h-16 w-16 text-[#00807f] mb-4"})}),h.jsx(xj,{className:fe("text-2xl font-semibold mb-2",I==="dark"?"text-white":"text-black"),children:"Changes Saved Successfully!"}),h.jsx(Ej,{className:fe("text-center",I==="dark"?"text-white/70":"text-black"),children:"Your profile information has been updated."})]})}),h.jsx(wj,{className:"flex justify-center",children:h.jsx(Ge,{className:"bg-[#00807f] text-white hover:bg-[#78ede5]/90",onClick:()=>{d(!1),t("/profile")},children:"Done"})})]})})]})}function Tj(t){const e=E.useRef({value:t,previous:t});return E.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var fg="Switch",[MJ,RZ]=Yr(fg),[jJ,OJ]=MJ(fg),bj=E.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:a,disabled:c,value:d="on",onCheckedChange:f,form:m,...y}=t,[_,T]=E.useState(null),I=it(e,M=>T(M)),b=E.useRef(!1),C=_?m||!!_.closest("form"):!0,[R,O]=za({prop:s,defaultProp:o??!1,onChange:f,caller:fg});return h.jsxs(jJ,{scope:n,checked:R,disabled:c,children:[h.jsx(ze.button,{type:"button",role:"switch","aria-checked":R,"aria-required":a,"data-state":Nj(R),"data-disabled":c?"":void 0,disabled:c,value:d,...y,ref:I,onClick:Te(t.onClick,M=>{O(W=>!W),C&&(b.current=M.isPropagationStopped(),b.current||M.stopPropagation())})}),C&&h.jsx(Ij,{control:_,bubbles:!b.current,name:r,value:d,checked:R,required:a,disabled:c,form:m,style:{transform:"translateX(-100%)"}})]})});bj.displayName=fg;var Sj="SwitchThumb",Cj=E.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=OJ(Sj,n);return h.jsx(ze.span,{"data-state":Nj(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});Cj.displayName=Sj;var LJ="SwitchBubbleInput",Ij=E.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},o)=>{const a=E.useRef(null),c=it(a,o),d=Tj(n),f=F2(e);return E.useEffect(()=>{const m=a.current;if(!m)return;const y=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(y,"checked").set;if(d!==n&&T){const I=new Event("click",{bubbles:r});T.call(m,n),m.dispatchEvent(I)}},[d,n,r]),h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:c,style:{...s.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Ij.displayName=LJ;function Nj(t){return t?"checked":"unchecked"}var Aj=bj,VJ=Cj;const l0=E.forwardRef(({className:t,...e},n)=>h.jsx(Aj,{className:fe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:h.jsx(VJ,{className:fe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));l0.displayName=Aj.displayName;function P1(t,[e,n]){return Math.min(n,Math.max(e,t))}var Rj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),FJ="VisuallyHidden",UJ=E.forwardRef((t,e)=>h.jsx(ze.span,{...t,ref:e,style:{...Rj,...t.style}}));UJ.displayName=FJ;var BJ=[" ","Enter","ArrowUp","ArrowDown"],zJ=[" ","Enter"],qa="Select",[pg,mg,$J]=kx(qa),[Yc,PZ]=Yr(qa,[$J,eg]),gg=eg(),[WJ,zo]=Yc(qa),[HJ,qJ]=Yc(qa),Pj=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:a,defaultValue:c,onValueChange:d,dir:f,name:m,autoComplete:y,disabled:_,required:T,form:I}=t,b=gg(e),[C,R]=E.useState(null),[O,M]=E.useState(null),[W,q]=E.useState(!1),Y=Km(f),[P,A]=za({prop:r,defaultProp:s??!1,onChange:o,caller:qa}),[k,V]=za({prop:a,defaultProp:c,onChange:d,caller:qa}),U=E.useRef(null),B=C?I||!!C.closest("form"):!0,[L,ye]=E.useState(new Set),Ie=Array.from(L).map(_e=>_e.props.value).join(";");return h.jsx(Y2,{...b,children:h.jsxs(WJ,{required:T,scope:e,trigger:C,onTriggerChange:R,valueNode:O,onValueNodeChange:M,valueNodeHasChildren:W,onValueNodeHasChildrenChange:q,contentId:As(),value:k,onValueChange:V,open:P,onOpenChange:A,dir:Y,triggerPointerDownPosRef:U,disabled:_,children:[h.jsx(pg.Provider,{scope:e,children:h.jsx(HJ,{scope:t.__scopeSelect,onNativeOptionAdd:E.useCallback(_e=>{ye(he=>new Set(he).add(_e))},[]),onNativeOptionRemove:E.useCallback(_e=>{ye(he=>{const Z=new Set(he);return Z.delete(_e),Z})},[]),children:n})}),B?h.jsxs(tO,{"aria-hidden":!0,required:T,tabIndex:-1,name:m,autoComplete:y,value:k,onChange:_e=>V(_e.target.value),disabled:_,form:I,children:[k===void 0?h.jsx("option",{value:""}):null,Array.from(L)]},Ie):null]})})};Pj.displayName=qa;var kj="SelectTrigger",Dj=E.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=gg(n),a=zo(kj,n),c=a.disabled||r,d=it(e,a.onTriggerChange),f=mg(n),m=E.useRef("touch"),[y,_,T]=rO(b=>{const C=f().filter(M=>!M.disabled),R=C.find(M=>M.value===a.value),O=sO(C,b,R);O!==void 0&&a.onValueChange(O.value)}),I=b=>{c||(a.onOpenChange(!0),T()),b&&(a.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return h.jsx(Q2,{asChild:!0,...o,children:h.jsx(ze.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":nO(a.value)?"":void 0,...s,ref:d,onClick:Te(s.onClick,b=>{b.currentTarget.focus(),m.current!=="mouse"&&I(b)}),onPointerDown:Te(s.onPointerDown,b=>{m.current=b.pointerType;const C=b.target;C.hasPointerCapture(b.pointerId)&&C.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(I(b),b.preventDefault())}),onKeyDown:Te(s.onKeyDown,b=>{const C=y.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&_(b.key),!(C&&b.key===" ")&&BJ.includes(b.key)&&(I(),b.preventDefault())})})})});Dj.displayName=kj;var Mj="SelectValue",jj=E.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:a="",...c}=t,d=zo(Mj,n),{onValueNodeHasChildrenChange:f}=d,m=o!==void 0,y=it(e,d.onValueNodeChange);return Yt(()=>{f(m)},[f,m]),h.jsx(ze.span,{...c,ref:y,style:{pointerEvents:"none"},children:nO(d.value)?h.jsx(h.Fragment,{children:a}):o})});jj.displayName=Mj;var GJ="SelectIcon",Oj=E.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return h.jsx(ze.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});Oj.displayName=GJ;var KJ="SelectPortal",Lj=t=>h.jsx(tg,{asChild:!0,...t});Lj.displayName=KJ;var Ga="SelectContent",Vj=E.forwardRef((t,e)=>{const n=zo(Ga,t.__scopeSelect),[r,s]=E.useState();if(Yt(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?qd.createPortal(h.jsx(Fj,{scope:t.__scopeSelect,children:h.jsx(pg.Slot,{scope:t.__scopeSelect,children:h.jsx("div",{children:t.children})})}),o):null}return h.jsx(Uj,{...t,ref:e})});Vj.displayName=Ga;var Lr=10,[Fj,$o]=Yc(Ga),YJ="SelectContentImpl",QJ=ka("SelectContent.RemoveScroll"),Uj=E.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:a,side:c,sideOffset:d,align:f,alignOffset:m,arrowPadding:y,collisionBoundary:_,collisionPadding:T,sticky:I,hideWhenDetached:b,avoidCollisions:C,...R}=t,O=zo(Ga,n),[M,W]=E.useState(null),[q,Y]=E.useState(null),P=it(e,ue=>W(ue)),[A,k]=E.useState(null),[V,U]=E.useState(null),B=mg(n),[L,ye]=E.useState(!1),Ie=E.useRef(!1);E.useEffect(()=>{if(M)return $x(M)},[M]),Dx();const _e=E.useCallback(ue=>{const[xe,...Ne]=B().map(Je=>Je.ref.current),[Ve]=Ne.slice(-1),Ye=document.activeElement;for(const Je of ue)if(Je===Ye||(Je==null||Je.scrollIntoView({block:"nearest"}),Je===xe&&q&&(q.scrollTop=0),Je===Ve&&q&&(q.scrollTop=q.scrollHeight),Je==null||Je.focus(),document.activeElement!==Ye))return},[B,q]),he=E.useCallback(()=>_e([A,M]),[_e,A,M]);E.useEffect(()=>{L&&he()},[L,he]);const{onOpenChange:Z,triggerPointerDownPosRef:ee}=O;E.useEffect(()=>{if(M){let ue={x:0,y:0};const xe=Ve=>{var Ye,Je;ue={x:Math.abs(Math.round(Ve.pageX)-(((Ye=ee.current)==null?void 0:Ye.x)??0)),y:Math.abs(Math.round(Ve.pageY)-(((Je=ee.current)==null?void 0:Je.y)??0))}},Ne=Ve=>{ue.x<=10&&ue.y<=10?Ve.preventDefault():M.contains(Ve.target)||Z(!1),document.removeEventListener("pointermove",xe),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",Ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",Ne,{capture:!0})}}},[M,Z,ee]),E.useEffect(()=>{const ue=()=>Z(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[Z]);const[se,$]=rO(ue=>{const xe=B().filter(Ye=>!Ye.disabled),Ne=xe.find(Ye=>Ye.ref.current===document.activeElement),Ve=sO(xe,ue,Ne);Ve&&setTimeout(()=>Ve.ref.current.focus())}),te=E.useCallback((ue,xe,Ne)=>{const Ve=!Ie.current&&!Ne;(O.value!==void 0&&O.value===xe||Ve)&&(k(ue),Ve&&(Ie.current=!0))},[O.value]),Ae=E.useCallback(()=>M==null?void 0:M.focus(),[M]),Se=E.useCallback((ue,xe,Ne)=>{const Ve=!Ie.current&&!Ne;(O.value!==void 0&&O.value===xe||Ve)&&U(ue)},[O.value]),Le=r==="popper"?c0:Bj,ke=Le===c0?{side:c,sideOffset:d,align:f,alignOffset:m,arrowPadding:y,collisionBoundary:_,collisionPadding:T,sticky:I,hideWhenDetached:b,avoidCollisions:C}:{};return h.jsx(Fj,{scope:n,content:M,viewport:q,onViewportChange:Y,itemRefCallback:te,selectedItem:A,onItemLeave:Ae,itemTextRefCallback:Se,focusSelectedItem:he,selectedItemText:V,position:r,isPositioned:L,searchRef:se,children:h.jsx(sg,{as:QJ,allowPinchZoom:!0,children:h.jsx(Qm,{asChild:!0,trapped:O.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:Te(s,ue=>{var xe;(xe=O.trigger)==null||xe.focus({preventScroll:!0}),ue.preventDefault()}),children:h.jsx(Ym,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>O.onOpenChange(!1),children:h.jsx(Le,{role:"listbox",id:O.contentId,"data-state":O.open?"open":"closed",dir:O.dir,onContextMenu:ue=>ue.preventDefault(),...R,...ke,onPlaced:()=>ye(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:Te(R.onKeyDown,ue=>{const xe=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!xe&&ue.key.length===1&&$(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let Ve=B().filter(Ye=>!Ye.disabled).map(Ye=>Ye.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(Ve=Ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const Ye=ue.target,Je=Ve.indexOf(Ye);Ve=Ve.slice(Je+1)}setTimeout(()=>_e(Ve)),ue.preventDefault()}})})})})})})});Uj.displayName=YJ;var XJ="SelectItemAlignedPosition",Bj=E.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=zo(Ga,n),a=$o(Ga,n),[c,d]=E.useState(null),[f,m]=E.useState(null),y=it(e,P=>m(P)),_=mg(n),T=E.useRef(!1),I=E.useRef(!0),{viewport:b,selectedItem:C,selectedItemText:R,focusSelectedItem:O}=a,M=E.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&f&&b&&C&&R){const P=o.trigger.getBoundingClientRect(),A=f.getBoundingClientRect(),k=o.valueNode.getBoundingClientRect(),V=R.getBoundingClientRect();if(o.dir!=="rtl"){const Ye=V.left-A.left,Je=k.left-Ye,At=P.left-Je,on=P.width+At,Xr=Math.max(on,A.width),lr=window.innerWidth-Lr,Kn=P1(Je,[Lr,Math.max(Lr,lr-Xr)]);c.style.minWidth=on+"px",c.style.left=Kn+"px"}else{const Ye=A.right-V.right,Je=window.innerWidth-k.right-Ye,At=window.innerWidth-P.right-Je,on=P.width+At,Xr=Math.max(on,A.width),lr=window.innerWidth-Lr,Kn=P1(Je,[Lr,Math.max(Lr,lr-Xr)]);c.style.minWidth=on+"px",c.style.right=Kn+"px"}const U=_(),B=window.innerHeight-Lr*2,L=b.scrollHeight,ye=window.getComputedStyle(f),Ie=parseInt(ye.borderTopWidth,10),_e=parseInt(ye.paddingTop,10),he=parseInt(ye.borderBottomWidth,10),Z=parseInt(ye.paddingBottom,10),ee=Ie+_e+L+Z+he,se=Math.min(C.offsetHeight*5,ee),$=window.getComputedStyle(b),te=parseInt($.paddingTop,10),Ae=parseInt($.paddingBottom,10),Se=P.top+P.height/2-Lr,Le=B-Se,ke=C.offsetHeight/2,ue=C.offsetTop+ke,xe=Ie+_e+ue,Ne=ee-xe;if(xe<=Se){const Ye=U.length>0&&C===U[U.length-1].ref.current;c.style.bottom="0px";const Je=f.clientHeight-b.offsetTop-b.offsetHeight,At=Math.max(Le,ke+(Ye?Ae:0)+Je+he),on=xe+At;c.style.height=on+"px"}else{const Ye=U.length>0&&C===U[0].ref.current;c.style.top="0px";const At=Math.max(Se,Ie+b.offsetTop+(Ye?te:0)+ke)+Ne;c.style.height=At+"px",b.scrollTop=xe-Se+b.offsetTop}c.style.margin=`${Lr}px 0`,c.style.minHeight=se+"px",c.style.maxHeight=B+"px",r==null||r(),requestAnimationFrame(()=>T.current=!0)}},[_,o.trigger,o.valueNode,c,f,b,C,R,o.dir,r]);Yt(()=>M(),[M]);const[W,q]=E.useState();Yt(()=>{f&&q(window.getComputedStyle(f).zIndex)},[f]);const Y=E.useCallback(P=>{P&&I.current===!0&&(M(),O==null||O(),I.current=!1)},[M,O]);return h.jsx(ZJ,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:T,onScrollButtonChange:Y,children:h.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:W},children:h.jsx(ze.div,{...s,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Bj.displayName=XJ;var JJ="SelectPopperPosition",c0=E.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Lr,...o}=t,a=gg(n);return h.jsx(X2,{...a,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});c0.displayName=JJ;var[ZJ,nE]=Yc(Ga,{}),u0="SelectViewport",zj=E.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=$o(u0,n),a=nE(u0,n),c=it(e,o.onViewportChange),d=E.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),h.jsx(pg.Slot,{scope:n,children:h.jsx(ze.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Te(s.onScroll,f=>{const m=f.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:_}=a;if(_!=null&&_.current&&y){const T=Math.abs(d.current-m.scrollTop);if(T>0){const I=window.innerHeight-Lr*2,b=parseFloat(y.style.minHeight),C=parseFloat(y.style.height),R=Math.max(b,C);if(R<I){const O=R+T,M=Math.min(I,O),W=O-M;y.style.height=M+"px",y.style.bottom==="0px"&&(m.scrollTop=W>0?W:0,y.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});zj.displayName=u0;var $j="SelectGroup",[eZ,tZ]=Yc($j),nZ=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=As();return h.jsx(eZ,{scope:n,id:s,children:h.jsx(ze.div,{role:"group","aria-labelledby":s,...r,ref:e})})});nZ.displayName=$j;var Wj="SelectLabel",Hj=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=tZ(Wj,n);return h.jsx(ze.div,{id:s.id,...r,ref:e})});Hj.displayName=Wj;var dm="SelectItem",[rZ,qj]=Yc(dm),Gj=E.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...a}=t,c=zo(dm,n),d=$o(dm,n),f=c.value===r,[m,y]=E.useState(o??""),[_,T]=E.useState(!1),I=it(e,O=>{var M;return(M=d.itemRefCallback)==null?void 0:M.call(d,O,r,s)}),b=As(),C=E.useRef("touch"),R=()=>{s||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(rZ,{scope:n,value:r,disabled:s,textId:b,isSelected:f,onItemTextChange:E.useCallback(O=>{y(M=>M||((O==null?void 0:O.textContent)??"").trim())},[]),children:h.jsx(pg.ItemSlot,{scope:n,value:r,disabled:s,textValue:m,children:h.jsx(ze.div,{role:"option","aria-labelledby":b,"data-highlighted":_?"":void 0,"aria-selected":f&&_,"data-state":f?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:I,onFocus:Te(a.onFocus,()=>T(!0)),onBlur:Te(a.onBlur,()=>T(!1)),onClick:Te(a.onClick,()=>{C.current!=="mouse"&&R()}),onPointerUp:Te(a.onPointerUp,()=>{C.current==="mouse"&&R()}),onPointerDown:Te(a.onPointerDown,O=>{C.current=O.pointerType}),onPointerMove:Te(a.onPointerMove,O=>{var M;C.current=O.pointerType,s?(M=d.onItemLeave)==null||M.call(d):C.current==="mouse"&&O.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Te(a.onPointerLeave,O=>{var M;O.currentTarget===document.activeElement&&((M=d.onItemLeave)==null||M.call(d))}),onKeyDown:Te(a.onKeyDown,O=>{var W;((W=d.searchRef)==null?void 0:W.current)!==""&&O.key===" "||(zJ.includes(O.key)&&R(),O.key===" "&&O.preventDefault())})})})})});Gj.displayName=dm;var id="SelectItemText",Kj=E.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,a=zo(id,n),c=$o(id,n),d=qj(id,n),f=qJ(id,n),[m,y]=E.useState(null),_=it(e,R=>y(R),d.onItemTextChange,R=>{var O;return(O=c.itemTextRefCallback)==null?void 0:O.call(c,R,d.value,d.disabled)}),T=m==null?void 0:m.textContent,I=E.useMemo(()=>h.jsx("option",{value:d.value,disabled:d.disabled,children:T},d.value),[d.disabled,d.value,T]),{onNativeOptionAdd:b,onNativeOptionRemove:C}=f;return Yt(()=>(b(I),()=>C(I)),[b,C,I]),h.jsxs(h.Fragment,{children:[h.jsx(ze.span,{id:d.textId,...o,ref:_}),d.isSelected&&a.valueNode&&!a.valueNodeHasChildren?qd.createPortal(o.children,a.valueNode):null]})});Kj.displayName=id;var Yj="SelectItemIndicator",Qj=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return qj(Yj,n).isSelected?h.jsx(ze.span,{"aria-hidden":!0,...r,ref:e}):null});Qj.displayName=Yj;var d0="SelectScrollUpButton",Xj=E.forwardRef((t,e)=>{const n=$o(d0,t.__scopeSelect),r=nE(d0,t.__scopeSelect),[s,o]=E.useState(!1),a=it(e,r.onScrollButtonChange);return Yt(()=>{if(n.viewport&&n.isPositioned){let c=function(){const f=d.scrollTop>0;o(f)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?h.jsx(Zj,{...t,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});Xj.displayName=d0;var h0="SelectScrollDownButton",Jj=E.forwardRef((t,e)=>{const n=$o(h0,t.__scopeSelect),r=nE(h0,t.__scopeSelect),[s,o]=E.useState(!1),a=it(e,r.onScrollButtonChange);return Yt(()=>{if(n.viewport&&n.isPositioned){let c=function(){const f=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<f;o(m)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?h.jsx(Zj,{...t,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});Jj.displayName=h0;var Zj=E.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=$o("SelectScrollButton",n),a=E.useRef(null),c=mg(n),d=E.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return E.useEffect(()=>()=>d(),[d]),Yt(()=>{var m;const f=c().find(y=>y.ref.current===document.activeElement);(m=f==null?void 0:f.ref.current)==null||m.scrollIntoView({block:"nearest"})},[c]),h.jsx(ze.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Te(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Te(s.onPointerMove,()=>{var f;(f=o.onItemLeave)==null||f.call(o),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Te(s.onPointerLeave,()=>{d()})})}),sZ="SelectSeparator",eO=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return h.jsx(ze.div,{"aria-hidden":!0,...r,ref:e})});eO.displayName=sZ;var f0="SelectArrow",iZ=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=gg(n),o=zo(f0,n),a=$o(f0,n);return o.open&&a.position==="popper"?h.jsx(J2,{...s,...r,ref:e}):null});iZ.displayName=f0;var oZ="SelectBubbleInput",tO=E.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=E.useRef(null),o=it(r,s),a=Tj(e);return E.useEffect(()=>{const c=s.current;if(!c)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(a!==e&&m){const y=new Event("change",{bubbles:!0});m.call(c,e),c.dispatchEvent(y)}},[a,e]),h.jsx(ze.select,{...n,style:{...Rj,...n.style},ref:o,defaultValue:e})});tO.displayName=oZ;function nO(t){return t===""||t===void 0}function rO(t){const e=qr(t),n=E.useRef(""),r=E.useRef(0),s=E.useCallback(a=>{const c=n.current+a;e(c),function d(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(c)},[e]),o=E.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function sO(t,e,n){const s=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let a=aZ(t,Math.max(o,0));s.length===1&&(a=a.filter(f=>f!==n));const d=a.find(f=>f.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function aZ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var lZ=Pj,iO=Dj,cZ=jj,uZ=Oj,dZ=Lj,oO=Vj,hZ=zj,aO=Hj,lO=Gj,fZ=Kj,pZ=Qj,cO=Xj,uO=Jj,dO=eO;const k1=lZ,D1=cZ,p0=E.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(iO,{ref:r,className:fe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 dark:[&>span]:text-white/70",t),...n,children:[e,h.jsx(uZ,{asChild:!0,children:h.jsx(sN,{className:"h-4 w-4 opacity-50"})})]}));p0.displayName=iO.displayName;const hO=E.forwardRef(({className:t,...e},n)=>h.jsx(cO,{ref:n,className:fe("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(b4,{className:"h-4 w-4"})}));hO.displayName=cO.displayName;const fO=E.forwardRef(({className:t,...e},n)=>h.jsx(uO,{ref:n,className:fe("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(sN,{className:"h-4 w-4"})}));fO.displayName=uO.displayName;const m0=E.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>h.jsx(dZ,{children:h.jsxs(oO,{ref:s,className:fe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[h.jsx(hO,{}),h.jsx(hZ,{className:fe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),h.jsx(fO,{})]})}));m0.displayName=oO.displayName;const mZ=E.forwardRef(({className:t,...e},n)=>h.jsx(aO,{ref:n,className:fe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));mZ.displayName=aO.displayName;const xa=E.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(lO,{ref:r,className:fe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(pZ,{children:h.jsx(xp,{className:"h-4 w-4"})})}),h.jsx(fZ,{children:e})]}));xa.displayName=lO.displayName;const gZ=E.forwardRef(({className:t,...e},n)=>h.jsx(dO,{ref:n,className:fe("-mx-1 my-1 h-px bg-muted",t),...e}));gZ.displayName=dO.displayName;function yZ(){const{setTheme:t,theme:e}=_i(),n=jn(),[r,s]=E.useState(null),[o,a]=E.useState(!0),[c,d]=E.useState({name:"",email:"",avatar:""}),[f,m]=E.useState({notifications:!0,emailUpdates:!1,fontSize:"medium",language:"en"});E.useEffect(()=>{if(!or()){n("/login");return}const T=ph();s(T),T&&d({name:T.name,email:T.email,avatar:T.avatar||""}),a(!1)},[n]),E.useEffect(()=>{const _=localStorage.getItem("sitePreferences");_&&m(JSON.parse(_))},[]);const y=(_,T)=>{const I={...f,[_]:T};m(I),localStorage.setItem("sitePreferences",JSON.stringify(I))};return o?h.jsx("div",{className:"pt-16 min-h-screen flex items-center justify-center",children:h.jsx(j.div,{animate:{rotate:360},transition:{duration:1,repeat:Number.POSITIVE_INFINITY,ease:"linear"},className:"h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):h.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"container mx-auto px-4 py-8",children:h.jsxs("section",{className:"py-20 bg-background relative overflow-hidden",children:[h.jsx(j.div,{className:"absolute top-0 right-0 w-96 h-96 bg-primary/5 rounded-full blur-3xl",animate:{x:[50,100,50],y:[0,50,0],scale:[1,1.1,1]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),h.jsx(j.div,{className:"absolute bottom-0 left-0 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl",animate:{x:[0,-50,0],y:[0,50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:h.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-2xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsx(j.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},className:fe("text-3xl font-bold mb-2",e==="dark"?"text-white":"text-black"),children:"Preferences"}),h.jsx(j.p,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:fe(e==="dark"?"text-white":"text-black"),children:"Customize your experience with appearance, language, and notification settings"})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs(_o,{children:[h.jsxs(wo,{children:[h.jsx(xo,{children:"Appearance"}),h.jsx(Eo,{children:"Customize how the website looks and feels"})]}),h.jsxs(To,{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"space-y-0.5",children:[h.jsx(hn,{children:"Theme"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Switch between light and dark mode"})]}),h.jsx(Ge,{variant:"outline",size:"icon",onClick:()=>t(e==="dark"?"light":"dark"),className:fe("hover:bg-[#30D5C8] hover:text-white border-[#30D5C8]",e==="dark"?"text-white":"text-black bg-[#30D5C8]"),children:e==="dark"?h.jsx(V4,{className:"h-5 w-5"}):h.jsx(M4,{className:"h-5 w-5"})})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"space-y-0.5",children:[h.jsx(hn,{children:"Font Size"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Adjust the text size"})]}),h.jsxs(k1,{value:f.fontSize,onValueChange:_=>{y("fontSize",_);const T=document.documentElement;_==="small"?T.style.fontSize="90%":_==="large"?T.style.fontSize="110%":T.style.fontSize="100%"},children:[h.jsx(p0,{className:fe("w-[120px] border-[#30D5C8]",e==="dark"?"text-white":"text-black bg-[#30D5C8] hover:bg-[#30D5C8]/90"),children:h.jsx(D1,{})}),h.jsxs(m0,{className:fe("border-[#30D5C8]",e==="dark"?"text-white":"text-black bg-[#30D5C8]"),children:[h.jsx(xa,{value:"small",className:"hover:bg-[#30D5C8]/90",children:"Small"}),h.jsx(xa,{value:"medium",className:"hover:bg-[#30D5C8]/90",children:"Medium"}),h.jsx(xa,{value:"large",className:"hover:bg-[#30D5C8]/90",children:"Large"})]})]})]})]})]}),h.jsxs(_o,{children:[h.jsxs(wo,{children:[h.jsx(xo,{children:"Language & Region"}),h.jsx(Eo,{children:"Choose your preferred language and regional settings"})]}),h.jsx(To,{className:"space-y-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"space-y-0.5",children:[h.jsx(hn,{children:"Language"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Select your preferred language"})]}),h.jsxs(k1,{value:f.language,onValueChange:_=>y("language",_),children:[h.jsx(p0,{className:fe("w-[120px] border-[#30D5C8]",e==="dark"?"text-white":"text-black bg-[#30D5C8] hover:bg-[#30D5C8]/90"),children:h.jsx(D1,{})}),h.jsxs(m0,{className:fe("border-[#30D5C8]",e==="dark"?"text-white":"text-black bg-[#30D5C8]"),children:[h.jsx(xa,{value:"en",className:"hover:bg-[#30D5C8]/90",children:"English"}),h.jsx(xa,{value:"es",className:"hover:bg-[#30D5C8]/90",children:"Spanish"}),h.jsx(xa,{value:"fr",className:"hover:bg-[#30D5C8]/90",children:"French"})]})]})]})})]}),h.jsxs(_o,{children:[h.jsxs(wo,{children:[h.jsx(xo,{children:"Notifications"}),h.jsx(Eo,{children:"Manage your notification preferences"})]}),h.jsxs(To,{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"space-y-0.5",children:[h.jsx(hn,{children:"Push Notifications"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications about appointments and updates"})]}),h.jsx(l0,{checked:f.notifications,onCheckedChange:_=>y("notifications",_),className:fe("border-[#30D5C8] [&>span]:text-white",e==="dark"?"":"bg-[#30D5C8] data-[state=checked]:bg-[#30D5C8]")})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"space-y-0.5",children:[h.jsx(hn,{children:"Email Updates"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive email notifications about new features and updates"})]}),h.jsx(l0,{checked:f.emailUpdates,onCheckedChange:_=>y("emailUpdates",_),className:fe("border-[#30D5C8] [&>span]:text-white",e==="dark"?"":"bg-[#30D5C8] data-[state=checked]:bg-[#30D5C8]")})]})]})]})]})]})})]})})}function vZ(){return h.jsx("div",{className:"pt-16",children:h.jsxs("section",{className:"py-20 bg-background relative overflow-hidden",children:[h.jsx(j.div,{className:"absolute top-0 right-0 w-96 h-96 bg-primary/5 rounded-full blur-3xl",animate:{x:[50,100,50],y:[0,50,0],scale:[1,1.1,1]},transition:{duration:15,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),h.jsx(j.div,{className:"absolute bottom-0 left-0 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl",animate:{x:[0,-50,0],y:[0,50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:h.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-4xl mx-auto bg-card p-8 rounded-lg shadow-md border",children:[h.jsxs(j.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},className:"text-center mb-8",children:[h.jsx("h1",{className:"text-4xl font-bold text-[white] mb-4",children:"Privacy Policy"}),h.jsxs("p",{className:"text-lg text-muted-foreground",children:["Last updated: ",new Date().toLocaleDateString()]})]}),h.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"space-y-6 text-muted-foreground",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"1. Introduction"}),h.jsx("p",{children:'Cemar Counseling ("we," "our," or "us") is committed to protecting the privacy, confidentiality, and security of personal information entrusted to us. This Privacy Policy explains how we collect, use, disclose, store, and protect your information when you access our website, book appointments, or receive counseling services.'}),h.jsx("p",{children:"We handle personal information in accordance with applicable privacy laws, professional ethical standards, and best practices for counseling services."})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"2. Information We Collect"}),h.jsx("p",{children:"We may collect and store the following categories of information:"}),h.jsxs("div",{className:"ml-4 space-y-3",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"a. Personal Information"}),h.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[h.jsx("li",{children:"Full name"}),h.jsx("li",{children:"Email address"}),h.jsx("li",{children:"Phone number"}),h.jsx("li",{children:"Appointment and scheduling details"})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"b. Counseling-Related Information"}),h.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[h.jsx("li",{children:"Information voluntarily provided during intake or sessions"}),h.jsx("li",{children:"Session-related notes or administrative records (where applicable)"})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"c. Payment Information"}),h.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[h.jsx("li",{children:"Payment details processed securely through third-party providers such as Stripe or PayPal"}),h.jsx("li",{children:"Billing history and transaction records"})]}),h.jsx("p",{className:"text-xs mt-2",children:"Note: We do not store full credit card numbers on our servers."})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"d. Website & Technical Information"}),h.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[h.jsx("li",{children:"IP address"}),h.jsx("li",{children:"Browser type and device information"}),h.jsx("li",{children:"Website usage data and cookies"})]})]})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"3. How We Use Your Information"}),h.jsx("p",{children:"Your information is used for the following purposes:"}),h.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[h.jsx("li",{children:"To provide and manage counseling services"}),h.jsx("li",{children:"To schedule, confirm, and administer appointments"}),h.jsx("li",{children:"To process payments and maintain financial records"}),h.jsx("li",{children:"To communicate regarding services, policies, or updates"}),h.jsx("li",{children:"To improve website functionality and service quality"}),h.jsx("li",{children:"To comply with legal, ethical, and professional obligations"})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"4. Confidentiality and Disclosure"}),h.jsx("p",{children:"We respect the confidential nature of counseling services. Personal information will not be disclosed without your consent except where disclosure is required or permitted by law, including but not limited to:"}),h.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[h.jsx("li",{children:"Risk of serious harm to yourself or others"}),h.jsx("li",{children:"Suspected abuse or neglect of a child, elderly person, or vulnerable individual"}),h.jsx("li",{children:"Court orders, subpoenas, or other legal obligations"})]}),h.jsx("p",{children:"Only the minimum necessary information will be disclosed in such cases."})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"5. Information Storage and Security"}),h.jsx("p",{children:"We implement reasonable administrative, technical, and physical safeguards to protect your information, including:"}),h.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[h.jsx("li",{children:"Secure data storage systems"}),h.jsx("li",{children:"Encryption of sensitive information where appropriate"}),h.jsx("li",{children:"Restricted access to authorized personnel only"}),h.jsx("li",{children:"Regular review of security practices"})]}),h.jsx("p",{className:"text-sm italic",children:"While we take reasonable steps to protect your information, no system can be guaranteed to be 100% secure."})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"6. Third-Party Services"}),h.jsx("p",{children:"We may use trusted third-party service providers to support our operations, including:"}),h.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[h.jsx("li",{children:"Online scheduling platforms (e.g., Calendly)"}),h.jsx("li",{children:"Payment processors (e.g., Stripe, PayPal)"}),h.jsx("li",{children:"Secure communication and form tools"})]}),h.jsx("p",{children:"These providers have their own privacy policies and are responsible for safeguarding information processed through their systems."})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"7. Your Rights"}),h.jsx("p",{children:"You have the right to:"}),h.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[h.jsx("li",{children:"Request access to your personal information"}),h.jsx("li",{children:"Request corrections to inaccurate or incomplete information"}),h.jsx("li",{children:"Request deletion of your information, subject to legal and professional obligations"}),h.jsx("li",{children:"Withdraw consent where applicable"}),h.jsx("li",{children:"File a complaint regarding privacy practices"})]}),h.jsx("p",{className:"text-sm",children:"Requests may be subject to verification and legal limitations."})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"8. Retention of Information"}),h.jsx("p",{children:"Personal information is retained only for as long as necessary to fulfill the purposes outlined in this policy or as required by law, professional regulations, or insurance requirements."})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"9. Cookies and Website Analytics"}),h.jsx("p",{children:"Our website may use cookies or similar technologies to improve functionality and user experience. You may adjust your browser settings to manage or disable cookies; however, this may affect site performance."})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"10. Changes to This Privacy Policy"}),h.jsx("p",{children:'We may update this Privacy Policy from time to time. Updates will be posted on our website with a revised "Last updated" date. Continued use of our services constitutes acceptance of the updated policy.'})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"11. Contact Information"}),h.jsx("p",{children:"If you have questions, concerns, or requests regarding this Privacy Policy or our data practices, please contact:"}),h.jsxs("div",{className:"bg-card p-4 rounded-lg border mt-4",children:[h.jsx("p",{className:"font-semibold",children:"Cemar Counseling"}),h.jsx("p",{children:" Email: info@cemarcounseling.com"}),h.jsx("p",{children:" Phone: (905) 909-2400"})]})]})]}),h.jsx(j.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"mt-8 text-center",children:h.jsx(Ge,{asChild:!0,className:"bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90",children:h.jsx(kn,{to:"/",children:"Back to Home"})})})]})})]})})}function _Z(){const t=jn(),e=()=>{window.print()},n={hidden:{opacity:0,y:20},visible:s=>({opacity:1,y:0,transition:{delay:s*.05,duration:.5}})},r=[{number:"1",title:"Purpose of Counseling",content:`Counseling at Cemar Counseling is a professional service intended to support personal growth, emotional well-being, and coping strategies for life challenges. Counseling may involve discussion of personal issues, emotions, behaviors, relationships, and past experiences.

While counseling can be highly beneficial, outcomes cannot be guaranteed. Progress depends on many factors, including client participation, honesty, and commitment to the process.`},{number:"2",title:"Nature of Counseling Services",content:`Counseling services may include, but are not limited to:

 Individual counseling sessions
 Emotional and psychological support
 Goal setting and problem-solving strategies
 Psychoeducation and coping skills

Counseling is not a substitute for medical care, psychiatric treatment, or emergency services.`},{number:"3",title:"Not a Medical or Emergency Service",content:`Cemar Counseling does not provide:

 Emergency mental health services
 Crisis intervention
 Medical diagnosis or treatment

If you are experiencing thoughts of self-harm, harm to others, or are in immediate danger, do not book an appointment. Instead, contact your local emergency number or a crisis hotline immediately.`},{number:"4",title:"Client Responsibilities",content:`As a client, you agree to:

 Provide accurate and truthful information
 Participate actively and respectfully in sessions
 Communicate openly about concerns, expectations, or discomfort
 Take responsibility for your own decisions, actions, and outcomes

You understand that counseling involves personal effort and that progress may take time.`},{number:"5",title:"Risks and Benefits of Counseling",content:`Potential Benefits:
 Increased self-awareness
 Improved coping skills
 Emotional relief
 Better communication and relationships

Potential Risks:
 Emotional discomfort
 Temporary increase in distress when discussing difficult topics
 Unresolved issues may surface during the process

You acknowledge that these risks are a normal part of counseling.`},{number:"6",title:"Confidentiality",content:`Your privacy is taken seriously. Information shared during counseling is treated as confidential and will not be disclosed without your consent, except where disclosure is required or permitted by law, including but not limited to:

 Risk of serious harm to yourself or others
 Suspected abuse or neglect of a child, elderly person, or vulnerable individual
 Court orders or legal requirements

Electronic communication and online services carry inherent risks, and absolute confidentiality cannot be guaranteed.`},{number:"7",title:"Records and Documentation",content:`Cemar Counseling may maintain limited records related to scheduling, billing, and administrative purposes. Clinical notes, if kept, are stored securely and accessed only by authorized personnel.

You have the right to request information about records in accordance with applicable laws.`},{number:"8",title:"Fees and Payment Policy",content:` Payment is required in full prior to confirming an appointment unless otherwise stated
 Accepted payment methods include Stripe and PayPal
 Fees will be clearly displayed at the time of booking
 Failure to complete payment will result in the appointment not being confirmed.`},{number:"9",title:"Cancellation, Rescheduling, and No-Show Policy",content:` Appointments must be canceled or rescheduled at least 24 hours in advance
 Late cancellations or no-shows may be charged the full session fee
 Exceptions may be made at the discretion of Cemar Counseling

This policy respects the counselor's time and availability.`},{number:"10",title:"Technology and Virtual Sessions",content:`If sessions are conducted virtually:

 You are responsible for ensuring a private, secure environment
 Technical issues may occasionally occur
 Cemar Counseling is not responsible for interruptions beyond its control`},{number:"11",title:"Professional Boundaries",content:"Counseling sessions are strictly professional. Dual relationships, inappropriate contact, or communication outside agreed professional channels are not permitted."},{number:"12",title:"Consent to Services",content:`By booking an appointment and checking the consent box, you confirm that:

 You are at least 18 years of age (or have legal guardian consent)
 You understand the nature and limits of counseling services
 You voluntarily consent to receive counseling services from Cemar Counseling`}];return h.jsxs("div",{className:"pt-16",children:[h.jsx("section",{className:"py-12 bg-gradient-to-r from-[#30D5C8]/10 to-[#008080]/10 border-b border-[#30D5C8]/20",children:h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs(j.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-black dark:text-white mb-2",children:"Informed Consent & Policies"}),h.jsx("p",{className:"text-base text-black/70 dark:text-white/70",children:"Cemar Counseling  Professional Counseling Services"}),h.jsx("p",{className:"text-sm text-black/60 dark:text-white/60 mt-2",children:"Effective Date: January 2026 | Last Updated: January 2026"})]}),h.jsxs(j.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"flex flex-col gap-2",children:[h.jsxs(Ge,{onClick:e,className:"bg-[#30D5C8] text-black hover:bg-[#30D5C8]/90 flex items-center gap-2",children:[h.jsx(C4,{className:"h-4 w-4"}),"Print / Save as PDF"]}),h.jsxs(Ge,{variant:"outline",onClick:()=>t("/"),className:"flex items-center gap-2 text-black dark:text-white",children:[h.jsx(A4,{className:"h-4 w-4"}),"Return Home"]})]})]})})}),h.jsx("section",{className:"py-8 bg-yellow-50 dark:bg-yellow-900/20 border-y border-yellow-200 dark:border-yellow-800/50",children:h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs(j.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.1},className:"bg-white dark:bg-slate-900 rounded-lg p-6 border-l-4 border-yellow-500",children:[h.jsx("p",{className:"text-base font-semibold text-black dark:text-white mb-2",children:" Important Notice"}),h.jsx("p",{className:"text-sm text-black/80 dark:text-white/80 leading-relaxed",children:"By booking an appointment with Cemar Counseling, you acknowledge that you have read, understood, and agree to all terms outlined in this document. Please read this document carefully before proceeding with your appointment booking."})]})})}),h.jsx("section",{className:"py-16 bg-background",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[h.jsxs(j.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:n,custom:0,className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-6 mb-12 border border-red-200 dark:border-red-800",children:[h.jsx("h2",{className:"text-xl font-bold text-red-700 dark:text-red-400 mb-3",children:" Crisis & Emergency Disclaimer"}),h.jsx("p",{className:"text-sm text-red-900 dark:text-red-200 leading-relaxed mb-3",children:"If you are experiencing thoughts of self-harm, suicidal ideation, or harm to others, or if you are in immediate danger, please do NOT use this service. Instead:"}),h.jsxs("ul",{className:"text-sm text-red-900 dark:text-red-200 space-y-2 ml-4 list-disc",children:[h.jsx("li",{children:"Call your local emergency number (911 in the US)"}),h.jsx("li",{children:"Contact the National Suicide Prevention Lifeline: 988 (call or text)"}),h.jsx("li",{children:"Go to your nearest emergency room"}),h.jsx("li",{children:"Contact the Crisis Text Line: Text HOME to 741741"})]})]}),h.jsx("div",{className:"space-y-10",children:r.map((s,o)=>h.jsx(j.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},variants:n,custom:o+1,className:"print:page-break-inside-avoid",children:h.jsxs("div",{className:"flex gap-4",children:[h.jsx("div",{className:"flex-shrink-0",children:h.jsx("div",{className:"flex items-center justify-center h-10 w-10 rounded-full bg-[#30D5C8] text-black font-bold text-lg",children:s.number})}),h.jsxs("div",{className:"flex-grow",children:[h.jsx("h2",{className:"text-2xl font-semibold text-black dark:text-white mb-4",children:s.title}),h.jsx("p",{className:"text-base text-black/80 dark:text-white/80 leading-relaxed whitespace-pre-wrap",children:s.content})]})]})},s.number))}),h.jsxs(j.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},variants:n,custom:r.length+1,className:"mt-16 bg-[#30D5C8]/10 rounded-lg p-8 border-2 border-[#30D5C8]/30 print:page-break-inside-avoid",children:[h.jsx("h2",{className:"text-2xl font-bold text-black dark:text-white mb-6",children:"Final Acknowledgment"}),h.jsxs("div",{className:"space-y-4 text-base text-black/80 dark:text-white/80 leading-relaxed",children:[h.jsx("p",{children:"By proceeding with booking an appointment with Cemar Counseling, you acknowledge that:"}),h.jsxs("ul",{className:"space-y-3 ml-6 list-disc",children:[h.jsx("li",{children:"You have read this informed consent document in full"}),h.jsx("li",{children:"You understand its contents and implications"}),h.jsx("li",{children:"You voluntarily agree to abide by all policies described"}),h.jsx("li",{children:"You understand the risks and benefits of counseling"}),h.jsx("li",{children:"You are not in crisis or experiencing an emergency"}),h.jsx("li",{children:"You will seek appropriate emergency services if needed"})]}),h.jsx("p",{className:"mt-6 font-semibold text-black dark:text-white",children:"If you have any questions or concerns about this document or our services, please contact Cemar Counseling before booking your appointment."})]})]}),h.jsxs(j.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:n,custom:r.length+2,className:"mt-12 text-center text-sm text-black/60 dark:text-white/60 border-t border-black/10 dark:border-white/10 pt-8",children:[h.jsx("p",{className:"font-semibold text-black dark:text-white mb-2",children:"Cemar Counseling"}),h.jsx("p",{children:"Professional Counseling Services"}),h.jsxs("p",{className:"mt-3",children:["Phone: ",h.jsx("a",{href:"tel:+19059092400",className:"text-[#30D5C8] hover:underline",children:"(905) 909-2400"})]}),h.jsx("p",{className:"mt-6 text-xs text-black/50 dark:text-white/50",children:" 2026 Cemar Counseling. All rights reserved."})]})]})}),h.jsx("style",{children:`
        @media print {
          body {
            background: white;
            color: black;
          }

          .no-print {
            display: none !important;
          }

          section {
            page-break-inside: avoid;
            margin: 0;
            padding: 0.5in;
          }

          h1, h2, h3 {
            page-break-after: avoid;
            page-break-inside: avoid;
          }

          p {
            page-break-inside: avoid;
            orphans: 3;
            widows: 3;
          }

          a {
            text-decoration: none;
            color: #333;
          }

          .print\\:page-break-inside-avoid {
            page-break-inside: avoid;
          }

          /* Hide buttons and interactive elements when printing */
          button {
            display: none !important;
          }

          /* Ensure proper margins */
          @page {
            margin: 0.75in;
          }
        }
      `})]})}const Lv=({children:t})=>{const e=jn(),n=Lo();return E.useEffect(()=>{or()||e(`/login?returnUrl=${encodeURIComponent(n.pathname)}`)},[e,n]),or()?h.jsx(h.Fragment,{children:t}):null};function wZ(){return h.jsx(jV,{defaultTheme:"light",enableSystem:!0,disableTransitionOnChange:!0,children:h.jsxs("div",{className:"flex min-h-screen flex-col",children:[h.jsx(DX,{}),h.jsx("main",{className:"flex-1",children:h.jsxs(xV,{children:[h.jsx($n,{path:"/",element:h.jsx(LX,{})}),h.jsx($n,{path:"/about",element:h.jsx(VX,{})}),h.jsx($n,{path:"/services",element:h.jsx(FX,{})}),h.jsx($n,{path:"/contact",element:h.jsx(UX,{})}),h.jsx($n,{path:"/booking",element:h.jsx(BX,{})}),h.jsx($n,{path:"/login",element:h.jsx(YX,{})}),h.jsx($n,{path:"/terms",element:h.jsx(QX,{})}),h.jsx($n,{path:"/privacy",element:h.jsx(vZ,{})}),h.jsx($n,{path:"/informed-consent",element:h.jsx(_Z,{})}),h.jsx($n,{path:"/forgot-password",element:h.jsx(XX,{})}),h.jsx($n,{path:"/profile",element:h.jsx(Lv,{children:h.jsx(ZX,{})})}),h.jsx($n,{path:"/account-settings",element:h.jsx(Lv,{children:h.jsx(DJ,{})})}),h.jsx($n,{path:"/preferences",element:h.jsx(Lv,{children:h.jsx(yZ,{})})})]})}),h.jsx(jX,{})]})})}AL.createRoot(document.getElementById("root")).render(h.jsx(ti.StrictMode,{children:h.jsx(AV,{children:h.jsx(wZ,{})})}));
